!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.editorWBJP;window.editorWBJP=function r(s,a){for(var l,c,u=0,d=[];u<s.length;u++)c=s[u],o[c]&&d.push.apply(d,o[c]),o[c]=0;for(l in a)if(Object.prototype.hasOwnProperty.call(a,l)){var h=a[l];switch(typeof h){case"object":e[l]=function(t){var n=t.slice(1),i=t[0];return function(t,o,r){e[i].apply(this,[t,o,r].concat(n))}}(h);break;case"function":e[l]=h;break;default:e[l]=e[h]}}for(n&&n(s,a);d.length;)d.shift().call(null,t);if(a[0])return i[0]=0,t(0)};var i={},o={2:0};return t.e=function e(n,i){if(0===o[n])return i.call(null,t);if(void 0!==o[n])o[n].push(i);else{o[n]=[i];var r=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=t.p+""+{0:"d6a1c9af20acd5f82433",7:"0de4a8dd64da9941633e",9:"680d721c641aec789ea0"}[n]+".js",r.appendChild(s)}},t.m=e,t.c=i,t.p="https://cdn2.editmysite.com/js/",t.p="https://"+window.ASSETS_BASE+"/js/"||t.p,t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),i=e[t[0]];return function(e,t,o){i.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){e.exports=n(1783)},function(e,t,n){var i;i=function(){return void 0!==window.Weebly&&void 0!==window.Weebly.jQuery?window.Weebly.jQuery:window.jQuery}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){(function(t){e.exports=t._=n(209)}).call(t,function(){return this}())},function(e,t,n){var i,o;i=[n(9),n(162),n(154),n(136),n(135),n(75),n(232),n(80)],o=function(e){var t={},n=e.RelationalModel.extend;return e.Relational.store.addModelScope(t),e.RelationalModel.extend=function(e,i){var o=n.apply(this,arguments),r=e._class;return r&&(r=r.split("."),r=r[r.length-1],t[r]=o),o},e.Wreqr.Handlers.prototype.removeHandlers=function(e){for(var t=0;t<e.length;t++)this.removeHandler(e[t])},e}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(5),n(207),n(52)],o=function(e,t,n,i,o){function r(){return function(e,t){return t(n.stl(e))}}window.Mustache=i;var s=n.AdminType,a={date:"MMMM D, YYYY",shortDate:"M/D/YY",longDate:"M/D/YYYY",time:"h:mm a"},l=function(e){return function(t,n){var i=n(t),r=o.unix(i);return r.format(a[e])}},c={expireCookie:function(e){document.cookie=e+"=; expires=Thu, 18 Dec 2000 12:00:00 UTC"},setCookie:function(e,t){c.expireCookie(e),document.cookie=e+"="+t+"; path=/; domain="+window.location.hostname}},u={buildTime:"undefined"!=typeof window.buildTime?window.buildTime:null,ASSETS_BASE:"undefined"!=typeof window.ASSETS_BASE?window.ASSETS_BASE:null,tl:function(){return function(e,t){return t(n.utl(e))}},ftl:r,stl:r,esc_attr:function(){return function(e,n){return t.escape(n(e))}},fmt:{date:function(){return l("date")},shortDate:function(){return l("shortDate")},longDate:function(){return l("longDate")},time:function(){return l("time")}},isWeeblyAdmin:function(){return"weebly"===s},td:function(){return function(e,n){var i=["d","j","m","n","y","Y","a","A","g","h","G","H","i","s"],r=["DD","D","MM","M","YY","YYYY","a","A","hh","h","HH","H","mm","ss"];t.each(i,function(t,n){e=e.replace(t,r[n])});var s=e.split(/\|/),a=s[0],l=n("{{"+s[1]+"}}"),c=o(l).format(a);return c}},csrf_input:function(){var e=window.csrfToken;return e||(e=Math.random().toString(36).substring(2),c.setCookie("_csrf",e)),"<input type='hidden' name='_csrf' value='"+e+"' />"}};i.origRender=i.render,i.render=function(e,n,o){return n=t.extend({},n,u),o=t.extend({},this.partialCache,o),i.origRender.call(this,e,n,o)},i.compile=function(e){return this.render.bind(this,e)},i.compilePartial=function(e,t){this.partialCache=this.partialCache||{},this.partialCache[e]=t};var d=i.Writer.prototype;return d.origCompile=d.compile,d.compile=function(t){var n=d.origCompile.apply(this,[t]);return function(t){var i=Array.prototype.slice.call(arguments);return i[0]=e.extend(i[0]||{},u),n.apply(this,i)}},i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){return window.Weebly=window._W=window._W||{},window._W.utl=window._W.utl||function(e){return window._W.failedTls=window._W.failedTls||[],window._W.failedTls.push(e),e},window._W.ftl=window._W.ftl||function(e){return window._W.failedFtls=window._W.failedFtls||[],window._W.failedFtls.push(e),""},window._W.utl=window._W.utl||function(e){return window._W.failedUtls=window._W.failedUtls||[],window._W.failedUtls.push(e),""},window._W.stl=window._W.stl||function(e){return window._W.failedStls=window._W.failedStls||[],window._W.failedStls.push(e),""},window._W.setCookie=function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+o},window._W.clearCookie=function(e){window._W.setCookie(e,"",-1)},window._W.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},window._W.jQuery=e,window._W}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(152),n(3),n(1),n(7),n(26),n(439),n(84),n(90),n(8),n(142),n(46),n(212),n(13),n(360),n(120)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g){var v=new i.Marionette.Application,b=!1;return v.addRegions({nav:"#w-editor-top",pmRegion:"#w-page-manager",dialogRegion:c,domainDialog:"#domain-dialog",userNoticeRegion:"#user-notice"}),v.navigate=function(e,t){t=t||{},b&&i.history.navigate(e,t)},v.getCurrentRoute=function(){return b?i.history.fragment:""},v.loading={start:o.noop,stop:o.noop},v.on("start",function(){v.bootstrap=n("editor/app");var l=(new g).fromBackendData(v.bootstrap.ab_test_data);v.bootstrap?v.site=new i.Model(v.bootstrap.site):v.site=null,t.themeCache.insert(v.bootstrap.currentThemeObject.theme,v.bootstrap.currentThemeObject.data),s.inEditorContext()&&(v.loading=new a({delay:500,debug:window.W_DEBUG,defaultText:t.utl("javascript.editor.app_5"),timeout:3e4}),r.commands.setHandlers({"loading:start":function(){v.loading.start.apply(v.loading,arguments)},"loading:stop":function(){v.loading.stop.apply(v.loading,arguments)}})),u.pageView(),o(window).on("resize",e.throttle(v.utils.updateDimensions,100));var c;try{c=window.self!==window.top}catch(e){c=!0}c&&d.captureMessage("Editor was loaded in an iframe.",{level:"info",logger:"dragons",extra:{referrer:document.referrer}}),!f.chromeless&&l.getTestVariable("fullStory","showFullStory")&&m.start()}),v.preventClose=function(e,n){v.dialogRegion.showSecondaryDialog(new l({message:t.utl("javascript.editor.app_1"),title:t.utl("javascript.editor.app_2"),cancelText:t.utl("javascript.editor.app_3"),confirmText:t.utl("javascript.editor.app_4"),callback:function(t){t?e():n()}}))},v.on("initialize:after",function(e){b&&(i.history.start(),""===v.getCurrentRoute()&&v.vent.trigger("build:desktop")),v.vent.triggerCascade=function(e){for(var t=e?e.split(":"):[],n="",i=Array.prototype.slice.apply(arguments),o=0,r=t.length;o<r;o++)n=n?n+":"+t[o]:t[o],i[0]=n,v.vent.trigger.apply(v.vent,i)},v.vent.on({"editor:toolbar:collapse":function(){v.vent.trigger("editor:toolbar:toggleCollapse",!0)},"editor:toolbar:uncollapse":function(){v.vent.trigger("editor:toolbar:toggleCollapse",!1)},"editor:toolbar:toggleCollapse":function(e){o(document.body).toggleClass("editor-collapsed",e)},"editor:toolbar:show":function(){v.vent.trigger("editor:toolbar:toggle",!0)},"editor:toolbar:hide":function(){v.vent.trigger("editor:toolbar:toggle",!1)},"editor:toolbar:toggle":function(e){o(document.body).toggleClass("editor-revealed",e)},"editor:change:siteLanguage":function(e){r.execute("editor:change:siteLanguage",e),o.getScript(t.getSiteLanguageURL(e)).done(function(){v.vent.trigger("settings:reload:cookie")})},"editor:publishBlockers:display":function(e){v.billing.displayBlockerDialog(e)}}),v.reqres.setHandlers({"editor:toolbar:isCollapsed":function(){return/editor-collapsed/.test(document.body.className)},"editor:toolbar:isRevealed":function(){return/editor-revealed/.test(document.body.className)},"editor:toolbar:isHidden":function(){var e=v.reqres;return e.request("editor:toolbar:isCollapsed")&&e.request("editor:toolbar:isRevealed")}})}),r.commands.setHandlers({"editor:screen:change":function(){h.go.apply(h,arguments)},"user:doEvent":function(e){t.Editor.RPC.User.doEvent(e),window.userEvents[e]=1}}),r.reqres.setHandlers({"editor:hostname:get":function(){return window.location.host},"user:hasDoneEvent":function(e){return 1==window.userEvents[e]}}),window.editorApp=v,window.inEditor=function(){return!0},v}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(195)],o=function(e){"use strict";var t=new e;return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(472)],o=function(e,t,n,i){if(window._W&&window._W.Tracking)return window._W.Tracking;var o={"context_base:mode":"dimension1","context_base:site_id":"dimension2","context_site:page_id":"dimension3"},r=["headerGroup","accessPageGroup","featuresLandingPages","phoneNumberSignupGroup","homepageOnboardingGroup"],s="1-0-0",a=["signup_ok"],l=function(e,t){var n,i=t.length;for(n=0;"object"==typeof e&&n<i;n++)e=e[t[n]];return e},c=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];(null===n||void 0===n||"number"==typeof n&&isNaN(n))&&delete e[t]}},u=document.location.hostname,d;(d=u.match(/\.weebly\.(net|com)$/))&&(u=d[0],i.migrateCooke(u));var h=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(t!=-1){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return n==-1&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},p=document.cookie.indexOf("force-automated-segment")!=-1,f=new i({SPID:"w1",GAColumnMapping:o,cookieDomain:u,dontRecord:p,uidFn:function(){var t=null;if(e.Permissions instanceof Object&&(t=e.Permissions.true_user_id),!t&&window._wctx instanceof Object&&(t=window._wctx.user_id),t||(t=window.userID),t||(t=h("wuid")),!t){var n=h("srv_domainuserid");n&&(t=n)}return t},trackLegacyPageView:function(){for(var e=["send","pageview"],t=0;t<arguments.length;t++)e.push(arguments[t]);window.ga.apply(window,e)},contextFn:function(){var t={},i=this.wrapData("context_base","1-0-1",{domain:document.domain,language:l(e,["userLang"]),mode:"unknown",location:window.location.pathname,campaign:h("campaign")});if(t.context_base=i,e.LANDING)i.data.mode="landing";else if(e.Home instanceof Object)i.data.mode="userhome";else if(e.EDITOR){i.data.mode="editor";var o=null;e.Location instanceof Object&&(o=e.Location.custom_domain?e.Location.custom_domain:e.Location.weebly_subdomain+".weebly.com");var r=this.wrapData("context_site","1-0-2",{site_id:(window.currentSite||l(e,["initMainData","currentSite"]))+"",site_level:l(e,["Restrictions","level"]),published:!!l(e,["Restrictions","published"]),is_trial:!!l(e,["Restrictions","is_trial"]),domain:o,theme:window.currentTheme||l(e,["initMainData","currentTheme"]),source:window.source,owner_id:window.com_userID?parseInt(window.com_userID,10):null});t.context_site=r;var a=e.pageContext||{};try{if(a.pageID||l(e,["initMainData","pageid"])){var u=this.wrapData("context_site_page","1-0-0",{page_id:a.pageID||l(e,["initMainData","pageid",1]),site_id:window.currentSite||l(e,["initMainData","currentSite"]),kind:a.kind});t.context_site_page=u}}catch(e){}}else if(window._wctx instanceof Object){i.data.mode="purchasepage";var d={site_id:window._wctx.site_id?window._wctx.site_id+"":null,page_state:window._wctx.page_state,service_id:window._wctx.service_id,user_service_id:window._wctx.user_service_id,refer:window._wctx.refer,type:window._wctx.type,required_level:parseInt(window._wctx.desired_level),selected_level:parseInt(window._wctx.selected_level),recurring_period:parseInt(window._wctx.recurring_period),restriction_id:window._wctx.restriction_id,referer_cookie:h("referer")};c(d),t.context_purchasepage=this.wrapData("context_purchasepage","1-0-0",d)}else if(window.Bootstrap instanceof Object){i.data.mode="onboarding";var r=this.wrapData("context_site","1-0-0",{site_id:l(window.Bootstrap,["siteId"])+"",site_level:l(e,["Restrictions","level"]),published:!1,is_trial:!1});t.context_site=r}var p=[];return n.isObject(window.abSegments)&&n.each(window.abSegments,function(e,t){p.push(this.wrapData("context_ab_segment",s,{test_id:t,segment:e}))},this),n.size(p)>0&&(t.context_ab=p),t},updateUIDForAction:function(e){e&&n.each(a,function(t){t==e&&(this.HasUID=!1)},this)}});return window._W=window._W||{},window._W.Tracking=f,f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;!function(r,s){if(0)if("undefined"!=typeof t){var a=require("underscore");s(r,t,a)}else r.Backbone=s(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$);else i=[n(2),n(1),t],o=function(e,t,n){r.Backbone=s(r,n,e,t)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(this,function(e,t,n,i){var o=e.Backbone,r=[],s=r.push,a=r.slice,l=r.splice;t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var c=t.Events={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!d(this,"once",e,[t,i])||!t)return this;var o=this,r=n.once(function(){o.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,i)},off:function(e,t,i){var o,r,s,a,l,c,u,h;if(!this._events||!d(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(a=e?[e]:n.keys(this._events),l=0,c=a.length;l<c;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=o=[],t||i)for(u=0,h=s.length;u<h;u++)r=s[u],(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context)&&o.push(r);o.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&h(n,t),i&&h(i,arguments),this},stopListening:function(e,t,i){var o=this._listeningTo;if(!o)return this;var r=!t&&!i;i||"object"!=typeof t||(i=this),e&&((o={})[e._listenId]=e);for(var s in o)e=o[s],e.off(t,i,this),(r||n.isEmpty(e._events))&&delete this._listeningTo[s];return this}},u=/\s+/,d=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(i));return!1}if(u.test(n)){for(var r=n.split(u),s=0,a=r.length;s<a;s++)e[t].apply(e,[r[s]].concat(i));return!1}return!0},h=function(e,t){var n,i=-1,o=e.length,r=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<o;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=e[i]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){c[t]=function(t,i,o){var r=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=n.uniqueId("l"));return r[s]=t,o||"object"!=typeof i||(o=this),t[e](i,o,this),this}}),c.bind=c.on,c.unbind=c.off,n.extend(t,c);var f=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var o,r,s,a,l,c,u,d;if(null==e)return this;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;s=i.unset,l=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(o in r)t=r[o],n.isEqual(d[o],t)||a.push(o),n.isEqual(u[o],t)?delete this.changed[o]:this.changed[o]=t,s?delete d[o]:d[o]=t;if(!l){a.length&&(this._pending=i);for(var h=0,p=a.length;h<p;h++)this.trigger("change:"+a[h],this,d[a[h]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,i=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in e)n.isEqual(o[r],t=e[r])||((i||(i={}))[r]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return!!t.set(t.parse(n,e),e)&&(i&&i(t,n,e),void t.trigger("sync",t,n,e))},F(this,e),this.sync("read",this,e)},save:function(e,t,i){var o,r,s,a=this.attributes;if(null==e||"object"==typeof e?(o=e,i=t):(o={})[e]=t,i=n.extend({validate:!0},i),o&&!i.wait){if(!this.set(o,i))return!1}else if(!this._validate(o,i))return!1;o&&i.wait&&(this.attributes=n.extend({},a,o)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);return i.wait&&(t=n.extend(o||{},t)),!(n.isObject(t)&&!l.set(t,i))&&(c&&c(l,e,i),void l.trigger("sync",l,e,i))},F(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=o),s=this.sync(r,this,i),o&&i.wait&&(this.attributes=a),s},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,o=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&o(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;F(this,e);var r=this.sync("delete",this,e);return e.wait||o(),r},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||K();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}});var m=["keys","values","pairs","invert","pick","omit"];n.each(m,function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var g=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1};n.extend(g.prototype,c,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,b))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var o,r,s,a;for(o=0,r=e.length;o<r;o++)a=e[o]=this.get(e[o]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,v),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var o,r,s,a,l,c,u,d=t.at,h=this.model,p=this.comparator&&null==d&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,g=[],b=[],w={},y=t.add,_=t.merge,E=t.remove,T=!(p||!y||!E)&&[];for(o=0,r=e.length;o<r;o++){if(l=e[o]||{},s=l instanceof f?a=l:l[h.prototype.idAttribute||"id"],c=this.get(s))E&&(w[c.cid]=!0),_&&(l=l===a?a.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),p&&!u&&c.hasChanged(m)&&(u=!0)),e[o]=c;else if(y){if(a=e[o]=this._prepareModel(l,t),!a)continue;g.push(a),this._addReference(a,t)}a=c||a,!T||!a.isNew()&&w[a.id]||T.push(a),w[a.id]=!0}if(E){for(o=0,r=this.length;o<r;++o)w[(a=this.models[o]).cid]||b.push(a);b.length&&this.remove(b,t)}if(g.length||T&&T.length)if(p&&(u=!0),this.length+=g.length,null!=d)for(o=0,r=g.length;o<r;o++)this.models.splice(d+o,0,g[o]);else{T&&(this.models.length=0);var C=T||g;for(o=0,r=C.length;o<r;o++)this.models.push(C[o])}if(u&&this.sort({silent:!0}),!t.silent){for(o=0,r=g.length;o<r;o++)(a=g[o]).trigger("add",a,this,t);(u||T&&T.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,o=this.models.length;i<o;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var o=e.reset?"reset":"set";i[o](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,o=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),o&&o(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(w,function(e){g.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){g.prototype[e]=function(t,i){var o=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,o,i)}});var _=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,T)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var o=t.match(E),r=o[1],s=o[2];i=n.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,o){var r=S[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=n.result(i,"url")||K()),null!=o.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||i.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),a)return a.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1),"PATCH"===s.type&&C&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=t.ajax(n.extend(s,o));return i.trigger("request",i,l,o),l};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var I=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,x=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(I.prototype,c,{initialize:function(){},route:function(e,i,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return t.history.route(e,function(n){var s=r._extractParameters(e,n);r.execute(o,s),r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),t.history.trigger("route",r,i,s)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(k,"\\$&").replace(O,"(?:$1)?").replace(D,function(e,t){return t?e:"([^/?]+)"}).replace(x,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var R=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,N=/msie [\w.]+/,M=/\/$/,L=/#.*$/;R.started=!1,n.extend(R.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(P,"")},start:function(e){if(R.started)throw new Error("Backbone.history has already been started");R.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),o=document.documentMode,r=N.exec(navigator.userAgent.toLowerCase())&&(!o||o<=7);if(this.root=("/"+this.root+"/").replace(A,"/"),r&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(P,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!R.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(L,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new R;var B=function(e,t){var i=this,o;o=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(o,i,t);var r=function(){this.constructor=o};return r.prototype=i.prototype,o.prototype=new r,e&&n.extend(o.prototype,e),o.__super__=i.prototype,o};f.extend=g.extend=I.extend=_.extend=R.extend=B;var K=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t);
}};return t})},,function(e,t,n){var i,o;i=[n(3)],o=function(e){return new e.Marionette.Application}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[],o=function(){return{EDITOR_FRAME_ID:"editor-frame",HEADER_SECTION_TAG_NAME:"__header_section",HEADER_SECTION_AREA_ID:"_editor-header-section-area",HEADER_SECTION_CLASS_NAME:"wsite-header-section",HEADER_SECTION_PARENT_STRING_NAME:"header-section-parent-string",HEADER_SECTION_BACKGROUND_CLASS_NAME:"wsite-background-header-section",SECTION_EDGE_CLASS:"section-edge-wrapper",SECTION_WRAP_NAME:"wsite-section-wrap",SECTION_HIGHLIGHT_CLASS_NAME:"wsite-element-section-highlight",SECTION_BACKGROUND_CLASS_NAME:"wsite-background-section-",SECTION_BACKGROUND_VIDEO_CLASS_NAME:"wsite-section-bg-video",SECTION_BACKGROUND_COLOR_CLASS_NAME:"wsite-section-bg-color",SECTION_BACKGROUND_GRADIENT_CLASS_NAME:"wsite-section-bg-gradient",SECTION_BACKGROUND_IMAGE_CLASS_NAME:"wsite-section-bg-image",SECTION_CONTENT_CLASS_NAME:"wsite-section-content",SECTION_SPOTLIGHT_REPOSITION_INTERVAL:50,MIN_EMPTY_MESSAGE_HEIGHT:90,POSITION_TOP:0,POSITION_RIGHT:1,POSITION_BOTTOM:2,POSITION_LEFT:3,REBUILD_EDGE_INTERVAL:100,SECTION_ELEMENT:"99990000",CURRENT_PARAGRAPH_IMAGE_ELEMENT:"94464494",STANDALONE_IMAGE_ELEMENTS:["30621876","87358824","26608449"],PARAGRAPH_IMAGE_ELEMENTS:["20731748","66604512","94464494","73827406"],SIMPLE_IMAGE_ELEMENTS:["61719152","17854681","18383940","36582085","32818409","86229831","93090942","98937909","85957680","44744975","11138764"],BUTTON_ELEMENT_ID:"57909285",SLIDESHOW_ELEMENT_ID:"31574711",CONTENT_AREA_ELEMENT_ID:"92226769",PLATFORM_ELEMENT_ID:"75699656",PRODUCT_ELEMENT_ID:"5699726",IMAGE_LINK_LIGHTBOX_CFPIDS:["59252592","62258083","18452221"],FORM_CONFIRMATION_LINK_CFPID:"785459072261824",FORM_CONFIRMATION_MESSAGE_CFPID:"693737017417606279",MOBILE_EDITOR_BODY_CLASS:"wsite-native-mobile-editor"}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5)],o=function(e){return{chromeless:!1,content_field_js_render:!1,defaultPlaceholderText:e.stl("javascript.editor.config_1"),areaDefaultPlaceholderText:{phone:e.stl("javascript.editor.config_2"),headline:e.stl("javascript.editor.config_3"),"headline-paragraph":e.stl("javascript.editor.config_4")}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(3),n(6),n(7),n(269),n(169),n(59),n(46)],o=function(e,t,n,i,o,r,s,a,l,c){function u(){r.trigger("frame:overlays:hide")}function d(){if(!window.isDraggingElement){var e=m.outerHeight(!0),t=f.outerHeight(!0);(b||e!=g||t!=v)&&(b=!1,g=e,v=t,r.trigger(l.EVENTS.DOCUMENT_RESIZED),h.vent.trigger("editor:elements:changed"))}}var h=new i.Marionette.Application;h.addRegions({elementSettings:"#elementSettingsWrapper",sectionDialog:"#section-dialogs"});var p=!1,f,m,g=0,v=0,b=!1;return h.on("start",function(){m=t("html"),f=t(document),s(h,[{from:f,to:h.vent,events:["click","keydown","mouseup","mousedown","selectstart","selectionchange","keypress","keyup"]},{from:h.vent,to:o.vent,events:["editor:elements:changed"]},{from:h.vent,to:r,events:["page:startRender"]}]),h.listenTo(h.vent,{navClicked:function(e){r.trigger(l.EVENTS.NAV_CLICKED,e),r.request("page:navigate:go",e,1)},"editor:elements:changed":function(){p&&r.trigger("editor:elements:changed")},pageRendered:function(){p=!0},forceDocumentSizeChange:function(){b=!0}}),setInterval(d,500),r.commands.setHandlers({loadFont:function(e){n.each(e,function(e){a.loadFont(e)})},"remoteAccount:update":function(e,t){window.remoteAccounts[e]={remoteSite:e,remoteId:t}},"editor:change:siteLanguage":function(n){t.getScript(e.getSiteLanguageURL(n))}}),c.go=function(){var e=Array.prototype.slice.call(arguments);e.unshift("editor:screen:change"),r.execute.apply(r,e)},f.on("click",u)}).on("stop",function(){r.commands.removeHandlers(["loadFont","remoteAccount:update"]),f.off("click",u)}),h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(119),n(20),n(69)],o=function(e,t,n,i){var o=t.extend(e.extend({},n.Mixin,{className:"dialog",template:'<div class="dialog__topbar-container"></div>\n{{#hasProgressBar}}\n\t<div class="dialog__progress-bar progress-bar">\n\t\t<div class="progress-bar__progress"></div>\n\t</div>\n{{/hasProgressBar}}\n<div class="dialog__content-container"></div>',innerOverlayClassName:"dialog__overlay",contentViewTriggerPrefix:"dialog",backLink:{isClose:!0},panels:null,panelCount:null,currentPanel:null,currentPanelIndex:null,transitionPromise:null,_initialize:function(){t.prototype._initialize.call(this),this.panelCount=this.queryOption("panelCount"),this.panels=[],this.addGivenPanels()},destroy:function(){var e=this.panels,n;for(n=0;n<e.length;n++)e[n].destroy();return this.panels=[],this.currentPanel=null,this.currentPanelIndex=null,t.prototype.destroy.apply(this,arguments)},_onBeforeClose:function(){if(this.currentPanel)return this.currentPanel._trigger("before:leave")},_onClose:function(){this.currentPanel&&this.currentPanel._trigger("leave")},getRenderData:function(){return{hasProgressBar:this.queryOption("hasProgressBar")}},queryHeaderOuterEl:function(){return this.$el.find(".dialog__topbar-container")},queryContentOuterEl:function(){return this.$el.find(".dialog__content-container")},queryContentInnerEl:function(){return this.$el.find(".dialog__content-container")},queryScrollEl:function(){return this.$el.find(".dialog__scroll-mask")},renderContent:function(){if(this.panels.length){var e=this.options.initialPanelIndex;e&&this.panels[e]?this.gotoPanel(e):this.gotoPanel(0)}},_onAttach:function(){t.prototype._onAttach.apply(this,arguments),this.currentPanel&&this.currentPanel._trigger("attach")},_onShow:function(){t.prototype._onShow.apply(this,arguments),this.currentPanel&&(this.currentPanel._trigger("show"),this.updateHeight())},computeHeight:function(){var e=this.currentPanel.queryOption("height");return null!=e?e:this.$headerEl.outerHeight()+this.currentPanel.queryContentNaturalHeight()},queryContentNaturalHeight:function(){return this.currentPanel.queryContentNaturalHeight()},addGivenPanels:function(){var e=this.options,t=e.panels,n,i,o;if(e.initialPanel&&this.addPanel(e.initialPanel),t)for(i=0;i<t.length;i++)this.addPanel(t[i])},addPanel:function(e){e instanceof r||(e=new r(e)),e.comboDialog=this,!this.panels.length&&this.backLink&&e.setBackLink(this.backLink),this.panels.push(e)},pushPanel:function(t){var n=this,i=this.currentPanel;return e.when(i&&i._trigger("before:leave",t),i&&i._trigger("before:push",t),n._trigger("before:push",t,i)).then(function(){n.executePush(t),i&&i._trigger("leave",t),i&&i._trigger("push",t),n._trigger("push",t,i),t._trigger("enter")})},popPanel:function(){var t=this,n=this.currentPanel,i;return this.currentPanelIndex>0?(i=this.panels[this.currentPanelIndex-1],e.when(n&&n._trigger("before:leave",i),n&&n._trigger("before:pop",i),this._trigger("before:pop",i,n)).then(function(){t.executePop(),n&&n._trigger("leave",i),n&&n._trigger("pop",i),t._trigger("pop",i,n),i._trigger("enter")})):this.close()},forward:function(){var t=this,n=this.currentPanel,i;return n.topbar.isForwardEnabled?this.currentPanelIndex<this.panels.length-1?(i=this.panels[this.currentPanelIndex+1],e.when(n&&n._trigger("before:leave",i),n&&n._trigger("before:forward",i),t._trigger("before:forward",i)).then(function(){n.executeForward()||t.executeForward(),n&&n._trigger("leave",i),n&&n._trigger("forward",i),t._trigger("forward",i,n),i._trigger("enter")})):e.when(n&&n._trigger("before:forward")).then(function(){n&&n._trigger("forward")}):e.Deferred().reject().promise()},back:function(){var t=this,n=this.currentPanel,i;return n.wasPushed?this.popPanel():n.topbar.isBackEnabled?this.currentPanelIndex>0?(i=this.panels[this.currentPanelIndex-1],e.when(n&&n._trigger("before:leave",i),n&&n._trigger("before:back",i),this._trigger("before:back",i,n)).then(function(){n.executeBack()||t.executeBack(),n&&n._trigger("leave",i),n&&n._trigger("back",i),t._trigger("back",i,n),t.currentPanel._trigger("enter")})):e.when(t.currentPanel._trigger("before:close")).then(function(){t.currentPanel._trigger("close"),t.close()}):e.Deferred().reject().promise()},executePush:function(e){this.panels=this.panels.slice(0,this.currentPanelIndex+1),this.addPanel(e),e.wasPushed=!0,this.gotoPanel(this.currentPanelIndex+1)},executePop:function(){this.panels=this.panels.slice(0,this.currentPanelIndex),this.gotoPanel(this.currentPanelIndex-1)},executeForward:function(){this.gotoPanel(this.currentPanelIndex+1)},executeBack:function(){this.gotoPanel(this.currentPanelIndex-1)},gotoPanel:function(t){function n(){if(i.currentPanelIndex!==t){var e=i.panels,n=e[t],o=i.currentPanel,r=o?t-i.currentPanelIndex:0;return i.currentPanel=n,i.currentPanelIndex=t,n.hasBack=t>0,n.hasForward=t<e.length-1,i.updateProgress(),o?i.transitionPanels(o,n,r):(n.render(),n._trigger("before:attach"),i.attachPanelEls(n),void 0)}}var i=this,o=i.queryOption("hasProgressBar");return this.transitionPromise?this.transitionPromise=e.when(this.transitionPromise).then(n):this.transitionPromise=n()},attachPanelEls:function(e){this.$headerEl.append(e.$headerEl),this.$contentEl.append(e.$contentEl),e.setElement(e.$contentEl)},transitionPanels:function(t,n,o){var r=this,s,a;return n.render(),this.$headerEl.addClass("is-transitioning").height(t.$headerEl.outerHeight()),this.$contentEl.addClass("is-transitioning"),s=t.$headerEl.add(t.$contentEl).addClass("is-current").addClass("is-exiting"),a=n.$headerEl.add(n.$contentEl).addClass(o<0?"is-back":"is-forward").addClass("is-entering"),n._trigger("before:attach"),this.attachPanelEls(n),n._trigger("attach"),this.updateHeight(),i.promiseTimeout(0).then(function(){s.addClass(o<0?"is-forward":"is-back").removeClass("is-current"),a.removeClass("is-back is-forward").addClass("is-current"),r.$headerEl.height(n.$headerEl.outerHeight())}).then(function(){return i.promiseTimeout(0)}).then(function(){return e.when(i.promiseTransition(n.$headerEl),i.promiseTransition(n.$contentEl))}).then(function(){t.destroy({preventContentViewDestroy:!0}),a.removeClass("is-entering is-current"),s.removeClass("is-exiting is-back is-forward"),r.$headerEl&&r.$contentEl&&(r.$headerEl.removeClass("is-transitioning").height(""),r.$contentEl.removeClass("is-transitioning")),n._trigger("show")})},updateProgress:function(){var e,t,n=this.currentPanel.queryOption("progressPercentage"),i=this.queryOption("hasProgressBar")&&n!==!1;this.$el.find(".progress-bar").toggle(i),i&&(e=this.panelCount,null==e&&(e=this.panels.length),t=null!=n&&n!==!1?n:e>0?this.currentPanelIndex/(e-1)*100:0,this.$el.find(".progress-bar__progress").width(parseFloat(t).toFixed(2)+"%"))},setPanelCount:function(e){this.panelCount=e,this.updateProgress()}})),r=n.Panel.extend({backLink:{isDirectional:!0,text:"Back"},forwardLink:{isDirectional:!0,text:"Next"},comboDialog:null,hasBack:!1,hasForward:!1,wasPushed:!1,progressPercentage:null,getBackLink:function(){var e=this.queryOption("backLink");return e!==r.prototype.backLink?e:this.hasBack?e:this.comboDialog.backLink},getForwardLink:function(){var e=this.queryOption("forwardLink");return e!==r.prototype.forwardLink?e:this.hasForward?e:void 0},pushDialog:function(e,t){var i=this,r=i.comboDialog.$el,s=null,a=null,l=null,c=null,u=null,d=!1,t=t||{};if(e instanceof n||e instanceof o){if(r.css("overflow","hidden"),s=this.comboDialog.width||r.width(),a=this.comboDialog.height||r.height(),l=this.comboDialog.options.size,c=s,e.options.size&&e.options.size!==l&&(c=this.sizeToWidthMap[e.options.size],d=!0),e.width&&e.width!==s&&(c=e.width,d=!0),e.height&&e.height!==a?(u=e.height,d=!0):u=a,e.vAlignment=!1,e.hAlignment=!1,d){var h=r.position().left,p=r.position().top,f=h-(c-r.width())/2,m=u?p-(u-r.height()):p,g={"max-width":s,height:a},v={"max-width":c,height:u};this.comboDialog.queryOption("pointAt")&&(this.comboDialog.$arrow.hasClass("popover__arrow--up")&&(m=p),g.top=p,g.left=h,v.top=m,v.left=f),e.once("before:attach",function(){r.addClass("is-fading"),r.animate(v,500,function(){e.options.size&&(i.comboDialog.options.size=e.options.size),i.comboDialog.updatePosition(),r.removeClass("is-fading")})}),e.once("before:close",function(){r.addClass("is-fading"),r.animate(g,500,function(){e.options.size&&(i.comboDialog.options.size=l,i.comboDialog.updateSize()),i.comboDialog.updatePosition(),r.removeClass("is-fading"),r.css("overflow","visible")})})}return n.Panel.prototype.openOverlay.call(this,e,t)}},queryContentOuterEl:function(){return this.$el.is(".dialog__scroll-mask")?this.$el:this.$el.find(".dialog__scroll-mask")},queryHeaderInnerEl:function(){return this.$el.closest(".dialog").find(".dialog__header")}});return e.each(["close","back","forward","pushPanel","popPanel","setPanelCount","getContainerEl"],function(e,t){r.prototype[t]=function(){return this.comboDialog[t].apply(this.comboDialog,arguments)}}),o.Panel=r,o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(11),n(408),n(18),n(371)],o=function(e,t,n,i){var o=n.extendBase({className:"Commerce.Model._baseCommerceModel",unbatchRelatedModels:["Commerce.Model.Category"],baseCollection:i,userKey:"owner_id",siteKey:"site_id",baseModelDefaults:{owner_id:com_userID,site_id:com_currentSite},pageDirtyCheck:function(){return!0},getGetterForAttribute:function(e){var t=e.replace(/[\W_].?/g,function(e){return e[1]?e[1].toUpperCase():""});return"get"+t[0].toUpperCase()+t.slice(1)},get:function(e){var t=n.prototype.get.apply(this,arguments),i=this.getGetterForAttribute(e);return this[i]&&(t=this[i](t)),t},toJSON:function(){var e=n.prototype.toJSON.apply(this,arguments);return Object.keys(e).forEach(function(t){var n=this.getGetterForAttribute(t);if(this[n]){var i=e[t];e[t]=this[n](i)}},this),e}});return o.extend=function(t,i){return n.extend.call(this,t,i,e.Commerce.BackboneModelData,"owner_id")},t.commerce?o.setSyncEventAggregator(t):t.once("commerce:ready",function(){o.setSyncEventAggregator(t)}),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(631)],o=function(e){var t=function(){return new e.PageCollection};return t()}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(193)],o=function(e){var t=e.extendBase({className:"Commerce.Collection._baseCommerceCollection",userKey:"owner_id",userValue:com_userID,siteKey:"site_id"});return t.extend=function(t,n){return e.extend.call(this,t,n,window.Weebly.Commerce.BackboneCollectionData)},t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(13),__webpack_require__(4),__webpack_require__(7),__webpack_require__(12),__webpack_require__(266),__webpack_require__(599),__webpack_require__(808),__webpack_require__(374)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,_W,Config,Mustache,Relay,UICONST,GenericLoader,ContentField,elementTpl,elementControlsTpl){function getCustomFunctions(e){var t={};return _.each(e,function(n,i){i.match(/^(%%\w+%%|<!\w+!>|\d+)$/)&&"function"==typeof e[i]&&(t[i]=n)}),t}function isMovableElement(e){return NON_MOVABLE_ELEMENTS.indexOf(e.eid)===-1&&!e.isFormField}var MOBILE_ELEMENTS=["75573027","84798836","8532979"],NON_MOVABLE_ELEMENTS=["23247315","63868204","40806018","40197772","33814465","7928374","8220056"],MOBILE_RENDER_WHITELIST=["62850560","44785763","94464494","30621876","18362204","31574711","42844424","79078446","51424376","90122486","59396708","27280689","63419613","67748238","9759964","46196121","5699726","36391960","87744780","92495494","35527740","16151740","7423607","87366396","53284780","99815722","14391904","94226660","82023692","45156614","82645192","86574178","74487785"],Element=Class.create({initialize:function(e){_.extend(this,e),0===this.content_fields.length&&(this.content_fields={});var t=this.content_fields;this.content_fields={},_.each(t,function(e){this.content_fields[e.ucfid]=new ContentField(this.eid,e)},this),this.page_element_order=parseInt(this.page_element_order)},renderHTML:function(){var e=this.eid,t=this.id,n="";if(!_W.view.isMobileView&&MOBILE_ELEMENTS.indexOf(e)>-1)return"";_.each(this.content_fields,function(i){n+=Config.content_field_js_render&&MOBILE_RENDER_WHITELIST.indexOf(e)>-1?i.render():i.content||"","96854775"===i.cfid&&(n=n.replace("<div",'<div data-platform-peid="'+t+'"')),Config.chromeless&&(n=n.replace(/(['"\(])\s*(\/uploads|weebly\/)/gi,"$1http://"+configSiteName+"$2"),n=n.replace(/"\/\//g,'"http://'),n=this.updateContentTokens(n))},this),this.li&&$(this.li).remove();var i={id:t,eid:e,platform_element_id:this.platform_element_id,platform_element_version:this.platform_element_version,controlHTML:Config.chromeless?"":this.renderControlHTML(),contentHTML:this.processHTML(n,!1)};return"75699656"==e&&(i.page_element_id=t),Mustache.render(elementTpl,i)},renderControlHTML:function(){return Mustache.render(elementControlsTpl,{isMovableElement:isMovableElement(this),requiresUpgrade:this.requiresUpgrade})},processHTML:function(e,t){return hashEach(this._customFunctions||{},function(n,i){if(!n.match(/^\d+$/)){var o=i.call(this,void 0,t);void 0!==o&&"undefined"!=o&&(o=o.replace(/\$/g,"$$$$"),e=e.replace(new RegExp(n,"g"),o))}}.bind(this)),e=e.replace(/<input type="submit" class="wsite-form-submit" name="submit" value="([^"]*)" \/>/,"<a class='wsite-button'><span class='wsite-button-inner'>$1</span></a>")},getDimensions:function(){var e=$("#inside_"+this.id);if(!e.length)return{};var t=!0;this.eid!=UICONST.CONTENT_AREA_ELEMENT_ID||e.is(":visible")||(t=!1);var n=!1;"none"===e.css("display")&&(e.show(),n=!0);var i=e.offset(),o={id:this.id,element_id:this.eid,content_field_id:e.find(".element").eq(0).attr("id"),draggable:this.draggable,top:i.top,left:i.left,height:e.outerHeight(!1),width:e.outerWidth(!1),spotlighted:!!this.spotlight,platform_element_id:this.platform_element_id,platform_element_version:this.platform_element_version,parentString:window.getElementParentString(e[0]),page_element_order:this.page_element_order,droppable:t};if(this._isGallery){var r=e.find("ul li");o.galleryItems=[];for(var s=0;s<r.length;s++){var a=$(r[s]);i=a.offset(),o.galleryItems[s]={top:i.top,left:i.left,height:a.outerHeight(!1),width:a.outerWidth(!1)}}}if(this.children)if(this.platform_element_id){o.children=[];var l=_.sortBy(this.children,"page_element_order");_.each(l,function(e){var t=window.getElementObject(e.id);if(e.eid==UICONST.CONTENT_AREA_ELEMENT_ID){var n=t.getDimensions();o.children.push(n)}else{var i=t.getDimensions();i.droppable=!1,o.children.push(i)}})}else o.children=_.invoke(this.children,"getDimensions");return n&&e.hide(),o},updateContentTokens:function(e){var t=!!_W.Reseller&&_W.Reseller.isResellerUser;return e=e.replace("%%ISRESELLERUSER%%",t?"true":"false")},rerenderContentField:function(e,t,n){var i=e.fetchDefinition();this._globalBeforeRender&&this._globalBeforeRender(!0),this.beforeRender(!0);var o=i.contentFieldProperties,r=this._customFunctions,s={},a="",l=i.customContent,c=!1;l=l.replace(/%%INEDITOR%%/gi,1),_.each(o,function(n){var i=n.cfpid,o=n.property,u=n.markupType,d=e.getProperty({cfpid:i}),h=d.property_result,p=r[o]||r[n.referenceProperty]||r[i];if(p){var f=p.call(this,h,!0);void 0!==f&&(h=f)}if("css"==u)s[o.camelize()]=h,a+=o+":"+h+";";else if("html"==u)t.setAttribute(o,h);else if("custom"==u)if(e.isEmbedCodeWithHTMLProperty(d.cfpid)){var m=$(t).find(".custom-html-frame").contents().find("#customhtml-content");try{m.html(h)}catch(e){console.log("Error in custom HTML element",e)}}else if(o){var g=$(t).hasClass("tablet-placeholder");l=l.replace(new RegExp(o,"gi"),h),"%%DATA%%"==o&&g&&0==JSON.parse(h).placeholder&&$(t).removeClass("tablet-placeholder"),"%%IMAGEFILE%%"==o&&h&&g&&(c=h),"%%VIDEOFILE%%"==o&&h&&g&&$(t).removeClass("tablet-placeholder")}},this),$(t).css(s),2==i.hasContent&&(l=l.replace(/%%ELEMENTID%%/gi,e.ucfid),l=l.replace(/%%PAGEELEMENTID%%/gi,e.cfid),l=l.safeReplace(/%%WEEBLYCONFIGDOMAIN%%/gi,configSiteName),l=l.safeReplace(/%%WEEBLYSUBDOMAIN%%/gi,configSiteName.replace(/\.weebly\.com$/,"")),l=l.replace("%%WEEBLYUSERID%%",userID),l=l.safeReplace(/%%WHITELABELDOMAIN%%/gi,_W.WHITE_LABEL_DOMAIN),l=this.updateContentTokens(l)),c&&(l=l.replace(/282/gi,"auto"),l=l.replace(/<iframe[^>]*>[^<]*<\/iframe>/gim,'<span class="icon icon-video"></span>'+_W.utl("html.weebly.libraries.classes.Element_1")+'<span class="ellipsis"><span>.</span><span>.</span><span>.</span></span>')),Config.chromeless&&(e.isPlaceholder()?($(t).addClass("tablet-placeholder"),l=e.addPlaceholderHTML(l)):$(t).removeClass("tablet-placeholder")),l=this.processHTML(l,!0),l===!0?t.innerHTML=t.innerHTML:l!==!1&&(t.innerHTML=l),this.afterRerenderContentField(e,t,n)},afterRerenderContentField:function(e,t,n){e.content=t.outerHTML,this.li=this.li||$("#inside_"+this.id)[0],this.afterRender(this.li,!0),this._globalAfterRender&&this._globalAfterRender(!0),this.reposition(),n&&n()},rerender:function(e){this.rerenderContentField(this.getContentField(),this.li.down(".element"),e)},beforeRender:function(e){},afterRender:function(li,isRerender){this.li=li,this.requiresUpgrade&&!Config.chromeless&&(li.addClassName("inside-requires-upgrade"),li.select(".w-upgrade")[0].observe("click",function(){Relay.request("billing:upgrade:prompt",{restrictionID:this.eid,restrictionType:"element",refer:"element_trial_upgrade"})}));var form=$(li).find("form");if(form.data("platform-element-id")){var elementScript=$(li).find(".element-script");elementScript.data("evaluated")?elementScript.data("evaluated",!1):elementScript.length&&eval(elementScript[0].innerHTML)}},afterAdd:function(e){this.afterRender&&this.afterRender(e)},getContentField:function(e){return hashSearch(this.content_fields,e)},reposition:function(){},unrender:function(){delete this.li},startDrag:function(){},onDrag:function(e,t,n){return n&&n.el&&this.elData?(this.elData.id===n.el.id?n=null:n.position!==UICONST.POSITION_LEFT&&n.position!==UICONST.POSITION_RIGHT||!this.elData.parentColumn||2!==this.elData.parentColumn.elements.length||this.elData.parentColumn.elements.indexOf(n.el)===-1||(n=null),n):n},stopDrag:function(){}});Element.INSIDE_CLASS="inside",GenericLoader.call(Element,"eid");var elementClasses=[],super_register=Element.register;return Element.register=function(e,t){t.prototype._customFunctions=getCustomFunctions(t.prototype),t.beforeRender&&(t.prototype._globalBeforeRender=t.beforeRender.bind(t)),t.afterRender&&(t.prototype._globalAfterRender=t.afterRender.bind(t)),super_register(e,t),elementClasses.push(t)},Element.renderElementsHTML=function(e){var t="";return _.each(e,function(e){t+=e.renderHTML(!1)}),t},Element.globalBeforeRender=function(){_.invoke(elementClasses,"beforeRender")},Element.globalAfterRender=function(){_.invoke(elementClasses,"afterRender")},_W.Element=Element,Element}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var i,o;i=[n(1),n(2),n(50),n(119),n(88),n(208),n(69)],o=function(e,t,n,i,o,r,s){var a=i.extend({className:"dialog",innerOverlayClassName:"dialog__overlay",contentViewTriggerPrefix:"dialog",topbar:null,topbars:null,title:"Dialog",hasContentPadding:!0,hasTopbarBorder:!0,loadingText:"Loading content...",_initialize:function(){i.prototype._initialize.call(this),this.topbars=[];var e=this.queryOption("topbar");e instanceof r||(e=new r(e&&"object"==typeof e?e:this.getTopbarOptions())),this.topbar=e,this.addTopbar(e)},processContentView:function(e){this.extendOptions(t.result(e,"dialogOptions",{})),e.dialog=this,e.dialogPanel=this,e instanceof n&&(this.hasContentPadding=!1),this.topbar&&(this.topbar.setTitle(this.queryOption("title")),this.topbar.setBackLink(this.getBackLink()),this.topbar.setForwardLink(this.getForwardLink()))},getTopbarOptions:function(){return{title:this.queryOption("title"),hasTopbarBorder:this.queryOption("hasTopbarBorder")}},destroy:function(){i.prototype.destroy.apply(this,arguments)},renderSkeleton:function(){var e=this.queryOption("hasContentPadding")?"":" dialog__content--flush",t='<div class="dialog__header"></div><div class="dialog__scroll-mask"><div class="dialog__scroll"><div class="dialog__content'+e+'"></div></div><div class="dialog-loading"><div class="dialog-loading__container"><div class="dialog-spinner"><div class="dialog-spinner__bg"></div></div><span class="dialog-loading__text">'+this.queryOption("loadingText")+"</span></div></div></div>";this.$el.html(t)},renderHeader:function(e){this.topbar=this.topbars[0],this.topbar.setBackLink(this.queryOption("backLink")),this.topbar.setForwardLink(this.queryOption("forwardLink"));var n=t.extend({context:this},this.topbar.getNormalizedLink(this.getBackLink())),i=t.extend({context:this},this.topbar.getNormalizedLink(this.getForwardLink()));this.topbar.setBackLink(n),this.topbar.setForwardLink(i),this.topbar.render(),this.topbar.$el.addClass("dialog__topbar"),this.attachTopbar(this.topbar)},renderContent:function(){i.prototype.renderContent.apply(this,arguments),this.contentView instanceof n&&this.contentView.$el.addClass("dialog__component")},getBackLink:function(){return this.topbar.queryOption("backLink")},getForwardLink:function(){return this.topbar.queryOption("forwardLink")},queryHeaderOuterEl:function(){return this.$el.find(".dialog__header")},queryHeaderInnerEl:function(){return this.$el.find(".dialog__header")},queryContentOuterEl:function(){return this.$el.find(".dialog__scroll-mask")},queryContentInnerEl:function(){return this.$el.find(".dialog__content")},queryScrollEl:function(){return this.queryContentOuterEl()},queryDialogEl:function(){return this.comboDialog?this.comboDialog.$el:this.$el},back:function(){var t=this;return this.topbar.isBackEnabled?this._trigger("before:back").then(function(){t.executeBack(),t._trigger("back")}):e.Deferred().reject().promise()},executeBack:function(){var e=this.topbar.queryOption("backLink"),t=(e||{}).action;if(t)return this[t].call(this),t},forward:function(){var t=this,n=this.topbar.queryOption("forwardLink"),i=(n||{}).action;return this.topbar.isForwardEnabled?this._trigger("before:forward").then(function(){t.executeForward(),t._trigger("forward")}):e.Deferred().reject().promise()},executeForward:function(){var e=this.topbar.queryOption("forwardLink"),t=(e||{}).action;if(t)return this[t].call(this),t},setIsLoading:function(e){this.$el.find(".dialog-loading").toggleClass("is-visible",e)},addTopbar:function(e){this.topbars.push(e);var t=this;e.on("back",function(){t.back()}).on("forward",function(){t.forward()})},pushTopbar:function(e){this.addTopbar(e),this.gotoTopbar(this.topbars.length-1,"add")},popTopbar:function(){var e=this.topbars.length;e>1&&this.gotoTopbar(e-2,"remove")},gotoTopbar:function(e,t){var n=this.topbars[e],i;null!=this.topbar&&(i=this.topbar);var o="add"===t?"up":"down";this.topbar=n,this.transitionTopbars(i,n,o)},attachTopbar:function(e){e.$el.appendTo(this.queryHeaderInnerEl())},transitionTopbars:function(e,t,n){var i=this,o=this.queryHeaderOuterEl();return t.render(),t.$el.addClass("dialog__topbar"),o.addClass("is-transitioning").height(e.$el.outerHeight()),"up"===n&&this.attachTopbar(t),s.promiseTimeout(0).then(function(){if("up"===n)e.$el.addClass("is-sliding-up"),t.$el.addClass("is-entering");else{if("down"!==n)throw new Error('transitionTopbars direction argument accepts the following: "up" or "down"');t.$el.removeClass("is-sliding-up").addClass("is-entering is-sliding-down")}}).then(function(){return s.promiseTimeout(0)}).then(function(){return"up"===n?s.promiseTransition(e.$el):s.promiseTransition(t.$el)}).then(function(){t.$el.removeClass("is-sliding-up is-sliding-down is-entering"),"down"===n&&(e.$el.removeClass("is-sliding-up is-sliding-down is-entering"),e.destroy(),i.topbars=i.topbars.slice(0,i.topbars.length-1)),o.removeClass("is-transitioning").height("")})},enableEditMode:function(e){var n=t.extend({forwardLink:{context:this,text:"Done",action:"close"},isEditMode:!0},e);this.pushTopbar(new r(n)),this.queryDialogEl().addClass("is-edit-mode"),this._trigger("enableEditMode")},disableEditMode:function(){this.topbars.length>1&&(this.popTopbar(),this.queryDialogEl().removeClass("is-edit-mode"),this._trigger("disableEditMode"))}});e.each(["setTitle","setBackLink","setForwardLink","setBackEnabled","setForwardEnabled"],function(e,t){a.prototype[t]=function(){this.topbar[t].apply(this.topbar,arguments)}});var l=e.extend({},o.Mixin,{zIndex:9999,size:"large",isFullscreen:!1,isModal:!1,hAlignment:"center",vAlignment:"center",draggableSelector:".dialog__topbar",positionRefresh:!0,dialogResizeHandler:null,backLink:{isClose:!0,action:"close"},open:function(t){return this.isFullscreen=this.queryOptionOverride("isFullscreen",t),this.isFullscreen?(e("html,body").css({margin:0,padding:0,overflow:"hidden",height:"100%"}),this.$el.addClass("dialog--fullscreen"),this.showWithin("body")):o.Mixin.open.call(this,t),this.initializeResizeOnWindowResize(),this.isModal=this.queryOptionOverride("isModal",t),this.isModal&&(this.scrollPosition=e(window).scrollTop(),this.scrollbarWidth=window.innerWidth-document.body.clientWidth,this.defaultBodyAttr=e("body").attr("style")||"",e("body").css({position:"fixed",top:-this.scrollPosition,width:"calc(100% + "+this.scrollbarWidth+"px)","margin-left":-this.scrollbarWidth+"px"})),this},initializeResizeOnWindowResize:function(){var n=this;e(window).on("resize",n.dialogResizeHandler=t.debounce(function(){n.updateSize()},100))},destroyResizeOnWindowResize:function(){this.dialogResizeHandler&&e(window).off("resize",this.dialogResizeHandler)},executeClose:function(){return this.isFullscreen||o.Mixin.executeClose.call(this),this.destroyResizeOnWindowResize(),this.isModal&&e("body").attr("style",this.defaultBodyAttr).scrollTop(this.scrollPosition),this},updateSize:function(e){var t=this.queryOptionOverride("size",e);return t&&this.$el.removeClass("dialog--small dialog--medium dialog--large").addClass("dialog--"+t),i.prototype.updateSize.call(this),this}}),c=a.extend(l);return c.open=function(e){var t=new this(e);return t.open()},c.Panel=a,c.Mixin=l,c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(50),n(88),n(69)],o=function(e,t,n,i){function o(t,n){var o=e(t),r=i.getElDataAttributes(t,"data-hover-tip-"),s=o.data("hover-tip");if("object"!=typeof s){if(!r.content&&!r.text)throw new Error("No Hover Tip content specified.");var a;a=e(r.cssclass?'<div class="hover-tip '+r.cssclass+'"></div>':'<div class="hover-tip"></div>'),r.content&&a.html(r.content),r.text&&a.text(r.text),s=new c({el:a,pointAt:o}),o.data("hover-tip",s)}s.toggle(r,n)}function r(e){o(this,"open")}function s(e){o(this,"close")}function a(){e(document).off("mouseenter.hoverTip","[data-hover-tip]").off("mouseleave.hoverTip","[data-hover-tip]").on("mouseenter.hoverTip","[data-hover-tip]",r).on("mouseleave.hoverTip","[data-hover-tip]",s)}function l(){e("[data-hover-tip]").each(function(){var t=e(this).data("hover-tip");t&&t.close()})}var c=t.extend(e.extend({},n.Mixin,{className:"hover-tip",arrowSize:0,arrowGap:10,showPointAtArrow:!1,constructor:function(n){t.call(this,n);var i=this.queryOption("el");i&&e(i).css("display","block").detach()},toggle:function(e,t){"close"===t?this.close():"open"===t&&(this.setElement(this.queryOption("el")),this.$el.removeClass("is-out"),this.open(e))},onDestroy:function(){this.options.pointAt.removeData("hover-tip")},resetFocus:function(){}}));return c.initialize=a,c.closeAll=l,c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(module,exports,__webpack_require__){(function($){function $A(e){if(!e)return[];if("toArray"in Object(e))return e.toArray();for(var t=e.length||0,n=new Array(t);t--;)n[t]=e[t];return n}function $w(e){return Object.isString(e)?(e=e.strip(),e?e.split(/\s+/):[]):[]}function $H(e){return new Hash(e)}function $R(e,t,n){return new ObjectRange(e,t,n)}function $(e){if(arguments.length>1){for(var t=0,n=[],i=arguments.length;t<i;t++)n.push($(arguments[t]));
return n}return Object.isString(e)&&(e=document.getElementById(e)),Element.extend(e)}var Prototype={Version:"1.7",Browser:function(){var e=navigator.userAgent,t="[object Opera]"==Object.prototype.toString.call(window.opera);return{IE:!!window.attachEvent&&!t,Opera:t,WebKit:e.indexOf("AppleWebKit/")>-1,Gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile/.test(e)}}(),BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:function(){var e=window.Element||window.HTMLElement;return!(!e||!e.prototype)}(),SpecificElementExtensions:function(){if("undefined"!=typeof window.HTMLDivElement)return!0;var e=document.createElement("div"),t=document.createElement("form"),n=!1;return e.__proto__&&e.__proto__!==t.__proto__&&(n=!0),e=t=null,n}()},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(e){return e}};Prototype.Browser.MobileSafari&&(Prototype.BrowserFeatures.SpecificElementExtensions=!1);var Abstract={},Try={these:function(){for(var e,t=0,n=arguments.length;t<n;t++){var i=arguments[t];try{e=i();break}catch(e){}}return e}},Class=function(){function e(){}function t(){function t(){this.initialize.apply(this,arguments)}var n=null,i=$A(arguments);Object.isFunction(i[0])&&(n=i.shift()),Object.extend(t,Class.Methods),t.superclass=n,t.subclasses=[],n&&(e.prototype=n.prototype,t.prototype=new e,n.subclasses.push(t));for(var o=0,r=i.length;o<r;o++)t.addMethods(i[o]);return t.prototype.initialize||(t.prototype.initialize=Prototype.emptyFunction),t.prototype.constructor=t,t}function n(e){var t=this.superclass&&this.superclass.prototype,n=Object.keys(e);i&&(e.toString!=Object.prototype.toString&&n.push("toString"),e.valueOf!=Object.prototype.valueOf&&n.push("valueOf"));for(var o=0,r=n.length;o<r;o++){var s=n[o],a=e[s];if(t&&Object.isFunction(a)&&"$super"==a.argumentNames()[0]){var l=a;a=function(e){return function(){return t[e].apply(this,arguments)}}(s).wrap(l),a.valueOf=l.valueOf.bind(l),a.toString=l.toString.bind(l)}this.prototype[s]=a}return this}var i=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}();return{create:t,Methods:{addMethods:n}}}();!function(){function e(e){switch(e){case null:return y;case void 0:return _}var t=typeof e;switch(t){case"boolean":return E;case"number":return T;case"string":return C}return S}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){try{return b(e)?"undefined":null===e?"null":e.inspect?e.inspect():String(e)}catch(e){if(e instanceof RangeError)return"...";throw e}}function i(e){return o("",{"":e},[])}function o(t,n,i){var r=n[t],s=typeof r;e(r)===S&&"function"==typeof r.toJSON&&(r=r.toJSON(t));var a=w.call(r);switch(a){case D:case O:case x:r=r.valueOf()}switch(r){case null:return"null";case!0:return"true";case!1:return"false"}switch(s=typeof r){case"string":return r.inspect(!0);case"number":return isFinite(r)?String(r):"null";case"object":for(var l=0,c=i.length;l<c;l++)if(i[l]===r)throw new TypeError;i.push(r);var u=[];if(a===k){for(var l=0,c=r.length;l<c;l++){var d=o(l,r,i);u.push("undefined"==typeof d?"null":d)}u="["+u.join(",")+"]"}else{for(var h=Object.keys(r),l=0,c=h.length;l<c;l++){var t=h[l],d=o(t,r,i);"undefined"!=typeof d&&u.push(t.inspect(!0)+":"+d)}u="{"+u.join(",")+"}"}return i.pop(),u}}function r(e){return JSON.stringify(e)}function s(e){return $H(e).toQueryString()}function a(e){return e&&e.toHTML?e.toHTML():String.interpret(e)}function l(t){if(e(t)!==S)throw new TypeError;var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i);return n}function c(e){var t=[];for(var n in e)t.push(e[n]);return t}function u(e){return t({},e)}function d(e){return!(!e||1!=e.nodeType)}function h(e){return w.call(e)===k}function p(e){return e instanceof Hash}function f(e){return w.call(e)===I}function m(e){return w.call(e)===x}function g(e){return w.call(e)===D}function v(e){return w.call(e)===R}function b(e){return"undefined"==typeof e}var w=Object.prototype.toString,y="Null",_="Undefined",E="Boolean",T="Number",C="String",S="Object",I="[object Function]",O="[object Boolean]",D="[object Number]",x="[object String]",k="[object Array]",R="[object Date]",P=window.JSON&&"function"==typeof JSON.stringify&&"0"===JSON.stringify(0)&&"undefined"==typeof JSON.stringify(Prototype.K),A="function"==typeof Array.isArray&&Array.isArray([])&&!Array.isArray({});A&&(h=Array.isArray),t(Object,{extend:t,inspect:n,toJSON:P?r:i,toQueryString:s,toHTML:a,keys:Object.keys||l,values:c,clone:u,isElement:d,isArray:h,isHash:p,isFunction:f,isString:m,isNumber:g,isDate:v,isUndefined:b})}(),Object.extend(Function.prototype,function(){function e(e,t){for(var n=e.length,i=t.length;i--;)e[n+i]=t[i];return e}function t(t,n){return t=u.call(t,0),e(t,n)}function n(){var e=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function i(e){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var n=this,i=u.call(arguments,1);return function(){var o=t(i,arguments);return n.apply(e,o)}}function o(t){var n=this,i=u.call(arguments,1);return function(o){var r=e([o||window.event],i);return n.apply(t,r)}}function r(){if(!arguments.length)return this;var e=this,n=u.call(arguments,0);return function(){var i=t(n,arguments);return e.apply(this,i)}}function s(e){var t=this,n=u.call(arguments,1);return e*=1e3,window.setTimeout(function(){return t.apply(t,n)},e)}function a(){var t=e([.01],arguments);return this.delay.apply(this,t)}function l(t){var n=this;return function(){var i=e([n.bind(this)],arguments);return t.apply(this,i)}}function c(){if(this._methodized)return this._methodized;var t=this;return this._methodized=function(){var n=e([this],arguments);return t.apply(null,n)}}var u=Array.prototype.slice;return{argumentNames:n,bind:i,bindAsEventListener:o,curry:r,delay:s,defer:a,wrap:l,methodize:c}}()),function(e){function t(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"}function n(){return this.toISOString()}e.toISOString||(e.toISOString=t),e.toJSON||(e.toJSON=n)}(Date.prototype),RegExp.prototype.match=RegExp.prototype.test,RegExp.escape=function(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};var PeriodicalExecuter=Class.create({initialize:function(e,t){this.callback=e,this.frequency=t,this.currentlyExecuting=!1,this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},execute:function(){this.callback(this)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.execute(),this.currentlyExecuting=!1}catch(e){throw this.currentlyExecuting=!1,e}}});Object.extend(String,{interpret:function(e){return null==e?"":String(e)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),Object.extend(String.prototype,function(){function prepareReplacement(e){if(Object.isFunction(e))return e;var t=new Template(e);return function(e){return t.evaluate(e)}}function gsub(e,t){var n="",i=this,o;if(t=prepareReplacement(t),Object.isString(e)&&(e=RegExp.escape(e)),!e.length&&!e.source)return t=t(""),t+i.split("").join(t)+t;for(;i.length>0;)(o=i.match(e))?(n+=i.slice(0,o.index),n+=String.interpret(t(o)),i=i.slice(o.index+o[0].length)):(n+=i,i="");return n}function sub(e,t,n){return t=prepareReplacement(t),n=Object.isUndefined(n)?1:n,this.gsub(e,function(e){return--n<0?e[0]:t(e)})}function scan(e,t){return this.gsub(e,t),String(this)}function truncate(e,t){return e=e||30,t=Object.isUndefined(t)?"...":t,this.length>e?this.slice(0,e-t.length)+t:String(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function stripScripts(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")}function extractScripts(){var e=new RegExp(Prototype.ScriptFragment,"img"),t=new RegExp(Prototype.ScriptFragment,"im");return(this.match(e)||[]).map(function(e){return(e.match(t)||["",""])[1]})}function evalScripts(){return this.extractScripts().map(function(script){return eval(script)})}function escapeHTML(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescapeHTML(){return this.stripTags().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function toQueryParams(e){var t=this.strip().match(/([^?#]*)(#.*)?$/);return t?t[1].split(e||"&").inject({},function(e,t){if((t=t.split("="))[0]){var n=decodeURIComponent(t.shift()),i=t.length>1?t.join("="):t[0];void 0!=i&&(i=decodeURIComponent(i)),n in e?(Object.isArray(e[n])||(e[n]=[e[n]]),e[n].push(i)):e[n]=i}return e}):{}}function toArray(){return this.split("")}function succ(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)}function times(e){return e<1?"":new Array(e+1).join(this)}function camelize(){return this.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}function underscore(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()}function dasherize(){return this.replace(/_/g,"-")}function inspect(e){var t=this.replace(/[\x00-\x1f\\]/g,function(e){return e in String.specialChar?String.specialChar[e]:"\\u00"+e.charCodeAt().toPaddedString(2,16)});return e?'"'+t.replace(/"/g,'\\"')+'"':"'"+t.replace(/'/g,"\\'")+"'"}function unfilterJSON(e){return this.replace(e||Prototype.JSONFilter,"$1")}function isJSON(){var e=this;return!e.blank()&&(e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@"),e=e.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),e=e.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e))}function evalJSON(sanitize){var json=this.unfilterJSON(),cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;cx.test(json)&&(json=json.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())}function parseJSON(){var e=this.unfilterJSON();return JSON.parse(e)}function include(e){return this.indexOf(e)>-1}function startsWith(e){return 0===this.lastIndexOf(e,0)}function endsWith(e){var t=this.length-e.length;return t>=0&&this.indexOf(e,t)===t}function empty(){return""==this}function blank(){return/^\s*$/.test(this)}function interpolate(e,t){return new Template(this,t).evaluate(e)}var NATIVE_JSON_PARSE_SUPPORT=window.JSON&&"function"==typeof JSON.parse&&JSON.parse('{"test": true}').test;return{gsub:gsub,sub:sub,scan:scan,truncate:truncate,strip:String.prototype.trim||strip,stripTags:stripTags,stripScripts:stripScripts,extractScripts:extractScripts,evalScripts:evalScripts,escapeHTML:escapeHTML,unescapeHTML:unescapeHTML,toQueryParams:toQueryParams,parseQuery:toQueryParams,toArray:toArray,succ:succ,times:times,camelize:camelize,capitalize:capitalize,underscore:underscore,dasherize:dasherize,inspect:inspect,unfilterJSON:unfilterJSON,isJSON:isJSON,evalJSON:evalJSON,include:include,startsWith:startsWith,endsWith:endsWith,empty:empty,blank:blank,interpolate:interpolate}}());var Template=Class.create({initialize:function(e,t){this.template=e.toString(),this.pattern=t||Template.Pattern},evaluate:function(e){return e&&Object.isFunction(e.toTemplateReplacements)&&(e=e.toTemplateReplacements()),this.template.gsub(this.pattern,function(t){if(null==e)return t[1]+"";var n=t[1]||"";if("\\"==n)return t[2];var i=e,o=t[3],r=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;if(t=r.exec(o),null==t)return n;for(;null!=t;){var s=t[1].startsWith("[")?t[2].replace(/\\\\]/g,"]"):t[1];if(i=i[s],null==i||""==t[3])break;o=o.substring("["==t[3]?t[1].length:t[0].length),t=r.exec(o)}return n+String.interpret(i)})}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={},Enumerable=function(){function e(e,t){var n=0;try{this._each(function(i){e.call(t,i,n++)})}catch(e){if(e!=$break)throw e}return this}function t(e,t,n){var i=-e,o=[],r=this.toArray();if(e<1)return r;for(;(i+=e)<r.length;)o.push(r.slice(i,i+e));return o.collect(t,n)}function n(e,t){e=e||Prototype.K;var n=!0;return this.each(function(i,o){if(n=n&&!!e.call(t,i,o),!n)throw $break}),n}function i(e,t){e=e||Prototype.K;var n=!1;return this.each(function(i,o){if(n=!!e.call(t,i,o))throw $break}),n}function o(e,t){e=e||Prototype.K;var n=[];return this.each(function(i,o){n.push(e.call(t,i,o))}),n}function r(e,t){var n;return this.each(function(i,o){if(e.call(t,i,o))throw n=i,$break}),n}function s(e,t){var n=[];return this.each(function(i,o){e.call(t,i,o)&&n.push(i)}),n}function a(e,t,n){t=t||Prototype.K;var i=[];return Object.isString(e)&&(e=new RegExp(RegExp.escape(e))),this.each(function(o,r){e.match(o)&&i.push(t.call(n,o,r))}),i}function l(e){if(Object.isFunction(this.indexOf)&&this.indexOf(e)!=-1)return!0;var t=!1;return this.each(function(n){if(n==e)throw t=!0,$break}),t}function c(e,t){return t=Object.isUndefined(t)?null:t,this.eachSlice(e,function(n){for(;n.length<e;)n.push(t);return n})}function u(e,t,n){return this.each(function(i,o){e=t.call(n,e,i,o)}),e}function d(e){var t=$A(arguments).slice(1);return this.map(function(n){return n[e].apply(n,t)})}function h(e,t){e=e||Prototype.K;var n;return this.each(function(i,o){i=e.call(t,i,o),(null==n||i>=n)&&(n=i)}),n}function p(e,t){e=e||Prototype.K;var n;return this.each(function(i,o){i=e.call(t,i,o),(null==n||i<n)&&(n=i)}),n}function f(e,t){e=e||Prototype.K;var n=[],i=[];return this.each(function(o,r){(e.call(t,o,r)?n:i).push(o)}),[n,i]}function m(e){var t=[];return this.each(function(n){t.push(n[e])}),t}function g(e,t){var n=[];return this.each(function(i,o){e.call(t,i,o)||n.push(i)}),n}function v(e,t){return this.map(function(n,i){return{value:n,criteria:e.call(t,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}).pluck("value")}function b(){return this.map()}function w(){var e=Prototype.K,t=$A(arguments);Object.isFunction(t.last())&&(e=t.pop());var n=[this].concat(t).map($A);return this.map(function(t,i){return e(n.pluck(i))})}function y(){return this.toArray().length}function _(){return"#<Enumerable:"+this.toArray().inspect()+">"}return{each:e,eachSlice:t,all:n,every:n,any:i,some:i,collect:o,detect:r,findAll:s,select:s,filter:s,grep:a,include:l,member:l,inGroupsOf:c,inject:u,invoke:d,max:h,min:p,partition:f,pluck:m,reject:g,sortBy:v,toArray:b,zip:w,size:y,inspect:_,find:r}}();Array.from=$A,function(){function e(e,t){for(var n=0,i=this.length>>>0;n<i;n++)n in this&&e.call(t,this[n],n,this)}function t(){return this.length=0,this}function n(){return this[0]}function i(){return this[this.length-1]}function o(){return this.select(function(e){return null!=e})}function r(){return this.inject([],function(e,t){return Object.isArray(t)?e.concat(t.flatten()):(e.push(t),e)})}function s(){var e=v.call(arguments,0);return this.select(function(t){return!e.include(t)})}function a(e){return(e===!1?this.toArray():this)._reverse()}function l(e){return this.inject([],function(t,n,i){return 0!=i&&(e?t.last()==n:t.include(n))||t.push(n),t})}function c(e){return this.uniq().findAll(function(t){return e.detect(function(e){return t===e})})}function u(){return v.call(this,0)}function d(){return this.length}function h(){return"["+this.map(Object.inspect).join(", ")+"]"}function p(e,t){t||(t=0);var n=this.length;for(t<0&&(t=n+t);t<n;t++)if(this[t]===e)return t;return-1}function f(e,t){t=isNaN(t)?this.length:(t<0?this.length+t:t)+1;var n=this.slice(0,t).reverse().indexOf(e);return n<0?n:t-n-1}function m(){for(var e=v.call(this,0),t,n=0,i=arguments.length;n<i;n++)if(t=arguments[n],!Object.isArray(t)||"callee"in t)e.push(t);else for(var o=0,r=t.length;o<r;o++)e.push(t[o]);return e}var g=Array.prototype,v=g.slice,b=g.forEach;b||(b=e),Object.extend(g,Enumerable),g._reverse||(g._reverse=g.reverse),Object.extend(g,{_each:b,clear:t,first:n,last:i,compact:o,flatten:r,without:s,reverse:a,uniq:l,intersect:c,clone:u,toArray:u,size:d,inspect:h});var w=function(){return 1!==[].concat(arguments)[0][0]}(1,2);w&&(g.concat=m),g.indexOf||(g.indexOf=p),g.lastIndexOf||(g.lastIndexOf=f)}();var Hash=Class.create(Enumerable,function(){function e(e){this._object=Object.isHash(e)?e.toObject():Object.clone(e)}function t(e){for(var t in this._object){var n=this._object[t],i=[t,n];i.key=t,i.value=n,e(i)}}function n(e,t){return this._object[e]=t}function i(e){if(this._object[e]!==Object.prototype[e])return this._object[e]}function o(e){var t=this._object[e];return delete this._object[e],t}function r(){return Object.clone(this._object)}function s(){return this.pluck("key")}function a(){return this.pluck("value")}function l(e){var t=this.detect(function(t){return t.value===e});return t&&t.key}function c(e){return this.clone().update(e)}function u(e){return new Hash(e).inject(this,function(e,t){return e.set(t.key,t.value),e})}function d(e,t){return Object.isUndefined(t)?e:e+"="+encodeURIComponent(String.interpret(t))}function h(){return this.inject([],function(e,t){var n=encodeURIComponent(t.key),i=t.value;if(i&&"object"==typeof i){if(Object.isArray(i)){for(var o=[],r=0,s=i.length,a;r<s;r++)a=i[r],o.push(d(n,a));return e.concat(o)}}else e.push(d(n,i));return e}).join("&")}function p(){return"#<Hash:{"+this.map(function(e){return e.map(Object.inspect).join(": ")}).join(", ")+"}>"}function f(){return new Hash(this)}return{initialize:e,_each:t,set:n,get:i,unset:o,toObject:r,toTemplateReplacements:r,keys:s,values:a,index:l,merge:c,update:u,toQueryString:h,inspect:p,toJSON:r,clone:f}}());Hash.from=$H,Object.extend(Number.prototype,function(){function e(){return this.toPaddedString(2,16)}function t(){return this+1}function n(e,t){return $R(0,this,!0).each(e,t),this}function i(e,t){var n=this.toString(t||10);return"0".times(e-n.length)+n}function o(){return Math.abs(this)}function r(){return Math.round(this)}function s(){return Math.ceil(this)}function a(){return Math.floor(this)}return{toColorPart:e,succ:t,times:n,toPaddedString:i,abs:o,round:r,ceil:s,floor:a}}());var ObjectRange=Class.create(Enumerable,function(){function e(e,t,n){this.start=e,this.end=t,this.exclusive=n}function t(e){for(var t=this.start;this.include(t);)e(t),t=t.succ()}function n(e){return!(e<this.start)&&(this.exclusive?e<this.end:e<=this.end)}return{initialize:e,_each:t,include:n}}()),Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},activeRequestCount:0};if(Ajax.Responders={responders:[],_each:function(e){this.responders._each(e)},register:function(e){this.include(e)||this.responders.push(e)},unregister:function(e){this.responders=this.responders.without(e)},dispatch:function(e,t,n,i){this.each(function(o){if(Object.isFunction(o[e]))try{o[e].apply(o,[t,n,i])}catch(e){}})}},Object.extend(Ajax.Responders,Enumerable),Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}}),Ajax.Base=Class.create({initialize:function(e){this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:!0,evalJS:!0},Object.extend(this.options,e||{}),this.options.method=this.options.method.toLowerCase(),Object.isHash(this.options.parameters)&&(this.options.parameters=this.options.parameters.toObject())}}),Ajax.Request=Class.create(Ajax.Base,{_complete:!1,initialize:function($super,e,t){$super(t),this.transport=Ajax.getTransport(),this.request(e)},request:function(e){this.url=e,this.method=this.options.method;var t=Object.isString(this.options.parameters)?this.options.parameters:Object.toQueryString(this.options.parameters);["get","post"].include(this.method)||(t+=(t?"&":"")+"_method="+this.method,this.method="post"),t&&"get"===this.method&&(this.url+=(this.url.include("?")?"&":"?")+t),this.parameters=t.toQueryParams();try{var n=new Ajax.Response(this);this.options.onCreate&&this.options.onCreate(n),Ajax.Responders.dispatch("onCreate",this,n),this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous),this.options.asynchronous&&this.respondToReadyState.bind(this).defer(1),this.transport.onreadystatechange=this.onStateChange.bind(this),this.setRequestHeaders(),this.body="post"==this.method?this.options.postBody||t:null,this.transport.send(this.body),!this.options.asynchronous&&this.transport.overrideMimeType&&this.onStateChange()}catch(e){this.dispatchException(e)}},onStateChange:function(){var e=this.transport.readyState;e>1&&(4!=e||!this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close")),"object"==typeof this.options.requestHeaders){var t=this.options.requestHeaders;if(Object.isFunction(t.push))for(var n=0,i=t.length;n<i;n+=2)e[t[n]]=t[n+1];else $H(t).each(function(t){e[t.key]=t.value})}for(var o in e)this.transport.setRequestHeader(o,e[o])},success:function(){var e=this.getStatus();return!e||e>=200&&e<300||304==e},getStatus:function(){try{return 1223===this.transport.status?204:this.transport.status||0}catch(e){return 0}},respondToReadyState:function(e){var t=Ajax.Request.Events[e],n=new Ajax.Response(this);if("Complete"==t){try{this._complete=!0,(this.options["on"+n.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(n,n.headerJSON)}catch(e){this.dispatchException(e)}var i=n.getHeader("Content-type");("force"==this.options.evalJS||this.options.evalJS&&this.isSameOrigin()&&i&&i.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))&&this.evalResponse()}try{(this.options["on"+t]||Prototype.emptyFunction)(n,n.headerJSON),Ajax.Responders.dispatch("on"+t,this,n,n.headerJSON)}catch(e){this.dispatchException(e)}"Complete"==t&&(this.transport.onreadystatechange=Prototype.emptyFunction)},isSameOrigin:function(){var e=this.url.match(/^\s*https?:\/\/[^\/]*/);return!e||e[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""})},getHeader:function(e){try{return this.transport.getResponseHeader(e)||null}catch(e){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(e){(this.options.onException||Prototype.emptyFunction)(this,e),Ajax.Responders.dispatch("onException",this,e)}}),Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"],Ajax.Response=Class.create({initialize:function(e){this.request=e;var t=this.transport=e.transport,n=this.readyState=t.readyState;if((n>2&&!Prototype.Browser.IE||4==n)&&(this.status=this.getStatus(),this.statusText=this.getStatusText(),this.responseText=String.interpret(t.responseText),this.headerJSON=this._getHeaderJSON()),4==n){var i=t.responseXML;this.responseXML=Object.isUndefined(i)?null:i,this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(e){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(e){return null}},getResponseHeader:function(e){return this.transport.getResponseHeader(e)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var e=this.getHeader("X-JSON");if(!e)return null;e=decodeURIComponent(escape(e));try{return e.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}},_getResponseJSON:function(){var e=this.request.options;if(!e.evalJSON||"force"!=e.evalJSON&&!(this.getHeader("Content-type")||"").include("application/json")||this.responseText.blank())return null;try{return this.responseText.evalJSON(e.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}}}),Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,e,t,n){this.container={success:e.success||e,failure:e.failure||(e.success?null:e)},n=Object.clone(n);var i=n.onComplete;n.onComplete=function(e,t){this.updateContent(e.responseText),Object.isFunction(i)&&i(e,t)}.bind(this),$super(t,n)},updateContent:function(e){var t=this.container[this.success()?"success":"failure"],n=this.options;if(n.evalScripts||(e=e.stripScripts()),t=$(t))if(n.insertion)if(Object.isString(n.insertion)){var i={};i[n.insertion]=e,t.insert(i)}else n.insertion(t,e);else t.update(e)}}),Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,e,t,n){$super(n),this.onComplete=this.options.onComplete,this.frequency=this.options.frequency||2,this.decay=this.options.decay||1,this.updater={},this.container=e,this.url=t,this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this),this.onTimerEvent()},stop:function(){this.updater.options.onComplete=void 0,clearTimeout(this.timer),(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(e){this.options.decay&&(this.decay=e.responseText==this.lastText?this.decay*this.options.decay:1,this.lastText=e.responseText),this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}}),Prototype.BrowserFeatures.XPath&&(document._getElementsByXPath=function(e,t){for(var n=[],i=document.evaluate(e,$(t)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),o=0,r=i.snapshotLength;o<r;o++)n.push(Element.extend(i.snapshotItem(o)));return n}),!Node)var Node={};Node.ELEMENT_NODE||Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),function(e){function t(e,t){return"select"!==e&&!("type"in t)}var n=function(){try{var e=document.createElement('<input name="x">');return"input"===e.tagName.toLowerCase()&&"x"===e.name}catch(e){return!1}}(),i=e.Element;e.Element=function(e,i){i=i||{},e=e.toLowerCase();var o=Element.cache;if(n&&i.name)return e="<"+e+' name="'+i.name+'">',delete i.name,Element.writeAttribute(document.createElement(e),i);o[e]||(o[e]=Element.extend(document.createElement(e)));var r=t(e,i)?o[e].cloneNode(!1):document.createElement(e);return Element.writeAttribute(r,i)},Object.extend(e.Element,i||{}),i&&(e.Element.prototype=i.prototype)}(this),Element.idCounter=1,Element.cache={},Element._purgeElement=function(e){var t=e._prototypeUID;t&&(Element.stopObserving(e),e._prototypeUID=void 0,delete Element.Storage[t])},Element.Methods={visible:function(e){return"none"!=$(e).style.display},toggle:function(e){return e=$(e),Element[Element.visible(e)?"hide":"show"](e),e},hide:function(e){return e=$(e),e.style.display="none",e},show:function(e){return e=$(e),e.style.display="",e},remove:function(e){return e=$(e),e.parentNode.removeChild(e),e},update:function(){function e(e,t){e=$(e);for(var n=Element._purgeElement,s=e.getElementsByTagName("*"),a=s.length;a--;)n(s[a]);if(t&&t.toElement&&(t=t.toElement()),Object.isElement(t))return e.update().insert(t);t=Object.toHTML(t);var l=e.tagName.toUpperCase();if("SCRIPT"===l&&r)return e.text=t,e;if(o)if(l in Element._insertionTranslations.tags){for(;e.firstChild;)e.removeChild(e.firstChild);Element._getContentFromAnonymousElement(l,t.stripScripts()).each(function(t){e.appendChild(t)})}else if(i&&Object.isString(t)&&t.indexOf("<link")>-1){for(;e.firstChild;)e.removeChild(e.firstChild);var c=Element._getContentFromAnonymousElement(l,t.stripScripts(),!0);c.each(function(t){e.appendChild(t)})}else e.innerHTML=t.stripScripts();else e.innerHTML=t.stripScripts();return t.evalScripts.bind(t).defer(),e}var t=function(){var e=document.createElement("select"),t=!0;return e.innerHTML='<option value="test">test</option>',e.options&&e.options[0]&&(t="OPTION"!==e.options[0].nodeName.toUpperCase()),e=null,t}(),n=function(){try{var e=document.createElement("table");if(e&&e.tBodies){e.innerHTML="<tbody><tr><td>test</td></tr></tbody>";var t="undefined"==typeof e.tBodies[0];return e=null,t}}catch(e){return!0}}(),i=function(){try{var e=document.createElement("div");e.innerHTML="<link>";var t=0===e.childNodes.length;return e=null,t}catch(e){return!0}}(),o=t||n||i,r=function(){var e=document.createElement("script"),t=!1;try{e.appendChild(document.createTextNode("")),t=!e.firstChild||e.firstChild&&3!==e.firstChild.nodeType}catch(e){t=!0}return e=null,t}();return e}(),replace:function(e,t){if(e=$(e),t&&t.toElement)t=t.toElement();else if(!Object.isElement(t)){t=Object.toHTML(t);var n=e.ownerDocument.createRange();n.selectNode(e),t.evalScripts.bind(t).defer(),t=n.createContextualFragment(t.stripScripts())}return e.parentNode.replaceChild(t,e),e},insert:function(e,t){e=$(e),(Object.isString(t)||Object.isNumber(t)||Object.isElement(t)||t&&(t.toElement||t.toHTML))&&(t={bottom:t});var n,i,o,r;for(var s in t)n=t[s],s=s.toLowerCase(),i=Element._insertionTranslations[s],n&&n.toElement&&(n=n.toElement()),Object.isElement(n)?i(e,n):(n=Object.toHTML(n),o=("before"==s||"after"==s?e.parentNode:e).tagName.toUpperCase(),r=Element._getContentFromAnonymousElement(o,n.stripScripts()),"top"!=s&&"after"!=s||r.reverse(),r.each(i.curry(e)),n.evalScripts.bind(n).defer());return e},wrap:function(e,t,n){return e=$(e),Object.isElement(t)?$(t).writeAttribute(n||{}):t=Object.isString(t)?new Element(t,n):new Element("div",t),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},inspect:function(e){e=$(e);var t="<"+e.tagName.toLowerCase();return $H({id:"id",className:"class"}).each(function(n){var i=n.first(),o=n.last(),r=(e[i]||"").toString();r&&(t+=" "+o+"="+r.inspect(!0))}),t+">"},recursivelyCollect:function(e,t,n){e=$(e),n=n||-1;for(var i=[];(e=e[t])&&(1==e.nodeType&&i.push(Element.extend(e)),i.length!=n););return i},ancestors:function(e){return Element.recursivelyCollect(e,"parentNode")},descendants:function(e){return Element.select(e,"*")},firstDescendant:function(e){for(e=$(e).firstChild;e&&1!=e.nodeType;)e=e.nextSibling;return $(e)},immediateDescendants:function(e){for(var t=[],n=$(e).firstChild;n;)1===n.nodeType&&t.push(Element.extend(n)),n=n.nextSibling;return t},previousSiblings:function(e,t){return Element.recursivelyCollect(e,"previousSibling")},nextSiblings:function(e){return Element.recursivelyCollect(e,"nextSibling")},siblings:function(e){return e=$(e),Element.previousSiblings(e).reverse().concat(Element.nextSiblings(e))},match:function(e,t){return e=$(e),Object.isString(t)?Prototype.Selector.match(e,t):t.match(e)},up:function(e,t,n){if(e=$(e),1==arguments.length)return $(e.parentNode);var i=Element.ancestors(e);return Object.isNumber(t)?i[t]:Prototype.Selector.find(i,t,n)},down:function(e,t,n){return e=$(e),1==arguments.length?Element.firstDescendant(e):Object.isNumber(t)?Element.descendants(e)[t]:Element.select(e,t)[n||0]},previous:function(e,t,n){
return e=$(e),Object.isNumber(t)&&(n=t,t=!1),Object.isNumber(n)||(n=0),t?Prototype.Selector.find(e.previousSiblings(),t,n):e.recursivelyCollect("previousSibling",n+1)[n]},next:function(e,t,n){if(e=$(e),Object.isNumber(t)&&(n=t,t=!1),Object.isNumber(n)||(n=0),t)return Prototype.Selector.find(e.nextSiblings(),t,n);var i=Object.isNumber(n)?n+1:1;return e.recursivelyCollect("nextSibling",n+1)[n]},select:function(e){e=$(e);var t=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(t,e)},adjacent:function(e){e=$(e);var t=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(t,e.parentNode).without(e)},identify:function(e){e=$(e);var t=Element.readAttribute(e,"id");if(t)return t;do t="anonymous_element_"+Element.idCounter++;while($(t));return Element.writeAttribute(e,"id",t),t},readAttribute:function(e,t){if(e=$(e),Prototype.Browser.IE){var n=Element._attributeTranslations.read;if(n.values[t])return n.values[t](e,t);if(n.names[t]&&(t=n.names[t]),t.include(":"))return e.attributes&&e.attributes[t]?e.attributes[t].value:null}return e.getAttribute(t)},writeAttribute:function(e,t,n){e=$(e);var i={},o=Element._attributeTranslations.write;"object"==typeof t?i=t:i[t]=!!Object.isUndefined(n)||n;for(var r in i)t=o.names[r]||r,n=i[r],o.values[r]&&(t=o.values[r](e,n)),n===!1||null===n?e.removeAttribute(t):n===!0?e.setAttribute(t,t):e.setAttribute(t,n);return e},getHeight:function(e){return Element.getDimensions(e).height},getWidth:function(e){return Element.getDimensions(e).width},classNames:function(e){return new Element.ClassNames(e)},hasClassName:function(e,t){if(e=$(e)){var n=e.className;return n.length>0&&(n==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}},addClassName:function(e,t){if(e=$(e))return Element.hasClassName(e,t)||(e.className+=(e.className?" ":"")+t),e},removeClassName:function(e,t){if(e=$(e))return e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").strip(),e},toggleClassName:function(e,t){if(e=$(e))return Element[Element.hasClassName(e,t)?"removeClassName":"addClassName"](e,t)},cleanWhitespace:function(e){e=$(e);for(var t=e.firstChild;t;){var n=t.nextSibling;3!=t.nodeType||/\S/.test(t.nodeValue)||e.removeChild(t),t=n}return e},empty:function(e){return $(e).innerHTML.blank()},descendantOf:function(e,t){if(e=$(e),t=$(t),e.compareDocumentPosition)return 8===(8&e.compareDocumentPosition(t));if(t.contains)return t.contains(e)&&t!==e;for(;e=e.parentNode;)if(e==t)return!0;return!1},scrollTo:function(e){e=$(e);var t=Element.cumulativeOffset(e);return window.scrollTo(t[0],t[1]),e},getStyle:function(e,t){e=$(e),t="float"==t?"cssFloat":t.camelize();var n=e.style[t];if(!n||"auto"==n){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"opacity"==t?n?parseFloat(n):1:"auto"==n?null:n},getOpacity:function(e){return $(e).getStyle("opacity")},setStyle:function(e,t){e=$(e);var n=e.style,i;if(Object.isString(t))return e.style.cssText+=";"+t,t.include("opacity")?e.setOpacity(t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var o in t)"opacity"==o?e.setOpacity(t[o]):n["float"==o||"cssFloat"==o?Object.isUndefined(n.styleFloat)?"cssFloat":"styleFloat":o]=t[o];return e},setOpacity:function(e,t){return e=$(e),e.style.opacity=1==t||""===t?"":t<1e-5?0:t,e},makePositioned:function(e){e=$(e);var t=Element.getStyle(e,"position");return"static"!=t&&t||(e._madePositioned=!0,e.style.position="relative",Prototype.Browser.Opera&&(e.style.top=0,e.style.left=0)),e},undoPositioned:function(e){return e=$(e),e._madePositioned&&(e._madePositioned=void 0,e.style.position=e.style.top=e.style.left=e.style.bottom=e.style.right=""),e},makeClipping:function(e){return e=$(e),e._overflow?e:(e._overflow=Element.getStyle(e,"overflow")||"auto","hidden"!==e._overflow&&(e.style.overflow="hidden"),e)},undoClipping:function(e){return e=$(e),e._overflow?(e.style.overflow="auto"==e._overflow?"":e._overflow,e._overflow=null,e):e},clonePosition:function(e,t){var n=Object.extend({setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0},arguments[2]||{});t=$(t);var i=Element.viewportOffset(t),o=[0,0],r=null;return e=$(e),"absolute"==Element.getStyle(e,"position")&&(r=Element.getOffsetParent(e),o=Element.viewportOffset(r)),r==document.body&&(o[0]-=document.body.offsetLeft,o[1]-=document.body.offsetTop),n.setLeft&&(e.style.left=i[0]-o[0]+n.offsetLeft+"px"),n.setTop&&(e.style.top=i[1]-o[1]+n.offsetTop+"px"),n.setWidth&&(e.style.width=t.offsetWidth+"px"),n.setHeight&&(e.style.height=t.offsetHeight+"px"),e}},Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants}),Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}},Prototype.Browser.Opera?(Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(e,t,n){switch(n){case"height":case"width":if(!Element.visible(t))return null;var i=parseInt(e(t,n),10);if(i!==t["offset"+n.capitalize()])return i+"px";var o;return o="height"===n?["border-top-width","padding-top","padding-bottom","border-bottom-width"]:["border-left-width","padding-left","padding-right","border-right-width"],o.inject(i,function(n,i){var o=e(t,i);return null===o?n:n-parseInt(o,10)})+"px";default:return e(t,n)}}),Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(e,t,n){return"title"===n?t.title:e(t,n)})):Prototype.Browser.IE?(document&&document.documentMode&&document.documentMode>=10||(Element.Methods.getStyle=function(e,t){e=$(e),t="float"==t||"cssFloat"==t?"styleFloat":t.camelize();var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),"opacity"==t?(n=(e.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))&&n[1]?parseFloat(n[1])/100:1:"auto"==n?"width"!=t&&"height"!=t||"none"==e.getStyle("display")?null:e["offset"+t.capitalize()]+"px":n},Element.Methods.setOpacity=function(e,t){function n(e){return e.replace(/alpha\([^\)]*\)/gi,"")}e=$(e);var i=e.currentStyle;(i&&!i.hasLayout||!i&&"normal"==e.style.zoom)&&(e.style.zoom=1);var o=e.getStyle("filter"),r=e.style;return 1==t||""===t?((o=n(o))?r.filter=o:r.removeAttribute("filter"),e):(t<1e-5&&(t=0),r.filter=n(o)+"alpha(opacity="+100*t+")",e)}),Element._attributeTranslations=function(){var e="className",t="for",n=document.createElement("div");return n.setAttribute(e,"x"),"x"!==n.className&&(n.setAttribute("class","x"),"x"===n.className&&(e="class")),n=null,n=document.createElement("label"),n.setAttribute(t,"x"),"x"!==n.htmlFor&&(n.setAttribute("htmlFor","x"),"x"===n.htmlFor&&(t="htmlFor")),n=null,{read:{names:{class:e,className:e,for:t,htmlFor:t},values:{_getAttr:function(e,t){return e.getAttribute(t)},_getAttr2:function(e,t){return e.getAttribute(t,2)},_getAttrNode:function(e,t){var n=e.getAttributeNode(t);return n?n.value:""},_getEv:function(){var e=document.createElement("div"),t;e.onclick=Prototype.emptyFunction;var n=e.getAttribute("onclick");return String(n).indexOf("{")>-1?t=function(e,t){return(t=e.getAttribute(t))?(t=t.toString(),t=t.split("{")[1],t=t.split("}")[0],t.strip()):null}:""===n&&(t=function(e,t){return t=e.getAttribute(t),t?t.strip():null}),e=null,t}(),_flag:function(e,t){return $(e).hasAttribute(t)?t:null},style:function(e){return e.style.cssText.toLowerCase()},title:function(e){return e.title}}}}}(),Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(e,t){e.checked=!!t},style:function(e,t){e.style.cssText=t?t:""}}},Element._attributeTranslations.has={},$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder").each(function(e){Element._attributeTranslations.write.names[e.toLowerCase()]=e,Element._attributeTranslations.has[e.toLowerCase()]=e}),function(e){Object.extend(e,{href:e._getAttr2,src:e._getAttr2,type:e._getAttr,action:e._getAttrNode,disabled:e._flag,checked:e._flag,readonly:e._flag,multiple:e._flag,onload:e._getEv,onunload:e._getEv,onclick:e._getEv,ondblclick:e._getEv,onmousedown:e._getEv,onmouseup:e._getEv,onmouseover:e._getEv,onmousemove:e._getEv,onmouseout:e._getEv,onfocus:e._getEv,onblur:e._getEv,onkeypress:e._getEv,onkeydown:e._getEv,onkeyup:e._getEv,onsubmit:e._getEv,onreset:e._getEv,onselect:e._getEv,onchange:e._getEv})}(Element._attributeTranslations.read.values),Prototype.BrowserFeatures.ElementExtensions&&!function(){function e(e){for(var t=e.getElementsByTagName("*"),n=[],i=0,o;o=t[i];i++)"!"!==o.tagName&&n.push(o);return n}Element.Methods.down=function(t,n,i){return t=$(t),1==arguments.length?t.firstDescendant():Object.isNumber(n)?e(t)[n]:Element.select(t,n)[i||0]}}()):Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)?Element.Methods.setOpacity=function(e,t){return e=$(e),e.style.opacity=1==t?.999999:""===t?"":t<1e-5?0:t,e}:Prototype.Browser.WebKit&&(Element.Methods.setOpacity=function(e,t){if(e=$(e),e.style.opacity=1==t||""===t?"":t<1e-5?0:t,1==t)if("IMG"==e.tagName.toUpperCase()&&e.width)e.width++,e.width--;else try{var n=document.createTextNode(" ");e.appendChild(n),e.removeChild(n)}catch(e){}return e}),"outerHTML"in document.documentElement&&(Element.Methods.replace=function(e,t){if(e=$(e),t&&t.toElement&&(t=t.toElement()),Object.isElement(t))return e.parentNode.replaceChild(t,e),e;t=Object.toHTML(t);var n=e.parentNode,i=n.tagName.toUpperCase();if(Element._insertionTranslations.tags[i]){var o=e.next(),r=Element._getContentFromAnonymousElement(i,t.stripScripts());n.removeChild(e),o?r.each(function(e){n.insertBefore(e,o)}):r.each(function(e){n.appendChild(e)})}else e.outerHTML=t.stripScripts();return t.evalScripts.bind(t).defer(),e}),Element._returnOffset=function(e,t){var n=[e,t];return n.left=e,n.top=t,n},Element._getContentFromAnonymousElement=function(e,t,n){var i=new Element("div"),o=Element._insertionTranslations.tags[e],r=!1;if(o?r=!0:n&&(r=!0,o=["","",0]),r){i.innerHTML="&nbsp;"+o[0]+t+o[1],i.removeChild(i.firstChild);for(var s=o[2];s--;)i=i.firstChild}else i.innerHTML=t;return $A(i.childNodes)},Element._insertionTranslations={before:function(e,t){e.parentNode.insertBefore(t,e)},top:function(e,t){e.insertBefore(t,e.firstChild)},bottom:function(e,t){e.appendChild(t)},after:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}},function(){var e=Element._insertionTranslations.tags;Object.extend(e,{THEAD:e.TBODY,TFOOT:e.TBODY,TH:e.TD})}(),Element.Methods.Simulated={hasAttribute:function(e,t){t=Element._attributeTranslations.has[t]||t;var n=$(e).getAttributeNode(t);return!(!n||!n.specified)}},Element.Methods.ByTag={},Object.extend(Element,Element.Methods),function(e){!Prototype.BrowserFeatures.ElementExtensions&&e.__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=e.__proto__,Prototype.BrowserFeatures.ElementExtensions=!0),e=null}(document.createElement("div")),Element.extend=function(){function e(e){if("undefined"!=typeof window.Element){var t=window.Element.prototype;if(t){var n="_"+(Math.random()+"").slice(2),i=document.createElement(e);t[n]="x";var o="x"!==i[n];return delete t[n],i=null,o}}return!1}function t(e,t){for(var n in t){var i=t[n];!Object.isFunction(i)||n in e||(e[n]=i.methodize())}}var n=e("object");if(Prototype.BrowserFeatures.SpecificElementExtensions)return n?function(e){if(e&&"undefined"==typeof e._extendedByPrototype){var n=e.tagName;n&&/^(?:object|applet|embed)$/i.test(n)&&(t(e,Element.Methods),t(e,Element.Methods.Simulated),t(e,Element.Methods.ByTag[n.toUpperCase()]))}return e}:Prototype.K;var i={},o=Element.Methods.ByTag,r=Object.extend(function(e){if(!e||"undefined"!=typeof e._extendedByPrototype||1!=e.nodeType||e==window)return e;var n=Object.clone(i),r=e.tagName.toUpperCase();return o[r]&&Object.extend(n,o[r]),t(e,n),e._extendedByPrototype=Prototype.emptyFunction,e},{refresh:function(){Prototype.BrowserFeatures.ElementExtensions||(Object.extend(i,Element.Methods),Object.extend(i,Element.Methods.Simulated))}});return r.refresh(),r}(),document.documentElement.hasAttribute?Element.hasAttribute=function(e,t){return e.hasAttribute(t)}:Element.hasAttribute=Element.Methods.Simulated.hasAttribute,Element.addMethods=function(e){function t(t){t=t.toUpperCase(),Element.Methods.ByTag[t]||(Element.Methods.ByTag[t]={}),Object.extend(Element.Methods.ByTag[t],e)}function n(e,t,n){n=n||!1;for(var i in e){var o=e[i];Object.isFunction(o)&&(n&&i in t||(t[i]=o.methodize()))}}function i(e){var t,n={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(n[e]&&(t="HTML"+n[e]+"Element"),window[t])return window[t];if(t="HTML"+e+"Element",window[t])return window[t];if(t="HTML"+e.capitalize()+"Element",window[t])return window[t];var i=document.createElement(e),o=i.__proto__||i.constructor.prototype;return i=null,o}var o=Prototype.BrowserFeatures,r=Element.Methods.ByTag;if(e||(Object.extend(Form,Form.Methods),Object.extend(Form.Element,Form.Element.Methods),Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods),BUTTON:Object.clone(Form.Element.Methods)})),2==arguments.length){var s=e;e=arguments[1]}s?Object.isArray(s)?s.each(t):t(s):Object.extend(Element.Methods,e||{});var a=window.HTMLElement?HTMLElement.prototype:Element.prototype;if(o.ElementExtensions&&(n(Element.Methods,a),n(Element.Methods.Simulated,a,!0)),o.SpecificElementExtensions)for(var l in Element.Methods.ByTag){var c=i(l);Object.isUndefined(c)||n(r[l],c.prototype)}Object.extend(Element,Element.Methods),delete Element.ByTag,Element.extend.refresh&&Element.extend.refresh(),Element.cache={}},document.viewport={getDimensions:function(){return{width:this.getWidth(),height:this.getHeight()}},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}},function(e){function t(){return i.WebKit&&!o.evaluate?document:i.Opera&&window.parseFloat(window.opera.version())<9.5?document.body:document.documentElement}function n(n){return r||(r=t()),s[n]="client"+n,e["get"+n]=function(){return r[s[n]]},e["get"+n]()}var i=Prototype.Browser,o=document,r,s={};e.getWidth=n.curry("Width"),e.getHeight=n.curry("Height")}(document.viewport),Element.Storage={UID:1},Element.addMethods({getStorage:function(e){if(e=$(e)){var t;return e===window?t=0:("undefined"==typeof e._prototypeUID&&(e._prototypeUID=Element.Storage.UID++),t=e._prototypeUID),Element.Storage[t]||(Element.Storage[t]=$H()),Element.Storage[t]}},store:function(e,t,n){if(e=$(e))return 2===arguments.length?Element.getStorage(e).update(t):Element.getStorage(e).set(t,n),e},retrieve:function(e,t,n){if(e=$(e)){var i=Element.getStorage(e),o=i.get(t);return Object.isUndefined(o)&&(i.set(t,n),o=n),o}},clone:function(e,t){if(e=$(e)){var n=e.cloneNode(t);if(n._prototypeUID=void 0,t)for(var i=Element.select(n,"*"),o=i.length;o--;)i[o]._prototypeUID=void 0;return Element.extend(n)}},purge:function(e){if(e=$(e)){var t=Element._purgeElement;t(e);for(var n=e.getElementsByTagName("*"),i=n.length;i--;)t(n[i]);return null}}}),function(){function e(e){var t=e.match(/^(\d+)%?$/i);return t?Number(t[1])/100:null}function t(t,n,i){var o=null;if(Object.isElement(t)&&(o=t,t=o.getStyle(n)),null===t)return null;if(/^(?:-)?\d+(\.\d+)?(px)?$/i.test(t))return window.parseFloat(t);var r=t.include("%"),s=i===document.viewport;if(/\d/.test(t)&&o&&o.runtimeStyle&&(!r||!s)){var a=o.style.left,l=o.runtimeStyle.left;return o.runtimeStyle.left=o.currentStyle.left,o.style.left=t||0,t=o.style.pixelLeft,o.style.left=a,o.runtimeStyle.left=l,t}if(o&&r){i=i||o.parentNode;var c=e(t),u=null,d=o.getStyle("position"),h=n.include("left")||n.include("right")||n.include("width"),p=n.include("top")||n.include("bottom")||n.include("height");return i===document.viewport?h?u=document.viewport.getWidth():p&&(u=document.viewport.getHeight()):h?u=$(i).measure("width"):p&&(u=$(i).measure("height")),null===u?0:u*c}return 0}function n(e){return Object.isString(e)&&e.endsWith("px")?e:e+"px"}function i(e){for(var t=e;e&&e.parentNode;){var n=e.getStyle("display");if("none"===n)return!1;e=$(e.parentNode)}return!0}function o(e){return e.include("border")&&(e+="-width"),e.camelize()}function r(e,t){return new Element.Layout(e,t)}function s(e,t){return $(e).getLayout().get(t)}function a(e){e=$(e);var t=Element.getStyle(e,"display");if(t&&"none"!==t)return{width:e.offsetWidth,height:e.offsetHeight};var n=e.style,i={visibility:n.visibility,position:n.position,display:n.display},o={visibility:"hidden",display:"block"};"fixed"!==i.position&&(o.position="absolute"),Element.setStyle(e,o);var r={width:e.offsetWidth,height:e.offsetHeight};return Element.setStyle(e,i),r}function l(e){if(e=$(e),v(e)||b(e)||m(e)||g(e))return $(document.body);var t="inline"===Element.getStyle(e,"display");if(!t&&e.offsetParent)return $(e.offsetParent);for(;(e=e.parentNode)&&e!==document.body;)if("static"!==Element.getStyle(e,"position"))return $(g(e)?document.body:e);return $(document.body)}function c(e){e=$(e);var t=0,n=0;if(e.parentNode)do t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;while(e);return new Element.Offset(n,t)}function u(e){e=$(e);var t=e.getLayout(),n=0,i=0;do if(n+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent){if(m(e))break;var o=Element.getStyle(e,"position");if("static"!==o)break}while(e);return i-=t.get("margin-top"),n-=t.get("margin-left"),new Element.Offset(i,n)}function d(e){var t=0,n=0;do t+=e.scrollTop||0,n+=e.scrollLeft||0,e=e.parentNode;while(e);return new Element.Offset(n,t)}function h(e){o=$(o);var t=0,n=0,i=document.body,o=e;do if(t+=o.offsetTop||0,n+=o.offsetLeft||0,o.offsetParent==i&&"absolute"==Element.getStyle(o,"position"))break;while(o=o.offsetParent);o=e;do o!=i&&(t-=o.scrollTop||0,n-=o.scrollLeft||0);while(o=o.parentNode);return new Element.Offset(n,t)}function p(e){if(e=$(e),"absolute"===Element.getStyle(e,"position"))return e;var t=l(e),n=e.viewportOffset(),i=t.viewportOffset(),o=n.relativeTo(i),r=e.getLayout();return e.store("prototype_absolutize_original_styles",{left:e.getStyle("left"),top:e.getStyle("top"),width:e.getStyle("width"),height:e.getStyle("height")}),e.setStyle({position:"absolute",top:o.top+"px",left:o.left+"px",width:r.get("width")+"px",height:r.get("height")+"px"}),e}function f(e){if(e=$(e),"relative"===Element.getStyle(e,"position"))return e;var t=e.retrieve("prototype_absolutize_original_styles");return t&&e.setStyle(t),e}function m(e){return"BODY"===e.nodeName.toUpperCase()}function g(e){return"HTML"===e.nodeName.toUpperCase()}function v(e){return e.nodeType===Node.DOCUMENT_NODE}function b(e){return e!==document.body&&!Element.descendantOf(e,document.body)}var w=Prototype.K;"currentStyle"in document.documentElement&&(w=function(e){return e.currentStyle.hasLayout||(e.style.zoom=1),e}),Element.Layout=Class.create(Hash,{initialize:function($super,e,t){$super(),this.element=$(e),Element.Layout.PROPERTIES.each(function(e){this._set(e,null)},this),t&&(this._preComputing=!0,this._begin(),Element.Layout.PROPERTIES.each(this._compute,this),this._end(),this._preComputing=!1)},_set:function(e,t){return Hash.prototype.set.call(this,e,t)},set:function(e,t){throw"Properties of Element.Layout are read-only."},get:function($super,e){var t=$super(e);return null===t?this._compute(e):t},_begin:function(){if(!this._prepared){var e=this.element;if(i(e))return void(this._prepared=!0);var n={position:e.style.position||"",width:e.style.width||"",visibility:e.style.visibility||"",display:e.style.display||""};e.store("prototype_original_styles",n);var o=e.getStyle("position"),r=e.getStyle("width");"0px"!==r&&null!==r||(e.style.display="block",r=e.getStyle("width"));var s="fixed"===o?document.viewport:e.parentNode;e.setStyle({position:"absolute",visibility:"hidden",display:"block"});var a=e.getStyle("width"),l;if(r&&a===r)l=t(e,"width",s);else if("absolute"===o||"fixed"===o)l=t(e,"width",s);else{var c=e.parentNode,u=$(c).getLayout();l=u.get("width")-this.get("margin-left")-this.get("border-left")-this.get("padding-left")-this.get("padding-right")-this.get("border-right")-this.get("margin-right")}e.setStyle({width:l+"px"}),this._prepared=!0}},_end:function(){var e=this.element,t=e.retrieve("prototype_original_styles");e.store("prototype_original_styles",null),e.setStyle(t),this._prepared=!1},_compute:function(e){var t=Element.Layout.COMPUTATIONS;if(!(e in t))throw"Property not found.";return this._set(e,t[e].call(this,this.element))},toObject:function(){var e=$A(arguments),t=0===e.length?Element.Layout.PROPERTIES:e.join(" ").split(" "),n={};return t.each(function(e){if(Element.Layout.PROPERTIES.include(e)){var t=this.get(e);null!=t&&(n[e]=t)}},this),n},toHash:function(){var e=this.toObject.apply(this,arguments);return new Hash(e)},toCSS:function(){var e=$A(arguments),t=0===e.length?Element.Layout.PROPERTIES:e.join(" ").split(" "),n={};return t.each(function(e){if(Element.Layout.PROPERTIES.include(e)&&!Element.Layout.COMPOSITE_PROPERTIES.include(e)){var t=this.get(e);null!=t&&(n[o(e)]=t+"px")}},this),n},inspect:function(){return"#<Element.Layout>"}}),Object.extend(Element.Layout,{PROPERTIES:$w("height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height"),COMPOSITE_PROPERTIES:$w("padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"),COMPUTATIONS:{height:function(e){this._preComputing||this._begin();var t=this.get("border-box-height");if(t<=0)return this._preComputing||this._end(),0;var n=this.get("border-top"),i=this.get("border-bottom"),o=this.get("padding-top"),r=this.get("padding-bottom");return this._preComputing||this._end(),t-n-i-o-r},width:function(e){this._preComputing||this._begin();var t=this.get("border-box-width");if(t<=0)return this._preComputing||this._end(),0;var n=this.get("border-left"),i=this.get("border-right"),o=this.get("padding-left"),r=this.get("padding-right");return this._preComputing||this._end(),t-n-i-o-r},"padding-box-height":function(e){var t=this.get("height"),n=this.get("padding-top"),i=this.get("padding-bottom");return t+n+i},"padding-box-width":function(e){var t=this.get("width"),n=this.get("padding-left"),i=this.get("padding-right");return t+n+i},"border-box-height":function(e){this._preComputing||this._begin();var t=e.offsetHeight;return this._preComputing||this._end(),t},"border-box-width":function(e){this._preComputing||this._begin();var t=e.offsetWidth;return this._preComputing||this._end(),t},"margin-box-height":function(e){var t=this.get("border-box-height"),n=this.get("margin-top"),i=this.get("margin-bottom");return t<=0?0:t+n+i},"margin-box-width":function(e){var t=this.get("border-box-width"),n=this.get("margin-left"),i=this.get("margin-right");return t<=0?0:t+n+i},top:function(e){var t=e.positionedOffset();return t.top},bottom:function(e){var t=e.positionedOffset(),n=e.getOffsetParent(),i=n.measure("height"),o=this.get("border-box-height");return i-o-t.top},left:function(e){var t=e.positionedOffset();return t.left},right:function(e){var t=e.positionedOffset(),n=e.getOffsetParent(),i=n.measure("width"),o=this.get("border-box-width");return i-o-t.left},"padding-top":function(e){return t(e,"paddingTop")},"padding-bottom":function(e){return t(e,"paddingBottom")},"padding-left":function(e){return t(e,"paddingLeft")},"padding-right":function(e){return t(e,"paddingRight")},"border-top":function(e){return t(e,"borderTopWidth")},"border-bottom":function(e){return t(e,"borderBottomWidth")},"border-left":function(e){return t(e,"borderLeftWidth")},"border-right":function(e){return t(e,"borderRightWidth")},"margin-top":function(e){return t(e,"marginTop")},"margin-bottom":function(e){return t(e,"marginBottom")},"margin-left":function(e){return t(e,"marginLeft")},"margin-right":function(e){return t(e,"marginRight")}}}),"getBoundingClientRect"in document.documentElement&&Object.extend(Element.Layout.COMPUTATIONS,{right:function(e){var t=w(e.getOffsetParent()),n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return(i.right-n.right).round()},bottom:function(e){var t=w(e.getOffsetParent()),n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return(i.bottom-n.bottom).round()}}),Element.Offset=Class.create({initialize:function(e,t){this.left=e.round(),this.top=t.round(),this[0]=this.left,this[1]=this.top},relativeTo:function(e){return new Element.Offset(this.left-e.left,this.top-e.top)},inspect:function(){return"#<Element.Offset left: #{left} top: #{top}>".interpolate(this)},toString:function(){return"[#{left}, #{top}]".interpolate(this)},toArray:function(){return[this.left,this.top]}}),Prototype.Browser.IE?(l=l.wrap(function(e,t){if(t=$(t),v(t)||b(t)||m(t)||g(t))return $(document.body);var n=t.getStyle("position");if("static"!==n)return e(t);t.setStyle({position:"relative"});var i=e(t);return t.setStyle({position:n}),i}),u=u.wrap(function(e,t){if(t=$(t),!t.parentNode)return new Element.Offset(0,0);var n=t.getStyle("position");if("static"!==n)return e(t);var i=t.getOffsetParent();i&&"fixed"===i.getStyle("position")&&w(i),t.setStyle({position:"relative"});var o=e(t);return t.setStyle({position:n}),o})):Prototype.Browser.Webkit&&(c=function(e){e=$(e);var t=0,n=0;do{if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e.offsetParent==document.body&&"absolute"==Element.getStyle(e,"position"))break;e=e.offsetParent}while(e);return new Element.Offset(n,t)}),Element.addMethods({getLayout:r,measure:s,getDimensions:a,getOffsetParent:l,cumulativeOffset:c,positionedOffset:u,cumulativeScrollOffset:d,viewportOffset:h,absolutize:p,relativize:f}),"getBoundingClientRect"in document.documentElement&&Element.addMethods({viewportOffset:function(e){if(e=$(e),b(e))return new Element.Offset(0,0);var t=e.getBoundingClientRect(),n=document.documentElement;return new Element.Offset(t.left-n.clientLeft,t.top-n.clientTop)}})}(),window.$$=function(){var e=$A(arguments).join(", ");return Prototype.Selector.select(e,document)},Prototype.Selector=function(){function e(){throw new Error('Method "Prototype.Selector.select" must be defined.')}function t(){throw new Error('Method "Prototype.Selector.match" must be defined.')}function n(e,t,n){n=n||0;var i=Prototype.Selector.match,o=e.length,r=0,s;for(s=0;s<o;s++)if(i(e[s],t)&&n==r++)return Element.extend(e[s])}function i(e){for(var t=0,n=e.length;t<n;t++)Element.extend(e[t]);return e}var o=Prototype.K;return{select:e,match:t,find:n,extendElements:Element.extend===o?o:i,extendElement:Element.extend}}(),Prototype._original_property=window.Sizzle,function(){function e(e,t,n,i,o,r){for(var s="previousSibling"==e&&!r,a=0,l=i.length;a<l;a++){var c=i[a];if(c){s&&1===c.nodeType&&(c.sizcache=n,c.sizset=a),c=c[e];for(var u=!1;c;){if(c.sizcache===n){u=i[c.sizset];break}if(1!==c.nodeType||r||(c.sizcache=n,c.sizset=a),c.nodeName===t){u=c;break}c=c[e]}i[a]=u}}}function t(e,t,n,i,o,r){for(var s="previousSibling"==e&&!r,l=0,c=i.length;l<c;l++){var u=i[l];if(u){s&&1===u.nodeType&&(u.sizcache=n,u.sizset=l),u=u[e];for(var d=!1;u;){if(u.sizcache===n){d=i[u.sizset];break}if(1===u.nodeType)if(r||(u.sizcache=n,u.sizset=l),"string"!=typeof t){if(u===t){d=!0;break}}else if(a.filter(t,[u]).length>0){d=u;break}u=u[e]}i[l]=d}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=0,o=Object.prototype.toString,r=!1,s=!0;[0,0].sort(function(){return s=!1,0});var a=function(e,t,i,r){i=i||[];var s=t=t||document;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;for(var u=[],h,g,v,b,w,y,_=!0,E=f(t),T=e;null!==(n.exec(""),h=n.exec(T));)if(T=h[3],u.push(h[1]),h[2]){y=h[3];break}if(u.length>1&&c.exec(e))if(2===u.length&&l.relative[u[0]])g=m(u[0]+u[1],t);else for(g=l.relative[u[0]]?[t]:a(u.shift(),t);u.length;)e=u.shift(),l.relative[e]&&(e+=u.shift()),g=m(e,g);else{if(!r&&u.length>1&&9===t.nodeType&&!E&&l.match.ID.test(u[0])&&!l.match.ID.test(u[u.length-1])){var C=a.find(u.shift(),t,E);t=C.expr?a.filter(C.expr,C.set)[0]:C.set[0]}if(t){var C=r?{expr:u.pop(),set:d(r)}:a.find(u.pop(),1!==u.length||"~"!==u[0]&&"+"!==u[0]||!t.parentNode?t:t.parentNode,E);for(g=C.expr?a.filter(C.expr,C.set):C.set,u.length>0?v=d(g):_=!1;u.length;){var S=u.pop(),I=S;l.relative[S]?I=u.pop():S="",null==I&&(I=t),l.relative[S](v,I,E)}}else v=u=[]}if(v||(v=g),!v)throw"Syntax error, unrecognized expression: "+(S||e);if("[object Array]"===o.call(v))if(_)if(t&&1===t.nodeType)for(var O=0;null!=v[O];O++)v[O]&&(v[O]===!0||1===v[O].nodeType&&p(t,v[O]))&&i.push(g[O]);else for(var O=0;null!=v[O];O++)v[O]&&1===v[O].nodeType&&i.push(g[O]);else i.push.apply(i,v);else d(v,i);return y&&(a(y,s,i,r),a.uniqueSort(i)),i};a.uniqueSort=function(e){if(h&&(r=s,e.sort(h),r))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},a.matches=function(e,t){return a(e,null,null,t)},a.find=function(e,t,n){var i,o;if(!e)return[];for(var r=0,s=l.order.length;r<s;r++){var a=l.order[r],o;if(o=l.leftMatch[a].exec(e)){var c=o[1];if(o.splice(1,1),"\\"!==c.substr(c.length-1)&&(o[1]=(o[1]||"").replace(/\\/g,""),i=l.find[a](o,t,n),null!=i)){e=e.replace(l.match[a],"");break}}}return i||(i=t.getElementsByTagName("*")),{set:i,expr:e}},a.filter=function(e,t,n,i){for(var o=e,r=[],s=t,a,c,u=t&&t[0]&&f(t[0]);e&&t.length;){for(var d in l.filter)if(null!=(a=l.match[d].exec(e))){var h=l.filter[d],p,m;if(c=!1,s==r&&(r=[]),l.preFilter[d])if(a=l.preFilter[d](a,s,n,r,i,u)){if(a===!0)continue}else c=p=!0;if(a)for(var g=0;null!=(m=s[g]);g++)if(m){p=h(m,a,g,s);var v=i^!!p;n&&null!=p?v?c=!0:s[g]=!1:v&&(r.push(m),c=!0)}if(void 0!==p){if(n||(s=r),e=e.replace(l.match[d],""),!c)return[];break}}if(e==o){if(null==c)throw"Syntax error, unrecognized expression: "+e;break}o=e}return s};var l=a.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,n){var i="string"==typeof t,o=i&&!/\W/.test(t),r=i&&!o;o&&!n&&(t=t.toUpperCase());for(var s=0,l=e.length,c;s<l;s++)if(c=e[s]){for(;(c=c.previousSibling)&&1!==c.nodeType;);e[s]=r||c&&c.nodeName===t?c||!1:c===t}r&&a.filter(t,e,!0)},">":function(e,t,n){var i="string"==typeof t;if(i&&!/\W/.test(t)){t=n?t:t.toUpperCase();for(var o=0,r=e.length;o<r;o++){var s=e[o];if(s){var l=s.parentNode;e[o]=l.nodeName===t&&l}}}else{for(var o=0,r=e.length;o<r;o++){var s=e[o];s&&(e[o]=i?s.parentNode:s.parentNode===t)}i&&a.filter(t,e,!0)}},"":function(n,o,r){var s=i++,a=t;if(!/\W/.test(o)){var l=o=r?o:o.toUpperCase();a=e}a("parentNode",o,s,n,l,r)},"~":function(n,o,r){var s=i++,a=t;if("string"==typeof o&&!/\W/.test(o)){
var l=o=r?o:o.toUpperCase();a=e}a("previousSibling",o,s,n,l,r)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?[i]:[]}},NAME:function(e,t,n){if("undefined"!=typeof t.getElementsByName){for(var i=[],o=t.getElementsByName(e[1]),r=0,s=o.length;r<s;r++)o[r].getAttribute("name")===e[1]&&i.push(o[r]);return 0===i.length?null:i}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,o,r){if(e=" "+e[1].replace(/\\/g,"")+" ",r)return e;for(var s=0,a;null!=(a=t[s]);s++)a&&(o^(a.className&&(" "+a.className+" ").indexOf(e)>=0)?n||i.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e,t){for(var n=0;t[n]===!1;n++);return t[n]&&f(t[n])?e[1]:e[1].toUpperCase()},CHILD:function(e){if("nth"==e[1]){var t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==e[2]&&"2n"||"odd"==e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=i++,e},ATTR:function(e,t,n,i,o,r){var s=e[1].replace(/\\/g,"");return!r&&l.attrMap[s]&&(e[1]=l.attrMap[s]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,o,r){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var s=a.filter(e[3],t,i,!0^r);return i||o.push.apply(o,s),!1}e[3]=a(e[3],null,null,t)}else if(l.match.POS.test(e[0])||l.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!a(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0==t},eq:function(e,t,n){return n[3]-0==t}},filter:{PSEUDO:function(e,t,n,i){var o=t[1],r=l.filters[o];if(r)return r(e,n,t,i);if("contains"===o)return(e.textContent||e.innerText||"").indexOf(t[3])>=0;if("not"===o){for(var s=t[3],n=0,a=s.length;n<a;n++)if(s[n]===e)return!1;return!0}},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"==n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":var o=t[2],r=t[3];if(1==o&&0==r)return!0;var s=t[0],a=e.parentNode;if(a&&(a.sizcache!==s||!e.nodeIndex)){var l=0;for(i=a.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++l);a.sizcache=s}var c=e.nodeIndex-r;return 0==o?0==c:c%o==0&&c/o>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=l.attrHandle[n]?l.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=i+"",r=t[2],s=t[4];return null==i?"!="===r:"="===r?o===s:"*="===r?o.indexOf(s)>=0:"~="===r?(" "+o+" ").indexOf(s)>=0:s?"!="===r?o!=s:"^="===r?0===o.indexOf(s):"$="===r?o.substr(o.length-s.length)===s:"|="===r&&(o===s||o.substr(0,s.length+1)===s+"-"):o&&i!==!1},POS:function(e,t,n,i){var o=t[2],r=l.setFilters[o];if(r)return r(e,n,t,i)}}},c=l.match.POS;for(var u in l.match)l.match[u]=new RegExp(l.match[u].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[u]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[u].source);var d=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){d=function(e,t){var n=t||[];if("[object Array]"===o.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var i=0,r=e.length;i<r;i++)n.push(e[i]);else for(var i=0;e[i];i++)n.push(e[i]);return n}}var h;document.documentElement.compareDocumentPosition?h=function(e,t){if(!e.compareDocumentPosition||!t.compareDocumentPosition)return e==t&&(r=!0),0;var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===n&&(r=!0),n}:"sourceIndex"in document.documentElement?h=function(e,t){if(!e.sourceIndex||!t.sourceIndex)return e==t&&(r=!0),0;var n=e.sourceIndex-t.sourceIndex;return 0===n&&(r=!0),n}:document.createRange&&(h=function(e,t){if(!e.ownerDocument||!t.ownerDocument)return e==t&&(r=!0),0;var n=e.ownerDocument.createRange(),i=t.ownerDocument.createRange();n.setStart(e,0),n.setEnd(e,0),i.setStart(t,0),i.setEnd(t,0);var o=n.compareBoundaryPoints(Range.START_TO_END,i);return 0===o&&(r=!0),o}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime();e.innerHTML="<a name='"+t+"'/>";var n=document.documentElement;n.insertBefore(e,n.firstChild),document.getElementById(t)&&(l.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:void 0:[]}},l.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(l.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],o=0;n[o];o++)1===n[o].nodeType&&i.push(n[o]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(l.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&function(){var e=a,t=document.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){a=function(t,n,i,o){if(n=n||document,!o&&9===n.nodeType&&!f(n))try{return d(n.querySelectorAll(t),i)}catch(e){}return e(t,n,i,o)};for(var n in e)a[n]=e[n];t=null}}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(l.order.splice(1,0,"CLASS"),l.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null))}();var p=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(!e.contains||e.contains(t))},f=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&"HTML"!==e.ownerDocument.documentElement.nodeName},m=function(e,t){for(var n=[],i="",o,r=t.nodeType?[t]:t;o=l.match.PSEUDO.exec(e);)i+=o[0],e=e.replace(l.match.PSEUDO,"");e=l.relative[e]?e+"*":e;for(var s=0,c=r.length;s<c;s++)a(e,r[s],n);return a.filter(i,n)};window.Sizzle=a}(),function(e){function t(t,n){return i(e(t,n||document))}function n(t,n){return 1==e.matches(n,[t]).length}var i=Prototype.Selector.extendElements;Prototype.Selector.engine=e,Prototype.Selector.select=t,Prototype.Selector.match=n}(Sizzle),window.Sizzle=Prototype._original_property,delete Prototype._original_property;var Form={reset:function(e){return e=$(e),e.reset(),e},serializeElements:function(e,t){"object"!=typeof t?t={hash:!!t}:Object.isUndefined(t.hash)&&(t.hash=!0);var n,i,o=!1,r=t.submit,s,a;return t.hash?(a={},s=function(e,t,n){return t in e?(Object.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n)):e[t]=n,e}):(a="",s=function(e,t,n){return e+(e?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(n)}),e.inject(a,function(e,t){return!t.disabled&&t.name&&(n=t.name,i=$(t).getValue(),null==i||"file"==t.type||"submit"==t.type&&(o||r===!1||r&&n!=r||!(o=!0))||(e=s(e,n,i))),e})}};Form.Methods={serialize:function(e,t){return Form.serializeElements(Form.getElements(e),t)},getElements:function(e){for(var t=$(e).getElementsByTagName("*"),n,i=[],o=Form.Element.Serializers,r=0;n=t[r];r++)i.push(n);return i.inject([],function(e,t){return o[t.tagName.toLowerCase()]&&e.push(Element.extend(t)),e})},getInputs:function(e,t,n){e=$(e);var i=e.getElementsByTagName("input");if(!t&&!n)return $A(i).map(Element.extend);for(var o=0,r=[],s=i.length;o<s;o++){var a=i[o];t&&a.type!=t||n&&a.name!=n||r.push(Element.extend(a))}return r},disable:function(e){return e=$(e),Form.getElements(e).invoke("disable"),e},enable:function(e){return e=$(e),Form.getElements(e).invoke("enable"),e},findFirstElement:function(e){var t=$(e).getElements().findAll(function(e){return"hidden"!=e.type&&!e.disabled}),n=t.findAll(function(e){return e.hasAttribute("tabIndex")&&e.tabIndex>=0}).sortBy(function(e){return e.tabIndex}).first();return n?n:t.find(function(e){return/^(?:input|select|textarea)$/i.test(e.tagName)})},focusFirstElement:function(e){e=$(e);var t=e.findFirstElement();return t&&t.activate(),e},request:function(e,t){e=$(e),t=Object.clone(t||{});var n=t.parameters,i=e.readAttribute("action")||"";return i.blank()&&(i=window.location.href),t.parameters=e.serialize(!0),n&&(Object.isString(n)&&(n=n.toQueryParams()),Object.extend(t.parameters,n)),e.hasAttribute("method")&&!t.method&&(t.method=e.method),new Ajax.Request(i,t)}},Form.Element={focus:function(e){return $(e).focus(),e},select:function(e){return $(e).select(),e}},Form.Element.Methods={serialize:function(e){if(e=$(e),!e.disabled&&e.name){var t=e.getValue();if(void 0!=t){var n={};return n[e.name]=t,Object.toQueryString(n)}}return""},getValue:function(e){e=$(e);var t=e.tagName.toLowerCase();return Form.Element.Serializers[t](e)},setValue:function(e,t){e=$(e);var n=e.tagName.toLowerCase();return Form.Element.Serializers[n](e,t),e},clear:function(e){return $(e).value="",e},present:function(e){return""!=$(e).value},activate:function(e){e=$(e);try{e.focus(),!e.select||"input"==e.tagName.toLowerCase()&&/^(?:button|reset|submit)$/i.test(e.type)||e.select()}catch(e){}return e},disable:function(e){return e=$(e),e.disabled=!0,e},enable:function(e){return e=$(e),e.disabled=!1,e}};var Field=Form.Element,$F=Form.Element.Methods.getValue;Form.Element.Serializers=function(){function e(e,i){switch(e.type.toLowerCase()){case"checkbox":case"radio":return t(e,i);default:return n(e,i)}}function t(e,t){return Object.isUndefined(t)?e.checked?e.value:null:void(e.checked=!!t)}function n(e,t){return Object.isUndefined(t)?e.value:void(e.value=t)}function i(e,t){if(Object.isUndefined(t))return("select-one"===e.type?o:r)(e);for(var n,i,s=!Object.isArray(t),a=0,l=e.length;a<l;a++)if(n=e.options[a],i=this.optionValue(n),s){if(i==t)return void(n.selected=!0)}else n.selected=t.include(i)}function o(e){var t=e.selectedIndex;return t>=0?s(e.options[t]):null}function r(e){var t,n=e.length;if(!n)return null;for(var i=0,t=[];i<n;i++){var o=e.options[i];o.selected&&t.push(s(o))}return t}function s(e){return Element.hasAttribute(e,"value")?e.value:e.text}return{input:e,inputSelector:t,textarea:n,select:i,selectOne:o,selectMany:r,optionValue:s,button:n}}(),Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,e,t,n){$super(n,t),this.element=$(e),this.lastValue=this.getValue()},execute:function(){var e=this.getValue();(Object.isString(this.lastValue)&&Object.isString(e)?this.lastValue!=e:String(this.lastValue)!=String(e))&&(this.callback(this.element,e),this.lastValue=e)}}),Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}}),Abstract.EventObserver=Class.create({initialize:function(e,t){this.element=$(e),this.callback=t,this.lastValue=this.getValue(),"form"==this.element.tagName.toLowerCase()?this.registerFormCallbacks():this.registerCallback(this.element)},onElementEvent:function(){var e=this.getValue();this.lastValue!=e&&(this.callback(this.element,e),this.lastValue=e)},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(e){if(e.type)switch(e.type.toLowerCase()){case"checkbox":case"radio":Event.observe(e,"click",this.onElementEvent.bind(this));break;default:Event.observe(e,"change",this.onElementEvent.bind(this))}}}),Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}}),function(){function e(e,t){return e.which?e.which===t+1:e.button===t}function t(e,t){return e.button===C[t]}function n(e,t){switch(t){case 0:return 1==e.which&&!e.metaKey;case 1:return 2==e.which||1==e.which&&e.metaKey;case 2:return 3==e.which;default:return!1}}function i(e){return T(e,0)}function o(e){return T(e,1)}function r(e){return T(e,2)}function s(e){e=w.extend(e);var t=e.target,n=e.type,i=e.currentTarget;return i&&i.tagName&&("load"===n||"error"===n||"click"===n&&"input"===i.tagName.toLowerCase()&&"radio"===i.type)&&(t=i),t.nodeType==Node.TEXT_NODE&&(t=t.parentNode),Element.extend(t)}function a(e,t){var n=w.element(e);if(!t)return n;for(;n;){if(Object.isElement(n)&&Prototype.Selector.match(n,t))return Element.extend(n);n=n.parentNode}}function l(e){return{x:c(e),y:u(e)}}function c(e){var t=document.documentElement,n=document.body||{scrollLeft:0};return e.pageX||e.clientX+(t.scrollLeft||n.scrollLeft)-(t.clientLeft||0)}function u(e){var t=document.documentElement,n=document.body||{scrollTop:0};return e.pageY||e.clientY+(t.scrollTop||n.scrollTop)-(t.clientTop||0)}function d(e){w.extend(e),e.preventDefault(),e.stopPropagation(),e.stopped=!0}function h(e){var t;switch(e.type){case"mouseover":case"mouseenter":t=e.fromElement;break;case"mouseout":case"mouseleave":t=e.toElement;break;default:return null}return Element.extend(t)}function p(e,t,n){var i=Element.retrieve(e,"prototype_event_registry");Object.isUndefined(i)&&(O.push(e),i=Element.retrieve(e,"prototype_event_registry",$H()));var o=i.get(t);if(Object.isUndefined(o)&&(o=[],i.set(t,o)),o.pluck("handler").include(n))return!1;var r;return t.include(":")?r=function(i){return!Object.isUndefined(i.eventName)&&(i.eventName===t&&(w.extend(i,e),void n.call(e,i)))}:_||"mouseenter"!==t&&"mouseleave"!==t?r=function(t){w.extend(t,e),n.call(e,t)}:"mouseenter"!==t&&"mouseleave"!==t||(r=function(t){w.extend(t,e);for(var i=t.relatedTarget;i&&i!==e;)try{i=i.parentNode}catch(t){i=e}i!==e&&n.call(e,t)}),r.handler=n,o.push(r),r}function f(){for(var e=0,t=O.length;e<t;e++)w.stopObserving(O[e]),O[e]=null}function m(e,t,n){e=$(e);var i=p(e,t,n);if(!i)return e;if(t.include(":"))e.addEventListener?e.addEventListener("dataavailable",i,!1):(e.attachEvent("ondataavailable",i),e.attachEvent("onlosecapture",i));else{var o=D(t);e.addEventListener?e.addEventListener(o,i,!1):e.attachEvent("on"+o,i)}return e}function g(e,t,n){e=$(e);var i=Element.retrieve(e,"prototype_event_registry");if(!i)return e;if(!t)return i.each(function(t){var n=t.key;g(e,n)}),e;var o=i.get(t);if(!o)return e;if(!n)return o.each(function(n){g(e,t,n.handler)}),e;for(var r=o.length,s;r--;)if(o[r].handler===n){s=o[r];break}if(!s)return e;if(t.include(":"))e.removeEventListener?e.removeEventListener("dataavailable",s,!1):(e.detachEvent("ondataavailable",s),e.detachEvent("onlosecapture",s));else{var a=D(t);e.removeEventListener?e.removeEventListener(a,s,!1):e.detachEvent("on"+a,s)}return i.set(t,o.without(s)),e}function v(e,t,n,i){e=$(e),Object.isUndefined(i)&&(i=!0),e==document&&document.createEvent&&!e.dispatchEvent&&(e=document.documentElement);var o;return document.createEvent?(o=document.createEvent("HTMLEvents"),o.initEvent("dataavailable",i,!0)):(o=document.createEventObject(),o.eventType=i?"ondataavailable":"onlosecapture"),o.eventName=t,o.memo=n||{},document.createEvent?e.dispatchEvent(o):e.fireEvent(o.eventType,o),w.extend(o)}function b(e,t,n,i){return e=$(e),Object.isFunction(n)&&Object.isUndefined(i)&&(i=n,n=null),new w.Handler(e,t,n,i).start()}var w={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{}},y=document.documentElement,_="onmouseenter"in y&&"onmouseleave"in y,E=function(e){return!1};window.attachEvent&&(E=window.addEventListener?function(e){return!(e instanceof window.Event)}:function(e){return!0});var T,C={0:1,1:4,2:2};T=window.attachEvent?window.addEventListener?function(n,i){return E(n)?t(n,i):e(n,i)}:t:Prototype.Browser.WebKit?n:e,w.Methods={isLeftClick:i,isMiddleClick:o,isRightClick:r,element:s,findElement:a,pointer:l,pointerX:c,pointerY:u,stop:d};var S=Object.keys(w.Methods).inject({},function(e,t){return e[t]=w.Methods[t].methodize(),e});if(window.attachEvent){var I={stopPropagation:function(){this.cancelBubble=!0},preventDefault:function(){this.returnValue=!1},inspect:function(){return"[object Event]"}};w.extend=function(e,t){if(!e)return!1;if(!E(e))return e;if(e._extendedByPrototype)return e;e._extendedByPrototype=Prototype.emptyFunction;var n=w.pointer(e);return Object.extend(e,{target:e.srcElement||t,relatedTarget:h(e),pageX:n.x,pageY:n.y}),Object.extend(e,S),Object.extend(e,I),e}}else w.extend=Prototype.K;window.addEventListener&&(w.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__,Object.extend(w.prototype,S));var O=[];Prototype.Browser.IE&&window.attachEvent("onunload",f),Prototype.Browser.WebKit&&window.addEventListener("unload",Prototype.emptyFunction,!1);var D=Prototype.K,x={mouseenter:"mouseover",mouseleave:"mouseout"};_||(D=function(e){return x[e]||e}),w.Handler=Class.create({initialize:function(e,t,n,i){this.element=$(e),this.eventName=t,this.selector=n,this.callback=i,this.handler=this.handleEvent.bind(this)},start:function(){return w.observe(this.element,this.eventName,this.handler),this},stop:function(){return w.stopObserving(this.element,this.eventName,this.handler),this},handleEvent:function(e){var t=w.findElement(e,this.selector);t&&this.callback.call(this.element,e,t)}}),Object.extend(w,w.Methods),Object.extend(w,{fire:v,observe:m,stopObserving:g,on:b}),Element.addMethods({fire:v,observe:m,stopObserving:g,on:b}),Object.extend(document,{fire:v.methodize(),observe:m.methodize(),stopObserving:g.methodize(),on:b.methodize(),loaded:!1}),window.Event?Object.extend(window.Event,w):window.Event=w}(),function(){function e(){document.loaded||(i&&window.clearTimeout(i),document.loaded=!0,document.fire("dom:loaded"))}function t(){"complete"===document.readyState&&(document.stopObserving("readystatechange",t),e())}function n(){try{document.documentElement.doScroll("left")}catch(e){return void(i=n.defer())}e()}var i;document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):(document.observe("readystatechange",t),window==top&&(i=n.defer())),Event.observe(window,"load",e)}(),Element.addMethods(),Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(e,t){return Element.insert(e,{before:t})},Top:function(e,t){return Element.insert(e,{top:t})},Bottom:function(e,t){return Element.insert(e,{bottom:t})},After:function(e,t){return Element.insert(e,{after:t})}},$continue=new Error('"throw $continue" is deprecated, use "return" instead'),Position={includeScrollOffsets:!1,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(e,t,n){return this.includeScrollOffsets?this.withinIncludingScrolloffsets(e,t,n):(this.xcomp=t,this.ycomp=n,this.offset=Element.cumulativeOffset(e),n>=this.offset[1]&&n<this.offset[1]+e.offsetHeight&&t>=this.offset[0]&&t<this.offset[0]+e.offsetWidth)},withinIncludingScrolloffsets:function(e,t,n){var i=Element.cumulativeScrollOffset(e);return this.xcomp=t+i[0]-this.deltaX,this.ycomp=n+i[1]-this.deltaY,this.offset=Element.cumulativeOffset(e),this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+e.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+e.offsetWidth},overlap:function(e,t){return e?"vertical"==e?(this.offset[1]+t.offsetHeight-this.ycomp)/t.offsetHeight:"horizontal"==e?(this.offset[0]+t.offsetWidth-this.xcomp)/t.offsetWidth:void 0:0},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(e){return Position.prepare(),Element.absolutize(e)},relativize:function(e){return Position.prepare(),Element.relativize(e)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(e,t,n){return n=n||{},Element.clonePosition(t,e,n)}};document.getElementsByClassName||(document.getElementsByClassName=function(e){function t(e){return e.blank()?null:"[contains(concat(' ', @class, ' '), ' "+e+" ')]"}return e.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(e,n){n=n.toString().strip();var i=/\s/.test(n)?$w(n).map(t).join(""):t(n);return i?document._getElementsByXPath(".//*"+i,e):[]}:function(e,t){t=t.toString().strip();var n=[],i=/\s/.test(t)?$w(t):null;if(!i&&!t)return n;var o=$(e).getElementsByTagName("*");t=" "+t+" ";for(var r=0,s,a;s=o[r];r++)s.className&&(a=" "+s.className+" ")&&(a.include(t)||i&&i.all(function(e){return!e.toString().blank()&&a.include(" "+e+" ")}))&&n.push(Element.extend(s));return n},function(e,t){return $(t||document.body).getElementsByClassName(e)}}(Element.Methods)),Element.ClassNames=Class.create(),Element.ClassNames.prototype={initialize:function(e){this.element=$(e)},_each:function(e){this.element.className.split(/\s+/).select(function(e){return e.length>0})._each(e)},set:function(e){this.element.className=e},add:function(e){this.include(e)||this.set($A(this).concat(e).join(" "))},remove:function(e){this.include(e)&&this.set($A(this).without(e).join(" "))},toString:function(){return $A(this).join(" ")}},Object.extend(Element.ClassNames.prototype,Enumerable),function(){window.Selector=Class.create({initialize:function(e){this.expression=e.strip()},findElements:function(e){return Prototype.Selector.select(this.expression,e)},match:function(e){return Prototype.Selector.match(e,this.expression)},toString:function(){return this.expression},inspect:function(){return"#<Selector: "+this.expression+">"}}),Object.extend(Selector,{matchElements:function(e,t){for(var n=Prototype.Selector.match,i=[],o=0,r=e.length;o<r;o++){var s=e[o];n(s,t)&&i.push(Element.extend(s))}return i},findElement:function(e,t,n){n=n||0;for(var i=0,o,r=0,s=e.length;r<s;r++)if(o=e[r],Prototype.Selector.match(o,t)&&n===i++)return Element.extend(o)},findChildElements:function(e,t){var n=t.toArray().join(", ");return Prototype.Selector.select(n,e||document)}})}(),window.P$=$,module.exports=$}).call(exports,__webpack_require__(22))},function(e,t,n){var i,o;i=[n(1),n(2),n(45),n(12),n(74)],o=function(e,t,n,i){var o={};return o.setContentFieldProperty=function(t,n,i){var r=o.getContentFieldProperty(t,n);if(r){r.property_result=i;var s=e("#"+r.ucfpid);s.length&&(s[0].value=i)}return!!r},o.getContentFieldProperty=function(e,t){var n=o.getContentField(e);if(n)return n.getProperty(t)},o.getContentFieldProperties=function(e){var t=o.getContentField(e);if(t)return t.properties},o.getContentField=function(e){return Weebly.pageContext.contentFieldsByID[e]||Weebly.siteContext.contentFieldsByID[e]},o.getElementByContentField=function(e){var n;if(Weebly.pageContext.contentFieldsByID[e])n=Weebly.pageContext;else{if(!Weebly.siteContext.contentFieldsByID[e])return null;n=Weebly.siteContext}return t.find(n.elementsByID,function(t){return t.content_fields[e]})},o.getElementObject=function(e){"object"==typeof e&&e.id&&(e=e.id.replace("inside_",""));var t;return Weebly&&Weebly.pageContext&&Weebly.pageContext.elementsByID&&(t=Weebly.pageContext.elementsByID[e])?t:Weebly&&Weebly.siteContext&&Weebly.siteContext.elementsByID?Weebly.siteContext.elementsByID[e]:void 0},o.getElementParentString=function(t){var n="",o=e(t),r=t.up(),s;r&&(s=r.up());var a;return s&&(a=s.up()),r&&r.hasClassName("wsite-com-long-description")?n=r.id:a&&a.className.match(/column/)?n=a.id:s&&s.className.match(/wsite-multicol-col/)?n=s.id:o.closest("[data-"+i.HEADER_SECTION_PARENT_STRING_NAME+"]").length?n=o.closest("[data-"+i.HEADER_SECTION_PARENT_STRING_NAME+"]").data(i.HEADER_SECTION_PARENT_STRING_NAME):t.up(".formlist")?n=t.up(".formlist").id:o.closest(".content-area-element").length&&(n=o.closest(".content-area-element").data("ucfid")+""),n},o.getElementParentObject=function(t){if(!t)return null;var n=o.getElementObject(e("#"+t).closest("li.inside")[0]);if(n)return n;var i=e('[data-ucfid="'+t+'"]');return i.length?getElementObject(e(i[0])):null},o.getElementSiblings=function(e,t){t||(t=o.getElementParentObject(e));var n;return(n=e.match(/^(\d+)-lhs$/))?t.leftChildren||t.columns[0]:(n=e.match(/^(\d+)-rhs$/))?t.rightChildren||t.columns[1]:(n=e.match(/^(\d+)-col(\d+)$/))?(t.columns[n[2]]||(t.columns[n[2]]=[]),t.columns[n[2]]):t.children},o.repositionElements=function(){Weebly.siteContext.reposition(),Weebly.pageContext.reposition(),Weebly.Slideshow.updateSize()},o.newElement=function(e,t,i,r,s,a){var l,e=e||"";if(e.match(/[A-z0-9]+-col[0-9]+/)||e.match(/[A-z0-9]+-form-list/)){var c=o.getElementObject(s);return!(!c||!c.addChild)&&c.addChild(t,i,e,a)}if(l=n.getAreaInstanceFromParent(r.is_site_wide,r.type,r.name,e),!l)return!1;if(a){var u=l.sections.get(a);u&&u.get("elementArea").addElement(t,i)}else l.addElement(t,i);return!0},t.extend(window,o),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(271),n(48)],o=function(e,t,n,i){var o={currentThemeData:{},currentTheme:"",currentMobileTheme:"legacy",currentStandardTheme:"",currentThemeColor:window.currentThemeColor};return o.setCurrentTheme=function(e,t){t?window.currentMobileTheme=e:window.currentStandardTheme=e,window.currentTheme=e},o.setCurrentThemeColor=function(e){window.currentThemeColor=e},o.setCurrentThemeData=function(e){if(o.currentThemeData!==e){for(var n in o.currentThemeData)delete o.currentThemeData[n];t.extend(o.currentThemeData,e)}},o.getCurrentThemeData=function(t){var i=t?n.mobileThemeCache:n.themeCache,o=t?window.currentMobileTheme:window.currentTheme,r=e.Deferred();return i.get(o,function(e){e.is_mobile=t,e.current_theme_color=window.currentThemeColor,r.resolve(e)}),r.promise()},o.getCurrentThemeHeaderSectionSettingValue=function(e,t,n){var r={};if(r=o.currentThemeData?o.currentThemeData:o.getCurrentThemeData(!1)){var s=i.getNestedValue(r,["page-types",n,"header-section",e],null);return null!==s?s:i.getNestedValue(r,["header-section",e],t)}return t},t.extend(window,o),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(13),n(266),n(7),n(59)],o=function(e,t,n,i,o,r){function s(){return"weebly-area-"+l++}var a=Class.create({tagName:"div",initialize:function(e,t){this.type=e.type,this.name=e.name||"",this.data=ensureObject(e.data),this.attrs={},this.context=t,this.name==this.type&&(this.name=""),this.elID||(this.elID=s())},getHTML:function(){return"<"+this.tagName+" id='"+this.elID+"' class='weebly-area weebly-"+this.type+"-area'>"+this.getInnerHTML()+"</"+this.tagName+">"},beforeRender:function(){},getInnerHTML:function(){return""},afterRender:function(){if(this.el){var e=t.view.isMobileView;e&&this.data.mobileHidden||!e&&this.data.hidden?this.el.hide():this.el.show()}},render:function(){this.beforeRender(),this.el.innerHTML=this.getInnerHTML(),this.afterRender()},rerender:function(){var e=this.el;e&&this.unrender(),this.beforeRender(),this.el=e,this.el.innerHTML=this.getInnerHTML(),this.afterRender()},save:function(i){"text"==this.type&&o.trigger(r.EVENTS.AREA_TEXT_EDITING_END,this.type,this.name,this.data.text),n.chromeless||new Ajax.Request(window.ajax,{parameters:{pos:"savearea",page_id:this.context.pageID||"",area_type:this.type,area_name:this.name,area_data:Object.toJSON(this.data),extra_data:i?Object.toJSON(i):"",cookie:document.cookie,token:t.RequestToken},onSuccess:function(){if(["search","social","text"].indexOf(this.type)!==-1){var t=e.result(this.data,"hidden")?"hide_area":"show_area";o.execute("analytics:track:event","site",t,this.type)}}.bind(this)})},hide:function(){this.el&&this.el.hide?this.el.hide():o.execute("area:hideArea",this.type,this.name,this.context===t.siteContext),t.view.isMobileView?this.data.mobileHidden=!0:this.data.hidden=!0,this.save()},show:function(){this.el?this.el.show():o.execute("area:showArea",this.type,this.name,this.context===t.siteContext),t.view.isMobileView?delete this.data.mobileHidden:delete this.data.hidden,this.save()},reposition:function(){},unrender:function(){},replaceArea:function(e){var t=new Element("div");t.innerHTML=this.getHTML(),this.el=t.down(),e.replace(this.el)}}),l=1;return i.call(a,"type"),a.getNewElID=s,t.Area=a,a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(12)],o=function(e,t){var n={};return n.getScrollContainer=function(){var n=e("#"+t.EDITOR_FRAME_ID).eq(0);return n.length?n:e(window)},n.inSiteContext=function(){return n.getScrollContainer()[0]===window},n.inEditorContext=function(){return!n.inSiteContext()},n.executingInIframe=function(){return window!==window.top},n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){(function(e){window.Weebly=window.Weebly||{},window.currentBlog={postId:0,newPost:0,title:"",categories:"",saving:0,permalink:"",comments:"",date:""},window.done=function(){return!1},window.preloadedImages=Array(),window.lastEventID,window.lastEventID=Array(),window.checkContentEditable=function(){var e=new Element("div"),t="undefined"==typeof e.contentEditable||"undefined"!=typeof document.documentMode&&document.documentMode<10;t&&window.showError('<div style="text-align:center;">'+window._W.utl("html.weebly.libraries.weebly_utils_18")+"<br/><br/><div style='width:350px; margin:10px auto; background:#FEEFDA;'><a href='http://www.firefox.com' target='_blank' style='margin-right:15px;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border: none;' alt='Get Firefox'/></a><a href='http://www.browserforthebetter.com/download.html' target='_blank' style='margin-right:15px;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border: none;' alt='Get Internet Explorer'/></a><a href='http://www.apple.com/safari/download/' target='_blank' style='margin-right:15px;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border: none;' alt='Get Safari'/></a><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border: none;' alt='Get Google Chrome'/></a></div></div>")},window.Weebly.trackingArray=Array(),window.fireTrackingEvent=function(e,t,n,i){try{if(i=i?i:0,!window.doTrackingEvent(e,t,n,i))throw"Did not process tracking event";if(window.Weebly.trackingArray.length>0){for(var o=0;o<window.Weebly.trackingArray.length;o++){var r=window.Weebly.trackingArray[o];
window.doTrackingEvent(r.category,r.action,r.optional_label,r.optional_value)}window.Weebly.trackingArray=Array()}}catch(o){window.Weebly.trackingArray.push({category:e,action:t,optional_label:n,optional_value:i})}},window.doTrackingEvent=function(e,t,n,i){try{"object"==typeof pageTracker?window.pageTracker("send","event",e,t,n,parseInt(i)):window.ga("send","event",e,t,n,parseInt(i)),window.mpmetrics.track(e,{type:t})}catch(e){return!1}return!0},window.fireTransactionEvent=function(e,t,n,i,o){try{"object"==typeof pageTracker?(window.pageTracker("require","ecommerce"),window.pageTracker("ecommerce:addTransaction",{id:e,affiliation:i,revenue:n,shipping:0,tax:0}),window.pageTracker("ecommerce:addItem",{id:e,name:t,sku:t,category:o,price:n,quantity:1}),window.pageTracker("ecommerce:send")):window.ga&&(window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:e,affiliation:i,revenue:n,shipping:0,tax:0}),window.ga("ecommerce:addItem",{id:e,name:t,sku:t,category:o,price:n,quantity:1}),window.ga("ecommerce:send")),window.mpmetrics.track("Purchase "+o)}catch(e){}},window.errorDialog,window.showError=function(t,n,i){"string"==typeof t?(e("red-error-title").update(window._W.utl("html.weebly.libraries.weebly_utils_3")),e("red-error-text").update(t)):(e("red-error-title").update(t.title),e("red-error-text").update(t.message)),window.errorDialog||(window.errorDialog=new window.Weebly.Dialog(e("red-error"),{inner_class:"weebly-dialog-inner-red",zIndex:9999,modal:1})),window.errorDialog.open(),i||window.fireTrackingEvent("WeeblyError","Error",t);var o={pos:"oopserror",message:t,token:window.Weebly.RequestToken};return"object"==typeof n&&n.request&&(o.ajax_request=n.request.body.match(/^.*?&cookie/)[0],o.ajax_response=n.responseText,o.ajax_status=n.status,o.server=n.getHeader("X-Host"),n.request.times&&(o.ajax_start=n.request.times.start,o.ajax_initialized=n.request.times.initialized,o.ajax_sent=n.request.times.sent,o.ajax_response_start=n.request.times.response,o.ajax_complete=(new Date).getTime()-n.request.times.start,o.current_upload=n.request.concurrentUpload?1:0)),o.cookie=document.cookie,new window.Ajax.Request(window.ajax,{parameters:o,bgRequest:!0}),window.errorDialog},window.hideError=function(){window.errorDialog&&window.errorDialog.close()},window.retriableErrorDialog,window.retriableAjax,window.showRetriableError=function(t,i,o){"object"==typeof retriableErrorDialog&&window.retriableErrorDialog.close();var r=n(95),s=r.isWhiteLabeled()?"":"<br/><br/>"+window._W.utl("html.weebly.libraries.weebly_utils_4");s+="<br/><br/>",s+="<a href='#' onclick='window.location.href=\"/editor/exitEditor.php\"' class='big-grey-button'><span class='button-inner'>"+window._W.utl("html.weebly.libraries.weebly_utils_5")+"</span></a>&nbsp;&nbsp;",s+="<a href='#' onclick='retryRetriableError();' class='big-blue-button'><span class='button-inner'>"+window._W.utl("html.weebly.libraries.weebly_utils_6")+"</span></a>","string"==typeof t?(e("red-error-title").update(window._W.utl("html.weebly.libraries.weebly_utils_7")),e("red-error-text").update(t+s),window.fireTrackingEvent("WeeblyError","Retriable Error",t)):(e("red-error-title").update(t.title),e("red-error-text").update(t.message+s),window.fireTrackingEvent("WeeblyError","Retriable Error",t.message)),window.retriableErrorDialog=new window.Weebly.Dialog(e("red-error"),{inner_class:"weebly-dialog-inner-red",modal:1,showClose:o}),window.retriableErrorDialog.open();try{var a={pos:"oopserror",message:"string"==typeof t?t:t.message,token:window.Weebly.RequestToken};"object"!=typeof i||i.body.match(/oopserror/)||(a.ajax_request=i.body.match(/^.*?&cookie/)[0],a.ajax_response=i.transport.responseText,a.ajax_status=i.transport.status,a.server=i.getHeader("X-Host"),i.times&&(a.ajax_start=i.times.start,a.ajax_initialized=i.times.initialized,a.ajax_sent=i.times.sent,a.ajax_response_start=i.times.response,a.ajax_complete=(new Date).getTime()-i.times.start,a.current_upload=0),a.cookie=document.cookie,new window.Ajax.Request("/weebly/getElements.php",{parameters:a,bgRequest:!0}),window.retriableAjax=i)}catch(e){}return window.retriableErrorDialog},window.retryRetriableError=function(){window.hideRetriableError(),window.retriableAjax.retry(!0)},window.hideRetriableError=function(){window.retriableErrorDialog&&window.retriableErrorDialog.close()},window.warningDialog,window.showWarning=function(t,n){return n=Object.extend({width:"585px",titleFontSize:"36px",showClose:!0,closeFunction:null},n),e("orange-error").setStyle({width:n.width}),e("orange-error-title").setStyle({fontSize:n.titleFontSize}),"string"==typeof t?(e("orange-error-title").update(window._W.utl("html.weebly.libraries.weebly_utils_8")),e("orange-error-text").update(t),window.fireTrackingEvent("WeeblyError","Warning",t)):(e("orange-error-title").update(t.title),e("orange-error-text").update(t.message),window.fireTrackingEvent("WeeblyError","Warning",t.message)),n.okButton?e("orange-error-button").show().stopObserving("click").observe("click",function(){window.warningDialog.close()}):e("orange-error-button").hide(),window.warningDialog=new window.Weebly.Dialog(e("orange-error"),{inner_class:"weebly-dialog-inner-orange",modal:1,showClose:n.showClose,closeFunction:n.closeFunction}),window.warningDialog.open(),window.warningDialog},window.showDeniedAction=function(e){window.jQuery("orange-error-title").setStyle({fontSize:"30px"}).update("Text Not Allowed"),window.jQuery("orange-error-text").setStyle({marginTop:"25px",marginBottom:"25px"});var t=new Element("a",{class:"orange-button-29",href:"#",id:"closeWarning"}).update('<span class="bi">'+window._W.utl("html.weebly.libraries.weebly_utils_9")+"</span>").setStyle({marginBottom:"10px"}).observe("click",function(){window.warningDialog.close(),window.jQuery("closeWarning").hide()});window.jQuery("orange-error-text").insert({after:t}),window.showWarning(e)},window.hideWarning=function(){window.warningDialog&&window.warningDialog.close()},window.showDialogElement,window.showDialog=function(e,t){if(t=t||{},!window.showDialogElement){var n=new Element("div",{id:"showDialogElement",class:"orange-error weebly-text w-ui"}),i="";t.title&&(i+="<div class='orange-error-heading'><span class='orange-error-title' style='font-size:24px'>"+t.title+"</span></div>"),i+="<div class='orange-error-text'>"+e+"<div class='orange-error-buttons' style='margin-top:2em'></div></div>",n.update(i),window.showDialogElement=new window.Weebly.Dialog(n,{inner_class:"weebly-dialog-inner-orange"})}window.showDialogElement.open()},window.confirmDialog,window.lastConfirmOk=!1,window.showConfirm=function(t){var n;window.lastConfirmOk=!1,window.confirmDialog?n=e("confirmDialogContent"):(n=new Element("div",{id:"confirmDialogContent",class:"orange-error weebly-text w-ui"}),window.confirmDialog=new window.Weebly.Dialog(n,{inner_class:"weebly-dialog-inner-orange"})),window.confirmDialog.options.onClose=function(){!window.lastConfirmOk&&t.onCancel&&t.onCancel()},n.update("<div class='orange-error-heading'><div class='orange-error-title'>"+t.title+"</div></div><div class='orange-error-text'>"+t.message+"<div class='orange-error-buttons' style='margin-top:2em'></div></div>");var i=new Element("button",{style:"padding:.5em 1em;cursor:pointer",class:"btn btn-default"}).update(t.okText||"OK").observe("click",function(){t.onConfirm(),window.lastConfirmOk=!0,window.confirmDialog.close()}),o=new Element("button",{style:"padding:.5em 1em;cursor:pointer",class:"btn btn-primary"}).update(t.cancelText||window._W.utl("html.weebly.libraries.weebly_utils_10")).observe("click",function(){window.confirmDialog.close()});n.select("div.orange-error-buttons")[0].insert(i).insert(" ").insert(o),window.confirmDialog.open()},window.whoisDialog,window.showUpdateWhois=function(t,n,i,o,r,s,a,l,c){e("CCState").value=e("whois-state").value,Event.fire(e("CCState"),"liszt:updated"),e("whois-complete").onclick=function(){return window.submitWhois(),!1},e("whois-complete").style.opacity="1",e("whois-complete").disabled=!1,e("whois-error").innerHTML="";var u=a&&a.amountFormatted?a.amountFormatted:10*s+".00",d=a&&a.yearlyAmountFormatted?a.yearlyAmountFormatted:"$10";a&&a.tax&&(u+='<br><span class="whois-TaxAmount">(includes '+a.taxFormatted+" tax)</span>",e("whois-totalContainer").addClassName("has-tax")),e("whois-totalAmount").update(u),e("yearly-whois-price").update(d),e("whois-fields-domain").innerText=o+"."+r,e("whois-fields-userServiceID").value=i,t.match(/customDomainWhois/)?(e("whoisProtectContainer-public").style.display="none",e("whoisProtect-public").name="whois-blank",e("whoisProtectContainer-private").style.display="none",e("whoisProtect-private").name="whois-blank",e("whoisProtectContainer-purchasedPrivate").style.display="block",e("whoisProtect-purchasedPrivate").name="whois-protect"):"PayPal"==n&&(e("whoisProtectContainer-public").style.display="none",e("whoisProtect-public").name="whois-blank",e("whoisProtectContainer-private").style.display="none",e("whoisProtect-private").name="whois-blank",e("whoisProtect-purchasedPayPal").name="whois-protect"),window.whoisDialog=new window.Weebly.Dialog(e("update-whois"),{modal:1,closeFunction:l||window.Weebly.goHome}),window.whoisDialog.successFunction=c,window.whoisDialog.open()},window.submitWhois=function(){e("whois-complete").onclick=function(){return!1},e("whois-complete").style.opacity="0.5",e("whois-complete").disabled=!0,e("whois-error").innerHTML="";for(var t=[],n=["whois-name","whois-email","whois-address","whois-city","whois-state","whois-zip","CCState","CCCountry","whois-phone"],i=0;i<n.length;i++)"CCCountry"!=n[i]&&"CCState"!=n[i],e(n[i]).parentNode.style.border="1px solid #999",""==e(n[i]).value&&("CCState"==n[i]&&"US"==e("CCCountry").value||"whois-state"==n[i]&&"US"!=e("CCCountry").value||"CCState"!=n[i]&&"whois-state"!=n[i])&&t.push(n[i]),"whois-name"!=n[i]||e(n[i]).value.match(" ")||t.push(n[i]);if(t.length>0){for(var i=0;i<t.length;i++)e(t[i]).parentNode.style.border="1px solid red";e("whois-complete").onclick=function(){return window.submitWhois(),!1},e("whois-complete").style.opacity="1",e("whois-complete").disabled=!1,e("whois-error").innerHTML=window._W.utl("html.weebly.libraries.weebly_utils_19")}else{var o=e("whois-form").serialize(!0);o.pos="updatedomainwhois",o.cookie=document.cookie,o.token=window.Weebly.RequestToken,new window.Ajax.Request(window.ajax,{parameters:o,onSuccess:window.handlerSubmitWhois,onFailure:window.errFunc})}},window.handlerSubmitWhois=function(t){t.responseText.match("%%SUCCESS%")?(window.whoisDialog.close(),window.whoisDialog.successFunction&&window.whoisDialog.successFunction()):(e("whois-complete").onclick=function(){return window.submitWhois(),!1},e("whois-complete").style.opacity="1",e("whois-complete").disabled=!1,e("whois-error").innerHTML=t.responseText)},window.selectWhoisSetting=function(t){"public"==t?(e("whoisProtectContainer-private").removeClassName("multiple-choice-box-selected"),e("whoisProtectContainer-public").addClassName("multiple-choice-box-selected"),e("whoisProtect-public").checked=!0,e("whois-totalContainer").style.display="none"):(e("whoisProtectContainer-public").removeClassName("multiple-choice-box-selected"),e("whoisProtectContainer-private").addClassName("multiple-choice-box-selected"),e("whoisProtect-private").checked=!0,e("whois-totalContainer").style.display="inline-block")},window.showError2=function(t){e("errorText2").innerHTML=t,window.Effect.Appear("error2")},window.hoverOn=function(e,t){if(window.isIn(window.lastEventID,e));else if(1==window.settingTooltips){var n;1==t&&(n=window._W.utl("html.weebly.libraries.weebly_utils_12")),2==t&&(n=window._W.utl("html.weebly.libraries.weebly_utils_13")),3==t&&(n=window._W.utl("html.weebly.libraries.weebly_utils_14")),window.showTip(n,e,"y",e,1),window.lastEventID.push(e)}},window.hoverOff=function(e){1==window.settingTooltips&&window.hideTip("tip"+e),window.isIn(window.lastEventID,e)&&window.lastEventID.splice(window.isIn(window.lastEventID,e),1)},window.preloadImages=function(e){for(var t=e.split(","),n=0;n<t.length;n++){var i=window.preloadedImages.length;window.preloadedImages[i]=new Image,window.preloadedImages[i].src=t[n]}},window.duplicateStyle=function(e,t,n){if(e.currentStyle)for(var i in e.currentStyle){var o=e.currentStyle[i];""==o||o instanceof Object||"length"==i||"parentRule"==i||"display"==i||i.match(/border/)||i.match(/margin/)||i.match(/line/)||("display"==i||i.match(/border/)||i.match(/margin/)||(t.style[i]=o),"width"==i||"height"==i||i.match(/padding/)||i.match(/border/)||(n.style[i]=o))}else{var r=document.defaultView.getComputedStyle(e,"");for(var i in r){var o=r[i];""==o||o instanceof Object||"length"==i||"parentRule"==i||"display"==i||i.match(/border/)||i.match(/margin/)||(i.match(/^[0-9]+$/)&&(i=o,o=r[i]),"cssText"==i||"display"==i||i.match(/border/)||i.match(/margin/)||i.match(/webkit/)||(t.style[i]=o),"width"==i||"height"==i||"maxWidth"==i||"maxHeight"==i||i.match(/padding/)||i.match(/border/)||(n.style[i]=o))}}t.style.margin="0"},window.shortcut={all_shortcuts:{},add:function(e,t,n){var i={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(n)for(var o in i)"undefined"==typeof n[o]&&(n[o]=i[o]);else n=i;var r=n.target;"string"==typeof n.target&&(r=document.getElementById(n.target));var s=this;e=e.toLowerCase();var a=function(i){if(i=i||window.event,n.disable_in_input){var o;if(i.target?o=i.target:i.srcElement&&(o=i.srcElement),3==o.nodeType&&(o=o.parentNode),"INPUT"==o.tagName||"TEXTAREA"==o.tagName)return}var r;i.keyCode?r=i.keyCode:i.which&&(r=i.which);var s=String.fromCharCode(r).toLowerCase();188==r&&(s=","),190==r&&(s=".");var a=e.split("+"),l=0,c={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},u={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};i.ctrlKey&&(d.ctrl.pressed=!0),i.shiftKey&&(d.shift.pressed=!0),i.altKey&&(d.alt.pressed=!0),i.metaKey&&(d.meta.pressed=!0);for(var h=0;window.k=a[h],h<a.length;h++)"ctrl"==window.k||"control"==window.k?(l++,d.ctrl.wanted=!0):"shift"==window.k?(l++,d.shift.wanted=!0):"alt"==window.k?(l++,d.alt.wanted=!0):"meta"==window.k?(l++,d.meta.wanted=!0):window.k.length>1?u[window.k]==r&&l++:n.keycode?n.keycode==r&&l++:s==window.k?l++:c[s]&&i.shiftKey&&(s=c[s],s==window.k&&l++);if(l==a.length&&d.ctrl.pressed==d.ctrl.wanted&&d.shift.pressed==d.shift.wanted&&d.alt.pressed==d.alt.wanted&&d.meta.pressed==d.meta.wanted){return t(i),Event.stop(i),!1;if(!n.propagate)return!1}return!0};this.all_shortcuts[e]={callback:a,target:r,event:n.type},r.addEventListener?r.addEventListener(n.type,a,!1):r.attachEvent?r.attachEvent("on"+n.type,a):r["on"+n.type]=a},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var n=t.event,i=t.target,o=t.callback;i.detachEvent?i.detachEvent("on"+n,o):i.removeEventListener?i.removeEventListener(n,o,!1):i["on"+n]=!1}}},window.Weebly.keyTracker={},window.disableBackspaceExit=!0,document.observe("keydown",function(e){if(!Event.element(e).hasClassName("editable-text")){e.keyCode?window.code=e.keyCode:e.which&&(window.code=e.which);var t=String.fromCharCode(window.code).toLowerCase(),n;if(e.target?n=e.target:e.srcElement&&(n=e.srcElement),3==n.nodeType&&(n=n.parentNode),window.disableBackspaceExit&&8==window.code&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName)return e.keyCode=0,event.keyCode=0,e.returnValue=!1,event.returnValue=!1,Event.stop(e),!1;window.Weebly.keyTracker[t]=1,window.Weebly.keyTracker.p&&window.Weebly.keyTracker.s&&window.Weebly.keyTracker.u&&window.showAbout()}}),document.observe("keyup",function(e){if(!Event.element(e).hasClassName("editable-text")){e.keyCode?window.code=e.keyCode:e.which&&(window.code=e.which);var t=String.fromCharCode(window.code).toLowerCase();window.Weebly.keyTracker[t]=0}}),e.StealMouse=window.Class.create(),e.StealMouse.__class_name="$.StealMouse",e.StealMouse.prototype.__class_name="$.StealMouse",window.$_StealMouse=e.StealMouse,Object.extend(e.StealMouse,{on:function t(n){n.__steal_mouseup=function(t){e.StealMouse._sendMouseEvent(t,"mouseup",n)},Event.observe(n.contentWindow.document,"mouseup",n.__steal_mouseup),n.__steal_mousedown=function(t){e.StealMouse._sendMouseEvent(t,"mousedown",n)},Event.observe(n.contentWindow.document,"mousedown",n.__steal_mousedown),n.__steal_mousemove=function(t){e.StealMouse._sendMouseEvent(t,"mousemove",n)}},off:function e(){Event.stopObserving(window.ifr.contentWindow.document,"mouseup",window.ifr.__steal_mouseup),Event.stopObserving(window.ifr.contentWindow.document,"mousedown",window.ifr.__steal_mousedown),Event.stopObserving(window.ifr.contentWindow.document,"mousemove",window.ifr.__steal_mousemove)},_sendMouseEvent:function e(t,n,i){var o=window.Position.cumulativeOffset(i),r=[0,0],s={x:o[0]+r[0],y:o[1]+r[1]};if(document.createEvent){var a=document.createEvent("MouseEvents");a.initMouseEvent(n,!0,!1,window,t.detail,t.screenX,t.screenY,t.clientX+s.x,t.clientY+s.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),i.dispatchEvent(a)}else{var a=document.createEventObject();a.detail=t.detail,a.screenX=t.screenX,a.screenY=t.screenY,a.clientX=t.clientX+s.x,a.clientY=t.clientY+s.y,a.ctrlKey=t.ctrlKey,a.altKey=t.altKey,a.shiftKey=t.shiftKey,a.metaKey=t.metaKey,a.button=t.button,a.relatedTarget=t.relatedTarget,a.target=i,a.srcElement=i}}}),window.tryStealMouse=function(t){var n=document.getElementById(t);n&&n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.body&&n.contentWindow.document.body.innerHTML&&""!=n.contentWindow.document.body.innerHTML?e.StealMouse.on(n):setTimeout("tryStealMouse('"+t+"');",250)},window.isAParent=function(t,n){if("object"!=typeof n&&(n=e(n)),"object"!=typeof t&&(t=e(t)),n==t)return!0;for(;n.parentNode;){if(n.parentNode==t)return!0;n=n.parentNode}return!1},window.isAParentByClass=function(t,n){var i;if("object"!=typeof n&&(n=e(n)),n.hasClassName(t))return n;for(i=n.up();i&&i!==document;){if(i.hasClassName(t))return i;n=i,i=n.up()}return!1},window.isAParentMatch=function(t,n){if("object"!=typeof n&&(n=e(n)),"string"!=typeof n.id)return!1;if(n.id.match(t))return n;for(;"body"!=n.id;){if(!n.parentNode)return!1;if(n.parentNode&&n.parentNode.id&&n.parentNode.id.match&&n.parentNode.id.match(t))return n.parentNode;n=n.parentNode}return!1},window.getXML=function(e){var t=window.Try.these(function(){return(new DOMParser).parseFromString(e,"text/xml")},function(){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.loadXML(e),t});return t},window.getValueXML=function(e,t){return e.getElementsByTagName(t)[0].firstChild.nodeValue},window.Weebly.on={textIsChanging:0,currentTextElement:null,currentTextCallBack:null,textChange:function(t,n,i,o){t=e(t),i||(i=1500),t!=window.Weebly.on.currentTextElement&&"function"==typeof window.Weebly.on.currentTextElement&&window.Weebly.on.currentTextCallBack(),window.Weebly.on.currentTextElement==t&&"undefined"==typeof o||("undefined"==typeof o?(window.Weebly.on.currentTextElement=t,window.Weebly.on.currentTextCallBack=n,window.Weebly.on.myFunction=window.Weebly.on.textChange.bind(window.Weebly.on.textChange,t,n,i,t.value),setTimeout("Weebly.on.myFunction();",i)):t&&t.value&&t.value==o||""==t.value&&""==o?(window.Weebly.on.currentTextCallBack(t.value),window.Weebly.on.currentTextElement=null,window.Weebly.on.currentTextCallBack=null):(window.Weebly.on.myFunction=window.Weebly.on.textChange.bind(window.Weebly.on.textChange,t,n,i,t.value),setTimeout("Weebly.on.myFunction();",i)))}},window.getInnerHeight=function(){var e,t;return self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body?document.body.clientHeight:void 0},window.isPro=function(){return window.Weebly.Restrictions.hasPro()},window.modalProFeatures=function(t,i,o){if("reseller"==window.source){var r=n(84);return void window.editorApp.showDialog(new r({title:window._W.utl("html.weebly.libraries.weebly_utils_20"),message:t,confirmText:window._W.utl("html.weebly.libraries.weebly_utils_21"),dialogClass:"ui-dialog-overlay-wsite-dialog",callback:function(e){e&&window.showPremiumPurchaseScreen({refer:i,level:o})}}))}var s=new window.Weebly.Dialog("pro-upgrade-modal",{modal:!0,onClose:function(){e("pro-upgrade-accept").stopObserving(),e("pro-upgrade-okay").stopObserving()}});e("pro-upgrade-accept").observe("click",function(e){s.close(),window.showPremiumPurchaseScreen({refer:i,level:o}),e.preventDefault()}),e("pro-upgrade-okay").observe("click",function(e){s.close(),e.preventDefault()}),e("pro-upgrade-modal-body").update(t),s.open()},window.currentHref=document.location.href.replace(/#.*$/,""),window.firstTime=(new Date).getTime(),window.publishAfterPro=!1,window.monitorHref=function(e){var t=(new Date).getTime();if(!(t<window.firstTime+500)&&(document.location.href!=window.currentHref||e)){if(e)var n=e;else{var n=document.location.href.replace(/.*#/,"");document.location.href=document.location.href.replace(/(.*#)[^#]*$/,"$1"),window.currentHref=document.location.href}if(n.match("refresh"))document.location.reload();else if(n.match("addService")){var i=n.replace("addService:","");window.updateList()}else"closePollDaddy"==n&&(window.Pages.openPages.indexOf("goBlogPost")>-1?window.Pages.go("goBlogPost"):window.Pages.go("main"))}},window.alertPremiumFeature=function(e,t){window.showPremiumPurchaseScreen({restrictionID:e,refer:t})},window.showPremiumPurchaseScreen=function(e){if(e=e||{},"reseller"==window.source)return void window.editorApp.billing.resellerPaymentRedirect(e);if(window.Weebly.Developer&&window.Weebly.Developer.isMaster)return void window.editorApp.designer.showPlanChooser(function(e){window.Weebly.Restrictions.level=e},e.level);if(window.Weebly.Permissions&&window.Weebly.Permissions.isContributor)return void alert("The site owner must upgrade this site in order for this feature to be available.");if(!e.level&&e.restrictionID&&(e.level=window.Weebly.Restrictions.requiredService(e.restrictionID),e.level==window.Weebly.Restrictions.freeLevel&&window.Weebly.Restrictions.isUpgradable(e.restrictionID)&&(e.level=window.Weebly.Restrictions.isUpgradable(e.restrictionID))),e.level||e.type||(e.type="premium"),void 0===e.siteID&&window.location.href.match(/\/userHome\.php(\?|#|$)/)&&(e.siteID=!1),e.isPublishModal===!0){var t=n(8);t.trackEvent("publish.modal","upgrade_button",e.refer)}window.showPurchaseScreen(e)},window.showDesignerPurchaseScreen=function(e){window.showPurchaseScreen({type:window.Weebly.Restrictions.designerSitesService,refer:e})},window.showUpdateBillingScreen=function(e,t,n,i,o,r,s){window.showPurchaseScreen({refer:e,userServiceID:t,type:i||"update",hideCard:o,deleteCard:r,extraArgs:s})},window.showPurchaseScreen=function(e){e=e||{};var t=null;e.closeCallback&&(t=e.closeCallback);var i="/weebly/apps/purchasePage.php?s="+encodeURIComponent(window.configSiteName)+(e.type?"&type="+encodeURIComponent(e.type):"")+(e.level?"&level="+encodeURIComponent(e.level):"")+(e.restrictionID?"&restrictionID="+encodeURIComponent(e.restrictionID):"")+(e.refer?"&refer="+encodeURIComponent(e.refer):"")+(void 0!==e.siteID?"&siteID="+encodeURIComponent(e.siteID):"")+(e.forceComparison?"&comparison=1":"")+(e.userServiceID?"&userServiceID="+e.userServiceID:"")+(e.customTitle?"&customTitle="+e.customTitle:"")+(e.startTrial?"&startTrial=1":"")+(e.hideCard?"&hideCard="+e.hideCard:"")+(e.deleteCard?"&deleteCard="+e.deleteCard:"")+(e.extraArgs?"&"+e.extraArgs:""),o=window.buildSecureUrl(i);if(window.isProtocolSecure())n.e(0,function(e){var n=[e(301)];(function(e){var n=new e({url:o});n.open(),n.on("close",function(){t?t():window.loadLastTransaction()})}).apply(null,n)});else{var r=window.open(o,"_blank");e.makePopupGlobal&&(window.billingPopup=r),window.monitorBillingWindow(r,t)}},window.buildSecureUrl=function(e){var t=window.secureBase;return t&&t.length&&(e="https://"+t+"/weebly/setSession.php?WeeblySession="+window.sid+"&redirect="+encodeURIComponent(e)),e},window.monitorBillingWindow=function(e,t){t=t||function(){window.loadLastTransaction()},e&&e.closed?t():setTimeout(function(){window.monitorBillingWindow(e,t)},200)},window.loadLastTransaction=function(e,t){window.preventAJAX()||(e=e||function(){},new window.Ajax.Request(window.ajax,{parameters:{pos:"getlasttransaction",cookie:document.cookie,transaction:JSON.stringify(t),token:window.Weebly.RequestToken},onFailure:window.errFunc,onException:window.exceptionFunc,onSuccess:function(e){var t=e.responseText;if(t.isJSON){var n=t.evalJSON();n.action&&window.processLastTransaction(n)}},onComplete:e}))},window.fireBillingTransactionEvent=function(e,t){window.fireTransactionEvent(e.transaction_id,e.service_id,e.amount,e.payment_type,t)},window.showTrackingFrame=function(t,n){e(document.body).insert('<iframe frameborder="0" style="position:absolute; display:block; top:0; left:0; width:0; height:0; border:0; overflow:hidden" src="/editor/apps/tracking_frame_dynamic.php?trigger='+t+(n||"")+'"></iframe>')},window.processLastTransaction=function(t){if(t.action&&window.Weebly.Transactions&&window.Weebly.Transactions[t.action])return window.Weebly.Transactions[t.action](t);switch(t.action){case"successBillingPremium":if(window.fireBillingTransactionEvent(t,t.other_vars.plan.title),window.inEditor&&window.inEditor()){if(window.makePremium(t.other_vars.plan,t.service_id),window.isDomainChooserOpen?window.domainChoiceContinue():window.Pages.openPages.indexOf("exportSite")>-1?window.Pages.go("exportSite"):window.editorApp&&window.editorApp.isStorePanelOpen||window.Pages.openPages.indexOf("store")!==-1||window.Pages.go("main"),t.other_vars.freeDomainIssued&&(window.hasDomainCredit=!0),t.other_vars.bundled_domain){window.fireBillingTransactionEvent(t,"Domain");var n=t.other_vars.bundled_domain.domain,i=n.fqdn;window.Weebly.Location.all_purchased_domains.push(i),window.Weebly.Location.custom_domain=i,window.Weebly.Location.purchased_domain=!0,window.settingQuickExport=1,window.domainDialog.close(),window.domainChoiceFinish()}t.other_vars.plan.level>=10?window.editorApp.vent.trigger("billing:upgrade:proElement"):t.other_vars.plan.level>=5&&window.editorApp.vent.trigger("billing:upgrade:starter"),t.other_vars.plan.level>0&&window.editorApp.vent.trigger("billing:upgrade:feature")}else window.location.reload();break;case"successBilling":window.fireBillingTransactionEvent(t,"Other"),window.location.reload();break;case"successBillingExtend":window.fireBillingTransactionEvent(t,"Extend"),window.location.reload();break;case"successBillingUpdate":"object"==typeof editorApp?window.editorApp.vent.trigger("billing:profile:updated",t):window.homeApp&&window.homeApp.vent&&window.homeApp.vent.trigger("billing:profile:updated",t);break;case"successTrialPlanChange":window.location.reload();break;case"successBillingDomainTransfer":if(window.useOwnDialog.close(),window.inEditor&&window.inEditor()){var o="/home/domains/transfers/"+t.other_vars.domain_transfer_model.domain_transfer_id;window.open(o,"_blank")}window.domainChoiceFinish();break;case"successBillingDomain":if(t.other_vars.bundled_plan){var r=t.other_vars.bundled_plan;window.inEditor&&window.inEditor()&&window.makePremium(r.other_vars.plan,r.other_vars.service_id)}window.fireBillingTransactionEvent(t,"Domain");var i="www."+t.other_vars.sld+"."+t.other_vars.tld;window.Weebly.Location.all_purchased_domains.push(i),window.Weebly.Location.custom_domain=i,window.Weebly.Location.purchased_domain=!0,window.domainDialog.close(),window.settingQuickExport=1;var s={};t.other_vars.whoisTax&&(s.tax=t.other_vars.whoisTax,s.amount=t.other_vars.whoisAmount),window.domainChoiceFinish();break;case"successStockMedia":window.fireBillingTransactionEvent(t,"StockMedia"),window.stockMediaPurchased(t.other_vars.media_info);break;case"successSimpleChat":"function"==typeof window.inEditor&&window.inEditor()&&window.editorApp?(window.editorApp.vent.triggerCascade("settings:general"),window.updatList()):window.homeApp&&window.homeApp.vent&&window.homeApp.vent.trigger("simplechat:purchase:success");break;case"designerBillingSetup":window.fireBillingTransactionEvent(t,"DesignerBilling"),window.Weebly.Restrictions.designerBillingSetup=!0,window.Weebly.AllDialogs["designer-billing-setup"]&&(window.Weebly.AllDialogs["designer-billing-setup"].close(),e("designerBillingSuccessMessage")&&e("designerBillingSuccessMessage").show(),"function"==typeof openDomainContainer?window.openDomainContainer():window.exportSite())}if(t.other_vars&&t.other_vars.plan&&t.other_vars.plan.level){var a=t.other_vars.plan.level;window.Weebly.Restrictions.level=a,"object"==typeof editorApp&&window.editorApp.vent.trigger("user:upgrade")}},window.removeService=function(t){e("serviceError").innerHTML="",new window.Ajax.Request(window.ajax,{parameters:{pos:"removeservice",userServiceId:t,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.handlerRemoveService(e,t)},onFailure:window.errFunc})},window.handlerRemoveService=function(t,n){t.responseText.match("%%SUCCESS%%")?e(n).innerHTML="<em>This service has been removed.</em>":t.responseText.match("%%SUCCESSREFUND%%")?e(n).innerHTML="<em>"+window._W.utl("html.weebly.libraries.weebly_utils_16")+"</em>":e("serviceError").innerHTML=t.responseText},window.onDropElements=function(e){var t=e.getElementsByTagName("input");if(t&&t[0]&&t[0].value&&t[0].value.startsWith("def:")){var n=t[0].value.match(/def:(\d*)/)[1];window.allowProElementsTrial||window.Weebly.Restrictions.hasAccess(n)||window.alertPremiumFeature(n)}},window.deleteAccount=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"deleteaccount",feedback:e("deleteAccountComments").value,email:e("deleteAccountEmailPref").checked,token:window.Weebly.RequestToken,cookie:document.cookie},onSuccess:window.handlerDeleteAccount,onFailure:window.errFunc})},window.handlerDeleteAccount=function(e){e.responseText.match("%%SUCCESS%%")&&(document.location="/index.html?account-deleted")},window.ElementExtensions={center:function(t,n,i){t=e(t);var o=t.getDimensions(),r=document.viewport.getDimensions(),s=document.viewport.getScrollOffsets(),a=r.width/2+s.left-o.width/2,l=r.height/2+s.top-o.height/2;return n&&a<n&&(a=parseInt(n)),i&&l<i&&(l=parseInt(i)),t.setStyle({position:"absolute",top:Math.floor(l)+"px",left:Math.floor(a)+"px"}),t},getInnerText:function(e){return window.jQuery(e).text()},setInnerText:function(e,t){return window.jQuery(e).text(t)}},Element.addMethods(window.ElementExtensions),window.goModerateBlog=function(e,t,n){window.currentBlog.saving=0,window.currentBlog.blogId=e,window.currentBlog.params=t,n=n||"comments",new window.Ajax.Request(window.ajax,{parameters:{pos:"blogmoderateblog",blogid:e,params:t,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc,onException:window.exceptionFunc,onSuccess:window.handlerModerateBlog(n)})},window.handlerModerateBlog=function(t){return function(n){var i=new window.Weebly.Dialog("blog-manage-"+t+"-dialog",{modal:!1,showClose:!0,closeFunction:function(){i.close(),window.Pages.go("main")}});i.open(),window.currentBlog.settingsDialog=i,e("blog-manage-"+t+"-dialog-content").update(n.responseText),"comments"==t&&(e("blog_moderation_iframe").addClassName("is-overlay"),window.$$(".blog-moderation-filter a.all")[0].onclick())}},window.showBlogComments=function(e){var t=window.jQuery;if(null===e){var n=t(".blog-moderation-filter a.selected");e=n.length?n.attr("class").replace("selected","").trim():"all";
}t(".js-delete-comment").toggle("deleted"!==e),t(".js-spam-comment").toggle("deleted"!==e&&"spam"!==e);var i=t("#site-blogs-select option:selected"),o=i.val(),r=i.data("site-id"),s=i.data("user-id");t(".blog-moderation-filter a").removeClass("selected").filter("."+e).addClass("selected"),t("#blog_moderation_iframe").attr({src:window.getBlogCommentsUrl(e,o,r,s)})},window.getBlogCommentsUrl=function(e,t,n,i){var o=new window.Hash({blog_id:t,type:e,site_id:n,user_id:i,size:"slim",r:parseInt(99999999*Math.random())});return"viewBlogModeration.php?"+o.toQueryString()},window.blogModerationAction=function(t){var n=e("blog_moderation_iframe");if(n){var i=n.contentWindow;if(i){var o={approve:i.approveComments,delete:i.deleteComments,spam:i.markSpamComments};o[t]&&o[t]()}}},window.changeUserLanguage=function(e){new window.Ajax.Request(window.ajax,{parameters:{pos:"changeuserlanguage",lang:e,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc})},window.ieVersion=function(){var e=navigator.appVersion.match(/MSIE.*?(\d+)/i);return!!e&&parseInt(e[1])},window.clearPrefilledInput=function(t,n){t.value==n&&(t.value="",e(t).setStyle({color:""}))},window.getPagePermissionHtml=function(e,t){return e.each(function(e){t+="<label>",t+="store"!==e.kind&&""===e.extlink?'<input type="checkbox" name="allowed_pages[]" value="'+e.id+'" /> ':"-- ",t+=e.title+"</label>",e.children.size()>0&&(t+='<div class="subpages">',t=window.getPagePermissionHtml(e.children,t),t+="</div>")}),t},String.prototype.safeReplace=function(e,t){return this.replace(e,(t+"").replace(/\$/g,"$$$$"))},window._loadingLevel=0,window.W_DEBUG&&(window.loadingQueue=[]),window.pushLoading=function(){window._loadingLevel||e("pleaseWait")&&window.jQuery("#pleaseWait").addClass("loading"),window.W_DEBUG&&window.loadingQueue.push(arguments.callee.caller.toString()),window._loadingLevel++},window.popLoading=function(){window._loadingLevel>0&&(window._loadingLevel--,window.W_DEBUG&&window.loadingQueue.pop()),window._loadingLevel||e("pleaseWait")&&window.jQuery("#pleaseWait").removeClass("loading")},window.htmlEscape=function(e){return void 0===e||null===e?"":"number"==typeof e?e.toString():e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},window.eventStop=function(e){e.stop()},window.handleDesignerPublishCodes=function(t,n,i){if(i=i&&e(i)||e("exportText"),t.responseText.match(/%%PURCHASESITES%%/)&&(window.Weebly.AllDialogs["publishing-status"]&&window.Weebly.AllDialogs["publishing-status"].close(),window.showDesignerBillingSetup()),t.responseText.match(/%%GOLIVEWARNING%%/)){var o=i.up(".titled-box");i.show().innerHTML=e("designer-publish-message").innerHTML,window.Weebly.AllDialogs[o.id].positionDialog()}t.responseText.match(/%%CARDSETUPREQUIRED%%/)&&(i.show().innerHTML='<div style="font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 16px; line-height:1.5; text-align:left; margin-bottom:10px;">Sites cannot be published live until the account holder has setup a credit card</div>'),t.responseText.match(/%%CANTCREATECHARGE%%/)&&(i.show().innerHTML="Error:E119190")},window.showDesignerBillingSetup=function(){window.Weebly.Restrictions.isDesignerMaster?(e("designer-billing-setup-body").update("Before publishing your first website live, you need to setup a billing method."),e("setup-buttons-master").show(),e("setup-buttons-admin").hide()):(e("designer-billing-setup-body").update(window._W.utl("html.weebly.libraries.weebly_utils_17")),e("setup-buttons-master").hide()),new window.Weebly.Dialog(e("designer-billing-setup"),{modal:!0}).open()},window.getInnerWidth=function(e){return e.offsetWidth-(parseInt(e.getStyle("border-left-width"))||0)-(parseInt(e.getStyle("border-right-width"))||0)-(parseInt(e.getStyle("padding-left"))||0)-(parseInt(e.getStyle("padding-right"))||0)},window.ensureObject=function(e){return e=e||{},0===e.length&&(e={}),e},window.hashEach=function(e,t){window.$H(e).each(function(e){t(e.key,e.value)})},window.hashMap=function(e,t){var n={};return window.$H(e).each(function(e){n[e.key]=t(e.key,e.value)}),n},window.hashSearch=function(e,t){if(!t)return window.$H(e).values()[0];if("object"!=typeof t)return e[t];for(var n in e){var i=e[n];if("object"==typeof i)for(var o in t){var r=t[o];if("function"!=typeof r&&i[o]==r)return i}}},window.arraySearch=function(e,t){if(!t)return e[0];if("object"==typeof t)for(var n=0;n<e.length;n++){var i=e[n];if("object"==typeof i)for(var o in t){var r=t[o];if("function"!=typeof r&&i[o]==r)return i}}},window.preventParentScroll=function(e){window.attachMousewheelListener(e,function(t,n){Event.stop(t),e.scrollTop-=n})},window.attachMousewheelListener=function(e,t){var n=function(e){var n=e.wheelDelta?e.wheelDelta/4:-(e.detail||0);return t.call(this,e,n)};e.observe(window.getMousewheelEventName(),n)},window.getMousewheelEventName=function(){var e="_mousewheelEventName",t="mousewheel",n="DOMMouseScroll";if(!window[e]){var i=document.createElement("div");window[e]=void 0!==i["on"+t]?t:n,i=null}return window[e]},window.getTextNodesIn=function(e,t){function n(e){if(3==e.nodeType)!t&&o.test(e.nodeValue)||i.push(e);else for(var r=0,s=e.childNodes.length;r<s;++r)n(e.childNodes[r])}var i=[],o=/^\s*$/;return n(e),i},window.doEvent=function(e){new window.Ajax.Request(window.ajax,{parameters:{pos:"doevent",event:e,cookie:document.cookie,token:window.Weebly.RequestToken}})},window.confirmBouncedEmail=function(e,t){var n=e.getOffsetParent().id.replace("user-note-","");window.removeUserNote(n),new window.Ajax.Request(window.ajax,{parameters:{pos:"confirmBouncedEmail",email:t,cookie:document.cookie,token:window.Weebly.RequestToken}})},window.preventAJAX=function(){if(window.inEditor&&window.inEditor()){var e=n(13);if(e.chromeless)try{throw new Error("Invalid ajax request attempted in script")}catch(e){return console.log(e.message),!0}}return!1},window.formatMoney=function(e,t,n){var i="",t=t||"USD",o=parseFloat(e);n=n?n.replace("_","-"):"en-US";try{i=o.toLocaleString(n,{style:"currency",currency:t})}catch(e){i=o.toLocaleString("en-US",{style:"currency",currency:t})}return"MXN"==t&&(i=i.replace(/(MX)?\$/,"MX$")),"CAD"==t&&(i=i.replace(/(CA)?\$/,"CA$")),"AUD"==t&&(i=i.replace(/(A)?\$/,"A$")),i},window.isProtocolSecure=function(){return"https:"==document.location.protocol}}).call(t,n(22))},function(e,t,n){var i,o;i=[n(1),n(2),n(7),n(26),n(12),n(19)],o=function(e,t,n,i,o,r){function s(e){return _=null,e&&(_=e,T=h(_),y=!0),E=null,_}function a(e){for(var n in O)delete O[n];T=e,t.each(T,l)}function l(e){var n=function(n){t.each(n.elements,function(t){t.area=e,n.section_id&&(t.section_id=n.section_id),c(t)})};e.sections?t.each(e.sections,function(e){n(e)}):n(e)}function c(e){O[e.id]=e,e.children&&t.each(e.children,function(t){t.area=e.area,t.parent=e,c(t)}),e.columns&&t.each(e.columns,function(t){t.el=e,u(t)})}function u(e){t.each(e.elements,function(t){t.parentColumn=e,t.area=e.el.area,c(t)})}function d(){return y?e.Deferred().resolve(T).promise():b.getPageData().then(h)}function h(e){return e&&a(e.areas),T}function p(e){D=e}function f(){D=null}function m(){return O}function g(e){b.setElementData(e,e.id)}function v(e){return{page_element_id:e.id}}var b={},w=null;b.init=function(e){w||(w=e,w.vent.on({"editor:spotlight:open":p,"editor:spotlight:close":f,"section:remove:after section:add:after":b.clearPageDataCache}),n.on({"section:remove:after section:add:after":b.clearPageDataCache}))};var y=!1,_,E=null,T;b.clearPageDataCache=function(){y=!1,C=!1},b.getPageData=function(){if(E)return E;if(!y){var t=i.inSiteContext()?w:n;return E=e.when(t.request("page:getDimensions")),E.then(s)}return e.Deferred().resolve(_).promise()};var C=!1,S,I=null;b.getPageSectionData=function(){if(I)return I;if(!C){var t=i.inSiteContext()?w:n;return I=e.when(t.request("page:getSectionDimensions")),I.then(function(e){return S=null,e&&(S=e,C=!0),I=null,S})}return e.Deferred().resolve(S).promise()};var O={};b.getSectionData=function(){return C?e.Deferred().resolve(S).promise():b.getPageSectionData()},b.getAreasByName=function(e){return d().then(function(n){return t.where(n,{name:e})})},b.getAreasByType=function(e){return d().then(function(n){return t.where(n,{type:e})})},b.getAreasWhere=function(e){return d().then(function(n){return t.where(n,e)})};var D=null;return b.getActiveContentAreas=function(){if(D){if(D.id)return b.getElementById(D.id).then(function(e){return[{element:e,elements:e.children,empty:0==e.children.length,top:e.top,left:e.left,height:e.height,width:e.width,parentString:e.content_field_id+"-form-list"}]});if(D.name)return b.getAreasByName(D.name)}return d().then(function(e){return t.difference(t.where(e,{type:"content"}),t.where(e,{name:"footer"}))})},n.on({"editor:spotlight:open":p,"editor:spotlight:close":f}),b.getElements=function(){return d().then(m)},b.getElementById=function(e){return d().then(function(){return O[e]})},b.setContextData=function(e){e&&(w||b.init(e.currentApp),t.each(e.elementsByID,b.setElementData))},b.setElementData=function(e,n){e instanceof r&&(b.getElementById(n).done(function(t){e.elData=t}),t.each(e.columns,function(e){t.each(e,g)}),t.each(e.children,g))},b.getColumnData=function(e,n){var i,r=[n];if(e.column){i=t.map(e.el.columns,function(e){if(1!==e.elements.length||e.elements[0].id!==n.page_element_id){var i=t.map(e.elements,function(e){if(e.id!==n.page_element_id)return v(e)});return t.filter(i,t.identity)}});var s=e.column_id?e.column_index:0;e.position===o.POSITION_RIGHT&&s++,i.splice(s,0,r),i=t.filter(i,t.identity)}else i=[[v(e.el)]],i.splice(e.position===o.POSITION_RIGHT?1:0,0,r);return i},b.isChildOf=function(e,t){return e.id===t||(e.parentColumn?b.isChildOf(e.parentColumn.el,t):!!e.parent&&b.isChildOf(e.parent,t))},b.isChildOfMultiColumn=function(e){return!!e.parentColumn||!!e.parent&&b.isChildOfMultiColumn(e.parent)},b.flattenElements=function(e,n){function i(e){e.id&&o.push(e),o.push.apply(o,b.flattenElements(e))}var o=[];return t.isArray(e)&&t.each(e,i),t.each(e.sections,i),t.each(e.columns,i),n&&e.spotlighted||t.each(e.elements,i),n&&e.spotlighted||e.platform_element_id||t.each(e.children,i),o},b.whenImageLoaded=function(t){t instanceof HTMLImageElement||(t=this);var n=e.Deferred(),i=n.promise();if(t.complete)return n.resolve(t),i;var o=setTimeout(n.reject.bind(n),15e3);return e(t).one({load:function(){clearTimeout(o),n.resolve(this)},error:function(){clearTimeout(o),n.reject(this)}}),i},b.detectImageAlign=function(t){t=e(t);var n=t.offset().left,i=n+t.width(),o=t.attr("style");t.css({height:t.height()+"px",width:"1px","max-width":""});var r=t.offset().left,s;return s=r==n?"left":r+1==i?"right":"center",t.attr("style",o),s},b}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(24),n(71),n(12),n(41)],o=function(e,t,n,i,o,r){var s={getSectionIdFromAreaInstance:function(e){var t;if(e&&e.el)return t=e.el.parentElement,t.getAttribute("data-section")},getElementAreaInstanceFromSectionId:function(e,t){var n;if(e&&(n=t.sections.get(e)))return n.get("elementArea")},themeSupportsSections:function(e){return t.any(t.values(e.page_type_templates),this.pageHasSectionsMarkup)},pageHasSectionsMarkup:function(e){return!!e&&e.has_sections},pageHasHeaderSection:function(e){return e.has_header_section},pageHasDroppableSections:function(e,t){return e.has_sections&&"page"===t},isHeaderSectionSupported:function(e){var n=t.findWhere(e,{type:"content",name:o.HEADER_SECTION_TAG_NAME});return!!n},getPrefix:function(){var e=window.currentPageType;return n.currentThemeData.page_type_templates[e].section_prefix_mustache},getPostfix:function(){var e=window.currentPageType;return n.currentThemeData.page_type_templates[e].section_postfix_mustache},normalizeEmptyAreaSections:function(e,t){var n=[];if(!e)return e;for(var i=0,o=e.length;i<o;i++)"content"===e[i].type&&e[i].sections&&!e[i].name&&(n=t.map(function(t){var n=t.get("section_id"),o=e[i].sections[n]?e[i].sections[n]:[],r=t.toJSON();return r.elements=o,r}),t.length&&(e[i].sections=n));return e},combineSectionElementsToElements:function(e){var n=[];if(e)for(var i=0,o=e.length;i<o;i++)"content"===e[i].type&&e[i].sections&&!e[i].name&&(t.each(e[i].sections,function(e){n.push(e)}),t.flatten(n,!0),delete e[i].sections,e[i].elements=n,n=[])},mergeBackgroundData:function(e,n,i){var o={};return e=t.isArray(e)?{}:e,n=t.isArray(n)?{}:n,o=t.clone(e),t.each(n,function(e,t){var n=i;t&&(n=n+"-"+t),o[n]=e}),o},mergeVideoBackgroundData:function(e,n,i){var o={};return n?(e=t.isArray(e)?{}:e,t.each(n,function(e,t){var n=i+"-"+t;o[n]=this.generateVideoStillImage(e.background_url,e.encoding_done===!1)},this),t.extend({},e,o)):e},generateVideoStillImage:function(e,t){return{image:{url:e,filename:"",isStock:!1},position:"fill",loading:t===!0}},resizeEmptyMessage:function(n,i,r){if(r||(r=n.find(".empty-element-message")),r.length){t.isNumber(i)&&!t.isNaN(i)||(i=this.getSectionInnerHeight(n));var s=r.parentsUntil(n).get().reduce(function(t,n){var i=e(n);return t+i.outerHeight()-i.height()},0),a=Math.max(i-s,0);r.height(a).children("span").css("display",a>=o.MIN_EMPTY_MESSAGE_HEIGHT?"":"none")}},getSectionInnerHeight:function(n,i){t.isNumber(i)&&!t.isNaN(i)||(i=n.height());var r=n.find("."+o.SECTION_CONTENT_CLASS_NAME),s=r.find("*").addBack().map(function(){return e(this).outerHeight(!0)}).get(),a=Math.max.apply(Math,s),l=r.outerHeight(),c=Math.max(0,a-l);return i-c},shouldShowEditMode:function(t){var n=e(t.target);return n.closest(".empty-element-message").length||!n.parents(".weebly-content-area").length&&!r.isElementSettingsOpen()&&!e("#editMenu:visible").length},clearSectionStyling:function(e){this.clearSectionAttributes(e),e.attr("style","")},clearSectionAttributes:function(e){e.removeClass([o.SECTION_BACKGROUND_VIDEO_CLASS_NAME,o.SECTION_BACKGROUND_COLOR_CLASS_NAME,o.SECTION_BACKGROUND_GRADIENT_CLASS_NAME,o.SECTION_BACKGROUND_IMAGE_CLASS_NAME,"is-loading"].join(" ")),i.destroyVideoBackground(e)},previewBackgroundVideo:function(e,t){this.clearSectionAttributes(e),i.applyBackgroundVideo(e,t,!0),e.addClass(o.SECTION_BACKGROUND_VIDEO_CLASS_NAME)}};return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(7),n(18),n(16),n(51)],o=function(e,t,n,i,o){var r=n,s=r.prototype,a=r.extend({model:o,useServerGeneratedDefaultsFor:"Category",fetch:function(e){e=e||{},e.force&&delete a._fetchPromise;var t=this,n=a._fetchPromise;return n?n.done(function(){t.reset(l.models)}):(n=a._fetchPromise=s.fetch.apply(t,arguments),n.done(function(){t.each(function(e){e.createSavepoint()})}),n.done(function(e){l.reset(e.data)}).fail(function(){delete a._fetchPromise})),n},state:{pageSize:null},setSearchText:function(e){if(e)this.searchQuery?this.searchQuery.value="%"+e+"%":(this.blockStorefront={property:"site_category_id",comparison:"!=",value:_W.Commerce.storefrontSettings.get("storefront_category_id")},this.fetchOptions.filter.push(this.blockStorefront),this.searchQuery={property:"name",comparison:"LIKE",value:"%"+e+"%"},this.fetchOptions.filter.push(this.searchQuery));else{if(this.searchQuery){var t=this.fetchOptions.filter.indexOf(this.searchQuery);this.fetchOptions.filter.splice(t,1),this.searchQuery=null}if(this.blockStorefront){var t=this.fetchOptions.filter.indexOf(this.blockStorefront);this.fetchOptions.filter.splice(t,1),this.blockStorefront=null}}}},{count:function(){var t=e.Deferred(),n=new a;return n.fetch().done(function(){t.resolve(n.length)}),t.promise()}});t.reqres.setHandlers({"editor:commerce:categories:fetch":function(e){var t=new a;return t.fetch(e).then(function(){return t.toJSON()})}}),t.commands.setHandlers({"editor:commerce:categories:force":function(e){delete a._fetchPromise}});var l=new a;return i.vent.on({"create:category":function(e){l.add(e)},"delete:category":function(e){l.remove(e)}}),a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(50),n(88),n(119)],o=function(e,t,n,i){var o=t.extend(e.extend({},n.Mixin,{className:"alert confirm",template:"<div class='alert__content'>\n\t{{#title}}\n\t\t<h2 class='alert__title'>\n\t\t\t{{title}}\n\t\t</h2>\n\t{{/title}}\n\t{{#message}}\n\t\t<div class='alert__paragraph'>\n\t\t\t{{message}}\n\t\t</div>\n\t{{/message}}\n\t{{#messageHtml}}\n\t\t<div class='alert__paragraph'>\n\t\t\t{{{messageHtml}}}\n\t\t</div>\n\t{{/messageHtml}}\n   <div class='confirm__buttons'>\n\t    {{{cancelButtonHtml}}}\n\t    {{{proceedButtonHtml}}}\n   </div>\n</div>",zIndex:9999,isModal:!0,hAlignment:"center",vAlignment:"center",vAlignmentTopClassName:"alert--v-top",vAlignmentCenterClassName:"alert--v-center",proceedText:"Continue",cancelText:"Cancel",events:{"click .btn--primary":"proceed","click .btn--cancel":"cancel"},getRenderData:function(){return{title:this.queryOption("title"),message:this.queryOption("message"),messageHtml:this.queryOption("messageHtml"),proceedButtonHtml:this.renderProceedButtonHtml(),cancelButtonHtml:this.renderCancelButtonHtml()}},resetFocus:function(){this.$el.find(".btn--primary").focus()},proceed:function(){var e=this;return this._trigger("before:proceed").then(function(){return e.close()}).then(function(){e._trigger("proceed")})},cancel:function(){var e=this;return this._trigger("before:cancel").then(function(){return e.close()}).then(function(){e._trigger("cancel")})},promise:function(){var t=e.Deferred();return this.once("proceed",function(){t.resolve()}),this.once("cancel",function(){t.reject()}),t.promise()}}));return o.confirm=function(e){var t=new o(e);return t.open(),t.promise()},i.prototype.confirm=function(t){t=e.extend({vAlignment:"top"},t);var n=new o(t);return this.openOverlay(n),n.promise()},o}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2),n(5)],o=function(e,t){var n={settings:{},services:[],source:"main",userSource:window.source,level:0,freeLevel:0,defaultSource:"main",disabledLevel:1e7,defaultLevel:"all",connectLevel:3,starterLevel:5,proLevel:10,businessLevel:15,performanceLevel:20,maxUpgradableLevel:20,maxPromoteServiceName:"promoteAccelerate",designerSitesService:"Weebly.designerSites",unlimitedValue:"-1",freeTrialBlockedFeatures:["existing_domain","site_ssl"],allowedPerformanceCommerceSources:["main","developer"],hasAccess:function(e){var i=n,o=i.getMinimumLevel(e),r=t.Location&&t.Location.google_domains.length>0;return!(!r||"existing_domain"!==e)||!i.featureBlockedByFreeTrial(e)&&i.level>=o},hasService:function(e){var t=n;return t.level==e||t.services.indexOf(e)!=-1},getResellerPlans:function(){var e=n,t=[e.freeLevel,e.starterLevel,e.proLevel,e.businessLevel,e.performanceLevel],i=[];for(index in t)planid=t[index],i.push({plan:planid,name:e.levelToName(planid)});return i},accessValue:function(e){var t=n;if(!t.settings[e])return"";for(var i="",o=t.level;o>=t.freeLevel;o--)if(i=t.settings[e][source]&&"undefined"!=typeof t.settings[e][source][o]?t.settings[e][source][o]:t.settings[e][t.defaultSource][o],"undefined"!=typeof i)return i;return""},isUnlimited:function(e){var t=n,i=t.accessValue(e);return i==t.unlimitedValue},featureEnabled:function(e){var t=n,i=t.getMinimumLevel(e);return!t.featureBlockedByFreeTrial(e)&&i!=t.disabledLevel},isUpgradable:function(e){var t=n;if(!t.settings[e])return!1;var i=t.settings[e][source]?source:t.defaultSource,o=!1;if(!t.settings[e][i])return!1;var r=t.settings[e][i].minimum_level;return void 0!==r?!(r===t.disabledLevel||r<=t.level)&&r:(Object.keys(t.settings[e][i]).forEach(function(e){!o&&!isNaN(parseFloat(e))&&e>t.level&&(o=e)}),o)},hasHigherLevelAvailable:function(){var e=n;return e.level<e.maxUpgradableLevel},getMinimumLevel:function(e){var t=n;if(!t.settings[e])return t.freeLevel;var i=t.settings[e][source]?source:t.defaultSource,o=t.settings[e][i].minimum_level;return o||t.freeLevel},requiredService:function(e){var t=n;return t.getMinimumLevel(e)},requiresUpgrade:function(e){var t=n,i=t.getMinimumLevel(e);return i&&i!=t.freeLevel},addService:function(e){var t=n;t.services.push(e)},removeService:function(e){var t=n;t.services=t.services.without(e)},hasNewElementAccess:function(e){var t=n;return(!t.requiresUpgrade(e)||!t.expired_trial)&&t.hasAccess(e)},getSiteLimit:function(){var e=n;return e.siteLimit&&e.siteLimit>0?e.siteLimit:e.accessValue("site_limit")},levelToName:function(e){var i=n;switch("string"==typeof e&&(e=parseInt(e)),e){case i.freeLevel:return t.utl("billing.plans.names.free");case i.connectLevel:return t.utl("billing.plans.names.connect");case i.proLevel:return t.utl("billing.plans.names.pro");case i.starterLevel:return t.utl("billing.plans.names.starter");case i.businessLevel:return t.utl("billing.plans.names.business");case i.performanceLevel:return t.utl("billing.plans.names.performance");default:return""}},getNextLevel:function(e){var t=n;switch(e){case t.freeLevel:case t.connectLevel:return t.starterLevel;case t.starterLevel:return t.proLevel;case t.proLevel:return t.businessLevel;case t.businessLevel:return t.performanceLevel;case t.performanceLevel:default:return!1}},hasConnect:function(){var e=n;return e.level>=e.connectLevel},hasStarter:function(){var e=n;return e.level>=e.starterLevel},hasPro:function(){var e=n;return e.level>=e.proLevel},hasBusiness:function(){var e=n;return e.level>=e.businessLevel},hasPerformance:function(){var e=n;return e.level>=e.performanceLevel},hasFreeRestrictions:function(){var e=n;return 0==e.level||e.is_trial},featureBlockedByFreeTrial:function(e){var t=n;if(!t.is_trial)return!1;for(var i=0;i<t.freeTrialBlockedFeatures.length;i++)if(t.freeTrialBlockedFeatures[i]==e)return!0;return!1},canAcceptPayments:function(){var e=n;return e.hasBusiness()||e.migrated_paypal},isServiceUpgradabale:function(e){var t=n,i="premium"===e.product_group,o=e.site_id,r=e.level;if(i&&o&&r<t.maxUpgradableLevel)return!0;var s="promote"===e.product_group;return s&&e.name!==t.maxPromoteServiceName}};return n=e.extend(n,t.Restrictions),t.Restrictions=n,n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(6),n(24),n(125),n(7),n(149),n(150)],o=function(e,t,n,i,o,s,a){var l={isMobileView:!1},c="",u=function(e,t){setTimeout(function(){"function"==typeof e&&e.apply(this,t)},1)};return l.setMobileView=function(n,i){l.isMobileView||(e("#w-editor-mobile").show(),e("body").addClass("w-mobile-editor"),a.getSiteSetting("allow_mobile")!==!1&&s.hideElement(),t.vent.once("themeRendered",function(){a.getSiteSetting("allow_mobile")!==!1&&s.showElement(),u(n,i)},this),window.ENABLE_PAGE_HIERARCHY=!1,l.isMobileView=!0,c=currentThemeColor,t.vent.trigger("setMobileView"),e("#w-editor-mobile").show(),e("body").addClass("w-mobile-editor"),e(".device-switcher").addClass("mobile-selected"),e("#wsite-web-view").removeClass("weebly-current"),e("#wsite-mobile-view").addClass("weebly-current"),e("#designOptionsStyle").remove(),t.vent.trigger("viewChange"),e("#menuitem-cc").hide())},l.setStandardView=function(d,h){l.isMobileView&&(r("#w-editor-top").find("#device_switcher").find(".icon:not(.dropdown)").text("devicedesktop"),a.getSiteSetting("allow_mobile")!==!1&&s.hideElement(),t.vent.once("themeRendered",function(){a.getSiteSetting("allow_mobile")!==!1&&s.showElement(),u(d,h)},this),l.isMobileView=!1,window.ENABLE_PAGE_HIERARCHY=!0,n.setCurrentTheme(currentStandardTheme,!1),currentThemeColor=c,t.vent.trigger("setStandardView"),t.vent.trigger("forceThemeRerender"),updateList(currentPage,!0),e(".device-switcher").removeClass("mobile-selected"),setTimeout(function(){e("body").removeClass("w-mobile-editor")},0),e("#wsite-mobile-view").removeClass("weebly-current"),e("#wsite-web-view").addClass("weebly-current"),i.applyDesignOptions(),e("#blog-navigation, #blog-navigation-placeholder").show(),o.execute("element:setHandlers"),t.vent.trigger("viewChange"),e("#menuitem-cc").show(),e("#w-editor-mobile").hide())},window.Weebly||(window.Weebly={}),window.Weebly.view=l,l}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(1))},,,,function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(22),__webpack_require__(1),__webpack_require__(2),__webpack_require__(9),__webpack_require__(13),__webpack_require__(6),__webpack_require__(14),__webpack_require__(646),__webpack_require__(338),__webpack_require__(112),__webpack_require__(97),__webpack_require__(70),__webpack_require__(23),__webpack_require__(168),__webpack_require__(35),__webpack_require__(153),__webpack_require__(283),__webpack_require__(114),__webpack_require__(7),__webpack_require__(74),__webpack_require__(12),__webpack_require__(128),__webpack_require__(225),__webpack_require__(643),__webpack_require__(27)],__WEBPACK_AMD_DEFINE_RESULT__=function(P$,jQuery,_,Backbone,Config,editorApp,frameApp,PlatformElementOptionsView,ElementOptionsView,ElementSettingModel,ImageControls,ImageUtils,ElementUtils,Definitions,View,AjaxModule,DeadClickSpotlight,ElementSpotlight,Relay,Slideshow,UICONST,CommerceModule,BaseElementOptionsView,ElementPropertyConverter){function validateFunction(){window.validateOK()}function refreshCustomHtml(e,t){var n=P$("custom-frame-"+e),i=n.contentWindow.setContent;t.match(/\Wscript\W/i)&&n.src?(jQuery(n).load(function(){i(t,!0)}),n.contentWindow.location.reload(!0)):i(t)}function hideNonMatchingModeProperties(e){var t=CommerceModule.storefrontSettings.get("element_legacy_mode"),n=function(e){_.each(e,function(e){_.has(e,"legacyMode")&&e.legacyMode!==t&&(e.hidden=!0),e.properties&&n(e.properties)})};return _.each(e.manifest.elements,function(e){e.settings.properties&&n(e.settings.properties)}),e}var exports={Version:"0.1",Author:"David Rusenko",Company:"Weebly, Inc.",propertyContainer:null,currentElement:null,currentValidateFunction:null,currentSaveValidateFunction:null,currentCustomProperties:[],editing:null,customHTML:[],upload:0,skipRerender:!1,isFormDirty:!1,unsyncedProperties:{},useNewSettingsPopup:!1,init:function(e){this.propertyContainer=e.propertyContainer},selectElement:function(e,t){var n=this,i;e=P$(e),(e!==this.currentElement||t)&&jQuery.when(exports.unselectElement()).always(function(){if(n.isSelectableElement(e)){n.currentElement=e,n.currentCustomProperties=[];var t=P$(e.id+"-form-parent");t||Config.chromeless||(i=jQuery(e).closest("li.inside"),i.addClass("inside-active"),i.parents("li.inside").addClass("inside-child-active")),n.generateProperties(e),ImageControls.show(e)}})},isPlatformElement:function(){return null!==this.currentElement&&this.currentElement.dataset&&"string"==typeof this.currentElement.dataset.platformPeid},unselectElement:function(e){var t;if(this.currentElement){var n=jQuery(this.currentElement).closest("li.inside");n.removeClass("inside-active"),n.parents("li.inside").removeClass("inside-child-active");var i=ElementUtils.getElementObject(exports.currentElement.up("li.inside"));if(i&&i.unselect&&i.unselect(),ImageControls.hide(this.currentElement),this.editing&&exports.hideCustomHTML(this.ucfid,this.editing,this.uproperty.properties[this.editing].ucfpid),frameApp.vent.trigger("editor:elements:unselect",this.idfield.eid),"36391960"==this.idfield.eid){var o;"text"==this.uproperty.properties[96630555].property_result?o="TextOnly":"image"==this.uproperty.properties[96630555].property_result?o="ImageOnly":"text_image"==this.uproperty.properties[96630555].property_result&&(o="TextAndImage"),new Ajax.Request(AjaxModule.ajax,{parameters:{pos:"saveadsense",cookie:document.cookie,cfid:this.uproperty.properties.cfid,backgroundColor:this.uproperty.properties[53687540].property_result,borderColor:this.uproperty.properties[52715841].property_result,textColor:this.uproperty.properties[60388297].property_result,titleColor:this.uproperty.properties[10290183].property_result,urlColor:this.uproperty.properties[34189825].property_result,adUnitType:o,layout:this.uproperty.properties[81070942].property_result,elementid:this.idfield.id},onFailure:AjaxModule.errFunc,bgRequest:!0})}if(Relay.execute("linker:close"),jQuery(document.activeElement).blur(),""==this.currentSaveValidateFunction||this.closeOnValidate||!this.textChange&&!this.mapChange){this.mapChange=null,this.closeOnValidate=null;var r=this,s=this.currentElement.id,a=r.isFormDirty;t=jQuery.when.apply(jQuery,[Relay.request("dontSave:get"),Relay.request("xhrUploading:get")]).then(function(t,n){var i=null;return e||t||s===n?Relay.execute("dontSave:set",null):i=r.saveProperties(),i}).always(function(){a&&(r.isFormDirty=!1,r.continueOnChange()),r.currentElement=null,r.currentValidateFunction=null,r.currentSaveValidateFunction=null,ElementUtils.repositionElements()}),(BaseElementOptionsView.isElementSettingsOpen()||r.useNewSettingsPopup)&&r.hideElementSettings()}else this.textChange=null,this.mapChange=null,validateFunction(),this.closeOnValidate=1}return this.isFormDirty=!1,t},setCurrentElement:function(e){if(e!=this.currentElement){var t=this;jQuery.when(exports.unselectElement()).always(function(){t.currentElement=e,t.currentCustomProperties=[],t.extractElementProperties(e)&&Definitions.fetchDefinition(t.idfield.eid,function(e){exports.handlerGenerateProperties({eid:t.idfield.eid,ucfid:t.ucfid,userProperties:t.uproperty,elementDef:e,render:!1})},!0)})}},generateProperties:function(e){if(this.currentElement&&this.extractElementProperties(e)){var t=this,n=jQuery(e);if(n.attr("data-platform-peid")){var i=n.children(".platform-element-contents").eq(0);if(i&&i.attr("data-platform-element-id")){var o=i.attr("data-platform-element-id").split("-")[0];Relay.request("platform:element:isDisconnected",o).done(function(e){e===!0?t.unselectElement(!0):Definitions.fetchDefinition(t.idfield.eid,function(e){exports.handlerGenerateProperties({eid:t.idfield.eid,ucfid:t.ucfid,userProperties:t.uproperty,elementDef:e,render:!0})},!0)})}}else Definitions.fetchDefinition(t.idfield.eid,function(e){exports.handlerGenerateProperties({eid:t.idfield.eid,ucfid:t.ucfid,userProperties:t.uproperty,elementDef:e,render:!0})},!0)}},_setValidateFunctions:function(e,t,n,i){var o="";this.useNewSettingsPopup&&(o="platform-settings-tooltip-"),this.currentContentFieldDef=e.contentfields[n],this.currentValidateFunction=this.currentContentFieldDef.elementonChangeJs.replace(new RegExp("%%ELEMENTID%%","gi"),t),this.currentSaveValidateFunction=this.currentContentFieldDef.elementJs.replace(new RegExp("%%ELEMENTID%%","gi"),t);for(var r=e.contentfields[n].contentFieldProperties,s=0;s<r.length;s++){var a=r[s],l=a.cfpid,c=i.properties[l];""!=a.referenceProperty&&(this.currentValidateFunction=this.currentValidateFunction.replace(new RegExp(a.referenceProperty,"gi"),o+c.ucfpid),this.currentSaveValidateFunction=this.currentSaveValidateFunction.replace(new RegExp(a.referenceProperty,"gi"),o+c.ucfpid))}},handlerGenerateProperties:function(options){var elementDef=options.elementDef,ucfid=options.ucfid,userProperties=options.userProperties,render=options.render||!1,hiddenProperties=[];if(this.currentElement){"5699726"===elementDef.elementid&&(elementDef=hideNonMatchingModeProperties(elementDef)),this.elementDef=elementDef;var cfid=userProperties.cfid;this._setValidateFunctions(elementDef,ucfid,cfid,userProperties);var allProperties=elementDef.contentfields[cfid].contentFieldProperties;if(render){var visibleProperties=jQuery.grep(allProperties,function(e){return 1!=e.hidden});if(visibleProperties.length){""!=this.currentValidateFunction&&(this.currentValidateFunction=eval("("+this.currentValidateFunction+")")),""!=this.currentSaveValidateFunction&&(validateFunction=eval("("+this.currentSaveValidateFunction+")"));var isEmptyImage=!1;if(ImageUtils.isImageElement(elementDef.elementid)){var srcProperty=ElementUtils.getContentFieldProperty(this.ucfid,"<!SRC!>");srcProperty&&(isEmptyImage=!!/\/na\.jpg$/.test(srcProperty.property_result)||!!/\/na\.png$/.test(srcProperty.property_result))}var isEmptyProductsElement=this.isEmptyProductsElement();this.disableElementOptions||isEmptyProductsElement||isEmptyImage&&"61719152"!==elementDef.elementid||this.renderElementOptions(elementDef,visibleProperties,allProperties,userProperties);
}DeadClickSpotlight.show({element:jQuery("#"+ucfid).closest("li.inside")}),ElementUtils.repositionElements()}}},renderElementOptions:function(e,t,n,i){editorApp.vent.trigger("editor:element:props:show");var o="%%ELEMENTSETTINGS%%"===t.first().property,r=e.manifest;o?this.showPlatformElementOptions(this.currentElement):(jQuery.isEmptyObject(r)&&(r=ElementPropertyConverter.convertToManifest(this.currentContentFieldDef.contentFieldProperties,e.displayname,e.elementid)),r&&this.showElementOptions(this.currentElement,r))},showElementOptions:function(e,t){if(!jQuery.isEmptyObject(t)){window.closePlatformSettingsPanel(),Weebly.Elements.currentElement=e;var n=jQuery(e).attr("id"),i=t.elements[0];new ElementOptionsView({collection:new Backbone.Collection(i.settings.properties,{model:ElementSettingModel}),model:new Backbone.Model(i.settings.config||{}),elementId:n,name:i.name,description:i.settings.description,element:e}),frameApp.vent.trigger("editor:elements:options:show",this.idfield.eid,this.uproperty.cfid,this.ucfid)}},showPlatformElementOptions:function(e){window.closePlatformSettingsPanel(),exports.currentElement=e;var t=jQuery("#"+e.id).closest(".element"),n=t.data("platform-peid");Weebly.Editor.RPC.PlatformElementInstance.getEditorSettings(n).done(function(t){var i=t.data,o=i?i.properties||[]:[],r=i?i.config||{}:{},s=i?i.config.name:"",a=i?i.tutorial:null,l=i?i.description:null;new PlatformElementOptionsView({collection:new Backbone.Collection(o,{model:ElementSettingModel}),model:new Backbone.Model(r||{}),name:s,peid:n,element:e,tutorial:a,description:l})})},getCurrentImageElement:function(){if(this.currentElement){var e={};return e="IMG"==this.currentElement.tagName?P$(this.ucfid+""):this.currentElement.getElementsByTagName("IMG")[0]}},saveProperties:function(e){if(!Config.chromeless&&this.currentElement){var t=exports.elementDef.elementid,n=this.ucfid,i=JSON.stringify(this.pfield.properties);if(e){var o=ElementUtils.getElementObject(this.idfield.id);o.rerenderContentField(this.uproperty,this.currentElement,null,this.unsyncedProperties)}this.idfieldNode.value=JSON.stringify(this.idfield).replace(/"/g,"'"),this.unsyncedProperties={},Weebly.Editor.RPC.Elements.saveProperties(n,i).done(function(e){if(e.result===!1&&e.error)return void window.showDeniedAction(e.error)}).fail(AjaxModule.errFunc)}},onTextChange:function(e,t,n){if(this.currentElement){this.skipRerender="undefined"!=typeof n&&n,this.textChange=1;var i=P$(e);"undefined"==typeof t?(this.onTextChangeTracking=e,setTimeout(function(){exports.onTextChange(e,i.value,n)},1500)):i&&i.value&&i.value==t||""==i.value&&""==t?(this.onTextChangeTracking=null,exports.onChange(e,void 0,n)):e!=this.onTextChangeTracking&&setTimeout(function(){exports.onTextChange(e,i.value,n)},1500)}},onChange:function(e,t){if(this.currentElement){if("7423607"==exports.elementDef.elementid&&(this.isFormDirty=!0),"5699726"!==exports.elementDef.elementid&&"49312965"==t&&CommerceModule.storefrontSettings.get("element_legacy_mode")){var n=$F(e),i={grid:"164px",small:"125px",large:"225px",long:"175px"}[n],o="36068137",r=this.uproperty.properties[o].ucfpid;this.pfield.properties[o].property_result=i,this.unsyncedProperties[r]=i}Object.keys(exports.elementDef.manifest).length>0&&""!=this.currentValidateFunction&&"function"==typeof this.currentValidateFunction&&this.currentValidateFunction(e),""!=this.currentSaveValidateFunction&&null!=this.currentSaveValidateFunction?validateFunction():this.continueOnChange()}},continueOnChange:function(){if(this.currentElement||this.currentContentFieldDef){for(var e=this.currentContentFieldDef.isLegacy,t=0;t<this.currentContentFieldDef.contentFieldProperties.length;++t){var n=this.currentContentFieldDef.contentFieldProperties[t].cfpid;if(this.uproperty.properties[n]){var i=this.uproperty.properties[n].ucfpid,o=this.currentContentFieldDef.contentFieldProperties[t],r,s="",a="";if(this.isPlatformElement()||this.useNewSettingsPopup)r=P$("platform-settings-tooltip-"+i);else if(e)r=P$(i);else{if(_.contains(UICONST.IMAGE_LINK_LIGHTBOX_CFPIDS,n)){var l=editorApp.request("element:options:get:ucfpid",i+"-lightbox"),c=editorApp.request("element:options:get:ucfpid",i+"-link");if("1"===l){var u="http://weebly-image-full/"+Weebly.Elements.ucfid;s="<a"+(u?" href='"+u+"'":"")+">"}else s="undefined"!=typeof c&&c.length>0?c:"<a>"}else s=editorApp.request("element:options:get:ucfpid",i);!s&&P$(i)&&P$(i).value&&(s=P$(i).value),"undefined"!=typeof s&&s===Weebly.Elements.uproperty.properties[n].property_result&&(s=void 0)}P$("cfpid-"+n)?(a=P$("cfpid-"+n).value,this.pfield.properties[n].property_result=a):r&&(r.value||""==r.value)?(a=r.value,this.pfield.properties[n].property_result=a,this.unsyncedProperties[i]=a):"undefined"!=typeof s?(a=s,this.pfield.properties[n].property_result=a,this.unsyncedProperties[i]=a):"%%CUSTOMHTML%%"==o.options&&(a=P$(i+"CustomHTML").value,this.pfield.properties[n].property_result=a,this.unsyncedProperties[i]=a),"%%URICOMPONENT%%"==o.options&&(a=this.unsyncedProperties[i],""!==a&&(a=encodeURIComponent(a),this.pfield.properties[n].property_result=a,this.unsyncedProperties[i]=a))}}var d=ElementUtils.getElementObject(this.idfield.id),h=this.uproperty;if(this.currentElement&&!this.skipRerender&&!this.isFormDirty){var p=this.currentElement.select(".editable-text")[0];p&&p.id==window.currentBox&&(window.currentBox=null),d.rerenderContentField(h,this.currentElement,null,this.unsyncedProperties),d.children&&d.children.length&&setTimeout(function(){Relay.request("page:navigate")},250),this.closeOnValidate&&this.unselectElement()}this.skipRerender=!1}},hideElementSettings:function(){frameApp.vent.trigger("element:options:dialog:close")},getPropertyByReference:function(e){if(!this.currentElement)return{};var t={};return $H(this.uproperty.properties).values().each(function(n){n.reference_property==e&&(t=n)}),t},isProductElement:function(){return P$(this.currentElement).down(".product-image")},extractElementProperties:function(element){for(var idfield,finalChild,ucfid=element.id,parentRef=P$(element).up(".inside"),children=parentRef.childElements(),i=0;i<children.size();i++)if(children[i].idfield){finalChild=children[i];break}try{idfield=eval("("+finalChild.idfield.value+")")}catch(e){return window.showError(_W.utl("javascript.site.editor.ui.weebly_elements_28")),!1}return this.idfield=idfield,this.idfieldNode=finalChild.idfield,this.pfield=ElementUtils.getElementObject(idfield.id).content_fields[ucfid],this.ucfid=ucfid,this.uproperty=this.pfield,this.upload=0,!0},isSelectableElement:function(e){var t=e.up("li.inside").up().hasClassName("weebly-single-area"),n=e.select("> .wsite-multicol").length,i=P$(e.id+"-form-parent"),o=e.select("> .wsite-button").length,r=e.select("> .wsite-social").length,s=ElementSpotlight.getCurrent();return!(s&&!s.container.is(e)&&!s.container.find(e).length)&&(!(t&&!o&&!r)&&((!View.isMobileView||!n)&&!(i&&!ElementSpotlight.isCurrentContainer(e))))},isSingleArea:function(e){return e.up("li.inside").up().hasClassName("weebly-single-area")},getCurrentProductID:function(){if(this.isProductElement()){var e=P$(this.ucfid+"-product-data");return $F(e.productID)}return!1},isFormElement:function(){return!(!this.currentElement||!P$(this.currentElement.id+"-form-parent"))},isEmptyProductsElement:function(){var e=jQuery(this.currentElement);if(e.length){var t=e.find(".empty-commerce-element");return t.length>0}return!1},getNewElementID:function(){var e=$$("#secondlist .outside_top form");if(1==e.size()){var t=e[0].idfield.value.replace(/[^\d]/g,"");return t}},hideCustomHTML:function(e,t,n){if(exports.editing){exports.editing=null;var i=P$(""+e),o=P$("customHTMLDummy").parentNode,r=P$(""+n+"CustomHTML");r.style.display="none",i.style.display="block",o.appendChild(r),o.removeChild(P$("customHTMLDummy")),new Ajax.Request(AjaxModule.ajax,{parameters:{pos:"savecustomhtml",ucfid:e,ucfpid:n,customhtml:r.value,cookie:document.cookie,token:Weebly.RequestToken},onSuccess:function(t){if(1==t.responseText.isJSON()){var n=t.responseText.evalJSON();0==n.result&&window.showDeniedAction(n.error)}else refreshCustomHtml(e,r.value)},onFailure:AjaxModule.errFunc,bgRequest:!0}),exports.customHTML[n]=r.value,exports.onChange(n,t),exports.unselectElement(),jQuery("#elementSettingsWrapper").show()}},editCustomHTML:function(e,t,n){jQuery("#elementSettingsWrapper").hide();var i=P$(""+e),o=i.parentNode,r=i.getHeight(),s=i.getWidth();r=r>150?r+"px":"150px",s=s>200?s-6+"px":"100%",i.style.display="none";var a=P$(""+n+"CustomHTML"),l=a.parentNode;exports.customHTML[n]&&(a.value=exports.customHTML[n]);var c=document.createElement("div");c.style.display="none",c.id="customHTMLDummy",l.appendChild(c),o.appendChild(a),a.style.height=r,a.style.width=s,a.style.display="block",a.focus(),a.select(),exports.editing=t},getImageProperty:function(){var e=exports.getPropertyByReference("<!IMAGESET!>");return!(!e.cfpid&&(e=exports.getPropertyByReference("<!IMAGES!>"),!e.cfpid))&&e},setProperty:function(e,t){var n=exports.getPropertyByReference(e),i,o;if(n){if(i=n.cfpid){var r=Weebly.Elements.uproperty.properties[i];r.property_result=t,Weebly.Elements.unsyncedProperties[r.ucfpid]=t}o=P$(n.ucfpid),o&&(o.value=t)}}};return window.validateOK=function(){exports.continueOnChange()},window.menuBarChooseImage=function(e,t,n,i,o){var r=ImageUtils.isImageLiquid(jQuery(e));Relay.request("chooseImage",{clickDiff:{left:0,top:10},type:t,width:n,ucfid:i,ucfpid:o,copyFlickr:!0}).done(function(e){window.updateImageElement(e,i,o,r,e.image.pageUrl,e.image.creator),exports.unselectElement()})},window.determineUpload=function(){var e=_.toArray(arguments);e.unshift("determineUpload"),Relay.execute.apply(Relay,e)},window.manageSlideshow=function(){var e=_.toArray(arguments);e.unshift("slideshowadmin:manage"),Relay.execute.apply(Relay,e)},editorApp.vent.on("editor:updateList",function(){exports.unselectElement()}),Relay.commands.setHandlers({"editor:elements:select":_.bind(exports.selectElement,exports),"editor:elements:unselect":_.bind(exports.unselectElement,exports),"editor:elements:setDisableElementOptions":function(e){exports.disableElementOptions=e},"editor:elements:setProperty":_.bind(exports.setProperty,exports),"editor:elements:setImageProperty":function(e){var t=exports.getImageProperty();t&&(t.property_result=e)},"editor:elements:continueOnChange":_.bind(exports.continueOnChange,exports),"editor:elements:saveProperties":_.bind(exports.saveProperties,exports),"editor:elements:element-options:open":function(e){exports.selectElement(e,!0)},"slideshow:updatePhotos":Slideshow.updatePhotos,"editor:elements:saveAndRerender":function(e,t,n,i){exports.selectElement(e),exports.setProperty(t,n),exports.saveProperties(i)}.bind(exports)}),Relay.reqres.setHandlers({"editor:elements:getProperty":exports.getPropertyByReference.bind(exports)}),Relay.on({"site:overlays:hide":function(){exports.unselectElement()}}),Weebly.Elements=exports,exports}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var i,o;i=[n(3),n(2),n(41),n(21)],o=function(e,t,n,i){var o=e.Marionette.ItemView.extend({modelEvents:{change:"changeHandler"},attributes:function(){var e=this,n,i=e.model.get("type"),o=["select","radio","button"];return!e.options.isInGroup&&t.contains(o,i)||e.options.isExternal||"optionItems"===i&&!e.options.isInGroup||(n="group__item"),{class:n}},initialize:function(){(this.model.get("hovertip")||this.model.get("tooltip"))&&(i.prototype.executeClose=function(){var e=this.$el,t=this.$modalEl;this.currentOpenOptions=null,this.destroyCloseOnEsc(),this.destroyCloseOnEnter(),this.destroyCloseOnClick(),this.destroyCloseOnClickAway(),this.destroyRepositioning(),e.removeClass("is-in").add(t||null),this.destroy(),e.removeClass("modal__subject"),this.$outerEl&&(this.$outerEl.remove(),this.$outerEl=null)},i.initialize())},onRender:function(){var e=this.model.get("hideOn"),i=!1;if(e){var o=e.propertyReference,r=Weebly.Elements.getPropertyByReference(o),s=n.getPropertyByKey(this.collection||this.model.collection,"cfpid",r.cfpid)||r.property_result,a=e.value;t.isArray(a)?t.each(a,function(e){e===s&&(this.close(),this.$el=null,i=!0)},this):a&&a===s&&(this.close(),this.$el=null,i=!0)}return i},getValue:function(){throw"ElementSettingsError: Failed to override BaseSettingsItemView.getValue in subclass"},isValid:function(e){var e=this.getValue();return!!this.model&&this.model.isValid(e)},saveValue:function(){var e=this.model.get("ucfpid"),t=this.model.get("cfpid");if(this.isValid()){if(this.hideError(),this.model.get("value")===this.getValue())return;return this.model.set("value",this.getValue()),(e||t)&&Weebly.Elements.onChange(e,t),!0}return this.showError(),!1},showError:function(){this.$el.addClass("is-error")},hideError:function(){this.$el.removeClass("is-error"),this.$el.find(".error").removeClass("error")},changeHandler:function(){this.collection&&n.setPropertyByKey(this.collection,"actionPaneIndex",this.model.get("actionPaneIndex"),this.model.get("value"))}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1)],o=function(e){function t(e,n){var i=e.get?e.get("properties"):e.properties;if(i||(i=e.get?e.attributes:e),i.length)for(var o=0;o<i.length;o++){var r=n(i[o],i);if("undefined"!=typeof r)return r;if(r=t(i[o],n),"undefined"!=typeof r)return r}else if("undefined"==typeof i.actionPaneIndex){var r=n(i);if("undefined"!=typeof r)return r}}return{propertyIterator:function(e,n,i){t(e,n,i)},setPropertyByKey:function(e,n,i,o){if(e.models){var s=this,a=function(e){"undefined"!=typeof e[n]&&e[n]===i&&(e.value=o)};r.each(e.models,function(e){if(e.get("properties")){var r=JSON.parse(JSON.stringify(e.get("properties")));t(r,a),e.set("properties",r)}else i&&e.get(n)===i&&e.set("value",o)})}},getPropertyByKey:function(e,n,i){if(e.models){var o=this,s,a=function(e){if("undefined"!=typeof e[n]&&e[n]===i){var t=e.measure||"",o="undefined"!=typeof e.value?e.value+t:e;return o}};return r.each(e.models,function(e){var n=t(e,a);"undefined"!=typeof n&&(s=n)}),s}},isElementSettingsOpen:function(){return e("#elementSettingsWrapper").find(".dialog").length>0}}}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(1),n(5),n(18),n(44)],o=function(e,t,n,i){var o=n,r=o.prototype;return o.extend({model:i,useServerGeneratedDefaultsFor:"Product",state:{pageSize:10},comparator:function(e){return this.fetchOptions.searchText||this.fetchOptions.sort?this.indexOf(e):-e.get("created_date")},fetch:function(t){return t=this.fetchOptions.sort?e.extend({},this.fetchOptions,t):e.extend({sort:[{property:"created_date",direction:"DESC"},{property:"site_product_id",direction:"DESC"}]},this.fetchOptions,t),r.fetch.call(this,t)},filterByType:function(e){if(!e){var t=this.fetchOptions.filter.indexOf(this.productTypeFilter);return t>-1&&this.fetchOptions.filter.splice(t,1),this.productTypeFilter=null,void("*"===this.fetchOptions.searchText&&(this.fetchOptions.searchText=null))}return this.productTypeFilter?void(this.productTypeFilter.value=e):(this.productTypeFilter={property:"product_type",value:e},this.fetchOptions.filter.push(this.productTypeFilter),void(this.fetchOptions.searchText||(this.fetchOptions.searchText="*")))},sortByValues:function(e){return e.push({property:"created_date",direction:"DESC"}),e.push({property:"site_product_id",direction:"DESC"}),this.fetchOptions.sort=e,this.fetch()},remainingProductCount:function(){var e=t.Restrictions.isUnlimited("com_product_limit");if(e)return 1/0;var n=this.state.totalRecords,i=Number(t.Restrictions.accessValue("com_product_limit"));return i-n}},{remainingProductCount:function(){var n=this;return e.when(t.Restrictions.isUnlimited("com_product_limit")).then(function(e){return e?1/0:n.count()}).then(function(e){return e===1/0?e:Number(t.Restrictions.accessValue("com_product_limit"))-e})},canAddProduct:function(){return this.remainingProductCount().then(function(e){return e>0})}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o,r;!function(s){o=[n(1)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=e._data(o,"events"),i&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var o,r,s,a,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,r;return this._super=e,this._superApply=o,r=i.apply(this,arguments),this._super=t,this._superApply=n,r}}()):void(l[t]=i)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i=n.call(arguments,1),o=0,r=i.length,s,a;o<r;o++)for(s in i[o])a=i[o][s],i[o].hasOwnProperty(s)&&void 0!==a&&(e.isPlainObject(a)?t[s]=e.isPlainObject(t[s])?e.widget.extend({},t[s],a):e.widget.extend({},a):t[s]=a);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(r){var s="string"==typeof r,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,o);return"instance"===r?(l=i,!1):i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,o);t?(t.option(r||{}),t._init&&t._init()):e.data(this,o,new i(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i=t,o,r,s;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(i={},o=t.split("."),t=o.shift(),o.length){for(r=i[t]=e.widget.extend({},this.options[t]),s=0;s<o.length-1;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]];if(t=o.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];i[t]=n}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var o,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,s){function a(){if(t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):n.bind(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,r,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&e.effects&&e.effects.effect[a]?i[t](o):a!==t&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}}),e.widget})},function(e,t,n){var i,o;i=[n(1),n(5),n(2),n(3),n(11),n(8),n(261),n(260),n(132),n(16),n(538),n(536),n(537),n(532)],o=function(e,t,i,o,r,s,a,l,c,u){function d(){return t.Commerce.RPC.Product}return u.extend({useServerGeneratedDefaultsFor:"Product",getActions:function(){var e=["copy","delete","add-category","storefront-show","storefront-hide"];return t.Restrictions.hasAccess("com_tax_settings")&&(e.push("add-taxable"),e.push("remove-taxable")),e},clone:function(){var e=u.prototype.clone.apply(this,arguments);return e.set("site_link",null),e},initialize:function(){this.on("destroy",this.onDestroy,this)},onDestroy:function(){r.StoreApp.loading.start("after:product:destroy"),e.when(this.get("categories"),t.Commerce.RPC.Product.checkSkuCount({entry_point:"jsProductModelDestroy",site_product_id:this.get("site_product_id")})).then(function(t){return e.when.apply(e,t.map(function(e){return e.fetch()}))}).always(function(){r.StoreApp.loading.stop("after:product:destroy"),s.trackEvent("commerce.product","delete_product")})},cloneDeep:function(){var e=u.prototype.cloneDeep.apply(this,arguments);return e.set("manufacturer",this.get("manufacturer")),this.cloneDeepCollection("options2",e),this.cloneDeepCollection("skus",e),e.set("image_order",[]),e},thumbnail:function(e,n,i){var o="w4h3",s;return r.StoreApp&&r.StoreApp.storefrontSettings?o=r.StoreApp.storefrontSettings.toJSON().product_image_ratio||o:t.Commerce.BackboneBootstrap&&t.Commerce.BackboneBootstrap.StorefrontSettings&&(o=t.Commerce.BackboneBootstrap.StorefrontSettings.product_image_ratio||o),n=n||!1,e=e||80,s=i||this.getImage(n),!s&&this.isGiftCardProduct()?s="//"+ASSETS_BASE+"/images/commerce/editor/giftcard/giftcard-w{size}.png":s||(s="//"+ASSETS_BASE+"/images/util/blank-product-w{size}.png"),c("entity-list",s,e,o)},getImageUrl:function(e,t){var n,i;return t=t||!1,e=e||80,n=this.getImage(t),n?(e=n.getMaxAvailableWidth(e),i=n.uri()):i=this.isGiftCardProduct()?"//"+ASSETS_BASE+"/images/commerce/editor/giftcard/giftcard-w{size}.png":"//"+ASSETS_BASE+"/images/util/blank-product-w{size}.png",i=i.replace("{size}",e)},getFirstImage:function(){var e=this.getOrderedImages();return e[0]||null},getImage:function(e){var t;return t=e?this.get("images").select(function(t){return t.get("site_product_image_id")==e}):this.getOrderedImages(),t.length?t[0]:null},getPriceRange:function(){var e=this,t=e.get("price_low"),n=e.get("price_high"),i=e.get("sale_price_low"),o=e.get("sale_price_high"),r;return null===t&&null===n?"":(null!==i&&(t=i),null!==o&&(n=o),null!==e.get("highest_nonsale")&&e.get("all_skus_sale")===!1&&e.get("highest_nonsale")>o&&(n=e.get("highest_nonsale")),null!==e.get("lowest_nonsale")&&e.get("all_skus_sale")===!1&&e.get("lowest_nonsale")<i&&(t=e.get("lowest_nonsale")),r=a.formatCurrency(t,l.customerLocale,l.storeCurrency),t>=0&&t<n&&(r+=" - "+a.formatCurrency(n,l.customerLocale,l.storeCurrency)),r)},getCleanImageOrder:function(){var e=this,t=e.get("images"),n=e.get("image_order")||[],i=t.map(function(e){return e.get("site_product_image_id")}),o=n.filter(function(e){var t=i.indexOf(e);return t!=-1&&(i.splice(t,1),e)});return o=o.concat(i)},getOrderedImages:function(){var t=this,n=t.get("images"),i=t.get("image_order")||[],o=[],r=[];return n.each(function(t){var n=t.get("site_product_image_id"),s=-1;e.each(i,function(e,t){t==n&&(s=e)}),s===-1?o[o.length]=t:r[s]=t}),r=r.concat(o)},get:function(e){return"categories"==e?this.getRelated("category_ids","site_category_id",n(31)):"coupons"==e?this.getRelated("coupon_ids","site_coupon_id",n(187)):u.prototype.get.apply(this,arguments)},commonVariations:function(e){var t=[],n={},o=this.get("skus").pluck("optionchoices"),r;o.each(function(i){r=[],n={},i.toJSON().each(function(t){t.name!==e&&(n[t.name]=t.choice)}),t.push(JSON.stringify(n))});var s=[],a=i.unique(t).length===t.length;if(!a){var l=i.filter(t,function(e,n){return i.indexOf(t,e)!==n});s=i.map(l,function(e){return JSON.parse(e)})}return s},findSkuByOptionChoices:function(e,t,n){return this.get("skus").filter(function(i){return i.hasOptionchoices(e,t,n)})},getSkuOptionchoices:function(){return this.get("skus").map(function(e){return e.getSkuOptionchoices()})},inventoryTrackingEnabled:function(){return this.get("track_inventory")&&t.Restrictions.hasAccess("com_inventory_tracking")},isGiftCardProduct:function(){return"giftcard"===this.get("product_type")},allowWeight:function(){return"physical"===this.get("product_type")},allowVariants:function(){return"digital"!==this.get("product_type")}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5)],o=function(e,t){var i={};i.getAreaInstanceFromParent=function(e,n,o,r){r=r||"";var s;return r.match(/[0-9]+p[0-9]+/)||r.match(/[0-9]+c[0-9]+/)?(s=t.pageContext.getArea(n,o),s=s.descriptionArea,s.type="content"):r.match(/-sidebar/)?(s=i.getAreaInstance(e,n,o),s=s.sidebar,s.type="content"):r.match(/-blog/)?(s=i.getAreaInstance(e,n,o),s=s.main,s.type="content"):s=i.getAreaInstance(e,n,o),s},i.getAreaInstance=function(n,i,o){return e.isUndefined(n)||null===n?t.pageContext.getArea(i,o)||t.siteContext.getArea(i,o):n?t.siteContext.getArea(i,o):t.pageContext.getArea(i,o)},i.getAreaInstanceForElement=function(e){var n;return t.pageContext&&(n=t.pageContext.getAreaForElement(e)),!n&&t.siteContext&&(n=t.siteContext.getAreaForElement(e)),n};var o=[],r=[],s=null;return i.clearAreaBatch=function(){o=[],r=[],s=null},i.fetchNeededArea=function(e,t,n,i){o.push({type:t,name:n,is_global:e}),r.push(i)},i.batchFetchNeededAreas=function(e){var i=currentPage.replace(/\/.*/,""),a=n(13);"0"==i&&(i=null),s=e,!o.length||!i||a.chromeless&&a.isNativeApp?s&&s():new Ajax.Request(ajax,{parameters:{pos:"getareas",current_page_id:currentPage,area_summary:Object.toJSON(o),token:t.RequestToken},onSuccess:function(e){for(var t=e.responseText.evalJSON(),n=0;n<t.length;n++)r[n](t[n]);o=[],r=[],s&&s()}})},i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(5),n(3),n(6),n(7),n(171),n(276)],o=function(e,t,n,i,o,s){window.noJump=0;var a={Version:"0.5",Author:"David Rusenko",Company:"Weebly, Inc.",openPages:new Array("main"),currentNavPage:"load",optConfirmLoad:0,optAnimations:1,history:[],lastPage:"",queue:[],load:function(){},pageConstructor:{main:{}},pageDestructor:{main:{}},pageWindows:{main:["main"]},currentVar1:"empty",currentVar2:"empty",currentVar3:"empty",currentVar4:"empty",currentVar5:"empty",go:function(){var e=arguments,t=function(){this._go.apply(this,e),this.queue.forEach(function(e){this._go.apply(this,e)},this)}.bind(this);t(),this.clearQueue()},setQueue:function(){this.queue.push(Array.prototype.slice.call(arguments))},clearQueue:function(){this.queue=[]},removeQueue:function(){var e=Array.prototype.slice.call(arguments),t=0;e.forEach(function(e){this.queue.forEach(function(n,i){t=n.indexOf(e),t>-1&&this.goDestination.splice(i,1)},this)},this)},_go:function(t,n,r,s,a,l){if(window.editorApp&&window.editorApp.vent.trigger("editor:pages:go",arguments),this.updateHistory(t),e.Elements&&i.execute("editor:elements:unselect"),!e.BlogEditor||e.BlogEditor.tryPageSwitch(arguments)){if("saveBlogPost"!==t&&e.BlogEditor&&e.BlogEditor.isEditing&&e.mobile.isMobileEditor())return e.mobile.isMobileEditor(!1),void this.go("mobileView");var c="undefined"==typeof n||""==n||"undefined"==n?0:1,u="undefined"==typeof r||""==r||"undefined"==r?0:1,d="undefined"==typeof s||""==s||"undefined"==s?0:1,h="undefined"==typeof a||""==a||"undefined"==a?0:1,p="undefined"==typeof l||""==l||"undefined"==l?0:1;if(t!=this.currentNavPage||n!=this.currentVar1&&c||r!=this.currentVar2&&u||s!=this.currentVar3&&d||a!=this.currentVar4&&h||l!=this.currentVar5&&p){this.handleMain(t),this.closeAll(t),i.execute("closeCurrentSpotlight"),1==window.noJump?window.noJump=0:window.scrollTo(0,0);var f=this.pageConstructor[t];f&&"main"!=t&&(f.element&&this.showElement(f.element),f.go&&f.go(n,r,s,a,l)),window.litePageChange||this.optConfirmLoad||this.confirmLoad(t,n,r,s,a,l),this.currentNavPage=t,"undefined"==typeof n||""==n||"undefined"==n?this.currentVar1="empty":this.currentVar1=n,"undefined"==typeof r||""==r||"undefined"==r?this.currentVar2="empty":this.currentVar2=r,"undefined"==typeof s||""==r||"undefined"==s?this.currentVar3="empty":this.currentVar3=s,"undefined"==typeof a||""==r||"undefined"==a?this.currentVar4="empty":this.currentVar4=a,"undefined"==typeof l||""==r||"undefined"==l?this.currentVar5="empty":this.currentVar5=l,o.fireEvent("navPageChange",t)}this.openPages.indexOf(t)==-1&&this.openPages.push(t)}},showElement:function(e,t){this.optAnimations?setTimeout("Effect.Appear('"+e+"');",1e3):Element.show(e)},handleMain:function(e){if(this.pageWindows[e].indexOf("main")>-1)this.pageConstructor.main&&(this.pageConstructor.main.element&&(this.optAnimations?setTimeout("Effect.Fade('"+this.pageConstructor.main.element+"')",1e3):Element.hide(this.pageConstructor.main.element)),this.pageConstructor.main.go&&this.pageConstructor.main.go()),this.openPages.indexOf("main")==-1&&this.openPages.push("main");else{if(this.pageDestructor.main){if(this.pageDestructor.main.element){var t="100%";Element.setStyle(this.pageDestructor.main.element,{height:t}),this.optAnimations?Effect.Appear(this.pageDestructor.main.element):Element.show(this.pageDestructor.main.element);
}this.pageDestructor.main.go&&this.pageDestructor.main.go()}this.openPages.indexOf("main")==-1&&this.openPages.push("main")}"main"==e&&"visible"==r("grayedOut").style.visibility&&Element.hide("grayedOut")},confirmLoad:function(e,t,n,i,o,r){this.openPages.indexOf(e)==-1&&this.openPages.push(e),"function"==typeof t&&(t=""),_goPageHistory("page="+e+"&1="+encodeURIComponent(t)+"&2="+encodeURIComponent(n)+"&3="+encodeURIComponent(i)+"&4="+encodeURIComponent(o)+"&5="+encodeURIComponent(r))},closeAll:function(e){for(j=this.openPages.length-1;j>=0;j--){var t=this.pageWindows[e].indexOf(this.openPages[j]);if(t==-1&&"main"!=this.openPages[j]){var n=this.pageDestructor[this.openPages[j]];n&&(n.element&&(this.optAnimations?Effect.Fade(r(n.element)):Element.hide(r(n.element))),n.go&&n.go()),this.openPages.splice(j,1)}}},returnToEditorFromAppCenter:function(){this.openPages.indexOf("goBlogPost")>-1?this.go("goBlogPost"):this.goToPreviousPage()},updateHistory:function(e){e!=this.lastPage&&(this.history.push(e),this.history.size()>10&&this.history.shift()),this.lastPage=e},getPreviousPage:function(){return this.history.length>1?this.history[this.history.length-2]:null},goToPreviousPage:function(){if(this.history.size()>1){var e=this.history.pop(),t=this.history.pop();this.go(t)}else!s.isCommerceFunnel()||(window.editorApp?window.editorApp.bootstrap.enableCommerceThree:n.bootstrap.enableCommerceThree)?this.go("editMenu"):this.go("store")}},l;return window._goPageHistory=function(e){var t="/weebly/goPage.php?"+e;l?l.contentWindow.location.href=t:(l=new Element("iframe",{style:"height:0;width:0;border:0;overflow:hidden;position:absolute;top:0px;left:0px;",frameBorder:0}),r(document.body).insert(l),l.src=t)},window.Pages=a,a}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},,function(e,t,n){var i,o;(function(r){i=[n(5)],o=function(e){var t={htmlDecode:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue},isIE:function(){return/(MSIE|Trident)/.test(navigator.userAgent)},isChrome:function(){return/(Chrome)/.test(navigator.userAgent)},getURLParameter:function(e,t){for(var n=t||window.location.search.substring(1),i=n.split("&"),o=0;o<i.length;o++){var r=i[o].split("=");if(r[0]==e)return decodeURIComponent(r[1])}return""},splitName:function(e){var t;return/^[^\s]*\s[^\s]*\s?$/i.test(e)?e.split(" "):(t=e.match(/^([^\s]*\s[^\s]\.?)\s(.*)\s?$/i))?t.slice(1):(t=e.match(/^(.*)\s([^\s]*)\s(jr|sr|ii|iii|iv|v|vi|vii|viii|ix|x)\.?\s?$/i))?t.slice(1):(t=e.match(/^([^\s]*\s[^\s]*)\s(.*)\s?$/i))?t.slice(1):[e,""]},isValidEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getSiteDomain:function(){var t=!1;return e.Location.custom_domain?t=e.Location.custom_domain:e.Location.weebly_subdomain&&(t=e.Location.weebly_subdomain+".weebly.com"),t},generateTimeInterval:function(e,t){var n,i,o=[],e=e||12,t=t||30;for(n=0;n<=23;n++)for(i=0;i<60;i+=t){var r=("00"+i).slice(-2),s=n,a="";12===e?(a="am",0===n?s=12:12===n?(s=n,a="pm"):n>12&&(s=n-e,a="pm")):s=("00"+n).slice(-2),o.push(s+":"+r+" "+a)}return o},hasValidUrl:function(e){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(e)},isCyclic:function(e){try{JSON.stringify(e,function(e,t){if("object"==typeof t)return t})}catch(e){if(e instanceof TypeError)return!0;throw e}return!1},setDropEffect:function(e){var t;e.originalEvent&&(e=e.originalEvent),e.dataTransfer&&(t=["move","linkMove"].indexOf(e.dataTransfer.effectAllowed)!==-1,e.dataTransfer.dropEffect=t?"move":"copy")},getCookie:function(e){var t="; "+document.cookie,n=t.split("; "+e+"=");return 2==n.length?unescape(n.pop().split(";").shift()):null},setCookie:function(e,t,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}document.cookie=e+"="+t+i+"; path=/"},eraseCookie:function(e){this.setCookie(e,"",-1)},roundNumber:function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},getNestedValue:function(e,t,n){for(var i=e,o=0;o<t.length;o++){var r=t[o];if(!(r in i))return n;i=i[r]}return i},isProtocolSecure:function(){return"https:"==document.location.protocol},mapObjectValues:function(e,t){for(var n=[e];n.length;){var i=n[0],o=Object.keys(i);o.forEach(function(e){r.isObject(i[e])?n.push(i[e]):(i[e]=t(i[e]),r.isUndefined(i[e])&&delete i[e])}),n.shift()}return e}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},,function(e,t,n){var i,o;(function(r){i=[n(1),n(9),n(4)],o=function(e,t,n){function i(t,n,i){var r=t.options,s="on"+n.replace(/(^|\:)([a-zA-Z])/g,function(e,t,n){return n.toUpperCase()}),a="_"+s;return t.trigger.apply(t,[n].concat(i)),e.when(o(t[a]?t[a].apply(t,i):null),o(t[s]?t[s].apply(t,i):null),o(r&&r[s]?r[s].apply(t,i):null))}function o(t){return t===!1?e.Deferred().reject().promise():t}var s=t.View.extend({template:null,options:null,constructor:function(e){this.options=e||{},this._initialize(),t.View.call(this,e)},_initialize:function(){},showWithin:function(t){this._trigger("before:attach"),e(t).append(this.render().$el),this._trigger("attach"),this.updateSize(),this._trigger("show")},queryOption:function(e){var t=this.options[e];return null==t&&(t=this[e]),t},queryOptionOverride:function(e,t){var n;return t&&(n=t[e]),null==n&&(n=this.queryOption(e)),n},extendOptions:function(t){e.extend(this.options,t)},extendEvents:function(e){if(e&&e.events){var t=r.values(e.events);r.extend(this.events,e.events),r.each(t,function(t){var n=e.context||this;this[t]=function(i){return e[t].apply(n,arguments)}},this),this.delegateEvents()}},_trigger:function(e){var t=Array.prototype.slice.call(arguments,1);return i(this,e,t)},render:function(){var t,i=this.getRenderData();return this.template&&(t=e.isFunction(this.template)?this.template(i):n.render(this.template,i),this.$el.html(t)),this.delegateEvents(),this},updateSize:function(){},getRenderData:function(){return{}},destroy:function(){this._trigger("before:destroy"),this._trigger("before:detach"),this.executeDestroy.apply(this,arguments),this._trigger("detach"),this._trigger("destroy")},executeDestroy:function(){this.remove(),this.el=null,this.$el=null,this._ensureElement()},renderProceedButtonHtml:function(){return this.renderButtonHtml(this.normalizeButtonRenderData("btn--primary js-proceed-btn",this.queryOption("proceedButton"),this.queryOption("proceedText")))},renderCancelButtonHtml:function(){return this.renderButtonHtml(this.normalizeButtonRenderData("btn--cancel btn--secondary js-cancel-btn",this.queryOption("cancelButton"),this.queryOption("cancelText")))},normalizeButtonRenderData:function(e,t,n){return t=t||{},"string"==typeof t&&(t={text:t}),null==t.text&&"string"==typeof n&&(t.text=n),t.mainClassName=e,t},renderButtonHtml:function(e){return n.render("<button class='btn {{mainClassName}} {{className}}' {{#icon}}data-icon-before='{{icon}}'{{/icon}}>{{text}}</button>",e)}});return s.triggerOn=i,s}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(5),n(1),n(8),n(132),n(11),n(16),n(530)],o=function(e,t,i,o,r,s){var a=s,l=a.prototype,c=a.extend({useServerGeneratedDefaultsFor:"Category",thumbnail:function(t){var n,i;return n=e.Commerce.storefrontSettings.getRatioAsNumber("category_image_ratio"),i=this.getFirstImage()||"//"+ASSETS_BASE+"/images/util/blank-category-w{size}.png",t=t||80,o("entity-list",i,t,n)},initialize:function(){this.on("destroy",this.onDestroy,this)},onDestroy:function(){i.trackEvent("commerce.category","delete_category")},getImage:function(e){if(e)var t=this.get("images").select(function(t){return t.get("site_category_image_id")==e});else var t=this.getOrderedImages();return t.length?t[0]:null},getImageUrl:function(e,t){var n,i;return t=t||!1,e=e||80,n=this.getImage(t),n?(e=n.getMaxAvailableWidth(e),i=n.uri()):i="//"+ASSETS_BASE+"/images/util/blank-category-w{size}.png",i=i.replace("{size}",e)},getFirstImage:function(){var e=this.getOrderedImages();return e[0]||null},getOrderedImages:function(){var e=this.get("images")||[],t=this.get("image_order")||[],n=[],i=[];return e.each(function(e){var o=e.get("site_category_image_id"),r=-1;t.forEach(function(t,s){t==o&&(r=s),r==-1?i.push(e):n[r]=e})}),n.concat(i)},get:function(e){return"products"==e?this.getRelated("product_ids","site_product_id",n(42),"preferred_order_product_ids","list"):"coupons"==e?this.getRelated("coupon_ids","site_coupon_id",n(187)):l.get.apply(this,arguments)},getActions:function(){return["delete"]}});return c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t){(function(t){function n(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(e){be.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return h(function(){return n&&(o(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){mt[e]||(o(t),mt[e]=!0)}function a(e,t){return function(n){return m(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function u(e,t){t!==!1&&R(e),p(this,e),this._d=new Date(+e._d)}function d(e){var t=C(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=be.localeData(),this._bubble()}function h(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t){var n,i,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pe.length>0)for(n in Pe)i=Pe[n],o=t[i],"undefined"!=typeof o&&(e[i]=o);return e}function f(e){return e<0?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var i=""+Math.abs(e),o=e>=0;i.length<t;)i="0"+i;return(o?n?"+":"":"-")+i}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=L(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function b(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=be.duration(n,i),w(this,o,e),this}}function w(e,t,n,i){var o=t._milliseconds,r=t._days,s=t._months;i=null==i||i,o&&e._d.setTime(+e._d+o*n),r&&he(e,"Date",de(e,"Date")+r*n),s&&ue(e,de(e,"Month")+s*n),i&&be.updateOffset(e,r||s)}function y(e){return"[object Array]"===Object.prototype.toString.call(e)}function _(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function E(e,t,n){var i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0,s;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&I(e[s])!==I(t[s]))&&r++;return r+o}function T(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=lt[e]||ct[t]||t}return e}function C(e){var t={},n,i;for(i in e)e.hasOwnProperty(i)&&(n=T(i),n&&(t[n]=e[i]));return t}function S(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}be[e]=function(o,r){var s,a,l=be._locale[e],c=[];if("number"==typeof o&&(r=o,o=t),a=function(e){var t=be().utc().set(i,e);return l.call(be._locale,t,o||"")},null!=r)return a(r);for(s=0;s<n;s++)c.push(a(s));return c}}function I(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function O(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function D(e,t,n){return se(be([e,11,31+t-n]),t,n).week}function x(e){return k(e)?366:365}function k(e){return e%4===0&&e%100!==0||e%400===0}function R(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[Se]<0||e._a[Se]>11?Se:e._a[Ie]<1||e._a[Ie]>O(e._a[Ce],e._a[Se])?Ie:e._a[Oe]<0||e._a[Oe]>23?Oe:e._a[De]<0||e._a[De]>59?De:e._a[xe]<0||e._a[xe]>59?xe:e._a[ke]<0||e._a[ke]>999?ke:-1,e._pf._overflowDayOfYear&&(t<Ce||t>Ie)&&(t=Ie),e._pf.overflow=t)}function P(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function A(e){return e?e.toLowerCase().replace("_","-"):e}function N(e){for(var t=0,n,i,o,r;t<e.length;){for(r=A(e[t]).split("-"),n=r.length,i=A(e[t+1]),i=i?i.split("-"):null;n>0;){if(o=M(r.slice(0,n).join("-")))return o;if(i&&i.length>=n&&E(r,i,!0)>=n-1)break;n--}t++}return null}function M(e){var t=null;if(!Re[e]&&Ae)try{t=be.locale(),require("./locale/"+e),be.locale(t)}catch(e){}return Re[e]}function L(e,t){return t._isUTC?be(e).zone(t._offset||0):be(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function K(e){var t=e.match(Be),n,i;for(n=0,i=t.length;n<i;n++)ft[t[n]]?t[n]=ft[t[n]]:t[n]=B(t[n]);return function(o){var r="";for(n=0;n<i;n++)r+=t[n]instanceof Function?t[n].call(o,e):t[n];return r}}function F(e,t){return e.isValid()?(t=H(t,e.localeData()),ut[t]||(ut[t]=K(t)),ut[t](e)):e.localeData().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ke.lastIndex=0;i>=0&&Ke.test(e);)e=e.replace(Ke,n),Ke.lastIndex=0,i-=1;return e}function j(e,t){var n,i=t._strict;switch(e){case"Q":return Ye;case"DDDD":return Je;case"YYYY":case"GGGG":case"gggg":return i?Qe:je;case"Y":case"G":case"g":return et;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Ze:We;case"S":if(i)return Ye;case"SS":if(i)return Xe;case"SSS":if(i)return Je;case"DDD":return He;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return ze;case"a":case"A":return t._locale._meridiemParse;case"X":return Ge;case"Z":case"ZZ":return Ve;case"T":return Ue;case"SSSS":return $e;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Xe:Fe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Fe;case"Do":return qe;default:return n=new RegExp(X(Y(e.replace("\\","")),"i"))}}function W(e){e=e||"";var t=e.match(Ve)||[],n=t[t.length-1]||[],i=(n+"").match(rt)||["-",0,0],o=+(60*i[1])+I(i[2]);return"+"===i[0]?-o:o}function $(e,t,n){var i,o=n._a;switch(e){case"Q":null!=t&&(o[Se]=3*(I(t)-1));break;case"M":case"MM":null!=t&&(o[Se]=I(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t),null!=i?o[Se]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[Ie]=I(t));break;case"Do":null!=t&&(o[Ie]=I(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=I(t));break;case"YY":o[Ce]=be.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[Ce]=I(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":o[Oe]=I(t);break;case"m":case"mm":o[De]=I(t);break;case"s":case"ss":o[xe]=I(t);break;case"S":case"SS":case"SSS":case"SSSS":o[ke]=I(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=W(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=I(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=be.parseTwoDigitYear(t)}}function z(e){var t,i,o,r,s,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,a=4,i=n(t.GG,e._a[Ce],se(be(),1,4).year),o=n(t.W,1),r=n(t.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,i=n(t.gg,e._a[Ce],se(be(),s,a).year),o=n(t.w,1),null!=t.d?(r=t.d,r<s&&++o):r=null!=t.e?t.e+s:s),l=ae(i,o,r,a,s),e._a[Ce]=l.year,e._dayOfYear=l.dayOfYear}function V(e){var t,i,o=[],r,s;if(!e._d){for(r=G(e),e._w&&null==e._a[Ie]&&null==e._a[Se]&&z(e),e._dayOfYear&&(s=n(e._a[Ce],r[Ce]),e._dayOfYear>x(s)&&(e._pf._overflowDayOfYear=!0),i=ne(s,0,e._dayOfYear),e._a[Se]=i.getUTCMonth(),e._a[Ie]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];e._d=(e._useUTC?ne:te).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function U(e){var t;e._d||(t=C(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],V(e))}function G(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function q(e){if(e._f===be.ISO_8601)return void Q(e);e._a=[],e._pf.empty=!0;var t=""+e._i,n,i,o,r,s,a=t.length,l=0;for(o=H(e._f,e._locale).match(Be)||[],n=0;n<o.length;n++)r=o[n],i=(t.match(j(r,e))||[])[0],i&&(s=t.substr(0,t.indexOf(i)),s.length>0&&e._pf.unusedInput.push(s),t=t.slice(t.indexOf(i)+i.length),l+=i.length),ft[r]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(r),$(r,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=a-l,t.length>0&&e._pf.unusedInput.push(t),e._isPm&&e._a[Oe]<12&&(e._a[Oe]+=12),e._isPm===!1&&12===e._a[Oe]&&(e._a[Oe]=0),V(e),R(e)}function Y(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,o,r,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=p({},e),t._pf=i(),t._f=e._f[r],q(t),P(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==o||s<o)&&(o=s,n=t));h(e,n||t)}function Q(e){var t,n,i=e._i,o=tt.exec(i);if(o){for(e._pf.iso=!0,t=0,n=it.length;t<n;t++)if(it[t][1].exec(i)){e._f=it[t][0]+(o[6]||" ");break}for(t=0,n=ot.length;t<n;t++)if(ot[t][1].exec(i)){e._f+=ot[t][0];break}i.match(Ve)&&(e._f+="Z"),q(e)}else e._isValid=!1}function Z(e){Q(e),e._isValid===!1&&(delete e._isValid,be.createFromInputFallback(e))}function ee(e){var n=e._i,i;n===t?e._d=new Date:_(n)?e._d=new Date(+n):null!==(i=Ne.exec(n))?e._d=new Date(+i[1]):"string"==typeof n?Z(e):y(n)?(e._a=n.slice(0),V(e)):"object"==typeof n?U(e):"number"==typeof n?e._d=new Date(n):be.createFromInputFallback(e)}function te(e,t,n,i,o,r,s){var a=new Date(e,t,n,i,o,r,s);return e<1970&&a.setFullYear(e),a}function ne(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ie(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function oe(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function re(e,t,n){var i=be.duration(e).abs(),o=Ee(i.as("s")),r=Ee(i.as("m")),s=Ee(i.as("h")),a=Ee(i.as("d")),l=Ee(i.as("M")),c=Ee(i.as("y")),u=o<dt.s&&["s",o]||1===r&&["m"]||r<dt.m&&["mm",r]||1===s&&["h"]||s<dt.h&&["hh",s]||1===a&&["d"]||a<dt.d&&["dd",a]||1===l&&["M"]||l<dt.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,oe.apply({},u)}function se(e,t,n){var i=n-t,o=n-e.day(),r;return o>i&&(o-=7),o<i-7&&(o+=7),r=be(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ae(e,t,n,i,o){var r=ne(e,0,1).getUTCDay(),s,a;return r=0===r?7:r,n=null!=n?n:o,s=o-r+(r>i?7:0)-(r<o?7:0),a=7*(t-1)+(n-o)+s+1,{year:a>0?e:e-1,dayOfYear:a>0?a:x(e-1)+a}}function le(e){var n=e._i,i=e._f;return e._locale=e._locale||be.localeData(e._l),null===n||i===t&&""===n?be.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),be.isMoment(n)?new u(n,!0):(i?y(i)?J(e):q(e):ee(e),new u(e)))}function ce(e,t){var n,i;if(1===t.length&&y(t[0])&&(t=t[0]),!t.length)return be();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function ue(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),O(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function de(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function he(e,t,n){return"Month"===t?ue(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function pe(e,t){return function(n){return null!=n?(he(this,e,n),be.updateOffset(this,t),this):de(this,e)}}function fe(e){return 400*e/146097}function me(e){return 146097*e/400}function ge(e){be.duration.fn[e]=function(){return this._data[e]}}function ve(e){"undefined"==typeof ender&&(_e=ye.moment,e?ye.moment=r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",be):ye.moment=be)}for(var be,we="2.8.1",ye="undefined"!=typeof global?global:this,_e,Ee=Math.round,Te,Ce=0,Se=1,Ie=2,Oe=3,De=4,xe=5,ke=6,Re={},Pe=[],Ae="undefined"!=typeof e&&e.exports,Ne=/^\/?Date\((\-?\d+)/i,Me=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Le=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Be=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ke=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Fe=/\d\d?/,He=/\d{1,3}/,je=/\d{1,4}/,We=/[+\-]?\d{1,6}/,$e=/\d+/,ze=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ve=/Z|[\+\-]\d\d:?\d\d/gi,Ue=/T/i,Ge=/[\+\-]?\d+(\.\d{1,3})?/,qe=/\d{1,2}/,Ye=/\d/,Xe=/\d\d/,Je=/\d{3}/,Qe=/\d{4}/,Ze=/[+-]?\d{6}/,et=/[+-]?\d+/,tt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nt="YYYY-MM-DDTHH:mm:ssZ",it=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ot=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],rt=/([\+\-]|\d\d)/gi,st="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),at={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},lt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ct={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ut={},dt={s:45,m:45,h:22,d:26,M:11},ht="DDD w W M D d".split(" "),pt="M D H h m s w W".split(" "),ft={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return I(this.milliseconds()/100)},SS:function(){return m(I(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+m(I(e/60),2)+":"+m(I(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+m(I(e/60),2)+m(I(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},mt={},gt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ht.length;)Te=ht.pop(),ft[Te+"o"]=l(ft[Te],Te);for(;pt.length;)Te=pt.pop(),ft[Te+Te]=a(ft[Te],2);ft.DDDD=a(ft.DDD,3),h(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=be.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=be([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return se(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),be=function(e,n,o,r){var s;return"boolean"==typeof o&&(r=o,o=t),s={},s._isAMomentObject=!0,s._i=e,s._f=n,s._l=o,s._strict=r,s._isUTC=!1,s._pf=i(),le(s)},be.suppressDeprecationWarnings=!1,be.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),be.min=function(){var e=[].slice.call(arguments,0);return ce("isBefore",e)},be.max=function(){var e=[].slice.call(arguments,0);return ce("isAfter",e)},be.utc=function(e,n,o,r){var s;return"boolean"==typeof o&&(r=o,o=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=o,s._i=e,s._f=n,s._strict=r,s._pf=i(),le(s).utc()},be.unix=function(e){return be(1e3*e)},be.duration=function(e,t){var n=e,i=null,o,r,s,a;return be.isDuration(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(n={},t?n[t]=e:n.milliseconds=e):(i=Me.exec(e))?(o="-"===i[1]?-1:1,n={y:0,d:I(i[Ie])*o,h:I(i[Oe])*o,m:I(i[De])*o,s:I(i[xe])*o,ms:I(i[ke])*o}):(i=Le.exec(e))?(o="-"===i[1]?-1:1,s=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*o},n={y:s(i[2]),M:s(i[3]),d:s(i[4]),h:s(i[5]),m:s(i[6]),s:s(i[7]),w:s(i[8])}):"object"==typeof n&&("from"in n||"to"in n)&&(a=v(be(n.from),be(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),r=new d(n),be.isDuration(e)&&e.hasOwnProperty("_locale")&&(r._locale=e._locale),r},be.version=we,be.defaultFormat=nt,be.ISO_8601=function(){},be.momentProperties=Pe,be.updateOffset=function(){},be.relativeTimeThreshold=function(e,n){return dt[e]!==t&&(n===t?dt[e]:(dt[e]=n,!0))},be.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return be.locale(e,t)}),be.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?be.defineLocale(e,t):be.localeData(e),n&&(be.duration._locale=be._locale=n)),be._locale._abbr},be.defineLocale=function(e,t){return null!==t?(t.abbr=e,Re[e]||(Re[e]=new c),Re[e].set(t),be.locale(e),Re[e]):(delete Re[e],null)},be.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return be.localeData(e)}),be.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return be._locale;if(!y(e)){if(t=M(e))return t;e=[e]}return N(e)},be.isMoment=function(e){return e instanceof u||null!=e&&e.hasOwnProperty("_isAMomentObject")},be.isDuration=function(e){return e instanceof d};for(Te=gt.length-1;Te>=0;--Te)S(gt[Te]);be.normalizeUnits=function(e){return T(e)},be.invalid=function(e){var t=be.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},be.parseZone=function(){return be.apply(null,arguments).parseZone()},be.parseTwoDigitYear=function(e){return I(e)+(I(e)>68?1900:2e3)},h(be.fn=u.prototype,{clone:function(){return be(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){
return this._offset?new Date(+this):this._d},toISOString:function(){var e=be(this).utc();return 0<e.year()&&e.year()<=9999?F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return P(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&E(this._a,(this._isUTC?be.utc(this._a):be(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(e){var t=F(this,e||be.defaultFormat);return this.localeData().postformat(t)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(e,t,n){var i=L(e,this),o=6e4*(this.zone()-i.zone()),r,s;return t=T(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+i.daysInMonth()),s=12*(this.year()-i.year())+(this.month()-i.month()),s+=(this-be(this).startOf("month")-(i-be(i).startOf("month")))/r,s-=6e4*(this.zone()-be(this).startOf("month").zone()-(i.zone()-be(i).startOf("month").zone()))/r,"year"===t&&(s/=12)):(r=this-i,s="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?s:f(s)},from:function(e,t){return be.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(be(),e)},calendar:function(e){var t=e||be(),n=L(t,this).startOf("day"),i=this.diff(n,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this))},isLeapYear:function(){return k(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ie(e,this.localeData()),this.add(e-t,"d")):t},month:pe("Month",!0),startOf:function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=T(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+be(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+be(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+L(e,this).startOf(t)},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=be.apply(null,arguments),e<this?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=be.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n=this._offset||0,i;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=W(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=this._d.getTimezoneOffset()),this._offset=e,this._isUTC=!0,null!=i&&this.subtract(i,"m"),n!==e&&(!t||this._changeInProgress?w(this,be.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,be.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?be(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return O(this.year(),this.month())},dayOfYear:function(e){var t=Ee((be(this).startOf("day")-be(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=se(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return D(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return D(this.year(),e.dow,e.doy)},get:function(e){return e=T(e),this[e]()},set:function(e,t){return e=T(e),"function"==typeof this[e]&&this[e](t),this},locale:function(e){return e===t?this._locale._abbr:(this._locale=be.localeData(e),this)},lang:r("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===t?this.localeData():(this._locale=be.localeData(e),this)}),localeData:function(){return this._locale}}),be.fn.millisecond=be.fn.milliseconds=pe("Milliseconds",!1),be.fn.second=be.fn.seconds=pe("Seconds",!1),be.fn.minute=be.fn.minutes=pe("Minutes",!1),be.fn.hour=be.fn.hours=pe("Hours",!0),be.fn.date=pe("Date",!0),be.fn.dates=r("dates accessor is deprecated. Use date instead.",pe("Date",!0)),be.fn.year=pe("FullYear",!0),be.fn.years=r("years accessor is deprecated. Use year instead.",pe("FullYear",!0)),be.fn.days=be.fn.day,be.fn.months=be.fn.month,be.fn.weeks=be.fn.week,be.fn.isoWeeks=be.fn.isoWeek,be.fn.quarters=be.fn.quarter,be.fn.toJSON=be.fn.toISOString,h(be.duration.fn=d.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,o,r,s,a=0;i.milliseconds=e%1e3,o=f(e/1e3),i.seconds=o%60,r=f(o/60),i.minutes=r%60,s=f(r/60),i.hours=s%24,t+=f(s/24),a=f(fe(t)),t-=f(me(a)),n+=f(t/30),t%=30,a+=f(n/12),n%=12,i.days=t,i.months=n,i.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*I(this._months/12)},humanize:function(e){var t=re(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=be.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=be.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=T(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=T(e),t=this._days+this._milliseconds/864e5,"month"===e||"year"===e)return n=this._months+12*fe(t),"month"===e?n:n/12;switch(t+=me(this._months/12),e){case"week":return t/7;case"day":return t;case"hour":return 24*t;case"minute":return 24*t*60;case"second":return 24*t*60*60;case"millisecond":return 24*t*60*60*1e3;default:throw new Error("Unknown unit "+e)}},lang:be.fn.lang,locale:be.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}});for(Te in at)at.hasOwnProperty(Te)&&ge(Te.toLowerCase());be.duration.fn.asMilliseconds=function(){return this.as("ms")},be.duration.fn.asSeconds=function(){return this.as("s")},be.duration.fn.asMinutes=function(){return this.as("m")},be.duration.fn.asHours=function(){return this.as("h")},be.duration.fn.asDays=function(){return this.as("d")},be.duration.fn.asWeeks=function(){return this.as("weeks")},be.duration.fn.asMonths=function(){return this.as("M")},be.duration.fn.asYears=function(){return this.as("y")},be.locale("en",{ordinal:function(e){var t=e%10,n=1===I(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ae?e.exports=be:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ye.moment=_e),be}),ve(!0)):ve()}).call(this)},,function(e,t,n){(function(t){function n(){var e,t;return self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body?document.body.clientHeight:void 0}window.Weebly||(Weebly={}),Weebly.AllDialogs={},Weebly.Dialog=function(e,n){function i(){l.height(document.body.offsetHeight);var e=a(window).height();e>document.body.offsetHeight&&l.height(e)}function o(t,i){e=t,i||u.empty(),u.append(e),e=u.children().first(),c.show(),s(),n.onOpen&&n.onOpen.call(c,e)}function r(){var e=a("<div>"),t=n.outerClass||"";e.addClass(n.inner_class||"weebly-dialog-inner");var i=document.createElement("div");if(i.innerHTML="<div class='weebly-dialog "+t+"'>  <div class='weebly-dialog-border'>    <div class='weebly-dialog-content'>    </div>  </div></div>",c=a(i.firstChild),c.find("div.weebly-dialog-content").first().append(e),n.showClose!==!1){var o="function"==typeof n.closeFunction?n.closeFunction:function(){h(!0)},r=a('<div class="weebly-dialog-close">').on("click",o);e.append(r)}u=a("<div>"),e.append(u),n.iframe?u.css("line-height",0):(n.width&&u.width(n.width),n.height&&u.height(n.height)),c.css("position","absolute"),c.css("left","-10000px"),c.css("z-index",n.zIndex||999),a(document.body).append(c)}function s(){if(c){var t=e[0].scrollHeight+29,o=a(window).height(),r=c[0].scrollHeight;r=Math.max(t,r),c.css("top",a(window).scrollTop()+Math.max(10,Math.round(o/2-r/2))+"px"),c.css("left",Math.round(a(document.body).width()/2-c.width()/2)+"px"),!n.noScrollbars&&r>o-20?(e.height(e.scrollHeight-(r-(o-20))),n.iframe||e.css("overflow","auto")):n.iframe?n.height&&(e.height=n.height):(e.css("height",""),e.css("overflow","")),l&&l.is(":visible")&&i()}}var a=t;n||"object"!=typeof e||e.nodeName?(e=a("string"==typeof e?"#"+e:e),n=n||{},Weebly.AllDialogs[e.attr("id")]=this):(n=e,e=null),this.options=n;var l,c,u;this.setOption=function(e,t){void 0===t?delete this.options[e]:this.options[e]=t},this.open=function(t,s){if(t&&(n.url=t),s&&(n.parameters=s),n.modal)if(l)l.show();else{l=a('<div class="weebly-blackout">').attr("id",n.blackoutID||""),a(document.body).append(l),l.css("z-index",n.zIndex||999);var u=void 0!==n.blackoutOpacity?n.blackoutOpacity:.5;l.css("opacity",u),i()}if(c||r(),n.modal&&a(document.body).append(c),n.iframe){var d="";n.parameters&&(d=a.param(n.parameters),d=n.url.indexOf("?")==-1?"?"+d:"&"+d);var h={};h.border=0,n.width&&(h.width=n.width+"px"),n.height&&(h.height=n.width+"px"),o(a('<iframe src="'+n.url+d+'" frameborder="0">').css(h))}else n.url?new a.ajax(n.url,{type:n.method||"get",data:n.parameters,success:function(e){o(e)}}):o(e.show(),!0)},this.update=function(t){e=t,u.empty().append(e),s()},this.positionDialog=s;var d;a(window).on("resize",function(){!d&&e&&e.offsetWidth&&(d=!0,s(),d=!1)});var h=this.close=function(e){c&&(n.onClose&&n.onClose.call(c,e)===!1||(l&&l.hide(),c.hide()))};this.destroy=function(){l&&l.remove(),u&&u.remove()}},!window.getInnerHeight,e.exports=Weebly.Dialog}).call(t,n(1))},function(e,t,n){var i,o,r;!function(s){o=[n(1)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){function t(t,i){var o,r,s,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,r=o.name,!(!t.href||!r||"map"!==o.nodeName.toLowerCase())&&(s=e("img[usemap='#"+r+"']")[0],!!s&&n(s))):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),o=isNaN(i);return(o||i>=0)&&t(n,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(r,i(this,t)+"px")})},e.fn["outer"+n]=function(t,o){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(r,i(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n=e(this[0]),i,o;n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(n.css("zIndex"),10),!isNaN(o)&&0!==o))return o;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var o,r=e.ui[t].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,n)}}})},,,function(e,t,n){var i,o;i=[n(5),n(1),n(13),n(14),n(197),n(12),n(70),n(19),n(211),n(74),n(358),n(356),n(39),n(7)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){var f=Class.create(a,{initialize:function($super,e,t){if($super(e,t),this.includedScripts={},this.platform_element_id||this.eid==r.CONTENT_AREA_ELEMENT_ID||(this.children&&(this.children=t.loadElements(this.children)),this.leftChildren&&(this.leftChildren=t.loadElements(this.leftChildren)),this.rightChildren&&(this.rightChildren=t.loadElements(this.rightChildren))),!window.adsenseID){var i=this.getContentField();i&&i.content&&i.content.match(/serveAds\.php\?type=adsense/)&&!adsenseID&&!n.chromeless&&(Pages.go("adsenseSetup"),calledAdsenseSetup=!0)}window.calledExternalSetup||this.externalSetup&&(Pages.go("externalSetup",this.externalSetup,this.id),calledExternalSetup=!0)},processHTML:function($super,n,i){var r=this,u="",h=r.getContentField();if(h&&(u=h.ucfid),n=$super(n,i),n=n.replace(/<!WEEBLYGALLERY2?\-(?:.|\s)*?!>/g,function(){return r._isGallery=!0,l.update(u,r.getPropertyResult("<!COLUMNS!>"),r.getPropertyResult("<!SPACING!>"),r.getPropertyResult("<!BORDER!>")||0,r.getPropertyResult("<!CROPPING!>")||0,r.getPropertyResult("<!THUMBCAPTIONTYPE!>"),r.getPropertyResult("<!THUMBCAPTIONHOVER!>"),r.getPropertyResult("<!IMAGESET!>"))}),n=n.replace(/<!WEEBLYSLIDESHOW\-\{(?:.|\s)*?\}!>/g,function(){r._isSlideshow=!0;var e=r.getPropertyResult("<!IMAGES!>");return e=e?e.evalJSON():[],c.generateHTML(u,{elementID:u,nav:r.getPropertyResult("<!NAV!>"),navLocation:r.getPropertyResult("<!NAVLOCATION!>"),captionLocation:r.getPropertyResult("<!CAPTIONLOCATION!>"),transition:r.getPropertyResult("<!TRANSITION!>"),autoplay:r.getPropertyResult("<!AUTOPLAY!>"),speed:r.getPropertyResult("<!SPEED!>"),aspectRatio:r.getPropertyResult("<!ASPECTRATIO!>"),showControls:r.getPropertyResult("<!SHOWCONTROLS!>"),randomStart:r.getPropertyResult("<!RANDOMSTART!>"),images:e})}),n=n.replace(/<!WEEBLYRADIO\-((?:.|\s)*?)\-((?:.|\s)*?)!>/g,function(e,t,n){return d.drawRadioOptions(n)}),n=n.replace(/<!WEEBLYSELECT\-((?:.|\s)*?)\-((?:.|\s)*?)!>/g,function(e,t,n){return d.drawSelectOptions(n)}),n=n.replace(/<!WEEBLYCHECKBOXES\-((?:.|\s)*?)\-((?:.|\s)*?)!>/g,function(e,t,n){return d.drawCheckboxes(n)}),r.formParentID&&(n=n.split("<!"+r.formParentID+"CONTENTS!>").join(i?t("#"+r.formParentID+"-form-list")[0].innerHTML:a.renderElementsHTML(r.children)),n=n.replace(/<input type="submit" class="wsite-form-submit" name="submit" value="([^"]*)" \/>/,"<a class='wsite-button'><span class='wsite-button-inner'>$1</span></a>")),r.columnParentID&&(i||(n=n.replace("<!"+r.columnParentID+"LHSUL!>",r.leftChildren.length?a.renderElementsHTML(r.leftChildren):""),n=n.replace("<!"+r.columnParentID+"RHSUL!>",r.rightChildren.length?a.renderElementsHTML(r.rightChildren):""))),n=n.replace(/<!EXTERNAL:([^!]+)!>/g,function(e,t){if(externalSites<1e3){externalSites++;var n=t;if(remoteAccounts[n])return remoteAccounts[n].remoteId}return""}),n=n.replace(/<weebly include_once(_noexport)? ([^>]*)>([\S\s]*?)<\/weebly>/gim,function(e,t,n,i){return o.scriptSrc.length<30&&(o.scriptSrc.push(i),o.scriptId.push(n),r.includedScripts[n]=i),""}),n=n.replace(/<weebly only_export([^>]*)>([\S\s]*?)<\/weebly>/gim,""),s.isImageElement(this.eid)){if(r._isInitialImage=!1,/<img[^>]*src=['"][^'"]*\/na.png[^'"]*['"][^>]*>/.test(n)){r._isInitialImage=!0;var p=n.match(/(<img[^<]*)/g),f=p[0]+'<p class="wsite-image-placeholder-text">'+e.utl("javascript.editor-site-shared.build.elements.LegacyElement_1")+"</p>";n=n.replace(/(<img[^<]*)/g,f)}var m=r.getPropertyResult("<!DATA!>")||"{}",g;try{g=JSON.parse(m)}catch(e){g={}}g.placeholder&&(r._isInitialImage=!0)}if(i){if(n.match("custom-html-frame"))return!1;if(t(this.li).find(".product-image").length>0)return!0}return n},"%%FEEDURL%%":function(e){return encodeURIComponent(e)},afterRender:function($super,e,n,r){if($super(e,n),n){var a=t(this.li).find(".wsite-form-instructions");a.length&&u.setupFieldInstructions(a[0])}if(this._isGallery&&(n&&l.init(),t(e).find("img").on("dragstart",!1)),this._isSlideshow){var d=this.getContentField().ucfid;whenThemeCSSLoaded(function(){c.init(d),n&&i.vent.trigger("slideshowRerendered"),t(e).find(".wslide-slides img").on("dragstart",!1)})}if(this._isInitialImage&&s.isImageElement(this.eid)?t(e).addClass("wsite-initial-image"):(t(e).hasClass("wsite-initial-image")&&t(e).find(".tablet-placeholder").removeClass("tablet-placeholder"),t(e).removeClass("wsite-initial-image")),r)try{o.runIncludedScripts(this.includedScripts)}catch(e){}},getPropertyResult:function(e){var t=this.getContentField();if(t){var n=t.getProperty(e);return n?n.property_result:void 0}}});return f.beforeRender=function(e){externalSites=0,o.scriptSrc=[],o.scriptId=[]},f.afterRender=function(e){i.vent.trigger("afterRender:LegacyElement",e),n.chromeless&&t(".wsite-youtube-coverbox").hide(),e||p.execute("slideshowadmin:updateManager");try{o.runIncludedScripts()}catch(e){}},Weebly.LegacyElement=f,a.register(!0,f),f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[],o=function(){return{EVENTS:{DOCUMENT_READY:"documentReady",DOCUMENT_RESIZED:"documentSizeChanged",AREA_TEXT_EDITING_START:"startedEditingAreaText",AREA_TEXT_EDITING_END:"finishedEditingAreaText",TEXT_EDITING_START:"startedEditingText",TEXT_EDITING_END:"finishedEditingText",TEXT_EDITING_TOOLBAR_UPDATE:"updateToolbarStates",SUBNAV_SHOWN:"navShown",SUBNAV_HIDDEN:"navHidden",NAV_CLICKED:"navClicked",NAV_PREVIOUS_PAGE_CLICKED:"navPreviousPageClicked",NAV_NEXT_PAGE_CLICKED:"navNextPageClicked",PAGE_RENDER_FAIL:"renderPageFailed",SITE_INIT_FAIL:"initializeEditorFailed",EDITING_POST_TITLE:"startedEditingPostTitle",EDITED_POST_TITLE:"finishedEditingPostTitle",INITIALIZE_BLOG_POST_EDITOR_FAILED:"initializeBlogPostEditorFailed"},COMMANDS:{},REQUESTS:{}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){function t(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if("undefined"==typeof e.fn.wRadio&&"undefined"==typeof e.fn.wCheckbox&&"undefined"==typeof e.fn.wToggle){var n,i,o,r;n=t(Object,{inputName:"winput",bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(e){this.initializing=!0,this.opts=e=this.prepareOpts(e),e.element.data(this.inputName)&&this.destroy(),this.container=this.createContainer();var t=e.element.prop("checked")||e.element.prop("defaultChecked");t&&(this.opts.element.removeAttr("checked"),this.check());var n=e.element.prop("readonly");void 0===n&&(n=!1),this.readonly(n);var i=e.element.prop("disabled");void 0===i&&(i=!1),this.enable(!i),this.initContainer(),this.initializing=!1},initContainer:function(){var e;this._tabindex=this.opts.element.attr("tabindex"),this.opts.element.addClass("w-input-offscreen").data(this.inputName,this).before(this.container).attr("tabindex","-1"),this.container.data(this.inputName,this).attr("tabindex",this._tabindex||0),this.container.on("keypress."+this.inputName,this.bind(function(e){32===e.which&&(this.toggleCheck(),e.preventDefault())})),this.opts.element.on("change",this.bind(function(e){var t=e.currentTarget.checked;e.internal||this.assign(t)}))},prepareOpts:function(e){return e},updateInterface:function(){var e=!this._readonly&&!!this._enabled;return this._enabledInterface!==e&&(this._enabledInterface=e,this.container.toggleClass("disabled",!e),e)},readonly:function(e){return void 0===e&&(e=!1),this._readyonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.updateInterface(),e)},enable:function(e){return void 0===e&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.updateInterface(),e)},disable:function(){return this.enable(!1)},uncheck:function(){return this.checking(!1)},check:function(){return this.checking(!0)},checking:function(e){return!(!this.opts.element.prop("defaultChecked")&&this.opts.element.prop("checked")===e)&&(this.assign(e),!0)},assign:function(e){return this._readonly!==!0&&this._enabled!==!1&&(this.opts.element.prop("checked",e),this.opts.element.closest("label.box").toggleClass("checked",e),void this.container.toggleClass("checked",e))},toggleCheck:function(){this.opts.element.prop("checked")?this.uncheck():this.check()},reset:function(){var e=this.opts.element.prop("checked")||this.opts.element.prop("defaultChecked");this.opts.element.prop("checked",e),this.container.toggleClass("checked",e)},destroy:function(){var e=this.opts.element.data(this.inputName);void 0!==e&&(e.container.remove(),e.opts.element.attr("tabindex",this._tabindex).removeData(this.inputName).removeClass("w-input-offscreen")),this.opts.element.off("."+this.inputName)}}),i=t(n,{inputName:"wcheckbox",prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e},createContainer:function(){var t=e(document.createElement("span")).addClass("w-checkbox-container");return t},initContainer:function(){this.parent.initContainer.apply(this,arguments),this.container.on("click."+this.inputName,this.bind(function(e){e.preventDefault(),e.stopPropagation(),this.toggleCheck()}))},checking:function(t){var n=e.Event("change",{internal:!0});this.parent.checking.apply(this,arguments),this.initializing||this.opts.element.trigger(n)}}),o=t(n,{inputName:"wtoggle",prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e},createContainer:function(){var t=e(document.createElement("span")).addClass("w-toggle-container");return t},initContainer:function(){this.parent.initContainer.apply(this,arguments),this.container.on("click."+this.inputName,this.bind(function(e){e.preventDefault(),e.stopPropagation(),this.toggleCheck()}))},checking:function(t){var n=e.Event("change",{internal:!0});this.parent.checking.apply(this,arguments),this.initializing||this.opts.element.trigger(n)}}),r=t(n,{inputName:"wradio",prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e},createContainer:function(){var t=e(document.createElement("span")).addClass("w-radio-container");return t},initContainer:function(){this.parent.initContainer.apply(this,arguments),this.initSet(),this.container.on("click."+this.inputName,this.bind(function(t){t.preventDefault(),t.stopPropagation(),this.check(),this._readonly!==!0&&this._enabled!==!1&&this.opts.element.trigger(e.Event("click"))}));var t=this.opts.element.closest("label");0===t.length&&(t=e("label[for="+this.opts.element.attr("id")+"]")),t.on("click."+this.inputName,this.bind(function(e){e.preventDefault(),e.stopPropagation(),this.check()})),this.opts.label=t},check:function(){if(!this.opts.element.prop("checked"))return this._enabled&&!this._readonly&&this.uncheckAll(),this.parent.check.apply(this,arguments)},initSet:function(){var t=this.opts.element.closest("form"),n=this.opts.element.attr("name");if(t.length||n){var i;i=t.length>0?t.find("input[type=radio][name="+n+"]"):e("input[type=radio][name="+n+"]");for(var o=[],r=0;r<i.length;r++)i.eq(r).data(this.inputName)&&o.push(i.eq(r).data(this.inputName));for(var r=0;r<o.length;r++)o[r]._set=o;this._set=o,i.off("reread").on("reread",this.bind(this.resetAll))}},resetAll:function(){for(var e=this._set,t=e.length,n=0;n<t;n++)e[n].reset()},uncheckAll:function(){void 0===this._set&&this.initSet();for(var e=0;e<this._set.length;e++)this._set[e].uncheck()},toggleCheck:function(){this.uncheckAll(),this.parent.toggleCheck.apply(this,arguments)},checking:function(t){if(this.initializing)return this.parent.checking.apply(this,arguments);if(!this._readonly&&this._enabled){var n=this.opts.element.prop("checked"),i=this.parent.checking.apply(this,arguments),o=n!==i;return o&&t&&this.opts.element.trigger(e.Event("change")),i}},destroy:function(){var e=this.opts.element.data(this.inputName);void 0!==e&&e.opts.label.off("."+this.inputName),this.parent.destroy.apply(this,arguments)}}),e.fn.wCheckbox=function(){var t=Array.prototype.slice.call(arguments,0),n,o,r,s,a=["check","uncheck","toggleCheck","enable","disable","readonly","destroy"];return this.each(function(l,c){if(0===t.length||"object"==typeof t[0]){if(o=0===t.length?{}:e.extend({},t[0]),"input"!==c.tagName.toLowerCase()||"checkbox"!==c.type.toLowerCase())throw"Invalid input, wCheckbox only allowed for checkboxes";o.element=e(c),n=new i,n.init(o)}else{if("string"!=typeof t[0])throw"Invalid arguments to wCheckbox: "+t;if(r=t[0],s=e(c).data("wcheckbox"),e.inArray(r,a)===-1)throw"Method not found: "+r;if(void 0===s)throw"Element is not a wCheckbox element";s[r].apply(s,t.slice(1))}}),this},e.fn.wToggle=function(){var t=Array.prototype.slice.call(arguments,0),n,i,r,s,a=["check","uncheck","toggleCheck","enable","disable","readonly","destroy"];return this.each(function(l,c){if(0===t.length||"object"==typeof t[0]){if(i=0===t.length?{}:e.extend({},t[0]),"input"!==c.tagName.toLowerCase()||"checkbox"!==c.type.toLowerCase())throw"Invalid input, wToggle only allowed for checkboxes";i.element=e(c),n=new o,n.init(i)}else{if("string"!=typeof t[0])throw"Invalid arguments to wToggle: "+t;if(r=t[0],s=e(c).data("wtoggle"),e.inArray(r,a)===-1)throw"Method not found: "+r;if(void 0===s)throw"Element is not a wToggle element";s[r].apply(s,t.slice(1))}}),this},e.fn.wRadio=function(){var t=Array.prototype.slice.call(arguments,0),n,i,o,s=["check","uncheck","enable","disable","readonly","destroy"];return this.each(function(a,l){if(0===t.length||"object"==typeof t[0])if(o=0===t.length?{}:e.extend({},t[0]),"input"===l.tagName.toLowerCase()&&"radio"===l.type.toLowerCase())o.element=e(l),i=new r,i.init(o);else{if("form"!==l.tagName.toLowerCase())throw"Invalid element, wRadio only allowed for radios and forms with radios";e(l).find("input[type=radio]").each(function(){e(this).wRadio()})}else{if("string"!=typeof t[0])throw"Invalid arguments to wRadio: "+t;if(n=t[0],i=e(l).data("wradio"),e.inArray(n,s)===-1)throw"Method not found: "+n;if(void 0===i)throw"Element is not a wRadio element";i[n].apply(i,t.slice(1))}}),this}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(5),n(9),n(739),n(743),n(740),n(741),n(467)],o=function(e,t,n,e,i,o,r,s,a,l){var c={REST_OF_WORLD_CODE:"WW",SUBREGION_TYPE_STATE:"state",SUBREGION_TYPE_PROVINCE:"province",SUBREGION_TYPE_COUNTRY:"country",isEuUser:function(){var t=["AL","AD","AM","AT","BY","BE","BA","BG","CH","CY","CZ","DE","DK","EE","ES","FO","FI","FR","GB","GE","GI","GR","HU","HR","IE","IS","IT","LT","LU","LV","MC","MK","MT","NO","NL","PL","PT","RO","RU","SE","SI","SK","SM","TR","UA","VA"];return t.indexOf(e.userCountry)>-1},getContinentalUnitedStates:function(){return["AL","AZ","AR","CA","CO","CT","DE","DC","FL","GA","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},getNormalUnitedStates:function(){return["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},getCompleteUnitedStates:function(){return n.pluck(this.getStates().US,"abbr")},getCountries:function(){return this.translatedCountries||(this.translatedCountries=o.slice(0),t.each(this.translatedCountries,function(t,n){n.name&&(n.name=e.utl(n.name)),n.region&&(n.region=e.utl(n.region))})),this.translatedCountries},getCountriesWithout:function(e){return e=e||[],n.filter(this.getCountries(),function(t){return e.indexOf(t.cca2)===-1})},getRegionCountries:function(){var n=new i.Collection,o=new i.Collection([{shippingRegion:"WORLD",name:e.utl("json.regions.world")}]),r=this.getCountries().slice(0);return t.each(r,function(e,t){if(!t.exclude){if(t.nested=!0,t.flag=t.cca2.toLowerCase(),0==n.where({shippingRegion:t.shippingRegion}).length)n.add({shippingRegion:t.shippingRegion,name:t.region});else{var r=n.findWhere({shippingRegion:t.shippingRegion
});r.has("countries")?r.get("countries").add(t):r.set("countries",new i.Collection([t]))}0==o.where({shippingRegion:t.shippingRegion}).length&&o.add({name:t.region,shippingRegion:t.shippingRegion})}}),{regions:n,restOfRegions:o}},getSubregionType:function(e){return["AU","BR","US"].indexOf(e)!==-1?c.SUBREGION_TYPE_STATE:"GB"===e?c.SUBREGION_TYPE_COUNTRY:c.SUBREGION_TYPE_PROVINCE},getSubregionsInCountry:function(e){var t=this.getStates();return t[e]?n.pluck(t[e],"abbr"):[]},getSubregionsInCountryWithout:function(e,t){var i=this.getSubregionsInCountry(e);return t.length?n.filter(i,function(e){return!n.contains(t,e)}):i},weightsTranslated:!1,getWeights:function(){return this.weightsTranslated||(t.each(r,function(t,n){n.name&&(n.name=e.utl(n.name)),n.example&&(n.example=e.utl(n.example))}),this.weightsTranslated=!0),r},currenciesTranslated:!1,getCurrencies:function(){return this.currenciesTranslated||(t.each(s,function(t,n){n.name&&(n.name=e.utl(n.name))}),this.currenciesTranslated=!0),s},statesTranslated:!1,getStates:function(){return this.statesTranslated||(t.each(a,function(n,i){t.each(i,function(t,n){n.name&&(n.name=e.utl(n.name))})}),this.statesTranslated=!0),a},hasRegionSupport:function(e){return!!this.getStates()[e]},getState:function(e,t){var i=this.getStates();if(!i[e])throw new Error("No states found for country "+e);return n.findWhere(i[e],{abbr:t})},getPlaceholderStateForCountry:function(e){var t=a[e];return t?t[0].abbr:""},getStatesLength:function(e){var t=a[e];return t?t.length:0},translatedTimezones:null,getTimezones:function(){var t=this;return t.translatedTimezones||(t.translatedTimezones=n.map(l,function(t){return n.defaults({name:e.utl(t.name)},t)})),t.translatedTimezones},findCountryByCode:function(e){return n.find(o,function(t){return t.cca2===e||t.cca3===e})},findStateByCode:function(e,t){var i=this.getStates(),o=i[e];if(o)return n.find(o,function(e){return e.abbr===t})}};return c}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(13),n(6),n(14),n(17),n(7),n(222),n(39),n(79),n(26),n(59),n(23),n(205),n(283),n(323),n(362),n(370),n(299),n(464),n(465)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g){function v(){var e={customConfig:"",enterMode:f.ENTER_BR,allowedContent:"p li ol ul h1 h2 h3 b i u em strong [style] {color}; span font [size, color, style] {font-weight, color, size}; a [href, target];",pasteFromWordRemoveStyles:!0,pasteFromWordRemoveFontStyles:!0,title:!1,coreStyles_bold:{element:"b",overrides:"strong"},coreStyles_italic:{element:"i",overrides:"em"},tabSpaces:4,toolbarGroups:[],removeDisallowedTags:"link:advanced",removeButtons:"Cut,Copy,Paste,Undo,Redo,Anchor,Underline,Strike,Subscript,Superscript",disableNativeSpellChecker:!1};i.chromeless?e.removePlugins="pastefromword, pastetext, clipboard":e.removePlugins="magicline, contextmenu, liststyle, tabletools, toolbar, link, scayt, menubutton",t.extend(f.config,e),i.chromeless&&(f.basePath="//"+ASSETS_BASE+"/js/vendor/bower_components/ckeditor/")}function b(e){var n=t("#"+e.editor.name),o=e.editor.name;if(window.currentBox&&window.currentBox===o){var r=window._editBoxOptions[n[0].id];if(r&&!i.chromeless){var s=Date.now();if((!le||s>le+2e4)&&(le=s,"wsite-title"!=o&&"function"!=typeof ce&&!n.hasClass("input"))){var a=n.html();l.saveContent(o,a,se,1)}}}9===e.data.keyCode&&(e.cancel(),"wsite-title"!==o&&Z.runCommand(e.editor.name,"indent",null));var c=n[0].id;n&&c&&(window.editBoxSelectingText=!0,window.currentBox&&window.currentBox==c||Z.showEditBox(c,null,window._editBoxOptions[c]))}function w(e){he=t("#"+window.currentBox).height()}function y(e){he!=t("#"+window.currentBox).height()&&r.vent.trigger("forceDocumentSizeChange")}function _(e){if(!i.chromeless){var n=t(e.target);n.is(document)||!n.hasClass("editable-text")&&!n.closest(".editable-text").length?Y():V(e)}}function E(e){if(!ee){window.editBoxSelectingText=!1;var n=t(e.target);n=n.hasClass("editable-text")?n[0]:n.closest(".editable-text")[0],n&&n.id&&(window.editBoxSelectingText=!0,o.vent.trigger("editor:element:props:show"),window.currentBox&&window.currentBox==n.id||Z.showEditBox(n.id,null,window._editBoxOptions[n.id]))}}function T(){ge=ve}function C(){var e=$();if(!e)return void(me={});ve=e.cloneRange();var i={};["bold","fontSize","foreColor","italic","justify","link","orderedList","underline","unorderedList"].each(function(e){var t=Z.getCurrentValue(e);n.isEqual(me[e],t)||(me[e]=t,i[e]=void 0!==t&&t)}),t.isEmptyObject(i)||a.trigger(h.EVENTS.TEXT_EDITING_TOOLBAR_UPDATE,i)}function S(e,t,o){var r=B(e);return t&&(r=r.replace(/^(\s|&nbsp;|&#160;|<br\s*\/?>)*/i,"")),(t||"wsite-title"==window.currentBox)&&(r=r.replace(/(\s|&nbsp;|&#160;|<br\s*\/?>)*$/i,"")),i.chromeless&&(r=r.replace(/&nbsp;/gi," "),r=n.unescape(r)),r}function I(e){var t="",n=" ";e=e.split(t).join(n);var i=/<(?:.|\n)*?>/gim,o=/\s+/gim,r=e.replace(i,n);return r=r.replace(o,n),r=r.trim()}function O(e){var n;f.instances[e]||(n=t("#"+e),n.is("span")&&(n=Z.convertSpanToDiv(n)),f.inline(e,{on:{key:function(e){b(e)}}}))}function D(){Z.runCommand(window.currentBox,"selectAll",!1),setTimeout(function(){Z.runCommand(window.currentBox,"delete")},0)}function x(e,t){if(e=e||"",e.match(/^(Product.*)?Click here to edit.$/)||e.match(/^(Product.*)?Double-tap to edit.$/))return!0;if(e.replace(/<.*?>/g,"").match(/Click here to edit\.$/)||e.replace(/<.*?>/g,"").match(/Double-tap to edit\.$/))return!0;if(e.indexOf("This is your new blog post.")>-1)return!0;if(t.$el&&e==t.$el.attr("placeholder"))return!0;if(e==i.defaultPlaceholderText)return!0;for(var n in i.areaDefaultPlaceholderText)if(e==i.areaDefaultPlaceholderText[n])return!0;return!!t.emptyText&&e.indexOf(t.emptyText)>-1}function k(e){var i=t("#editMenu"),o={},r=t("#"+e),s=r.closest("li.inside"),a=s.length?s:r;r.is("div")&&!r.hasClass("product-title")&&"true"!==r.data("converted")||(o.unorderedList=!1,o.orderedList=!1),(r.hasClass("wsite-product-description")||r.parent().is("#wsite-com-product-short-description"))&&(a=r,o.alignment=!1,o.changecolor=!1);var l=t("#menuitem-a");l.toggle(o.alignment!==!1);var c=t("#menuitem-ul");c.toggle(o.unorderedList!==!1);var u=t("#menuitem-ol");u.toggle(o.orderedList!==!1);var d=t("#menuitem-cc");if(d.toggle(o.changecolor!==!1),!fe){fe=!0;var h={delay:{show:600,hide:100},placement:"bottom"};t("#editMenuChild").on("click","a[data-command]",R),t("#menuitem-b").tooltip(h),t("#menuitem-i").tooltip(h),t("#menuitem-u").tooltip(h),t("#menuitem-if").tooltip(h),t("#menuitem-df").tooltip(h),d.tooltip(h).wColorChooser({id:"editmenu-color-chooser",autoExpand:!0,containerOffsetY:5,parent:"#_editor-ui",onBeforeShow:function(){var e=$();if(e){var n=t(e.commonAncestorContainer).closest("font").css("color");n&&d.spectrum("set",n)}},onMove:P,onUpdate:P,onChange:function(e){d.spectrum("hide"),P(e)}}),t("#menuitem-cl").tooltip(h).on("mousedown",L).on("click",function(e){e.preventDefault(),e.stopPropagation(),Z.showCreateLink()}),l.tooltip(h),c.tooltip(h),u.tooltip(h),t("#menuitem-rf").tooltip(h),t("#menuitem-z").tooltip(h),t("#menuitem-r").tooltip(h)}i.show();var p=t(window),f=function(e,n){var i=t(document.body);A(e,n,i)};pe=n.partial(f,i,a);var m=n.debounce(pe,100);pe(),p.on("scroll",m),re=function(){p.off("scroll",m),pe=t.noop}}function R(e){Z.runCommand(window.currentBox,t(e.currentTarget).data("command"),null),e.preventDefault()}function P(e){f.env.ie&&10==f.env.version||Z.runCommand(window.currentBox,"foreColor",e)}function A(e,n,i){var o=i.offset(),r=i.outerWidth(),s=n.offset(),a=n.outerWidth(),l=n.outerHeight(),c=t("#_editor-ui").length>0?t("#_editor-ui").offset().top:0;s.top=s.top-t(document).scrollTop()-c;var u=e.outerWidth(),d=e.outerHeight(),h=!1,p=s.top-d-10;p<o.top+10&&(p=o.top+10,h=!0),p=Math.min(s.top+l+10,p);var f=n.find("[contenteditable=true]")[0];!f&&n.is("[contenteditable=true]")&&(f=n[0]);var m;if(f){var g=window.getComputedStyle(f);switch(g["text-align"]){case"right":m=s.left+a-u;break;case"center":m=s.left+a/2-u/2;break;case"left":case"justify":default:m=s.left-(h?10:0),m+u-o.left>=r&&(m=s.left+a-u)}}else u<r?(m=s.left-(h?10:0),m+u-o.left>=r&&(m=s.left+a-u)):m=s.left+a/2-u/2;var v=t(document);e.css({top:p+v.scrollTop(),left:m+v.scrollLeft()})}function N(e,n){var i=t(e).closest("li");return!i.is(".inside")&&!!i.parent().is(n)}function M(e){var t=3;return e<13?t=1:e>=13&&e<16?t=2:e>=18&&e<24?t=4:e>=24&&e<32?t=5:e>=32&&(t=6),t}function L(){var e=window.rangy.getSelection();e.rangeCount<1&&(ve&&ve.isValid()?e.addRange(ve):ge&&ge.isValid()&&e.addRange(ge)),ae=window.rangy.saveSelection()}function B(e){return e=e.replace(/<!--.*?-->/gi,""),(navigator.appVersion.match("Safari/")||navigator.appVersion.match("AppleWebKit/"))&&(e=e.replace(/^\s+|\s+$/g,"").replace(/^(<\/?div>)*|(<\/?div>)*$/gi,"").replace(/(<br[ \/]*>)?(\s*<\/?div>)+\s*/gi,"<br />")),e=e.replace(/<b(\s+|>)/gi,"<strong$1"),e=e.replace(/<\/b(\s+|>)/gi,"</strong$1"),e=e.replace(/<i(\s+|>)/gi,"<em$1"),e=e.replace(/<\/i(\s+|>)/gi,"</em$1"),e=e.replace(/<br ?>/gi,"<br />"),e=e.replace(/<br style=[\'\"].*?[\'\"]>/gi,"<br />"),e=e.replace(/<p>&nbsp;<\/p>/gi,""),e=e.replace(/<\/p[^>]*>/gi,"<br /><span></span>"),e=e.replace(/<p[^>]*>/gi,""),e=e.replace(/<([\w-]+)(?:|[^>]*[^\/])>((?:\s|<br[ \/]*>)*)<\/\1>/gi,K),e=e.replace(/(<span><\/span>)+/gi,"<span></span>"),e=e.replace(/<\/?([\w-]+)[^>]*>/gi,F),e=e.replace(/<[^>]*>/g,H)}function K(e,t,n){return"span"==t.toLowerCase()?e:n}function F(e,t){return/^(span|strong|u|em|br|big|small|a|font|ul|ol|li)$/i.test(t)||i.chromeless&&/^(img)$/i.test(t)?e:""}function H(e){return e=e.replace(/\s+([\w-]+)\s*=\s*["'][^"']*["']/g,j)}function j(e,t){var n=/^(src|alt|href|target|title|style|size|color)$/i;return e.match(/selectionboundary/i)||n.test(t)?e:""}function W(e){if(!e)return!1;var t=window.rangy.createRange();t.selectNode(e),Z.selectRange(t)}function $(e){be=!!e;var t=window.rangy.getSelection();return t.rangeCount<1?null:t.getRangeAt(0)}function z(){var e=window.rangy.getSelection().anchorNode;return 3===e.nodeType&&(e=e.parentNode),e}function V(){try{var e=t(z()),n="a:not(.wbutton)",i=e.closest(n);if(e.length&&(e.is(n)||1===i.length)&&(1===i.length&&(e=t(i[0])),0===e.closest(".wsite-logo").length))return void Z.getChannel().request("settings:siteDomain").done(function(t){Y(),q(e,t)});Y(),window.currentBox&&J()}catch(e){}}function U(e){return e.offset().left-t(document).scrollLeft()}function G(e){return e.offset().top-t(document).scrollTop()}function q(n,i){if(n.length&&n.is("a")){oe=n;var o=Z.parseLinkString(n.attr("href")),l=function(e){e.stopPropagation(),ee=!0;var t=n.closest(".element");Z.getChannel().request("linker:open",{existing:o,remove:!0,ucfid:t.length?t[0].id:null,coordinates:t.length?{docLeft:U(t),docTop:G(t),height:t.height(),width:t.width()}:null}).done(function(e,t){e?(n.attr("href",e),t?n.attr("target","_blank"):n.removeAttr("target")):(W(n[0]),Z.runCommand(window.currentBox,"unlink",null))}).always(Z.linkerAlwaysCallback)},c=t("<div>",{id:"link-info-box"});if("_blank"==n.attr("target")&&(o.newWindow=!0),o.pageID){var u=s.getPage(o.pageID);c.append(e.utl("html.weebly.libraries.weebly_editbox_1"),t("<a>",{html:u.get("title"),on:{click:function(){a.request("page:navigate:go",o.pageID)}}}))}else if(o.location)if(e.Restrictions.published){var d=i?"http://"+i+"/uploads/"+o.location:"/uploads/"+o.location;c.append(e.utl("html.weebly.libraries.weebly_editbox_2"),t("<a>",{href:d,target:"_blank",html:o.location.replace(/^.*\//,"")}))}else c.append(e.utl("javascript.site.editor.ui.weebly_editbox_10"),t("<a>",{html:o.location.replace(/^.*\//,"")}));else if(o.email)c.append(o.email);else if(o.store)c.append(e.utl("html.weebly.libraries.weebly_editbox_3"),t("<a>",{html:o.store,on:{click:function(){a.request("page:navigate:commerce",o.store)}}}));else if(o.phone)c.append(e.utl("javascript.site.editor.ui.weebly_editbox_9")+" : ",t("<span>",{text:o.phone}));else if(o.blogPost){var h=g.getBlogPostDetailsFromLink(o.blogPost);c.append(e.utl("javascript.site.editor.ui.weebly_editbox_8"),t("<a>",{html:h.title,on:{click:function(){r.vent.trigger("navClicked",h.pageId),r.vent.once({pageRendered:function(){a.execute("blog:post:edit",h.postId)}})}}}))}else c.append(e.utl("html.weebly.libraries.weebly_editbox_4"),t("<a>",{href:o.url,target:"_blank",html:o.url}));c.append(" - ",t("<a>",{html:e.utl("html.weebly.libraries.weebly_editbox_5"),on:{click:l}})," - ",t("<a>",{html:e.utl("html.weebly.libraries.weebly_editbox_6"),on:{click:X}}),t("<a>",{html:"&times;",alt:e.utl("javascript.site.editor.ui.weebly_editbox_7"),css:{padding:"0px 5px 0px 10px"}})),t("#menuitem-lu").on("click.link-info-box",l).show(),t("#menuitem-cl").hide();var p=t("#_editor-ui"),f=p.offset(),m=n.offset();c.css({top:m.top+n.height()+2-f.top+"px",left:m.left-f.left+"px"}),p.append(c)}}function Y(){t("#link-info-box").remove(),t("#menuitem-lu").off("click.link-info-box").hide(),t("#menuitem-cl").show()}function X(){oe.length&&oe.is("a")&&(W(oe[0]),Z.runCommand(window.currentBox,"unlink",null),Y())}function J(){var e=t("#"+window.currentBox);if(Prototype.Browser.IE){var n=t(window),i=n.scrollTop();e.css("position","fixed").focus().css("position","relative"),n.scrollTop(i)}else e.focus()}function Q(){if(be=!1,ae)return window.rangy.restoreSelection(ae),window.rangy.removeMarkers(ae),void(ae=null);var e=$();e&&e.isValid()||(e=null,ve&&ve.isValid()?e=ve:ge&&ge.isValid()&&(e=ge),e&&Z.selectRange(e))}var Z={currentBox:"",_editBoxOptions:{},editBoxRedrawOptions:!1,editBoxSelectingText:!1},ee=!1,te=!1,ne="",ie=null,oe="",re,se=null,ae=null,le=null,ce=null,ue=!0,de=null,he=0,pe=t.noop,fe=!1,me={},ge,ve,be=!1,we=0,ye=null;return Z.getChannel=function(){return null==ye&&(ye=d.inEditorContext()?o:a),ye},Z.makeElementContentEditable=function(e,o){if(e){o=o||{};var r;e instanceof t?(r=e,e=e[0]):r=t(e),e.id||(e.id="editableElementContent"+we++),e.contentEditable=!0,r.addClass("editable-text"),void 0!==r.attr("placeholder")&&(o.emptyText=r.attr("placeholder"),r.html()||r.html(r.attr("placeholder"))),o.$el=r,n.isUndefined(o.richTextControls)&&(o.richTextControls=!i.chromeless),window._editBoxOptions[e.id]=o}},Z.initEditBox=function(){window.rangy.initialized||window.rangy.init(),v(),window.onbeforeunload=function(){Z.hideEditBox(window.currentBox)},t(document).on({click:_,mousedown:E,selectstart:T,selectionchange:C}),i.chromeless&&t(document).on({keypress:w,keyup:y,focusin:E})},Z.closePlatformSettingsPanel=function(){r.elementSettings.close()},a.on({"site:overlays:hide":function(){Z.hideEditBox(null,!0)},dragstart:Z.hideEditBox}),r.on({dragstart:Z.hideEditBox}),Z.hideEditBox=function(e,n){if(window.currentBox&&(window.currentBox===e||n)){window.currentBox&&n&&(e=window.currentBox),de&&(de.parents("li.inside").removeClass("inside-child-active"),de.removeClass("inside-active"),de=null);var o=t("#"+e),r=window._editBoxOptions[o.id]||{richTextControls:!i.chromeless};if(o.length){var s=null;if(s="wsite-title"===e?I(o[0].innerText):S(o.html(),!!ce,o),"wsite-title"===e?a.trigger(h.EVENTS.AREA_TEXT_EDITING_END,"logo","",s):"function"!=typeof ce&&a.trigger(h.EVENTS.TEXT_EDITING_END,e,s),"wsite-title"!=e&&(!s||s.match(/^(<span><\/span>)*<br \/>$/))){var u=o.attr("placeholder"),d=e.replace(/wsite-/,"");"string"!=typeof r.emptyText&&"string"==typeof u&&(r.emptyText=u),s="string"==typeof r.emptyText?r.emptyText:i.areaDefaultPlaceholderText[d]||i.defaultPlaceholderText,"undefined"!=typeof o.parents("li.inside.platform-element-child").data("default-text")&&(s=o.parents("li.inside.platform-element-child").data("default-text")),o.html(s)}"function"==typeof ce?ce(e,x(s,r)?"":s,se):"wsite-title"!=e||i.chromeless?o.hasClass("input")||i.chromeless||l.saveContent(e,s,se):l.updateSiteTitle(s);var m=p.getContentField(window.currentBox);if(m&&(m.contentFieldContent=s,m.content=m.render()),f.instances[e]){f.instances[e].setData(s),f.instances[e].focusManager.blur();try{f.instances[e].destroy()}catch(e){}Y(),i.chromeless&&(o.off("blur"),o.blur())}}re&&(re(),re=null),window.currentBox=null,r.richTextControls&&(t("#editMenu").hide(),Z.getChannel().execute("linker:close"),o.off("blur")),window.editBoxRedrawOptions&&c.generateProperties(c.currentElement),o.attr("class")&&o.attr("class").match("prettyprint")&&window.prettyPrint(),"wsite-title"==e&&window.refreshNavCondense&&window.refreshNavCondense()}},Z.showEditBox=function(e,o,s){function l(n){ee||t.contains(p[0],n.target)||d.length&&t.contains(d[0],n.target)||p.is(document.activeElement)||(v.off("click",l),Z.hideEditBox(e))}var d=t("#editMenu:hidden");if(s=s||{richTextControls:!i.chromeless},r.vent.trigger("editor:element:text:modify"),closePlatformSettingsPanel(),O(e),e==window.currentBox)return void(d.length&&"wsite-title"!=e&&ue&&s.richTextControls!==!1&&k(e));window.currentBox&&Z.hideEditBox(window.currentBox);var p=t("#"+e),f=p.hasClass("wsite-button-inner");f===!0?c.selectElement(p.closest(".element").get(0)):c.unselectElement(),de=p.closest("li.inside"),de.length?(de.parents("li.inside").addClass("inside-child-active"),de.addClass("inside-active")):de=null,window.currentBox=e,se=p[0].style.textAlign||null,ce=null,(p.hasClass("product-description")||p.hasClass("product-title"))&&(s=n.extend({saveCallback:u.saveProductField,redrawOptions:!0,showOptions:!0},s)),p.hasClass("product-price")&&(s=n.extend({saveCallback:u.saveProductField,redrawOptions:!0,showOptions:!1},s)),s&&("function"==typeof s.saveCallback&&(ce=s.saveCallback),"undefined"!=typeof s.redrawOptions&&(window.editBoxRedrawOptions=s.redrawOptions),"undefined"!=typeof s.showOptions&&(ue=s.showOptions)),"wsite-title"!=e&&ue&&s.richTextControls!==!1&&(k(e),m.show({element:p.closest("li.inside")}),m.once("destroy",function(){ee&&(ne=e,te=!0)}));var g=$();if(g&&L(),"wsite-title"===e?p.html(I(p[0].innerText)):p.html(S(p.html(),!!ce,p)),g?Q():(g=window.rangy.createRange(),g.selectNodeContents(p[0]),g.collapse(!1),Z.selectRange(g)),s.richTextControls){var v=t(document);v.on("click",l)}else p.on("blur",function(){be||Z.hideEditBox(e)});var b=p.html(),w=p.parents("li.inside.platform-element-child")[0];if(x(b,s)||"undefined"!=typeof w&&""!==b&&t(w).data("default-text")===b)try{setTimeout(D,0)}catch(e){}s.startedEditingCallback?s.startedEditingCallback():"wsite-title"==e?a.trigger(h.EVENTS.AREA_TEXT_EDITING_START,"logo",""):a.trigger(h.EVENTS.TEXT_EDITING_START,e)},Z.runCommand=function(e,n,o){var r=document,s=t("#"+window.currentBox),a=f.instances[window.currentBox],l,c,u,d=window.rangy.getSelection(),h=d.toString(),p,m=!1;if(!(s.length&&a||i.chromeless))return!1;a.focus(),x(s.html(),{$el:s})?(l=window.rangy.createRange(),l.selectNodeContents(s[0]),Z.selectRange(l),l.deleteContents()):"increaseFontSize"===n||"decreaseFontSize"===n||"unlink"===n||"foreColor"===n&&""!==h||"bold"===n&&!i.chromeless?(p=a.getSelection().createBookmarks(),""===h&&(a.getSelection().selectBookmarks(p),p=null)):(Q(),p&&a.getSelection().selectBookmarks(p));try{switch(n){case"foreColor":p&&a.getSelection().selectBookmarks(p),r.execCommand(n,!1,o),p=a.getSelection().createBookmarks(),f.env.gecko&&s.find("[type=_moz]").remove();break;case"fontSize":r.execCommand("FontSize",!1,o);break;case"increaseFontSize":try{c=r.queryCommandValue("FontSize"),c?"string"==typeof c?(p&&(a.getSelection().selectBookmarks(p),p=null),u=c.match("px")?M(parseInt(c.replace("px",""),10)):parseInt(c,10),u=u>6?7:u+1,""!==h||i.chromeless?r.execCommand("FontSize",!1,u):a.insertHtml('<font size="'+u+'"></font>')):(u=c>6?7:c+1,""!==h||i.chromeless?r.execCommand("FontSize",!1,u):a.insertHtml('<font size="'+u+'"></font>')):(a.getSelection().selectBookmarks(p),c=r.queryCommandValue("FontSize")||3,r.execCommand("FontSize",!1,parseInt(c)+1),p=a.getSelection().createBookmarks())}catch(e){r.execCommand(n,!1,o)}break;case"decreaseFontSize":try{c=r.queryCommandValue("FontSize"),c?"string"==typeof c?(p&&(a.getSelection().selectBookmarks(p),p=null),u=c.match("px")?M(parseInt(c.replace("px",""),10)):parseInt(c,10),u=u>1?u-1:1,""!==h||i.chromeless?r.execCommand("FontSize",!1,u):a.insertHtml('<font size="'+u+'"></font>')):(u=c>1?c-1:1,""!==h||i.chromeless?r.execCommand("FontSize",!1,u):a.insertHtml('<font size="'+u+'"></font>')):(a.getSelection().selectBookmarks(p),c=r.queryCommandValue("FontSize")||3,r.execCommand("FontSize",!1,c-1),p=a.getSelection().createBookmarks())}catch(e){r.execCommand(n,!1,o)}break;case"promptLink":Z.showCreateLink({useExisting:!0,remove:!0,modal:!0});break;case"justifyLeft":case"justifyCenter":case"justifyRight":se=n.toLowerCase().replace("justify",""),s.css("text-align",se),pe();break;case"justifyFull":se="justify",s.css("text-align","justify"),pe();break;case"insertOrderedList":i.chromeless?r.execCommand(n,!1,o):a.execCommand("numberedlist");break;case"insertUnorderedList":i.chromeless?r.execCommand(n,!1,o):a.execCommand("bulletedlist");break;case"createLink":if(""===h){var l=d.rangeCount?d.getRangeAt(0):null;l&&g.getNameFromParsedLink(Z.parseLinkString(o),function(e){var t=document.createTextNode(e);l.insertNode(t),l.selectNodeContents(t),d.setSingleRange(l),r.execCommand(n,!1,o)})}else r.execCommand(n,!1,o);break;case"unlink":var v=r.execCommand(n,!1,o);!f.env.gecko&&v||!oe.length||t(oe[0]).contents().unwrap();break;case"selectAll":case"delete":r.execCommand(n,!1,o);break;default:a.execCommand(n)}}catch(e){r.execCommand(n,!1,o)}p&&a.getSelection().selectBookmarks(p),"promptLink"!=n&&J()},Z.getCurrentValue=function(e){var n=document,i=t("#"+window.currentBox),o;if(!i.length)return null;switch(Q(),e){case"link":var r=t(z()).closest("a");o=!!r.length&&{href:r.attr("href")||"",target:r.attr("target")||""};break;case"justify":o=i.css("text-align"),"justify"===o&&(o="full");break;case"orderedList":o=N(z(),"ol");break;case"unorderedList":o=N(z(),"ul");break;default:try{o=n.queryCommandValue(e)}catch(e){}}return o},Z.convertSpanToDiv=function(e){var n,i,o={};return t.each(e.get(0).attributes,function(e,t){o[t.name]=t.value}),i=window.getComputedStyle(e.get(0)),o.css={display:i.display||"inline"},o.data={converted:"true"},o.append=e.contents(),n=t("<div/>",o),e.replaceWith(n),n},Z.saveSelection=L,Z.getSelectionHtml=function(){return window.rangy.getSelection().toHtml()},Z.getSelectionRange=$,Z.selectRange=function(e){var t=window.rangy.getSelection();t.setSingleRange(e)},Z.parseLinkString=function(e){if("undefined"==typeof e)return{url:""};var t,n={},i=e.replace("weeblylink_new_window","");if(i!==e&&(n.newWindow=!0,e=i),t=e.match(/^http:\/\/weebly-link\/(.*)/))n.pageID=t[1];else if(t=e.match(/^http:\/\/weebly-file\/(.*)/))n.location=t[1];else if(t=e.match(/^http:\/\/weebly-image-full\//))n.fullSized=!0;else if(t=e.match(/^mailto:(.*)/))n.email=t[1];else if(t=e.match(/store\/[pc]\d+\/.*/))n.store=t[0];else if(t=e.match(/^http:\/\/weebly-blog-post-link\/(.*)/))n.blogPost=e;else if(t=e.match(/^tel:(.*)/))n.phone=t[1];else if(t=e.match(/^http:\/\/(.*)/)){var o=t[1].replace(/<\/?[^>]+>/g,"");o!=t[1]?n.url="":n.url=i}else n.url=i;return n.url&&"string"==typeof n.url&&(n.url.indexOf("javascript:;")>-1&&(n.url=n.url.replace("javascript:;","")),"<a>"===n.url&&(n.url="")),n},Z.showCreateLink=function(e){ee=!0,e=e||{};var n=!1,i=null;if(e.isConfLink||(i=t(z())),e.useExisting){var o,r=t(e.ucfpid);if(r.length&&r.val())o=r.val().match(/href=["'](.*?)["']/),o&&(n=Z.parseLinkString(o[1]));else{var s=Z.getSelectionHtml();i&&i.is("a")?n=Z.parseLinkString(i[0].href):s&&(o=s.match(/href=["'](.*?)["']/),o&&(n=Z.parseLinkString(o[1])))}}var a=$(),l=t("#"+currentBox);Z.getChannel().request("linker:open",{ucfid:window.currentBox,modal:e.modal,existing:n,remove:e.remove&&!!n,disableFile:e.isConfLink,disableEmail:e.isConfLink,disableNewWindow:e.isConfLink,coordinates:l.length?{docLeft:U(l),docTop:G(l),height:l.height(),width:l.width()}:null}).done(function(t,n){e.range=a,e.node=i,Z.setLink(t,n,e)}).fail(function(n){if(a&&window.currentBox&&(J(),Z.selectRange(a)),n){var i=t("#"+this.ucfid).find('a[href="'+n+'"]');i.replaceWith(i.html())}else e.onCancel&&e.onCancel()}).always(Z.linkerAlwaysCallback)},Z.linkerAlwaysCallback=function(){te&&(Z.hideEditBox(ne),te=!1,ne=""),ee=!1},Z.tryRestoreSelection=Q,Z.updateLink=function(e,n){Q();var i=t(z()),o="a:not(.wbutton)";i.length&&(i.is(o)||(i=i.closest(o)))&&(e?(i.attr("href",e),n?i.attr("target","_blank"):i.removeAttr("target")):(W(i[0]),Z.runCommand(window.currentBox,"unlink",null)))},Z.setLink=function(e,n,i){if(i=i||{},i.ucfpid)p.setContentFieldProperty(c.ucfid,i.ucfpid,"<a"+(e?" href='"+e+"'":"")+(n?" target='_blank'":"")+">"),c.skipRerender=!0,c.onChange(i.ucfpid),r.execute("element:setHandlers");else if(i.range&&window.currentBox?Z.selectRange(i.range):Q(),e)n?(Z.runCommand(window.currentBox,"createLink",e),t("#"+window.currentBox).find('a[href="'+e+'"]').attr("target","_blank")):Z.runCommand(window.currentBox,"createLink",e);else if(i.remove){Z.runCommand(window.currentBox,"unlink");var o=t(z());o.length&&o.is("a")&&(L(),o.replaceWith(o.html()),Q())}i.onChoose&&i.onChoose(e,n)},Z.cleanEditableText=S,Z.cleanSiteTitleHtml=I,n.extend(window,Z),Z}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(50),n(88),n(119)],o=function(e,t,n,i,o){var r=t.extend(e.extend({},n.Mixin,{className:"alert",template:"<div class='alert__content'>\n\t{{#title}}\n\t\t<h2 class='alert__title'>\n\t\t\t{{title}}\n\t\t</h2>\n\t{{/title}}\n\t{{#message}}\n\t    <div class='alert__paragraph {{#messageAlignment}}alert__paragraph--text-{{messageAlignment}}{{/messageAlignment}}'>\n\t\t    {{message}}\n\t    </div>\n\t{{/message}}\n\t{{#messageHtml}}\n\t\t<div class='alert__paragraph {{#messageAlignment}}alert__paragraph--text-{{messageAlignment}}{{/messageAlignment}}'>\n\t\t\t{{{messageHtml}}}\n\t\t</div>\n\t{{/messageHtml}}\n</div>\n<div class='alert__footer'>\n\t{{{proceedButtonHtml}}}\n\t{{{cancelButtonHtml}}}\n</div>",zIndex:9999,isModal:!0,hAlignment:"center",vAlignment:"center",messageAlignment:"center",vAlignmentTopClassName:"alert--v-top",vAlignmentCenterClassName:"alert--v-center",proceedText:"OK",isProceedEnabled:!0,isCancelEnabled:!0,buttonEvents:{"click .js-proceed-btn":"proceed","click .js-cancel-btn":"cancel"},getRenderData:function(){return{title:this.queryOption("title"),message:this.queryOption("message"),messageHtml:this.queryOption("messageHtml"),messageAlignment:this.queryOption("messageAlignment"),proceedButtonHtml:this.renderProceedButtonHtml(),cancelButtonHtml:this.queryOption("cancelButton")||this.queryOption("cancelText")?this.renderCancelButtonHtml():""}},render:function(){t.prototype.render.call(this),this.delegateEvents(e.extend({},this.buttonEvents,this.events)),this.$contentEl=this.$(".alert__content"),this.$footerEl=this.$(".alert__footer"),this.$proceedEl=this.$(".js-proceed-btn"),this.$cancelEl=this.$(".js-cancel-btn"),this.renderContent(this.$contentEl),this.renderFooter(this.$footerEl)},renderContent:function(e){},renderFooter:function(e){},setProceedButtonEnabled:function(e){this.isProceedEnabled=e,this.$proceedEl.toggleClass("is-inactive",!e),e||this.$proceedEl.blur()},setCancelButtonEnabled:function(e){this.isCancelEnabled=e,this.$cancelEl.toggleClass("is-inactive",!e),e||this.$cancelEl.blur()},resetFocus:function(){this.$proceedEl.focus()},proceed:function(){var e=this;if(this.isProceedEnabled)return this._trigger("before:proceed").then(function(){return e.close()}).then(function(){e._trigger("proceed")})},cancel:function(){var e=this;if(this.isCancelEnabled)return this._trigger("before:cancel").then(function(){return e.close()}).then(function(){e._trigger("cancel")})},promise:function(){var t=e.Deferred();return this.once("proceed",function(){t.resolve()}),this.once("cancel",function(){t.reject()}),t.promise()}}));return r.alert=function(e){var t=e instanceof r?e:new r(e);return t.open(),t.promise()},i.prototype.alert=function(e){var t=e instanceof r?e:new r(e);return this.openOverlay(t,{vAlignment:"top"}),t.promise()},r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){var t={};return t.promiseTransition=function(t){var n=e.Deferred();return t.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(e){n.resolve()}),setTimeout(function(){n.resolve()},1e3),n.promise()},t.promiseTimeout=function(t){var n=e.Deferred();return setTimeout(function(){n.resolve()},t),n.promise()},t.getViewportRect=function(){var t=e(document).scrollLeft(),n=e(document).scrollTop();return{left:t,right:t+e(window).width(),top:n,bottom:n+e(window).height()}},t.getElementRect=function(e){return e[0].getBoundingClientRect()},t.getElDimensions=function(e){var t="none"===e.css("display");t&&e.css("display","block");var n=this.getElementRect(e),i=e.offset(),o=i.left,r=i.top,s=n.width/2,a=n.height/2;return t&&e.css("display","none"),{width:n.width,height:n.height,docLeft:o,docRight:o+n.width,docTop:r,docBottom:r+n.height,docCenterX:o+s,docCenterY:r+a,viewportLeft:n.left,viewportRight:n.right,viewportTop:n.top,viewportBottom:n.bottom,viewportCenterX:n.left+s,viewportCenterY:n.top+a}},t.toCamelCase=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},t.getElDataAttributes=function(t,n){t instanceof e&&(t=t.get(0)),"undefined"==typeof n?n="data-":"-"!==n.slice(-1)&&console.warn("Did you mean to leave off the hyphen at the end of the prefix value?");var i=this,o=t.attributes,r={};return e.each(o,function(e,t){if(0===t.name.indexOf(n)){var o=t.name.slice(n.length);o=i.toCamelCase(o),r[o]=t.value||""}}),r},t.detectInputWidth=function t(n,i){if(n=e(n),!n.is("input"))throw new Error("Not an input");var o=n.val(),r;i&&(r=n.attr("placeholder")||"",o=o.length>r.length?o:r);for(var s=["font-family","font-size","font-style","font-variant","font-weight","letter-spacing","text-indent","text-rendering","text-transform","word-spacing"],a=e("<span>"),l=0;l<s.length;l++)a.css(s[l],n.css(s[l]));return a.css({position:"absolute",width:"auto",visibility:"hidden",whiteSpace:"pre"}).text(o).appendTo(document.body),width=a[0].getBoundingClientRect().width+1,a.remove(),width},t.unescapeHtmlEntities=function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue},t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(12)],o=function(e,t){var n={isInitialImage:function(e){return!!e&&n.isInitialImageSrc(e.src||"")},isInitialImageSrc:function(e){return"string"==typeof e&&(e.match(/na\.jpg/)||e.match(/na\.png/)||e.match(/upload_images_01\.jpg/)||e.match(/\/placeholders\/[^\.]*\.png/))},isImageElement:function(e){return e+="",t.STANDALONE_IMAGE_ELEMENTS.indexOf(e)!==-1||t.PARAGRAPH_IMAGE_ELEMENTS.indexOf(e)!==-1||t.SIMPLE_IMAGE_ELEMENTS.indexOf(e)!==-1},isStandaloneImageElement:function(e){return e+="",t.STANDALONE_IMAGE_ELEMENTS.indexOf(e)!==-1},isPageLayoutImage:function(e){return n.isPageLayoutImageSrc(e.src||"")&&"wslide-slide-inner2"!=e.up("div").className},isPageLayoutImageSrc:function(e){return"string"==typeof e&&e.match(/page-layouts/)},isImageLiquid:function(e){return(e.attr("style")||"").indexOf("max-width")!==-1},preloadImage:function(e,t){var n=new Image;n.onload=function(){t()},n.src=e},loadImage:function(e,t,n){function i(){o&&(clearInterval(o),o=null),r||(r=!0,n())}var o=null,r=!1;e.onload=i,e.src=t,e.complete?i():o=setInterval(function(){e.complete&&i()},500)},getImageDimensions:function(e,t){var i=new Image;n.loadImage(i,e,function(){t(i.naturalWidth||i.width,i.naturalHeight||i.height)})},getBackgroundPosition:function(e){var t=(e.css("background-position")||"").split(" "),n,i;return t[0]&&(n=parseFloat(t[0]),n=isNaN(n)?0:n/100),t[1]&&(i=parseFloat(t[1]),i=isNaN(i)?0:i/100),{x:n,y:i}}};return window.isInitialImage=n.isInitialImage,window.isInitialImageSrc=n.isInitialImageSrc,window.isImageElement=n.isImageElement,window.isStandaloneImageElement=n.isStandaloneImageElement,window.isPageLayoutImage=n.isPageLayoutImage,window.isPageLayoutImageSrc=n.isPageLayoutImageSrc,window.isImageLiquid=n.isImageLiquid,n}.apply(t,i),!(void 0!==o&&(e.exports=o));
},function(e,t,n){var i,o;i=[n(1),n(2),n(483),n(484),n(494),n(493),n(689)],o=function(e,t,n,i){var o,r={applyBackgroundVideo:function(e,t,i,o){if(e&&(o&&e.css("minHeight",270),e.data("properties",t),(o||i)&&!new n(window.navigator.userAgent).mobile())){switch(t.video_type){case"youtube":this.initYoutubeVideo(e,t);break;case"vimeo":this.initVimeoVideo(e,t);break;case"upload":this.initUploadedVideo(e,t);break;case"gallery":this.initGalleryVideo(e,t)}e.data("has-video",!0)}},initYoutubeVideo:function(e,t){e.YTPlayer({videoId:t.video_id,repeat:t.loop,mute:t.mute,fitToBackground:!1,pauseOnScroll:!1,playerVars:{autoplay:t.autoplay,controls:0,showinfo:0,modestbranding:1,wmode:"transparent",branding:0,rel:0,autohide:0,origin:window.location.origin}})},initVimeoVideo:function(e,t){e.VimeoPlayer({videoId:t.video_id,loop:t.loop,mute:t.mute,autoplay:t.autoplay})},initUploadedVideo:function(e,t){e.UploadPlayer(t)},initGalleryVideo:function(e,t){e.UploadPlayer(t)},toggleVideoBackground:function(e){e&&(e.data("ytPlayer")?e.find('[id^="ytplayer"]').toggle():e.data("VimeoPlayer")?e.find('[id^="vimeoplayer"]').toggle():e.data("UploadPlayer")&&e.find('[id^="uploadplayer"]').toggle())},destroyVideoBackground:function(e){e&&(e.data("ytPlayer")?e.data("ytPlayer").destroy():e.data("VimeoPlayer")?e.data("VimeoPlayer").destroy():e.data("UploadPlayer")&&e.data("UploadPlayer").destroy(),e.removeData("has-video"))},applyBackgroundEffects:function(r,s,a){Object.keys(s).forEach(function(l){var c=s[l];switch(t.isObject(c.css)&&!t.isArray(c.css)&&Object.keys(c.css).forEach(function(e){r.css(e,c.css[e])}),t.isArray(c.classes)&&c.classes.forEach(function(e){r.addClass(e)}),l){case"parallax":var u=new n(window.navigator.userAgent);(u.mobile()||u.tablet())&&r.css("background-attachment","");break;case"reveal":o||(o=i());var d=a?r.find(".weebly-content-area"):r.find(".wsite-section-elements"),h=a?d.children(':not(".wsite-spacer-li")'):d.children(':not(".wsite-spacer")');if(0===h.length)break;h.each(function(t,n){var i=e(n);a&&"empty-message"!==i.attr("id")&&i.data("before-reveal-style",n.style),i.addClass("sr-nodelist")});var p=d[0].querySelectorAll(".sr-nodelist"),f={opacity:0,scale:1,easing:"ease-in",afterReveal:function(t){var n=e(t);a&&(n.data("before-reveal-style")&&(t.style=n.data("before-reveal-style"),n.removeData("before-reveal-style")),n.removeAttr("data-sr-id")),n.removeClass("sr-nodelist")},sequenceInterval:100};f=r.hasClass("wsite-header-section")?t.extend({duration:700,delay:800},f):t.extend({duration:300,delay:300,origin:"top",distance:"10px"},f);var m=t.defaults({},f);o.reveal(p,m,m.sequenceInterval)}})},getSectionElement:function(t){return e('.wsite-section[data-section="'+t+'"]')}};return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(1),n(2),n(5),n(13)],o=function(e,t,n,i){function o(e){var t=r(e);t&&t.render()}function r(t){var n=e('[class*="wsite-header"]:not(.wsite-header-section)');n.not(":first").hide();var i=n.css("background","none")[0];if(i){var o=new p(i,{fillDimensions:!0,autoplay:!0,speed:t.speed||5,slide:t.slide,transition:t.transition,showControls:!0,showPlayButton:!1,dots:t.dots,dotPosition:t.dotPosition,arrows:t.arrows,forceSideArrows:!0,images:t.images||t.slides,aspectRatio:t.aspectRatio||"auto",useAspectRatio:t.useAspectRatio||!1});return o}}function s(e){return b[e].getPhotos()}function a(){var t=!1;return e.each(b,function(e,n){n.updateSize(),t=!0}),t}function l(e,t){return v[e]=h(t),"<div id='"+e+"-slideshow' style='height:1000px'></div>"}function c(t){var n=e("#"+t+"-slideshow"),i=new p(n,v[t]);b[t]=i,i.render(),n.height("")}function u(t,n){if(b[t]){b[t].destroy();var i=v[t];i.images=n,b[t]=new p(e("#"+t+"-slideshow"),i),b[t].render()}}function d(t){var n=h(t),i=n.elementID,o=new p(e("#"+i+"-slideshow"),n);b[i]=o,o.render()}function h(e){var t=e.nav,n=1;return"double_thumbnails"==t?(t="thumbnails",n=2):"none"==t&&(t=!1),{elementID:e.elementID,links:t,linkLocation:e.navLocation,linkTiers:n,captionLocation:e.captionLocation,slide:"slide"==e.transition,transition:e.transition,autoplay:parseInt(e.autoplay),speed:parseInt(e.speed),aspectRatio:e.aspectRatio||"auto",showControls:"false"!==e.showControls,randomStart:"true"===e.randomStart,images:e.images||[]}}function p(i,o){function r(){i.addClass("wslide").html("<table class='wslide-main'><tbody></tbody></table>");var t=i.find("table"),n=i.find("tbody"),r=l();if(w||r.on("mouseover",function(){o.showControls&&(clearTimeout(Ge),je||te(Me.queue()&&Me.queue().length))}).on("mouseout",function(){Ge=setTimeout(function(){oe()},1e3)}),o.fillDimensions&&o.useAspectRatio&&i.css({height:"auto"}),o.links&&ge.length){Ie=[];var s=o.linkLocation;ke="top"==s||"bottom"==s;var a=v(),c=e("<td class='wslide-link-cell'/>").append(a),u=e("<td/>").append(r);if(ke){c.width("auto");var d=e("<tr/>"),h=e("<tr/>");"top"==s?(d.append(c),h.append(u)):(d.append(u),h.append(c)),n.append(d),n.append(h)}else{var p=e("<tr/>");"left"==s?(p.append(c),p.append(u)):(p.append(u),p.append(c)),n.append(p)}}else{var p=e("<tr/>"),f=e("<td/>");f.append(r),p.append(f),n.append(p)}o.dots&&(Oe=b()),D(),ge.length&&B(o.randomStart?Math.floor(Math.random()*ge.length):0),ie(),o.autoplay&&Q(),e(window).on("resize",fe)}function s(){i.empty(),o.fillDimensions&&o.useAspectRatio&&i.css("height",""),i.removeClass("wslide"),i.css("background",""),a()}function a(){Z(),e(window).off("resize",fe),pe()}function l(){if(ve=e("<div class='wslide-content disable-user-select'>&nbsp;<div class='wslide-content-inner'><div class='wslide-slides'></div></div><div class='wslide-overlay-top-left disable-user-select'></div><div class='wslide-overlay-top-right disable-user-select'></div><div class='wslide-overlay-left disable-user-select'></div><div class='wslide-overlay-right disable-user-select'></div></div>"),be=ve.find("div.wslide-slides"),Re=ve.find("div.wslide-overlay-top-left"),Pe=ve.find("div.wslide-overlay-top-right"),Ae=ve.find("div.wslide-overlay-left"),Ne=ve.find("div.wslide-overlay-right"),Me=Re.add(Pe).add(Ae).add(Ne),ge.length>1){var t=function(){w&&c(),Z(),F()},n=function(){w&&c(),Z(),H()},i=function(){w&&c()};w&&ve.on("click",i);var r=h(),s=p();o.showPlayButton!==!1&&Re.append(u()).append(d()),o.arrows!==!1&&(o.slide||o.forceSideArrows?(Ae.append(r).on("click",t),Ne.append(s).on("click",n)):(r.on("click",t),s.on("click",n),Pe.append(r).append("&nbsp;").append(s)))}return Me=Me.find(".wslide-button-wrap"),ve}function c(){clearTimeout(Ge),te(Me.queue().length),Ge=setTimeout(function(){oe()},1e3)}function u(){var t=e("<div class='wslide-button-wrap'><span class='wslide-play wslide-button disable-user-select'><span class='wslide-button-inner'>Play <span class='wslide-button-icon'></span></span><span class='wslide-button-bg'></span></span></div>");return t.css({display:"inline-block"}),Ke=t.find(".wslide-play"),Ke.on("click",Q),t}function d(){var t=e("<div class='wslide-button-wrap'><span class='wslide-pause wslide-button disable-user-select'><span class='wslide-button-inner'>Pause <span class='wslide-button-icon'></span></span><span class='wslide-button-bg'></span></span></div>");return t.css({display:"inline-block"}),Fe=t.find(".wslide-pause"),Fe.on("click",Z),t}function h(){var t=e("<div class='wslide-button-wrap'><span class='wslide-prev wslide-button disable-user-select'><span class='wslide-button-inner'><span class='wslide-button-icon'></span></span><span class='wslide-button-bg'></span></span></div>");return t.css({display:"inline-block"}),t}function p(){var t=e("<div class='wslide-button-wrap'><span class='wslide-next wslide-button disable-user-select'><span class='wslide-button-inner'><span class='wslide-button-icon'></span></span><span class='wslide-button-bg'></span></span></div>");return t.css({display:"inline-block"}),t}function v(){var t=o.linkLocation,n=o.linkTiers,i="wslide-links disable-user-select wslide-links-"+o.linkLocation;o.links&&(i+="thumbnails"==o.links?" wslide-thumbnail-links":" wslide-number-links"),Ce=e("<div class='"+i+"'><div class='wslide-links-inner'><table><tbody></tbody></table></div></div>"),w?Ce.on("touchstart",W).on("touchmove",$):Ce.on("mouseover",z).on("mousemove",V).on("mouseout",G),Se=Ce.children().first(),se(Se);var r=Ce.find("tbody");if(ke){for(var s=[],a=0;a<n;a++)s[a]=e("<tr/>"),r.append(s[a]);for(var a=0;a<ge.length;a++)s[a%n].append(S(ge[a],a))}else for(var l=ge.length,c=0,a=0;a<l;c++){for(var u=e("<tr/>"),d=0;d<n&&a<l;d++,a++)u.append(S(ge[a],a));r.append(u)}return w&&"undefined"!=typeof whenPhotoSwipeLoaded&&whenPhotoSwipeLoaded(function(){Code.PhotoSwipe.attach(Ce.find("a").toArray(),{captionAndToolbarFlipPosition:!0,captionAndToolbarAutoHideDelay:0,loop:!1})}),Ce}function b(){for(var t=e("<div class='wslide-dots'></div>"),n=0;n<ge.length;n++)(function(n){t.append(e("<div class='wslide-dot' />").on("click",function(){Z(),B(n)}))})(n);ve.append(t);var r=o.dotPosition||"right";return"left"==r?t.css({left:10,bottom:10}):"center"==r?t.css({left:i.width()/2-t.width()/2,bottom:10}):"right"==r&&t.css({right:10,bottom:10}),t}function S(n,i){var r=e("<td/>");if("numbers"==o.links)r.append("<a class='wslide-link wslide-link-number'><div class='wslide-link-inner1'><div class='wslide-link-inner2'>"+(i+1)+"</div></div></a>");else{r.append("<a class='wslide-link wslide-link-thumbnail'><div class='wslide-link-inner1'><div class='wslide-link-inner2'><img style='visibility:hidden' /></div></div></a>");var s=r.find("img");setTimeout(function(){g(s[0],f(n),function(){A(s,n),s.css("visibility","")})},0)}var a=r.find("a");return w&&"undefined"!=typeof whenPhotoSwipeLoaded?a.attr("href",m(n)).attr("title",t.unescape(n.caption)):a.on("click",function(){Z(),B(i)}),se(a),Ie[i]=a,r}function I(i,r,s){var a=!1,l=i.link;if(l){var c=l;l=l.replace("weeblylink_new_window",""),l!=c&&(a=!0)}var u=t.unescape(i.caption)?"<div style='display:none;' class='wslide-caption "+("top"==o.captionLocation?"wslide-caption-top":"wslide-caption-bottom")+"'><div class='wslide-caption-text'>"+t.unescape(i.caption)+"</div><div class='wslide-caption-bg'></div></div>":"",d=e("<div class='wslide-slide wslide-slide-loading'>"+(l?"<a>":"")+(o.fillDimensions?u:"")+"<div class='wslide-slide-inner1'><div class='wslide-slide-inner2' style='visibility:hidden'><img/>"+(o.fillDimensions?"":u)+"</div></div>"+(l?"</a>":"")+"</div>");d.find(".wslide-caption").css({opacity:.99}),d.hide(),be.append(d);var h=d.find("img"),p=h.closest(".wslide-slide-inner2");return we[r]=d,ye[r]=h,Te[r]=p,i.alt&&h.attr("alt",i.alt),d.find("a").each(function(t,i){i=e(i),window.currentSite?(i.attr("href","#"),i.on("click",function(){return!1}),i.attr("title",n.utl("html.weebly.libraries.slideshow-jq_1"))):l&&(i.attr("href",l),a&&i.attr("target","_blank"))}),g(h[0],m(i),function(){d.removeClass("wslide-slide-loading"),_e[r]=h[0].width,Ee[r]=h[0].height,0!==_e[r]&&0!==Ee[r]||(d.show(0),_e[r]=h[0].width,Ee[r]=h[0].height,d.hide(0)),k(),N(r),r==xe&&(M(r),Le&&j()),p.css("visibility",""),s&&B(r)}),d}function O(e,t){return 0===t&&e?e:t}function D(){P(),x()}function x(){if(!J()&&ve){Ce&&!ke&&(Xe=O(Xe,Se.outerWidth()),Ce.width(Xe)),k(),Ce&&(Qe=O(Qe,Se.outerWidth()),Ze=O(Ze,Se.outerHeight()),ke?(Xe=$e,Je=Ze,Ce.height(Je),nt=Xe-Qe,it=0):(Je=ze,Ce.height(Je),nt=Je-Ze,it=0));var t=e(".wslide-dots"),n=ze<200?ze/20:10;"center"==o.dotPosition?t.css({left:i.width()/2-t.width()/2,bottom:n}):t.css({bottom:n}),_e[xe]&&Ee[xe]&&(k(),N(xe),M(xe))}}function k(){$e=O($e,ve.outerWidth()),o.fillDimensions&&!o.useAspectRatio?(ze=i.height(),Ce&&ke&&(ze-=Se.outerHeight())):ze=Math.round($e/R()),ve.height(ze)}function R(){if("auto"==o.aspectRatio){if(!ge.length)return 16/9;for(var t={},n=0;n<ge.length;n++){var i=ge[n].width/ge[n].height,r,s=!1;e.each(_,function(e,t){var n=t,o=Math.abs(n-i);(s===!1||o<s)&&(s=o,r=e)}),t[r]=(t[r]||0)+1}var a,l=!1;return e.each(t,function(e,t){(l===!1||t>l)&&(l=t,a=e)}),_[a]}return e.isNumeric(o.aspectRatio)?Number(o.aspectRatio):_[o.aspectRatio]}function P(){if(Ve=0,Ue=0,Ce){var e=Ce.find("a.wslide-link-thumbnail").first();if(e.length){var t=e.children().first();Ve=t.outerWidth(),Ue=t.outerHeight()}}}function A(e,t){var n=parseInt(t.width),i=parseInt(t.height),o=Ve/n,r=Ue/i,s=Math.max(o,r),a=Math.ceil(n*s),l=Math.ceil(i*s);e.attr("width",a),e.attr("height",l),e.css("top",-Math.round(l/2)+"px"),e.css("left",-Math.round(a/2)+"px")}function N(e){var t=we[e],n=t.find(".wslide-caption"),i=Te[e],r=ye[e],s;s=o.fillDimensions?Math.max($e/_e[e],ze/Ee[e]):Math.min($e/_e[e],ze/Ee[e],1);var a,l;if(l=Math.ceil(_e[e]*s),a=Math.ceil(Ee[e]*s),l+1<=_e[e]&&(l++,a++),r.width(l),i.css("width",l),i.css("left",-Math.round(l/2)),i.css("top",-Math.ceil(a/2)),n.length&&o.fillDimensions){var c;t.is(":hidden")?(t.show(),c=n.outerHeight(),t.hide()):c=n.outerHeight();var u=.25*ze-c/2,d=.13*ze;u=Math.max(d,u),n.css("bottom",u)}n.show()}function M(e){var t=we[e],n=t.offset(),i=t.outerWidth(),r=t.outerHeight(),s=ye[e],a=s.offset(),l=s.outerWidth(),c=s.outerHeight(),u=we[e].find("div.wslide-caption").outerHeight();ht=Math.max(0,a.left-n.left),pt=Math.max(0,n.left+i-(a.left+l)),ft=Math.max(0,a.top-n.top),ge[e].caption&&"top"==o.captionLocation&&r!=u&&(ft+=u),mt=Math.max(0,n.top+r-(a.top+c))}function L(e){var t=!1,n=xe;return xe=e,we[e]&&_e[e]&&Ee[e]&&(k(),N(e),t=!0,Le&&j()),Ie&&(void 0!==n&&Ie[n].removeClass("wslide-link-active"),Ie[e].addClass("wslide-link-active"),Le&&(i.find(".wslide-link-thumbnail img").css({opacity:.5}),i.find(".wslide-thumbnail-links .wslide-link-active img").css({opacity:1}))),Oe&&Oe.find(".wslide-dot").removeClass("wslide-dot-current").eq(e).addClass("wslide-dot-current"),ee(),t}function B(t,n,i){if(ge.length&&!De){t=Math.min(ge.length-1,Math.max(0,t));var r=K(t,t);if(!r){if(t!=xe){var s=xe,a=L(t),l=n;if(l||(l=t>s?1:-1),i||void 0===s)void 0!==s&&we[s].hide(),we[t].show(),a&&M(t);else if("mosaic"==o.transition){var c=l<0;wt(t);var u=e(".wslide-box",be),d=0,h=c?150*(ct-1):0;gt(t,s),De=!0,u.each(function(n){var i=e(this);setTimeout(function(){i.animate({opacity:"1.0"},500,function(){d++,d==u.length&&(we[s].hide(),De=!1,we[t].find("img").show(),setTimeout(function(){u.remove()},50))})},h),(n+1)%ct==0?(h=(n+1)/ct*75,c&&(h+=150*(ct-1))):h=c?h-150:h+150})}else if("slice"==o.transition)gt(t,s),vt(t,s,l<0,!1);else if("fold"==o.transition)gt(t,s),vt(t,s,l<0,!0);else if("slide"==o.transition||o.slide){var p=we[t],f=we[s];p.css({left:l*$e+"px"}).show(),De=!0,be.css({left:0}).animate({left:-l*$e+"px"},{duration:500,complete:function(){a&&M(t),f.hide(),be.css({left:0}),p.css({left:0}),De=!1}})}else{var m=we[s].find(".wslide-slide-inner2"),g=we[t].find(".wslide-slide-inner2"),v=function(){a&&M(t),we[s].hide(),De=!1};we[t].show(),De=!0;var b=.99;m.css({opacity:b}).animate({opacity:0},{duration:500,complete:v}),g.css({opacity:0}).animate({opacity:b},{duration:500,complete:v})}}ue("slideChange",t)}}}function K(e,t){for(var n=!1,i=e;i<=e+y&&i<ge.length;i++)i>=0&&!we[i]&&(I(ge[i],i,i===t),n=e===i);return n}function F(){var e=(xe-1+ge.length)%ge.length;e>=0&&(B(e,-1),q(e,!1))}function H(){var e=(xe+1)%ge.length;B(e,1),q(e,!0)}function j(){He=setTimeout(function(){J()||H()},1e3*o.speed)}function W(e){yt=e.pageX||e.originalEvent.pageX||e.originalEvent.touches[0].pageX,_t=e.pageY||e.originalEvent.pageY||e.originalEvent.touches[0].pageY}function $(e){var t=e.pageX||e.originalEvent.pageX||e.originalEvent.touches[0].pageX,n=e.pageY||e.originalEvent.pageY||e.originalEvent.touches[0].pageY;ke?at=t-yt:(at=n-_t,e.preventDefault()),yt=t,_t=n,st=at,U()}function z(e){ot=!0,rt++,ke?qe=Ce.offset().left:Ye=Ce.offset().top}function V(e){if(!(ke&&Qe<Xe||!ke&&Ze<Je)){var t;t=ke?(e.pageX-qe)/Xe:(e.pageY-Ye)/Je;var n;t<E?(n=(1-t/E)*C,n*=n):t>1-E?(n=(t-(1-E))/E*C,n*=-n):n=0,n=Math.round(n),st!=n&&(st=n,lt||(lt=setInterval(U,35)))}}function U(){at<st?at+=T:at>st&&(at-=T),at||st?ke?(et=Math.min(it,Math.max(nt,et+at)),Se.css("left",et)):(tt=Math.min(it,Math.max(nt,tt+at)),Se.css("top",tt)):(clearInterval(lt),lt=null)}function G(e){var t=++rt;setTimeout(function(){t==rt&&(st=0,ot=!1)},10)}function q(e,t){if(Ie&&!ot){var n=Ie[e];if(ke){var i=n.position().left,o=i+Se.position().left,r=n.outerWidth();(o<0||o+r>Xe)&&Y(t?-i:-(i+r-Xe))}else{var s=n.position().top,a=s+Se.position().top,l=n.outerHeight();(a<0||a+l>Je)&&X(t?-s:-(s+l-Je))}}}function Y(e){e=Math.min(it,Math.max(nt,e)),Se.animate({left:e},500)}function X(e){e=Math.min(it,Math.max(nt,e)),Se.animate({top:e},500)}function J(){return!i.parents("body").length&&(a(),!0)}function Q(e){ge.length>1&&!Le&&(Le=!0,ee(),_e[xe]&&Ee[xe]&&(e?H():j()),ue("play"))}function Z(){Le&&(i.find(".wslide-link-thumbnail img").css({opacity:1}),Le=!1,ee(),clearTimeout(He),He=null,Be++,ue("pause"))}function ee(){ge.length>1&&o.showPlayButton!==!1&&(Le?(Ke.css("opacity",0).hide(),Fe.css("opacity",1).show()):(Ke.css("opacity",1).show(),Fe.css("opacity",0).hide()))}function te(e){re(),e||ne(),Me.show().css("opacity",1),je=!0}function ne(){Re.css("padding-top",ft),Re.css("padding-left",ht),Pe.css("padding-top",ft),Pe.css("padding-right",pt),Ae.css("padding-left",ht),Ne.css("padding-right",pt)}function ie(){re(),Me.hide(),je=!1}function oe(){je&&(je=!1,Me.animate({opacity:0},{duration:1e3,complete:function(){ie()}}))}function re(){Me.stop(!0)}function se(t){function n(n){function i(e){var t=ae(e);c=u,u=t,l=t-r,Math.abs(l)>15&&(d=!1),ke?(et=s+l,et=Math.max(nt,et),et=Math.min(it,et),Se.css("left",et)):(tt=a+l,tt=Math.max(nt,tt),tt=Math.min(it,tt),Se.css("top",tt))}function o(n){d&&t.is("a")&&window.Code.Util.Events.fire(t[0],"click"),null===u||null===c?at=0:(at=u-c,at=Math.max(-15,at),at=Math.min(15,at)),st=0,lt||(lt=setInterval(U,35)),e(document).off(Ct,i).off(St,o).off(It,o)}Z(),lt&&(clearInterval(lt),lt=null,at=0);var r=ae(n),s=et,a=tt,l,c=null,u=null,d=!0;return e(document).off(Ct,i).off(St,o).off(It,o),!1}t.on(Tt,n)}function ae(e){return ke?le(e).pageX:le(e).pageY}function le(e){return Et?e:e.touches[0]}function ce(e,t){var n=Ot[e]||[];n.push(t),Ot[e]=n}function ue(t){var n=this,i=Array.prototype.slice.call(arguments,1);e.each(Ot[t]||[],function(e,t){t.apply(n,i)})}function de(){return Ot}function he(e){Ot=e}function pe(){Ot={}}function fe(){var e=++Dt;setTimeout(function(){e==Dt&&(J()||x())},500)}var me=this;me.render=r,me.destroy=s,me.updateSize=x,me.play=Q,me.pause=Z,me.on=ce,me.getHandlers=de,me.setHandlers=he,me.clearHandlers=pe,me.getPhotos=function(){return ge},me.isPlaying=function(){return Le},me.getSlideIndex=function(){return xe},me.gotoSlide=function(e,t){Z(),B(e,void 0,t)},me.getElement=function(){return i},i=e(i),o=o||{};var ge=(o.images||[]).filter(m),ve,be,we=[],ye=[],_e=[],Ee=[],Te=[],Ce,Se,Ie,Oe,De=!1,xe,ke,Re,Pe,Ae,Ne,Me,Le=!1,Be=0,Ke,Fe,He,je=!0,We,$e,ze,Ve,Ue,Ge,qe,Ye,Xe,Je,Qe,Ze,et=0,tt=0,nt,it,ot=!1,rt=0,st=0,at=0,lt,ct=8,ut=4,dt=15,ht=0,pt=0,ft=0,mt=0,gt=function(e,t){var n=we[e].find(".wslide-caption"),i=we[t].find(".wslide-caption"),o=.99;i.css({"z-index":3,opacity:o}).animate({opacity:0},{duration:1e3}),n.css({"z-index":3,opacity:0}).animate({opacity:o},{duration:1e3})},vt=function(t,n,i,o){bt(t);var r=0,s=e(".wslide-slice",be);i&&(Array.prototype._reverse?Array.prototype._reverse.call(s):Array.prototype.reverse.call(s));var a=0;De=!0,s.each(function(){var i=e(this),l={opacity:"1.0"};if(o){var c=i.width();i.css({width:"0px"}),l.width=c}setTimeout(function(){i.animate(l,500,function(){a++,a==s.length&&(we[n].hide(),De=!1,we[t].find("img").css("visibility","visible"),setTimeout(function(){s.remove()},50))})},r),r+=65})},bt=function(t,n){var i=we[t],o=i.find("img"),r=o.attr("src"),s=o.attr("alt"),a=o.up(".wslide-slide-inner2");i.show();var l=o.height(),c=Math.round(a.width()/dt);o.css("visibility","hidden");for(var u=0;u<dt;u++){var d=e("<img>").attr({src:r,alt:s}).css({position:"absolute",width:a.width()+"px",height:"auto",display:"block !important",top:0}),h=e('<div class="wslide-slice"></div>');h.css({position:"absolute",height:l+"px",opacity:"0",overflow:"hidden","z-index":"2","-webkit-backface-visibility":"hidden"}),n?(d.css({left:-((dt-u-1)*c)+"px"}),h.css({right:c*u+"px"})):(d.css({left:-u*c+"px"}),h.css({left:c*u+"px"})),u===dt-1?h.css({width:a.width()-c*u+"px"}):h.css({width:c+"px"}),h.append(d),a.append(h)}},wt=function(t){var n=we[t],i=n.find("img"),o=i.attr("src"),r=i.attr("alt"),s=i.up(".wslide-slide");n.show();var a=Math.round(s.width()/ct),l=Math.round(s.height()/ut),c=Math.floor(i.offset().left-s.offset().left),u=Math.ceil(i.offset().top-s.offset().top);i.hide();for(var d=0;d<ut;d++)for(var h=0;h<ct;h++){var p=e("<img>").attr({src:o,alt:r}).css({position:"absolute",width:i.width()+"px",height:"auto",display:"block !important",top:-(l*d)+u+"px",left:-(a*h)+c+"px"}),f=e('<div class="wslide-box"></div>').append(p);f.css({position:"absolute",opacity:0,left:a*h+"px",top:l*d+"px",overflow:"hidden","z-index":"2","-webkit-backface-visibility":"hidden"}),h===ct-1?f.css({width:s.width()-a*h+"px"}):f.css({width:a+"px"}),d===ut-1?f.css({height:s.height()-l*d+"px"}):f.css({height:l+"px"}),s.append(f)}},yt=0,_t=0,Et=!0,Tt=Et?"mousedown":"touchstart",Ct=Et?"mousemove":"touchmove",St=Et?"mouseup":"touchend",It=Et?"xxx":"touchcancel",Ot={},Dt=0}function f(e){var t=e.previewUrl||e.url;return t?(e.previewUrl||t.match("/weebly/images/")||t.match("x-com-weebly-images")||(t="/uploads/"+t.replace(/^\/uploads\//,"")),window.inEditor&&inEditor()&&i.chromeless&&t.startsWith("/")&&(t="http://"+configSiteName+t),t):m(e)}function m(e){var t=window.inEditor&&inEditor()?e.editorUrl||e.url:e.publishedUrl||e.url;return t?(e.editorUrl||t.match("/weebly/images/")||t.match("x-com-weebly-images")||(t="/uploads/"+t.replace(/^\/uploads\//,""),e.thumbnail!==!1&&(t=t.replace(/^(.*)\.([^\.]+)$/,"$1_orig.$2"))),window.inEditor&&inEditor()&&i.chromeless&&t.startsWith("/")&&(t="http://"+configSiteName+t),t):""}function g(e,t,n){function o(){r&&(clearInterval(r),r=null),s||(s=!0,n())}if(t){var r=null,s=!1;e.onload=o,e.src=t,window.inEditor&&inEditor()&&i.chromeless&&e.src.startsWith("/")&&(e.src="http://"+configSiteName+e.src),e.complete?o():r=setInterval(function(){e.complete&&o()},500)}}var v={},b={},w="ontouchstart"in document.documentElement,y=5,_={"16:9":16/9,"3:2":1.5,"4:3":4/3},E=.4,T=1,C=4,S={getSlideshowImages:s,updateSize:a,generateHTML:l,init:c,updatePhotos:u,render:d,initHeaderSlideshow:o,instantiateHeaderSlideshow:r,thumbnailURL:f,largeURL:m};return n.Slideshow=window.wSlideshow=S,S}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(239)],o=function(e,t){return t.Renderer.render=function(t,n){if(!t){var i=new Error("Cannot render the template since it's false, null or undefined.");throw i.name="TemplateNotFoundError",i}return"function"==typeof t?t(n):e.render(t,n)},t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(2),n(7),n(16),n(51),n(31)],o=function(e,t,n,i,o,r){function s(e,n){for(var i=e.length;i--;){var o=e[i],r=n.model.prototype._getNewId(t.defaults({site_category_id:o.id},n.model.prototype.defaults)),a=o.children,l=a?a.length:0;if(n.get(r))l&&s(a,n);else{var c=[i,1].concat(a||[]);e.splice.apply(e,c),i+=l}}}function a(e,t){var n=e.get("hierarchy");t&&n&&(t.length||(n=[]),s(n,t),e.set("hierarchy",n))}var l=i,c=l.prototype,u;i.vent.on("create:category delete:category",function(){u=!1});var d=l.extend({defaults:{hierarchy:[]},idAttribute:"site_id",fetch:function(t){var n=this;if(t=t||{},t.force&&(u=!1),u)u.done(function(e){n.set("hierarchy",e)});else{var i=new r;u=e.when(c.fetch.apply(this,arguments),i.fetch({force:t.force})).then(function(e){return e[0]}),u.done(function(){a(n,i),n.createSavepoint()}).fail(function(){u=!1})}return u},sync:function(e,t,n){var i,o=window.com_userID||window.userID,r=window.com_currentSite||window.currentSite;switch(e){case"update":case"patch":u=!1,i=Weebly.Commerce.RPC.Category.saveHierarchy(o,r,t.get("hierarchy")).done(function(){n.success&&n.success()});break;case"read":i=Weebly.Commerce.RPC.Category.getHierarchy(o,r).done(function(e){n.success&&n.success({hierarchy:e})})}return i},find:function(e){for(var t=this.get("hierarchy"),n=[t[0]],i;n.length;){if(i=n.shift(),i.id==e)return i;n.push.apply(n,i.children)}return!1},addCategory:function(e,t){var n=this.find(t?t.get("site_category_id"):"1");n&&(n.children.push({id:e.get("site_category_id"),children:[]}),this.trigger("change:hierarchy"),this.trigger("change"))},removeCategory:function(e){var n=this.get("hierarchy"),i=function(e,n){e.children=t.reject(e.children,function(e){return e.id==n}),t.each(e.children,function(e){i(e,n)})};i(n[0],e.get("site_category_id")),this.trigger("change:hierarchy"),this.trigger("change")},getAncestors:function(e){var n,i,o,r,s=[],a=!1;for(t.each(this.get("hierarchy")[0].children,function(e){s.push([e])});s.length;){if(i=s.shift(),o=t.last(i),o.id==e){a=i;break}for(n=0;n<o.children.length;n++)r=t.clone(i),r.push(o.children[n]),s.push(r)}return a},ancestors:function(n){var i=this.getAncestors(n),o=e.Deferred(),s=[],a=new r;return a.fetch().done(function(){i&&t.each(i,function(e){var t=a.findWhere({site_category_id:e.id});s.push(t)}),s.length?o.resolve(new r(s)):o.reject()}),o.promise()},root:function(){return this.get("hierarchy")[0]}});return n.reqres.setHandlers({"editor:commerce:categoryHierarchy:fetch":function(e){var t=d.findOrCreate();return t.fetch(e).then(function(){return t.toJSON()})}}),n.commands.setHandlers({"editor:commerce:categoryHierarchy:force":function(){u=!1}}),d}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(5),n(1)],o=function(e,t){var n={filterOptionText:function(e){return e.replace(/<#[A-Za-z0-9]+>$/,"")},saveProductField:function(n,i,o){var r=t("#"+n),s=r[0].className.match(/price|title|description/);s&&(s=s[0]),"price"===s&&(i=r.text(),i=i.replace(/[^\d\.]/g,""));var a;a=s?n.replace(/[^\d]/g,""):e.Elements.getCurrentProductID();var l=r[0].up(".element"),c=l?l.id:"";new window.Ajax.Request(window.ajax,{parameters:{pos:"updateproduct",productID:a,type:s,value:i,ucfid:c,align:o,cookie:document.cookie,token:e.RequestToken},onFailure:window.errFunc})}};return window.saveProductField=n.saveProductField,n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(5),n(9),n(140)],o=function(e,t,n,i,o){var r=i.sync;t.extend(i,{sync:function(e,n,o){var s;if(!n.rpc)return r.apply(i,arguments);switch(e){case"delete":e="destroy";case"create":case"update":case"patch":s=o.attrs||n.toJSON(o);break;case"read":if(n.rpc&&"read"==e){o=t.extend({},t.omit(o,"data"),o.data),s=t.extend({filter:[]},o);var a=n.keydefs||n.model.prototype.keydefs;t.each(a.PRIMARY,function(e){void 0==n.get(e)||t.findWhere(s.filter,{property:e})||s.filter.push({property:e,value:n.get(e)})})}break;default:console.warn(e+" params not defined for this model ",n),s=o.attrs||n.toJSON()}if(n.rpc[e]){var l=n.rpc[e](s);return l.done(function(e){return e.success===!1?o.error(e):o.success(e)}),l.fail(function(e){return o.error(e)}),l}console.warn(e+" not defined for this model ",n)}}),n.ns=function(e,t){var t=t||window,n=e.split(".");return n.forEach(function(e){"string"!=typeof e?t=e:(t[e]||(t[e]={}),t=t[e])}),t},n.setup_rpc=function(i){var r=n.ns(i.namespace),s=new o.JsonRpc(i.url),a=function(n,i,o,r,a){return function(){var r=e.Deferred(),l=t.toArray(arguments);return l.length<i?void console.error("Wrong number of args for "+n):(o=!!o,l.unshift(n),l.push({success:r.resolve,failure:r.reject,scope:r,secure:o,standalone:a}),s.call.apply(s,l),r)}};t.each(i.actions,function(e,i){var o=n.ns(i,r);t.each(e,function(e){o[e.name]=a(i+"::"+e.name,e.len,e.secure,e.multiple,e.standalone)})})},n.setup_model_rpc=function(e){var i=n.ns(e.rpc_namespace),o=n.ns(e.model_namespace),r=n.ns(e.collection_namespace),s=n.ns(e.bootstrap_namespace);t.extend(o,e.models),t.extend(r,e.collections),t.extend(s,e.bootstrap),t.each(r,function(e,t){i[t]&&(r[t].rpc=i[t])}),t.each(o,function(e,n){if(i[n]){o[n].rpc=i[n];var s=o[n].relations;t.each(s,function(e){r[e.relatedModel]&&(e.collectionType=e.relatedModel+"Collection")})}})}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(43)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},function(e,t,n){var i,o;i=[n(1),n(9)],o=function(e,t){var n="form-control form-control--search",i=t.View.extend({loadingState:!1,events:{input:"handleInputEvent"},initialize:function(t){if(this.$formControl=this.$el.parent(),!this.$formControl.hasClass(n))throw new Error('Search Input must be wrapped by a DOM element with the CSS classes: "'+n+'"');this.$input=this.$formControl.find('input[type="search"]'),this.$searchIcon=e('<span class="form-control--search__search-icon icon">search</span>'),this.$clearBtn=e('<span class="form-control--search__clear icon">xsmall</span>'),this.$loadingIndicator=e('<div class="form-control--search__spinner spinner"> <div class="spinner__bg"></div> </div>'),this.on({"inputsearch:loading":this.loading,"inputsearch:loaded":this.loaded}),this.render(),this.attachEventHandlers()},render:function(){return this.$formControl.prepend(this.$searchIcon,this.$clearBtn,this.$loadingIndicator),this},attachEventHandlers:function(){this.$clearBtn.on("click",this.clearInput.bind(this));
},handleInputEvent:function(){this.toggleClearButton()},toggleClearButton:function(){var e=this.$input.val().length>0&&!this.loadingState;this.$clearBtn.toggleClass("is-visible",e)},clearInput:function(){this.loadingState||(this.$input.val("").focus().trigger("change").trigger("input").trigger("keyup"),this.toggleClearButton(),this.trigger("inputsearch:clear"))},loading:function(){this.loadingState=!0,this.$loadingIndicator.addClass("is-loading"),this.toggleClearButton()},loaded:function(){this.loadingState=!1,this.$loadingIndicator.removeClass("is-loading"),this.toggleClearButton()}}),o={initialize:function(e){return new i({el:e[0]})}};return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(3),n(2),n(1),n(16),n(307),n(531),n(534),n(392),n(543),n(213)],o=function(e,t,n,i,o){return o.extend({useServerGeneratedDefaultsFor:"StorefrontSettings",getRatioAsNumber:function(e){return this._convertRatioSettingToNumber(this.get(e))},getRatioAsPercent:function(e){return this._convertRatioSettingToPercent(this.get(e))},changeAbandonedCartsDelay:function(t){var n=e.Commerce.RPC.StorefrontSettings.changeAbandonedCartsDelay(t),i=this;return n.done(function(e){e.success&&e.data&&i.set(e.data)}),n},_convertRatioSettingToNumber:function(e){var t;switch(e){case"w2h3":t=2/3;break;case"w3h2":t=1.5;break;case"w3h4":t=.75;break;case"w4h3":t=4/3;break;default:t=1}return Math.round(100*t)/100},_convertRatioSettingToPercent:function(e){return Math.round(100/this._convertRatioSettingToNumber(e))}},{canUseStorefront:void 0,canUseStorefrontFetch:function(){var t=this;return e.Commerce.RPC.StorefrontSettings.canUseStorefront().done(function(e){t.canUseStorefront=e.data})}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(4),n(754)],o=function(e,t,n,i,o){var r=n.Marionette.ItemView.extend({template:o,events:{"click .btn-cancel":"cancel","click .btn-confirm":"confirm"},templateHelpers:function(){var e=this;return{message:function(){return e.message}}},defaultDialog:{buttons:[{group:"control-buttons pull-right",buttons:[{className:"btn-cancel btn-com"},{className:"btn-confirm btn-com btn-success"}]}]},message:void 0,title:_W.utl("javascript.components.views.ConfirmView_1"),confirmText:_W.utl("javascript.components.views.ConfirmView_2"),cancelText:_W.utl("javascript.components.views.ConfirmView_3"),size:"600x250",modal:!0,callback:function(){},initialize:function(e){var n=this,i;i=n.dialog=t.extend({},n.defaultDialog),n.message=e.message||n.message,i.size=e.size||n.size,i.title=e.title||n.title,e.dialogClass&&(i.dialogClass=e.dialogClass),n.className=e.className||n.classname,n.dialog.modal=t.isUndefined(e.modal)?n.modal:e.modal,i.buttons[0].buttons[0].text=e.cancelText||n.cancelText,i.buttons[0].buttons[1].text=e.confirmText||n.confirmText,e.cancelClass&&(n.dialog.buttons[0].buttons[0].className=e.cancelClass+" btn-cancel"),e.confirmClass&&(n.dialog.buttons[0].buttons[1].className=e.confirmClass+" btn-confirm"),n.responseCallback=e.callback||n.callback},confirm:function(){this.trigger("dialog:close"),this.responseCallback(!0)},cancel:function(){this.trigger("dialog:close"),this.responseCallback(!1)}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3)],o=function(e,t,n){var i=n.Marionette.ItemView.extend({getValue:function(){var e=this;return e.model.get("value")},searchResults:t.debounce(function(t){var n=this,i=e(t.currentTarget).val()||"";n.filterSearchResults(i.toLowerCase().trim())},150),filterSearchResults:function(){throw"BaseItemViewError: failed to override BaseItemView.filterSearchResults in subclass"},unlink:function(){var e=this,t=e.panel.panelSwitcher.dialog;e.model.set("value",""),e.options.prepareSave.apply(t,[e.options,!0])},changeUnlinkState:function(){var e=!Boolean(this.ui.input.val());this.ui.unlink.attr("disabled",e)}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o,r;!function(s){o=[n(1)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){var t="ui-effects-",n=e;return e.effects={effect:{}},function(e,t){function n(e,t,n){var i=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=l(),i=n._rgba=[];return t=t.toLowerCase(),f(a,function(e,o){var r,s=o.re.exec(t),a=s&&o.parse(s),l=o.space||"rgba";if(a)return r=n[l](a),n[c[l].cache]=r[c[l].cache],i=n._rgba=r._rgba,!1}),i.length?("0,0,0,0"===i.join()&&e.extend(i,p.transparent),n):p[t]}function o(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,o){return new e.Color.fn.parse(t,n,i,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},h=e("<p>")[0],p,f=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=h.style.backgroundColor.indexOf("rgba")>-1,f(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(o,r,s,a){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(r),r=t);var u=this,d=e.type(o),h=this._rgba=[];return r!==t&&(o=[o,r,s,a],d="array"),"string"===d?this.parse(i(o)||p._default):"array"===d?(f(c.rgba.props,function(e,t){h[t.idx]=n(o[t.idx],t)}),this):"object"===d?(o instanceof l?f(c,function(e,t){o[t.cache]&&(u[t.cache]=o[t.cache].slice())}):f(c,function(t,i){var r=i.cache;f(i.props,function(e,t){if(!u[r]&&i.to){if("alpha"===e||null==o[e])return;u[r]=i.to(u._rgba)}u[r][t.idx]=n(o[e],t,!0)}),u[r]&&e.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,i.from&&(u._rgba=i.from(u[r])))}),this):void 0},is:function(e){var t=l(e),n=!0,i=this;return f(c,function(e,o){var r,s=t[o.cache];return s&&(r=i[o.cache]||o.to&&o.to(i._rgba)||[],f(o.props,function(e,t){if(null!=s[t.idx])return n=s[t.idx]===r[t.idx]})),n}),n},_space:function(){var e=[],t=this;return f(c,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=l(e),o=i._space(),r=c[o],s=0===this.alpha()?l("transparent"):this,a=s[r.cache]||r.to(s._rgba),d=a.slice();return i=i[r.cache],f(r.props,function(e,o){var r=o.idx,s=a[r],l=i[r],c=u[o.type]||{};null!==l&&(null===s?d[r]=l:(c.mod&&(l-s>c.mod/2?s+=c.mod:s-l>c.mod/2&&(s-=c.mod)),d[r]=n((l-s)*t+s,o)))}),this[o](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=l(t)._rgba;return l(e.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,o=e[3],r=Math.max(t,n,i),s=Math.min(t,n,i),a=r-s,l=r+s,c=.5*l,u,d;return u=s===r?0:t===r?60*(n-i)/a+360:n===r?60*(i-t)/a+120:60*(t-n)/a+240,d=0===a?0:c<=.5?a/l:a/(2-l),[Math.round(u)%360,d,c,null==o?1:o]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*o(a,s,t+1/3)),Math.round(255*o(a,s,t)),Math.round(255*o(a,s,t-1/3)),r]},f(c,function(i,o){var r=o.props,a=o.cache,c=o.to,u=o.from;l.fn[i]=function(i){if(c&&!this[a]&&(this[a]=c(this._rgba)),i===t)return this[a].slice();var o,s=e.type(i),d="array"===s||"object"===s?i:arguments,h=this[a].slice();return f(r,function(e,t){var i=d["object"===s?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),u?(o=l(u(h)),o[a]=h,o):l(h)},f(r,function(t,n){l.fn[t]||(l.fn[t]=function(o){var r=e.type(o),a="alpha"===t?this._hsla?"hsla":"rgba":i,l=this[a](),c=l[n.idx],u;return"undefined"===r?c:("function"===r&&(o=o.call(this,c),r=e.type(o)),null==o&&n.empty?this:("string"===r&&(u=s.exec(o),u&&(o=c+parseFloat(u[2])*("+"===u[1]?1:-1))),l[n.idx]=o,this[a](l)))})})}),l.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,o){var r,s,a="";if("transparent"!==o&&("string"!==e.type(o)||(r=i(o)))){if(o=l(r||o),!d.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[n]=o}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},p=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function t(t){var n,i,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)n=o[i],"string"==typeof o[n]&&(r[e.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(r[n]=o[n]);return r}function i(t,n){var i={},o,s;for(o in n)s=n[o],t[o]!==s&&(r[o]||!e.fx.step[o]&&isNaN(parseFloat(s))||(i[o]=s));return i}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(n.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,r,s,a){var l=e.speed(r,s,a);return this.queue(function(){var r=e(this),s=r.attr("class")||"",a,c=l.children?r.find("*").addBack():r;c=c.map(function(){var n=e(this);return{el:n,start:t(this)}}),a=function(){e.each(o,function(e,t){n[t]&&r[t+"Class"](n[t])})},a(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),r.attr("class",s),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(n,i,o,r){return i?e.effects.animateClass.call(this,{add:n},i,o,r):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,o,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,o,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,o,r,s){return"boolean"==typeof i||void 0===i?o?e.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,o,r)}}(e.fn.toggleClass),switchClass:function(t,n,i,o,r){return e.effects.animateClass.call(this,{add:n,remove:t},i,o,r)}})}(),function(){function n(t,n,i,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=i,i=n,n={}),e.isFunction(i)&&(o=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=o||n.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,n){for(var i=0;i<n.length;i++)null!==n[i]&&e.data(t+n[i],e[0].style[n[i]])},restore:function(e,n){var i,o;for(o=0;o<n.length;o++)null!==n[o]&&(i=e.data(t+n[o]),void 0===i&&(i=""),e.css(n[o],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(i),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,o){return o=o||{},e.each(n,function(e,n){var r=t.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])}),o}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(r)&&r.call(o[0]),e.isFunction(t)&&t()}var o=e(this),r=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),n()):s.call(o[0],i,n)}var i=n.apply(this,arguments),o=i.mode,r=i.queue,s=e.effects.effect[i.effect];return e.fx.off||!s?o?this[o](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):r===!1?this.each(t):this.queue(r||"fx",t)},show:function(e){return function(t){if(i(t))return e.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(t){if(i(t))return e.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(t){if(i(t)||"boolean"==typeof t)return e.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(e*-2+2)/2}})}(),e.effects})},function(e,t,n){var i,o;i=[n(1),n(2),n(69)],o=function(e,t,n){var i=e("body"),o=16,r={isOpen:!1,isModal:!1,closeOnEsc:!1,closeOnEnter:!1,closeOnClickAway:!1,allowLeftRight:!0,preferTop:!1,preferBottom:!1,positionRefresh:!1,isDraggable:!1,draggableSelector:"*",gutter:20,arrowSize:10,arrowGap:0,showPointAtArrow:!0,outerClassName:null,wrapClassName:null,hAlignment:null,vAlignment:null,vAlignmentTopClassName:null,vAlignmentCenterClassName:null,$alignmentWrapperEl:null,draggableClassName:"is-draggable",arrowClassName:"popover__arrow",$arrow:null,$modalEl:null,$outerEl:null,escHandler:null,enterHandler:null,closeOnClickHandler:null,clickAwayHandler:null,currentOpenOptions:null,open:function(t){var n=this;if(!n.isOpen)return e.when(this._trigger("before:open")).then(function(){var i,o=e(n.queryOptionOverride("parent",t)||"body"),r=o.is("body");n.isOpen=!0,n.isModalLight=!r,t=t||!1,n._trigger("before:attach"),i=n.$outerEl=n.renderOverlay(t,r),o.append(i),n._trigger("attach"),n.updateSize(t),n.updatePosition(t),n._trigger("show"),n.$el.add(n.$modalEl).addClass("is-transitionable"),i[0].offsetWidth,n.currentOpenOptions=t,n.queryOptionOverride("follow",t)&&n.initializeFollow(t);var s=n.queryOptionOverride("delay",t);s?(s="true"===s?500:parseInt(s),n.delay=setTimeout(function(){n.$el.add(n.$modalEl).addClass("is-in")},s)):n.$el.add(n.$modalEl).addClass("is-in"),setTimeout(function(){n.initializeCloseOnEsc(),n.initializeCloseOnEnter(),n.initializeCloseOnClick(t),n.initializeCloseOnClickAway(t),n.initializeRepositioning(t),n.initializeDragging(t)},200),n.resetFocus(),n._trigger("open")})},resetFocus:function(){document.activeElement&&t.isElement(document.activeElement)&&document.activeElement!==document.body&&document.activeElement.blur()},renderOverlay:function(t,n){var i=this.queryOptionOverride("isPositionFixed",t),o=this.queryOptionOverride("zIndex",t),r=this.queryOptionOverride("isModal",t),s=this.queryOptionOverride("isModalLight",t),a=this.queryOptionOverride("outerClassName",t),l=this.queryOptionOverride("wrapClassName",t),c;return this.render(),c=this.$el,this.vAlignment=this.queryOptionOverride("vAlignment",t),this.hAlignment=this.queryOptionOverride("hAlignment",t),this.queryOptionOverride("isTop",t)&&(this.vAlignment="top"),!this.vAlignment&&!this.hAlignment||this.queryOptionOverride("pointAt",t)||(c=this.$alignmentWrapperEl=e('<div class="alignment-wrapper"></div>').append(c.addClass("alignment-wrapper__subject"))),r&&(c=this.$modalEl=e('<div class="modal" />').toggleClass("modal--light",s).append(c.addClass("modal__subject"))),null==i&&(i=n&&(this.$alignmentWrapperEl||r)),i&&c.css("position","fixed"),null!=o&&c.css("z-index",o),c.addClass(a),l&&(c=e("<div>").addClass(l).append(c)),c},initializeCloseOnEsc:function(){var t=this;this.queryOption("closeOnEsc")&&e(document).on("keyup",this.escHandler=function(e){27!==e.keyCode||t.innerOverlay||t.close()})},destroyCloseOnEsc:function(){this.escHandler&&e(document).off("keyup",this.escHandler)},initializeCloseOnEnter:function(){var t=this;this.queryOption("closeOnEnter")&&e(document).on("keyup",this.enterHandler=function(e){13===e.keyCode&&t.close()})},destroyCloseOnEnter:function(){this.enterHandler&&e(document).off("keyup",this.enterHandler)},initializeCloseOnClick:function(t){var n=this,i=this.queryOptionOverride("closeOnClick",t);null!=i&&e(document).on("click",this.closeOnClickHandler=function(t){e(t.target).closest(n.el).length&&(i&&"string"==typeof i&&!e(ev.target).closest(i).length||n.close())})},destroyCloseOnClick:function(){this.closeOnClickHandler&&e(document).off("mousedown",this.closeOnClickHandler)},initializeCloseOnClickAway:function(t){var n=this;this.queryOptionOverride("closeOnClickAway",t)&&(this.$modalEl&&this.$modalEl.addClass("is-clickable"),e(document).on("mousedown",this.clickAwayHandler=function(t){e(t.target).closest(n.el).length||n.close()}))},destroyCloseOnClickAway:function(){this.clickAwayHandler&&e(document).off("mousedown",this.clickAwayHandler)},initializeDragging:function(t){if(this.queryOptionOverride("isDraggable",t)){var n=this.queryOptionOverride("draggableSelector",t),i=this;this.$el.on("mousedown",function(t){e(t.target).closest(n).length&&i.startDragListening(t)}).addClass(this.draggableClassName)}},startDragListening:function(t){function n(e){b=e.pageX-g,w=e.pageY-v,!s&&b*b+w*w>r*r&&(s=!0,o._trigger("dragStart")),s&&(y=m.top+w,_=m.left+b,y=Math.max(d,Math.min(p,y)),_=Math.max(h,Math.min(f,_)),a.css({top:y,left:_}))}function i(){e(document).off("mousemove",n),o._trigger("dragEnd")}var o=this,r=10,s=!1,a=this.$el,l=a.outerWidth(),c=a.outerHeight(),u=a.offsetParent().offset(),d=-u.top,h=-u.left,p=e(document).height()-u.top-c,f=e(document).width()-u.left-l,m=a.position(),g=t.pageX,v=t.pageY,b,w,y,_;e(document).on("mousemove",n).on("mouseup",i)},_onDragStart:function(){this.removeArrow()},initializeFollow:function(t){var n=e(this.queryOptionOverride("pointAt",t));n.on("mousemove.follow",this.followMouse.bind(this))},followMouse:function(e){this.$el.css({top:e.pageY+o,left:e.pageX+o})},initializeRepositioning:function(n){var i=this;this.queryOptionOverride("positionRefresh",n)&&e(window).on("resize scroll",this.repositionHandler=t.debounce(function(){i.updatePosition()},100))},destroyRepositioning:function(){this.repositionHandler&&e(window).off("resize scroll",this.repositionHandler)},updatePosition:function(t){null==t&&(t=this.currentOpenOptions);var n=this.queryOptionOverride("pointAt",t);if("string"==typeof n||n instanceof e)n=e(n),n.length||(n=null);else if("object"==typeof n)for(var i=["docTop","docLeft","width","height"],o=0;o<i.length;o++)if(!(i[o]in n))throw new Error("Missing property on pointAt object. Required: docTop, docLeft, width, height");this.$alignmentWrapperEl&&(this.$el.toggleClass(this.vAlignmentTopClassName,"top"===this.vAlignment),this.$el.toggleClass(this.vAlignmentCenterClassName,"center"===this.vAlignment),this.$alignmentWrapperEl.toggleClass("alignment-wrapper--v-center","center"===this.vAlignment));var r=this.queryOptionOverride("follow",t);n&&!r&&this._pointAtElement(n,t)},_pointAtElement:function(t,i){this.$el.css("position","absolute");var o=this.queryOptionOverride("placement",i),r=parseInt(this.queryOptionOverride("gutter",i),10),s=this.queryOptionOverride("arrowClassName",i),a=parseInt(this.queryOptionOverride("arrowSize",i),10),l=parseInt(this.queryOptionOverride("arrowGap",i),10),c=this.queryOptionOverride("allowLeftRight",i),u=this.queryOptionOverride("preferTop",i),d=this.queryOptionOverride("preferBottom",i),h=this.queryOptionOverride("showPointAtArrow",i),p=this.queryOptionOverride("boundingContainer",i);if(p)var f=e(p);var m=n.getViewportRect(),g=m.bottom-m.top,v=m.right-m.left,b=e(window).width(),w=e(window).height(),y=e(window).scrollTop(),_=e(window).scrollLeft(),E=n.getElDimensions(this.$el),T;if(t instanceof e)T=n.getElDimensions(t);else{var C=t.width/2,S=t.height/2;T={width:t.width,height:t.height,docLeft:t.docLeft,docRight:t.docLeft+t.width,docTop:t.docTop,docBottom:t.docTop+t.height,docCenterX:t.docLeft+C,docCenterY:t.docTop+S,viewportLeft:t.docLeft-m.left,viewportRight:t.docLeft-m.left+t.width,viewportTop:t.docTop-m.top,viewportBottom:t.docTop-m.top+t.height,viewportCenterX:t.docLeft-m.left+C,viewportCenterY:t.docTop-m.top+S}}if("auto"===o||!o){var I=Math.max(0,T.viewportTop),O=Math.max(0,g-T.viewportBottom),D=Math.max(0,T.viewportLeft),x=Math.max(0,v-T.viewportRight);if(u&&I>=E.height)o="top";else if(d&&O>=E.height)o="bottom";else{var k=[],R=0,P;for(c&&(k.push(["right",x]),k.push(["left",D])),d?(k.push(["top",I]),k.push(["bottom",O])):(k.push(["bottom",O]),k.push(["top",I])),P=0;P<k.length;P++)k[P][1]>=R&&(R=k[P][1],o=k[P][0])}}var A,N;this.removeArrow();var M=this.$arrow=e('<span class="'+s+'"></span>');switch(o){case"top":A=T.docTop-E.height-a-l,N=T.docCenterX-E.width/2,M.addClass(s+"--down");break;case"bottom":A=T.docBottom+a+l,N=T.docCenterX-E.width/2,M.addClass(s+"--up");break;case"left":A=T.docCenterY-E.height/2,N=T.docLeft-E.width-a-l,M.addClass(s+"--right");break;case"right":A=T.docCenterY-E.height/2,N=T.docRight+a+l,M.addClass(s+"--left")}if(f){var L=n.getElDimensions(f);A=Math.max(A,L.docTop+r),A=Math.min(A,L.docBottom-E.height-r),N=Math.max(N,L.docLeft+r),N=Math.min(N,L.docRight-E.width-r)}else A=Math.max(A,y+r),A=Math.min(A,y+w-E.height-r),N=Math.max(N,_+r),N=Math.min(N,_+b-E.width-r);if(h){switch(o){case"top":case"bottom":M.css({left:T.docCenterX-N-a});break;case"left":case"right":M.css({top:T.docCenterY-A-a})}this.$el.append(M)}this.$el.offset({top:A,left:N})},removeArrow:function(){this.$arrow&&(this.$arrow.remove(),this.$arrow=null)},close:function(){var e=this;if(e.delay&&clearTimeout(e.delay),e.isOpen)return this._trigger("before:close").then(function(){e.executeClose(),e._trigger("close"),e.isOpen=!1})},_onBeforeClose:function(){if(this.internalOverlay)return this.internalOverlay.close()},executeClose:function(){var e=this,t=this.$el,i=this.$modalEl;return this.currentOpenOptions=null,this.destroyCloseOnEsc(),this.destroyCloseOnEnter(),this.destroyCloseOnClick(),this.destroyCloseOnClickAway(),this.destroyRepositioning(),t.removeClass("is-in").add(i||null).addClass("is-out"),n.promiseTransition(t).then(function(){e.destroy(),t.removeClass("is-out").removeClass("modal__subject"),e.$outerEl&&(e.$outerEl.remove(),e.$outerEl=null)})}};return{Mixin:r}}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(3),n(2),n(294)],o=function(e,t,n){return t.Marionette.Region.extend({defaults:{title:"Default Title",closeOnEscape:!0,draggable:!1,modal:!0,resizable:!1,position:{my:"center",at:"center",of:window}},constructor:function(){n.extend(this,t.Events)},el:"#dialog-region",dialogClass:"popup-modal",onShow:function(e){var t=n.extend({},e.dialog);this.view=e,this.dialogOptions=n.result(e,"dialog"),this.$el.dialog(this.getDefaultOptions(this.dialogOptions,e)),this.updateDialogCss(e),t.titleIcon&&this.createTitleIcon(t.titleIcon),this.namespace=".dialog-"+Math.floor(1e6*Math.random()+1),this.setupBindings(e),n.result(this.view.options,"onShow")},onClose:function(){n.result(this.view.options,"onClose"),this.stopListening(),e("body").off("keydown"+this.namespace),e("body").off("click"+this.namespace),e(window).off("resize"+this.namespace)},updateDialogCss:function(t){var n=this.$el.find(".dialog-body");if(n.length){var i=n.height(),o=n.parent().height(),r=e(window).height()-170;i>o&&r>o&&(r=o-30),this.$el.addClass("hasBody"),n.css({maxHeight:this.$el.outerHeight()-this.$el.find(".dialog-footer").outerHeight()})}else this.$el.removeClass("hasBody");if(t&&this.dialogOptions&&this.dialogOptions.size){var s=this.dialogOptions.size.split("x");if(2==s.length){var a=this.$el.parent(),l=s[0]+"px",c=s[1]+"px";a.css({width:l,minWidth:l,maxWidth:l,height:c,minHeight:c,maxHeight:c,left:(e(window).width()-s[0])/2,top:(e(window).height()-s[1])/2})}}t&&this.dialogOptions&&this.dialogOptions.enableScrolling&&($dialogContent=e(".ui-dialog-content div:first"),$dialogContent.css({"max-height":s[1]-e(".ui-dialog-titlebar").height(),"padding-bottom":0}))},setupBindings:function(t){this.listenTo(t,"render",function(){this.updateView(t),this.updateDialogCss(t)}),this.previousView?this.listenTo(t,"dialog:close",this.restoreMainView):this.listenTo(t,"dialog:close",this.closeDialog),this.listenTo(t,"dialog:update:css",this.updateDialogCss),this.$el.dialog("option",{close:n.bind(this.closeDialog,this)}),this.listenTo(t,"dialog:update:buttons",this.createFooter),this.listenTo(t,"dialog:update:title",this.updateDialogTitle),this.listenTo(t,"dialog:reposition",this.reposition),e("body").on("keydown"+this.namespace,n.bind(this.handleKeydown,this)),e("body").on("click"+this.namespace,".ui-widget-overlay",n.bind(this.handleBackgroundClick,this));var i=n.bind(this.reposition,this);e(window).on("resize"+this.namespace,n.throttle(i,100))},reposition:function(e){var t=this;t.$el.dialog({position:t.defaults.position})},closeDialog:function(){this.close(),this.$el.dialog("destroy")},cancelDialog:function(e){e&&e.preventDefault(),"function"==typeof this.view.dialogCancel?this.view.dialogCancel():(this.closeDialog(),this.previousView&&(this.previousView.close(),this.previousView=null))},handleKeydown:function(e){27==e.which&&this.$el.dialog("option","closeOnEscape")&&(e&&e.preventDefault(),this.cancelDialog(e))},handleBackgroundClick:function(){this.dialogOptions&&(this.dialogOptions.cancelAll||this.dialogOptions.cancelBg)&&this.cancelDialog()},getDefaultOptions:function(e,t){return this.updateView(t),e=e||{},e.buttons&&this.updateView(t),e.dialogClass=n.compact(["w-ui",e.dialogClass,this.dialogClass]).join(" "),e=n.defaults(e,this.defaults),e=n.omit(e,"buttons")},updateView:function(e){if(e.dialog){var t=n.isFunction(e.dialog)?e.dialog():e.dialog;(t.cancelX||t.cancelAll)&&this.createCancelX(e),t.cancelXThin&&this.createCancelXThin(e),t.buttons&&this.createFooter(t.buttons,e),e.bindUIElements()}},createCancelX:function(e){e.$el.find("a.close-x").length||(e.$el.prepend('<a autofocus href="#"></a>'),e.$el.prepend('<a href="#" class="close-x w-icon-delete"></a>'),e.events=e.events||{},e.events["click a.close-x"]=n.bind(this.cancelDialog,this),e.delegateEvents())},createCancelXThin:function(e){e.$el.find("a.close-x").length||(e.$el.prepend('<a autofocus href="#"></a>'),e.$el.prepend('<a href="#" class="close-x close-x-thin">&times;</a>'),e.events=e.events||{},e.events["click a.close-x"]=n.bind(this.cancelDialog,this),e.delegateEvents())},createFooter:function(t,n){var n=n||this.currentView,i;i=this.$el.find(".dialog-footer").length?this.$el.find(".dialog-footer").empty():e('<div class="dialog-footer" />'),i=this.createButtonFooter(i,t),i.append(n.$el.find(".footer")),n.$el.append(i)},createButtonFooter:function(e,t){return n.each(t,function(t){t.group&&t.buttons?e.append(this.createButtonGroup(t)):(t.html||t.text)&&e.append(this.createButton(t))},this),e},createButtonGroup:function(t){var i=e('<div class="'+t.group+'"/>');return n.each(t.buttons,function(e){i.append(this.createButton(e))},this),i},createButton:function(t){var n=t.type||"button",i=e(document.createElement(n));return t.text?i.text(t.text):t.html&&i.html(t.html),i.addClass(t.className||""),i},createTitleIcon:function(t){var n=e("<span/>",{class:"icon"}).addClass(t);this.$el.dialog("widget").find(".ui-dialog-title").append(n)},updateDialogTitle:function(e){this.$el.dialog("option","title",e)},showSecondaryDialog:function(e,i){this.ensureEl();var o=this.$el.parent(),r=e.isClosed||n.isUndefined(e.$el),s=e!==this.currentView;if(i=null!==i&&"object"==typeof i?i:{},s)if(1==this.$el.find(">div").length){var a=["width","minWidth","maxWidth","height","minHeight","maxHeight","left","top"],l={};n.each(a,function(e){l[e]=o.css(e)}),this.previousCss=l,this.previousView=this.currentView,this.$el.find(">div").hide()}else this.close();e.render(),(s||r)&&this.$el.append(e.el),this.currentView=e,i.silentReplace||(t.Marionette.triggerMethod.call(this,"show",e),t.Marionette.triggerMethod.call(e,"show"))},restoreMainView:function(e){e=null!==e&&"object"==typeof e?e:{},
this.previousView&&(this.currentView.close(),this.$el.find(">div").show(),e.silentReplace||(t.Marionette.triggerMethod.call(this,"show",this.previousView),t.Marionette.triggerMethod.call(this.previousView,"reloadDialog"),t.Marionette.triggerMethod.call(this.previousView,"show")),this.$el.parent().css(this.previousCss),this.currentView=this.previousView,this.previousView=null)}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(7)],o=function(e,t){"use strict";var n={},i;return t.reqres.setHandlers({"imageeditor:data:sync":function(e){n.setCurrentHeader(e,!0)}}),n.setData=function(t){var i=n.getCurrentHeader();return i.data=e.extend(!0,{},t),n.setCurrentHeader(i)},n.setCurrentHeader=function(n,o){return i=n,o!==!0?t.request("imageeditor:data:sync",i):e.Deferred().resolve().promise()},n.getCurrentHeader=function(){return e.extend(!0,{},i)},n}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(1),n(2),n(9),n(489),n(69)],o=function(e,t,n,i,o){var r=n.View.extend({type:"prefix",initialize:function(e){if(0===this.$el.length)throw new Error("Please select a specific input element");if(this.$el.length>1)return this.spawnInstances(e);if("INPUT"!==this.$el.prop("tagName"))throw new Error("Please select an input element");var t=e.text||this.$el.data(this.type);if(!t)throw new Error("Please pass in the affixed text");var n=this.type+"Instance",i=this.$el.data(n);if(i)return this.remove(),i.waitTillAttached(),i;var o=this;this.$el.data(n,this),this.createAffixEl(t),this.attachAffix(),this.waitTillAttached()},waitTillAttached:function(){this.waitAttach&&i.unwatch(this.el,this.waitAttach);var e=this;this.waitAttach=i.watch(this.el,6e4),this.waitAttach.then(function(){e.applyStyles()}).catch(function(){})},spawnInstances:function(e){var t=this,n=this.$el.splice(0).map(function(n){var i=Object.create(e);return i.el=n,new t.constructor(i)});return this.remove(),n},attachAffix:function(){if(0===this.$el.parent().length)throw new Error("Cannot insert prefix because the element does not have a parent.");this.$affix.insertBefore(this.$el)},createAffixEl:function(t){this.$affix=e("<span></span>",{class:"form-control__"+this.type,text:o.unescapeHtmlEntities(t)})},alignAffix:function(){this.$affix.css({lineHeight:this.$el.outerHeight()+"px",top:this.$el.position().top}),this.affixWidth=this.$affix.outerWidth()},applyStyles:function(){this.alignAffix(),this.elPaddingLeft=this.elPaddingLeft||+this.$el.css("padding-left").slice(0,-2),this.$affix.css("left",this.elPaddingLeft),this.$el.css("padding-left",this.affixWidth+this.elPaddingLeft)},remove:function(){return this.events=null,this.undelegateEvents(),this.$affix&&this.$affix.remove(),this.waitAttach&&i.unwatch(this.el,this.waitAttach),this.stopListening(),this}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5)],o=function(e){var t={isWhiteLabeled:function(){return e.Branding.isWhiteLabeled},hasWeeblySupportAccess:function(){return e.Branding.hasWeeblySupportAccess},isCommonUserIncludingSquare:function(){return e.Branding.isCommonUserIncludingSquare}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[],o=function(){var e=25;return{isLabelTooLong:function(t){return e<t.length},truncateLabel:function(e){return this.isLabelTooLong(e)?e.slice(0,21)+"...":e},formTooltip:function(e,t){if(!t)return"";var n="";return this.isLabelTooLong(e)&&(n="<label>"+e+"</label>"),n+"<p>"+t+"</p>"}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(130),n(354),n(98),n(200),n(23),n(170)],o=function(e,t,n,i,o,r,s){var a={},l=!0,c={};return a.isControlsEnabled=function(){return l},a.init=function(n,a,u){function d(e,t){l&&!t&&p.show(e)}function h(e){e||p.hide()}c[n[0].id]=function(){i.hide(),Weebly.Elements.unselectElement();var t=u?u():{};if(!t.image){t.image=s.getEditData(a[0]);var l=r.getContentFieldProperty(n[0].id,"<!ATTRIBUTION!>");if(l){var c=l.property_result;if(c){var d=JSON.parse(c);e.isArray(d)&&(d=d[0]),d&&(t.image.creator=d.author,t.image.pageUrl=d.url)}}}var h={mode:"element",imageEditorData:t,element:{ucfid:n[0].id}};o.edit(h).done(function(e){window.updateImageElement(e,h.element.ucfid)})};var p=t.init(n,a,function(){return l});return{show:d,hide:h,destroy:p.destroy}},a.show=function(e,t){var i=n.get(e.id);i&&i.showControls(t)},a.hide=function(e,t){var i=n.get(e.id);i&&i.hideControls(t)},a.hideAll=function(e){n.each(function(t){t.hideControls&&t.hideControls(e)})},a.disable=function(e){l=!1,a.hideAll(e)},a.enable=function(){l=!0},a.startImageEditor=function(e){var t="string"==typeof e?e:e.id;c[t]()},a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){function t(e){var t=r?-30:10;i.css({top:e.pageY+t+"px",left:e.pageX+10+"px"})}var n={},i,o=!0,r=!1;return n.init=function(n,s,a){function l(e){o&&(d?e&&t(e):(t(e),i.html(s).show(),d=!0))}function c(){d&&(i.hide(),d=!1)}function u(){c(),n.off(h),i.remove(),i=null}n=e(n),r=!!a;var d=!1;i||(i=e("<div/>",{class:"ext-tooltip",css:{position:"absolute",display:"none"}}),e("body").append(i));var h={"mouseover mousemove":l,mouseout:c};return n.on(h),u},n.enable=function(){o=!0},n.disable=function(){n.hide(),o=!1},n.hide=function(){i&&i.hide()},n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2)],o=function(e,t){var n={},i=null;return n.shakeElement=function(t){return i||(i=e.Deferred()),t.hasClass("shake")||t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("shake"),i.resolve(),i=null}).addClass("shake"),i.promise()},n.scrollToElement=function(e,t){return n.scrollTo({height:e.height(),offset:e.offset()},t)},n.scrollTo=function(n,i){var o=e.Deferred(),r=e(window),s=r.innerHeight();i=t.defaults(i||{},{centerFallback:"top",paddingTop:0,paddingBottom:0,dontScrollWhenFocused:!1});var a=n.height+i.paddingTop+i.paddingBottom,l=n.offset,c=l.top-i.paddingTop;c<0&&(c=0);var u=c-s/2;if(a<s||!i.centerFallback?u+=a/2:"bottom"===i.centerFallback&&(u+=a),u<0&&(u=0),i.dontScrollWhenFocused){var d=r.scrollTop(),h=c+a>d+s,p=c<d;if(!h&&!p)return o.reject(),o.promise()}var f=e("body, html");return u===!1||f.is(":animated")?o.reject():f.animate({scrollTop:u+"px"},i).promise().done(function(){o.resolve()}),o.promise()},n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i;i=function(){var e={isPositiveNumber:function(e){var t=parseFloat(e);return!isNaN(e)&&t>0},isPositiveNumberOrZero:function(e){var t=parseFloat(e);return!isNaN(e)&&t>=0},isInteger:function(e){var t=parseFloat(e);return!isNaN(e)&&"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},isIntegerOrEmpty:function(e){return this.isInteger(e)||this.isEmpty(e)},isEmpty:function(e){return null===e||void 0===e||""===String(e).trim()},trimDecimals:function(e,t,n){t=t||".",n=n||2;var i=String(e),o=i.indexOf(t);if(o===-1||n===i.length-1)return i;var r=String(e).split(t);if(1===r.count)return e;var s=r[0],a=r[1];return s+t+a.substring(0,n)}};return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,o;(function(r){i=[n(1),n(5),n(369)],o=function(e,t){function n(t){function n(e){w=r(e)}function i(e){y=r(e).observe("mouseover",s).observe("mouseout",a)}function o(){_++}function s(){T&&(h(),_++)}function a(){var e=++_;S=setTimeout(function(){e==_&&E&&u()},C)}function l(e){E=e}function c(e){C=e}function u(){clearTimeout(S),v&&v.visible()&&(v.hide(),t.overflow&&d(),g.afterHide())}function d(){e(v).removeClass("inner-overflow w-massless-scroll").find(".hover-toolbar-inner").css("height","").find(".hover-toolbar-inner2").weeblyScroll("destroy")}function h(){clearTimeout(S),v&&w&&g.beforeShow()!==!1&&(v.show(),f())}function p(){return"none"!=v.style.display}function f(){if(p()){var n=document.viewport.getWidth(),i=Math.max(r(document.body).getHeight(),document.viewport.getHeight(),e(document).height()),o=safeCumulativeOffset(w),s=w.getWidth(),a=w.getHeight(),l=t.alignElement,c,u,h=v.down(".hover-toolbar-arrow"),f=h.getWidth(),m,g=v.down(".hover-toolbar-inner"),b=v.getWidth(),y=v.getHeight(),_=v.getOffsetParent(),E=safeCumulativeOffset(_),T;if(T=!!t.forceAbove||!t.forceBelow&&(t.preferAbove?!(o.top-y<0&&o.top+a+y<=i):o.top+a+y>i&&o.top-y>=0),T?(v.removeClassName("hover-toolbar-below").addClassName("hover-toolbar-above"),c=o.top-y):(v.removeClassName("hover-toolbar-above").addClassName("hover-toolbar-below"),c=o.top+a),u=o.left,"left"==t.align||(u+="right"==t.align?s-b:s/2-b/2),u=Math.max(u,2),u=Math.min(u,n-b-2),l){l=r(l);var C=safeCumulativeOffset(l),S=l.getWidth();u+b/2<n/2?(u=Math.min(u,C.left+S-b),u=Math.max(u,C.left)):(u=Math.max(u,C.left),u=Math.min(u,C.left+S-b))}c+=t.adjustY||0,u+=t.adjustX||0,t.overflow&&!v.hasClassName("inner-overflow")&&(c+y>i-10?e(v).addClass("inner-overflow w-massless-scroll").find(".hover-toolbar-inner").css("height",i-20-c).find(".hover-toolbar-inner2").weeblyScroll():d()),m=t.centerArrow?b/2-f/2:o.left+s/2-u-f/2,m=Math.max(m,5),m=Math.min(m,b-f-5),c-=E.top,u-=E.left,v.setStyle({top:c+"px",left:u+"px"}),e(".hover-toolbar-arrow").css({left:m+"px"})}}function m(){v.stopObserving("mouseover",o).stopObserving("mouseout",a),y.stopObserving("mouseover",s).stopObserving("mouseout",a),v.parentNode&&v.remove()}t=t||{};var g=this,v,b,w,y,_=0,E=!0,T=!0,C=t.hideDelay||100,S;this.setTargetElement=n,this.setHoverElement=i,this.show=h,this.hide=u,this.position=f,this.destroy=m,this.setHideDelay=c,this.setAutoHide=l,this.setAutoShow=function(e){T=e},this.getElement=function(){return v},this.getInnerElement=function(){return b},this.afterHide=t.afterHide||function(){},this.beforeShow=t.beforeShow||function(){},this.isShowing=p,v=new Element("div",{class:"hover-toolbar hover-toolbar-above"}).setStyle({zIndex:t.zIndex||9998,display:"none"}).update("<div class='hover-toolbar-arrow hover-toolbar-arrow-border'></div><div class='hover-toolbar-arrow'></div><div class='hover-toolbar-inner'><div class='hover-toolbar-inner2'><div class='hover-toolbar-inner3'></div></div></div>"),b=v.down(".hover-toolbar-inner3"),r(t.parent||document.body).insert(v),v.observe("mouseover",o).observe("mouseout",a),n(t.targetElement),i(t.hoverElement||t.targetElement)}return n}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},,,,,function(e,t,n){var i,o,r;!function(s){o=[n(1),n(55),n(81),n(43)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),o=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options,r=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),n=e(o.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var o=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n,i){var o=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,n,i){e.each(i.sortables,function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,i._parent=n.helper.parent(),r.currentItem=n.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return n.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",t),i.dropped=r.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(t),n.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var o=e("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(t,n,i){var o=i.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var o=e(n.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(t,n,i){var o=i.options;o._opacity&&e(n.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var o=i.options,r=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:t.pageY-i.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:t.pageX-i.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?r=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(r=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?r=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(r=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var o=i.options;i.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var o,r,s,a,l,c,u,d,h,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,b=n.offset.top,w=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,d=u+i.snapElements[h].height,v<l-m||g>c+m||w<u-m||b>d+m||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(u-w)<=m,r=Math.abs(d-b)<=m,s=Math.abs(l-v)<=m,a=Math.abs(c-g)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=o||r||s||a,"outer"!==f.snapMode&&(o=Math.abs(u-b)<=m,r=Math.abs(d-w)<=m,s=Math.abs(l-g)<=m,a=Math.abs(c-v)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||r||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||r||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var o,r=i.options,s=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(o=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var o=e(n.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(t,n,i){var o=i.options;o._zIndex&&e(n.helper).css("zIndex",o._zIndex)}}),e.ui.draggable})},function(e,t,n){var i,o;i=[n(1),n(9),n(2),n(50),n(490)],o=function(e,t,n,i,o){function r(){return"_switcher-panel"+l++}var s=i.extend({className:"panel-switcher",switcher:null,panelsByValue:null,$head:null,$body:null,$modalEl:null,height:200,_initialize:function(){var t=this.queryOption("panels"),n={},i,r,s,l=[];for(i=0;i<t.length;i++)r=t[i],s=r instanceof a?r:new a(r),n[s.value]=s,s.panelSwitcher=this,l.push({value:s.value,text:s.title,textHtml:s.titleHtml,icon:s.icon,iconAfterText:s.iconAfterText,selected:s.selected});this.panelsByValue=n,this.switcher=new o({items:l});var c=this;this.switcher.on("option:changed",function(e){e?c.selectPanel(e):c.unselectPanel()}).on("open",e.proxy(this.showModal,this)).on("close",e.proxy(this.hideModal,this))},render:function(){var t;return this.$el.html('<div class="panel-switcher__head"></div><div class="panel-switcher__body"></div>'),this.$head=this.$el.find(".panel-switcher__head"),this.$body=this.$el.find(".panel-switcher__body"),this.$modalEl=e('<div class="panel-switcher__modal modal is-transitionable is-hidden" />'),this.$modalEl.on("click",e.proxy(this.closeSwitcher,this)),this.$body.append(this.$modalEl),this.switcher.render().$el.addClass("panel-switcher__switcher").appendTo(this.$head),this.setHeight(this.queryOption("height")),t=this.switcher.getSelectedOption(),t?this.selectPanel(t):this.unselectPanel(),this},destroy:function(){e.each(this.panelsByValue,function(e,t){t.destroy()}),this.switcher.destroy(),i.prototype.destroy.apply(this,arguments)},setHeight:function(e){this.$el.css("height",e)},closeSwitcher:function(){this.select(this.switcher.getSelectedOption())},select:function(e){this.switcher.select(e),this.switcher.close(),this.selectPanel(e)},selectPanel:function(e){this.clearCurrentPanel(),this.currentPanel=this.panelsByValue[e],this.currentPanel.render().$el.appendTo(this.$body),this.currentPanel._trigger("enter"),this.updateSize(),this.hideModal()},unselect:function(){this.unselectPanel(),this.switcher.unselect()},unselectPanel:function(){this.clearCurrentPanel(),this.updateSize(),this.showModal()},clearCurrentPanel:function(){this.currentPanel&&(this.currentPanel._trigger("before:leave"),this.currentPanel.destroy({preventContentViewDestroy:!0}),this.currentPanel._trigger("leave"),this.currentPanel=null)},hideModal:function(){this.$modalEl.addClass("is-out").removeClass("is-in")},showModal:function(){this.$modalEl.addClass("is-in").removeClass("is-hidden is-out")},_onBeforeDetach:function(){this.currentPanel&&this.currentPanel._trigger("before:leave")},_onDetach:function(){this.currentPanel&&this.currentPanel._trigger("leave")}}),a=s.Panel=i.extend({className:"panel-switcher__panel",selected:!1,value:null,title:null,icon:null,height:null,contentHtml:null,contentView:null,hasContentPadding:!1,constructor:function(e){e instanceof t.View&&(e={content:e}),e=e||{};var n=e.content;null==n&&(n=this.content),n instanceof t.View?this.contentView=n:"string"==typeof n&&(this.contentHtml=n),i.call(this,e)},_initialize:function(){
var e=this.contentView;e&&(this.extendOptions(n.result(e,"switcherOptions",{})),e.panel=this),this.selected=this.queryOption("selected"),this.value=this.queryOption("value")||r(),this.title=this.queryOption("title"),this.icon=this.queryOption("icon")},render:function(){var e=this.contentView;return this.$el.toggleClass("panel-switcher__panel--padding",this.queryOption("hasContentPadding")),e?(e.render(),e.delegateEvents(),e.$el.appendTo(this.$el)):this.contentHtml&&this.$el.html(this.contentHtml),this.renderContent(this.$el),this.delegateEvents(),this},renderContent:function(e){},destroy:function(e){var t=this.contentView;t&&(e&&e.preventContentViewDestroy||(t.destroy?t.destroy():t.close&&t.close()),t.remove(),t.el=null,t.$el=null,t._ensureElement()),i.prototype.destroy.call(this)},_trigger:function(t){var n=Array.prototype.slice.call(arguments,1),o=this.contentView,r="switcher";return e.when(o&&r?i.triggerOn(o,r+":"+t,n):null,i.prototype._trigger.apply(this,arguments))}}),l=0;return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(1),n(2),n(29),n(131)],o=function(e,t,n,i){return{SECTION_PROPERTIES:{VERSION_KEY:"_version",CURRENT_VERSION:"1.1",BACKGROUND_KEY:"background",BACKGROUND_TYPES_KEY:"type",BACKGROUND_EFFECTS_KEY:"effects",BASE_STYLE_KEY:"base_style",BACKGROUND_TYPES:{VIDEO:"video",IMAGE:"image_editor",COLOR:"color",GRADIENT:"gradient"}},SECTION_BACKGROUND_EFFECTS:[{label:_W.utl("sections.effects.none"),value:"none",available:["videoBackground","imageBackground","colorBackground","gradientBackground"]},{label:_W.utl("sections.effects.parallax"),value:"parallax",available:["imageBackground","gradientBackground"]},{label:_W.utl("sections.effects.reveal"),value:"reveal",available:["videoBackground","imageBackground","colorBackground","gradientBackground"]}],getBackgroundTypeForEffects:function(e){var t=e[this.SECTION_PROPERTIES.BACKGROUND_KEY],n=t[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY];return null===n&&(n="none"),n},getImageEditorObject:function(){var e={},t=this.MODEL_TYPE+"-"+this.id;return this.hasBackgroundImage()?e[t]=this.getBackgroundContent():this.hasBackgroundVideo()&&(e[t]=n.generateVideoStillImage(this.getVideoBackgroundSnapshot())),e},isBackgroundEditable:function(){return!0},isBackgroundResizeable:function(){return!0},getBackgroundType:function(){if(!this.isBackgroundEditable())return null;var e=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY];return e&&e[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY]},getBackgroundContent:function(e){if(!this.isBackgroundEditable())return{};var t=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY];return e=e||t[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY],t[e]||{}},hasBackgroundEffects:function(){var e=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY],t=this.getBackgroundTypeForEffects(this.get("properties"));return!(!e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]||!e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][t])},getBackgroundEffects:function(){var e=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY],t=this.getBackgroundTypeForEffects(this.get("properties"));return e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]&&e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][t]?e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][t]:{}},setBackgroundEffects:function(e){t.isObject(e)||(e={value:{}});var n=JSON.parse(JSON.stringify(this.get("properties"))),i=this.getBackgroundTypeForEffects(n);n[this.SECTION_PROPERTIES.BACKGROUND_KEY][this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]||(n[this.SECTION_PROPERTIES.BACKGROUND_KEY][this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]={}),n[this.SECTION_PROPERTIES.BACKGROUND_KEY][this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][i]=e,this.set("properties",n)},isCustomized:function(){if(!this.isBackgroundEditable())return!1;var e=this.get("properties");if(!e||!e.background)return!1;var t=e.background.type;return!!t&&(!this.isBackgroundWhite()&&e.background[t].is_customized!==!1)},isBackgroundWhite:function(){return"#fff"===this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR)["background-color"]},userSelectedBackground:function(){var e=this.get("properties");return e&&e.background&&e.background.user_selected},getSectionStyle:function(){var e="",n={};return this.hasBaseStyle()&&(n=t.extend(n,this.getBaseStyle())),this.hasBackgroundColor()&&(n=t.extend(n,this.getBackgroundContent())),t.each(n,function(t,n){e+=n+": "+t+"; "}),this.hasBackgroundGradient()&&(e+=i.generateCSS(this.getBackgroundContent())),e.trim()},getBaseStyle:function(){return this.isBackgroundEditable()?this.get("properties")[this.SECTION_PROPERTIES.BASE_STYLE_KEY]||{}:{}},hasBaseStyle:function(){return!!this.isBackgroundEditable()&&t.keys(this.get("properties")[this.SECTION_PROPERTIES.BASE_STYLE_KEY]).length>0},setBaseStyle:function(e,n){var i=JSON.parse(JSON.stringify(this.get("properties"))),o=i[this.SECTION_PROPERTIES.BASE_STYLE_KEY]||{};i[this.SECTION_PROPERTIES.BASE_STYLE_KEY]=t.extend(o,e),this.set("properties",i,n)},resetBaseStyle:function(){var e=JSON.parse(JSON.stringify(this.get("properties")));delete e[this.SECTION_PROPERTIES.BASE_STYLE_KEY],this.set("properties",e)},unsetStyling:function(e,t){var t=t||{};e?this.setBackgroundWhite():this.setEmptyBackground(),this.resetBaseStyle(),t.stringify&&this.stringifyProperties()},stringifyProperties:function(){var e=this.get("properties");"string"!=typeof this.get("properties")&&this.set("properties",JSON.stringify(e))},setBackgroundProperties:function(e,t,n){var e=e||null,i=JSON.parse(JSON.stringify(this.get("properties"))),o=i[this.SECTION_PROPERTIES.BACKGROUND_KEY];n=n||{},n.overwrite&&(i.background={},o=i.background),n.dontSwitchType||(o[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY]=e),t?(o[e]=t,o.user_selected=!0):null===e&&(o.user_selected=!0),this.set("properties",i,n)},setBackgroundType:function(e,t){var n=JSON.parse(JSON.stringify(this.get("properties"))),i=n[this.SECTION_PROPERTIES.BACKGROUND_KEY];i[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY]=e,i.user_selected=!0,this.set("properties",n,t)},setBackgroundWhite:function(){this.setBackgroundColor({"background-color":"#fff","background-image":"none"},{overwrite:!0})},setTypeToVideo:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO,e)},setTypeToImage:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE,e)},setTypeToColor:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR,e)},setTypeToGradient:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT,e)},setBackgroundVideo:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO,e,t)},setBackgroundColor:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR,e,t)},setBackgroundGradient:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT,e,t)},setBackgroundImage:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE,e,t)},setEmptyBackground:function(e){this.setBackgroundProperties(null,null,e)},hasBackgroundVideo:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO},hasBackgroundColor:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR},hasBackgroundGradient:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT},hasBackgroundImage:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE},hasEmptyBackground:function(){return!this.getBackgroundType()},hadBackgroundVideo:function(){return!this.hasBackgroundVideo()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO))>0},hadBackgroundColor:function(){return!this.hasBackgroundColor()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR))>0},hadBackgroundGradient:function(){return!this.hasBackgroundGradient()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT))>0},hadBackgroundImage:function(){return!this.hasBackgroundImage()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE))>0},getVideoBackgroundSnapshot:function(){return this.getBackgroundContent().background_url}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;(function(r,s){i=[n(3)],o=function(e){var t=e.Model.extend({isValid:function(e){void 0===e&&(e=this.get("value"));var t={int:"validateInteger",slider:"validateInteger",string:"validateString",text:"validateString",checkbox:"validateBoolean",toggle:"validateBoolean"},n=t[this.get("type")];return!n||!this.hasOwnProperty(n)||this[n](e)},getOptions:function(){var e=this.get("values"),t=[];return e?r.each(e,function(e,n){var i=s.extend({},e);if(i.actionPaneIndex&&(i.optionActionPaneIndex=i.actionPaneIndex),"string"==typeof e)i={name:_W.utl(e),value:e};else if("number"==typeof e)i={name:e,value:e};else{var o=i.short,r=i.name;o&&(i.short=_W.utl(o)),i.name=_W.utl(r)}t.push(i)}):t=null,t},validateInteger:function(e){var t=this.get("max"),n=this.get("min"),i=this.get("step"),o=!0;return null!=n&&void 0!=n&&e<n&&(o=!1),null!=t&&void 0!=t&&e>t&&(o=!1),null!=i&&void 0!=i&&e%i!=0&&(o=!1),o},validateString:function(e){var t=this.get("max"),n=this.get("min"),i=!0;return null!=n&&void 0!=n&&e.length<n&&(i=!1),null!=t&&void 0!=t&&e.length>t&&(i=!1),i},validateBoolean:function(e){return e===!0||e===!1},validateAsFalse:function(e){return!1}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2),n(1))},,function(e,t,n){var i,o;i=[n(1),n(5),n(14),n(7),n(115)],o=function(e,t,n,i,o){function r(n){n=n||{};var i=t.view.isMobileView;this.container=e(n.container).addClass("weebly-spotlighted").css("position","relative").append(this.cover=e("<div class='wsite-spotlight-cover'><div class='wsite-spotlight-cover-inner'></div></div>")),s=void 0!==n.paddingHeight?n.paddingHeight:i?10:15,a=void 0!==n.paddingWidth?n.paddingWidth:i?5:15,this.options=n,n.clickEditing!==!1&&this.cover.css("cursor","pointer").on("click",function(t){e(t.target).parents(".platform-element-contents").each(function(t,n){e(this).children(".platform-element-overlay").addClass("hidden-overlay")}),this.open()}.bind(this)),this.spotlight=new o({parentElement:"#_editor-ui-spotlight",element:this.container,paddingHeight:s,paddingWidth:a,roundedCorners:!0,zIndex:i?12:11,interval:!0,onReposition:this.updateControls.bind(this)}),this.isRefresh=!1,n.uid&&r.current&&r.current.options.uid==n.uid&&setTimeout(this.open.bind(this),0)}var s=15,a=15;return r.isOutside=function(n){return t.ElementSpotlight.current&&!e(n).closest(t.ElementSpotlight.current.container).length},r.isCurrentContainer=function(e){return t.ElementSpotlight.current&&t.ElementSpotlight.current.container.is(e)},r.getCurrent=function(){return t.ElementSpotlight.current},r.prototype={open:function(){if(!this.isOpen){var e=r.current;if(e){var t=this.container.closest(e.container).length;this.isRefresh=this.options.uid&&e.options.uid&&this.options.uid==e.options.uid,e.isRefresh=this.isRefresh,e.close(),t&&(e.disableCover(),this.disabledCoverExpose=e)}this.isOpen=!0,this.cover.hide(),this.spotlight.show(),this.updateControls(),r.current=this,this.options.onOpen&&this.options.onOpen();var o={id:this.options.element?this.options.element.id:null,name:this.options.area?this.options.area.name:null};n.vent.trigger("editor:spotlight:open",o),i.trigger("editor:spotlight:open",o),this.isRefresh=!1,this.options.elementsPage?i.execute("elementsPage",this.options.elementsPage):i.execute("setElementsPageType"),i.execute("initDragging")}},resize:function(){this.spotlight.reposition()},updateControls:function(){var n=t.view.isMobileView,i=e("#_editor-ui-spotlight");if(this.controls||(this.controls=e("<div class='spotlight-controls w-ui'><div class='spotlight-controls-inner'></div></div>").appendTo(i)),this.isOpen){var o=i.offset(),r=this.container.offset();this.controls.css({top:r.top-o.top+i.scrollTop()-s,left:r.left-o.left+i.scrollLeft()-a,width:this.container.width()+2*a,zIndex:n?13:21}).show()}else this.controls.hide()},getControlsInner:function(){return this.controls.find("> *")},close:function(){this.isOpen&&(this.isOpen=!1,this.cover.show(),this.spotlight.hide(),this.controls&&this.controls.hide(),delete r.current,this.disabledCoverExpose&&this.disabledCoverExpose.enableCover(),this.container.parents(".platform-element-contents").each(function(t,n){e(this).children(".platform-element-overlay").removeClass("hidden-overlay")}),this.options.onClose&&this.options.onClose(),n.vent.trigger("editor:spotlight:close"),i.trigger("editor:spotlight:close"),i.execute("setElementsPageType"),i.execute("initDragging"))},destroy:function(){this.spotlight&&this.spotlight.destroy(),this.controls&&this.controls.remove(),this.cover.remove()},disableCover:function(){this.cover.hide()},enableCover:function(){this.isOpen||this.cover.show()}},i.commands.setHandlers({closeCurrentSpotlight:function(){r.current&&r.current.close()}}),t.ElementSpotlight=r,r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(5)],o=function(e,t,n){function i(t,n,i){var o=[];return e(t).each(function(){var t=e(this);if(!t.is(":hidden")){var r=t.offset(),s=t.outerHeight()+2*n;o.push({x:r.left-i,y:r.top-n,width:t.outerWidth()+2*i,height:0===s?50:s})}}),o}function o(e,t,n){function i(e){e.width>0&&e.height>0&&(c.push(e),o.push(e))}var o=e.slice(),c=[];return e.forEach(function(e){var c=e.x,u=e.y,d=c+e.width,h=u+e.height;n=Math.max(n,h);var p=r(c,d,u,o),f=s(d,u,p,o,t);i({x:c,y:p,width:f-c,height:u-p});var m=s(d,u,h,o,t),g=a(d,m,h,o,n);i({x:d,y:u,width:m-d,height:g-u});var v=a(c,d,h,o,n),b=l(c,h,v,o);i({x:b,y:h,width:d-b,height:v-h});var w=l(c,u,h,o),y=r(w,c,u,o);i({x:w,y:y,width:c-w,height:h-y})}),c}function r(e,t,n,i){var o=0;return i.forEach(function(i){i.y+i.height<=n&&i.x+i.width>=e&&i.x<t&&(o=Math.max(o,i.y+i.height))}),o}function s(e,t,n,i,o){var r=o;return i.forEach(function(i){i.x>e&&i.y+i.height>=t&&i.y<n&&(r=Math.min(r,i.x))}),r}function a(e,t,n,i,o){var r=o;return i.forEach(function(i){i.y>n&&i.x+i.width>=e&&i.x<t&&(r=Math.min(r,i.y))}),r}function l(e,t,n,i){var o=0;return i.forEach(function(i){i.x+i.width<e&&i.y+i.height>=t&&i.y<n&&(o=Math.max(o,i.x+i.width))}),o}function c(e){var t=e.split(" ");return t.length<4&&(t[1]||(t[1]=t[0]),t[2]||(t[2]=t[0]),t[3]||(t[3]=t[1])),t}function u(t){e.each(t,function(e,t){t.hide()})}var d,h=window.Class.create({initialize:function(n){var i=this;n=n||{},i.elements=n.element?[n.element]:n.elements,i.canvasElement=e(document.body),i.parentElement=e(n.parentElement?n.parentElement:document.body),i.isShown=!1,i.dimElements=[],i.antSets=[],i.cornerSets=[],i.borderSets=[],i.zIndex=n.zIndex,i.opacity=n.opacity||.75,i.paddingHeight=n.paddingHeight||n.padding||0,i.paddingWidth=n.paddingWidth||n.padding||0,i.ants=n.ants,i.roundedCorners=n.roundedCorners,i.interval=n.interval===!0?300:n.interval,i.borderWidths=n.borderWidths||"0",i.borderColor=n.borderColor||"black",i.maskColor=n.maskColor||"",i.light=n.light||!1,this.onReposition=n.onReposition,i.onResize=t.throttle(i.reposition.bind(i),100)},show:function(){var t=this;t.isShown||(t.container||(t.container=e("<div class='spotlight'/>").appendTo(t.parentElement)),void 0!==t.zIndex&&t.container.css("z-index",t.zIndex),1==t.light&&t.container.addClass("spotlight-gray"),t.container.show(),t.position(),t.interval&&(t.intervalID=setInterval(function(){t.reposition()},t.interval)),t.isShown=!0,d=t,e(window).on("resize",t.onResize))},hide:function(){var t=this;t.isShown&&(t.container.hide(),t.clearInterval(),t.isShown=!1,d=void 0,e(window).off("resize",t.onResize))},setOpacity:function(t){this.opacity=t,e.each(this.dimElements,function(e,n){n.css("opacity",t)})},position:function(){var t=this,n=t.elements,r=i(n,t.paddingHeight,t.paddingWidth);if(r.length){var s=t.canvasElement,a=s.outerWidth(),l=s[0].scrollHeight,d=o(r,a,l),h=t.container,p=t.dimElements,f=t.antSets,m=t.cornerSets,g=t.borderSets,v=[],b=t.calcCoordinates();h.css(b),e.each(d,function(n,i){var o=p[n]=p[n]||e("<div class='spotlight-bg'/>").appendTo(h),r={top:i.y,left:i.x,width:i.width,height:i.height,opacity:t.opacity};t.maskColor&&(r.backgroundColor=t.maskColor),o.css(r).show()}),u(p.slice(d.length)),t.ants?(e.each(r,function(t,n){var i=f[t]=f[t]||e("<div class='spotlight-ants-h'/><div class='spotlight-ants-v'/><div class='spotlight-ants-h'/><div class='spotlight-ants-v'/>").appendTo(h);i.eq(0).css({top:n.y,left:n.x,width:n.width}),i.eq(1).css({top:n.y,left:n.x+n.width-1,height:n.height}),i.eq(2).css({top:n.y+n.height-1,left:n.x,width:n.width}),i.eq(3).css({top:n.y,left:n.x,width:1,height:n.height}),i.show()}),u(f.slice(r.length))):u(f),t.borderWidths?(v=c(t.borderWidths),borderHtml=v.reduce(function(e,t){return e+(t>0?"<div class='spotlight-border'/>":"")},""),e.each(r,function(n,i){var o,r=[{top:i.y-v[0],left:i.x,width:i.width,height:v[0],"background-color":t.borderColor},{top:i.y,left:i.x+i.width,width:v[1],height:i.height,"background-color":t.borderColor},{top:i.y+i.height,left:i.x,width:i.width,height:v[2],"background-color":t.borderColor},{top:i.y,left:i.x-v[3],width:v[3],height:i.height,"background-color":t.borderColor}];o=g[n]=g[n]||e(borderHtml).appendTo(h),v.reduce(function(e,t,n){return t>0&&o.eq(e++).css(r[n]),e},0),o.show()}),u(g.slice(r.length))):u(g),t.roundedCorners?(e.each(r,function(t,n){var i=m[t]=m[t]||e("<div class='spotlight-corner-nw'/><div class='spotlight-corner-ne'/><div class='spotlight-corner-se'/><div class='spotlight-corner-sw'/>").appendTo(h);i.eq(0).css({top:n.y,left:n.x}),i.eq(1).css({top:n.y,left:n.x+n.width-5}),i.eq(2).css({top:n.y+n.height-5,left:n.x+n.width-5}),i.eq(3).css({top:n.y+n.height-5,left:n.x}),i.show()}),u(m.slice(r.length))):u(m)}},reposition:function(){var e=this;e.isShown&&(e.position(),e.onReposition&&e.onReposition())},destroy:function(){var e=this;e.hide(),e.container&&e.container.remove()},calcCoordinates:function(){var e,t,n;return e=this.parentElement,e.is("body")&&"static"===e.css("position")?n={top:0,left:0}:(t=e.offset(),n={top:0-t.top,left:0-t.left}),n},clearInterval:function(){var e=this;e.intervalID&&(clearInterval(e.intervalID),delete e.intervalID)},setAnts:function(e){var t=this;t.ants=e,t.reposition()}});return h.getCurrent=function(){return d},n.Spotlight=h,h}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,function(e,t,n){var i,o;i=[n(1),n(2),n(9),n(50),n(296)],o=function(e,t,n,i){var o=i.extend({contentHtml:null,contentView:null,contentFunc:null,contentViewTriggerPrefix:"",sizeToWidthMap:{small:290,medium:470,large:620},width:null,height:null,minHeight:null,providesOwnHeight:null,windowResizeHandler:null,$headerEl:null,$contentEl:null,$contentInnerEl:null,innerOverlay:null,innerOverlayClassName:"",constructor:function(e){e instanceof n.View&&(e={content:e}),e=e||{};var t=e.content;null==t&&(t=this.content),"function"==typeof t?this.contentFunc=t:t instanceof n.View?this.contentView=t:"string"==typeof t&&(this.contentHtml=t),i.call(this,e)},_initialize:function(){this.contentView&&this.processContentView(this.contentView),this.width=this.queryOption("width"),this.height=this.queryOption("height"),this.minHeight=this.queryOption("minHeight")},processContentView:function(e){},_trigger:function(t){var n=Array.prototype.slice.call(arguments,1),o=this.contentView,r=this.contentViewTriggerPrefix;return e.when(o&&r?i.triggerOn(o,r+":"+t,n):null,i.prototype._trigger.apply(this,arguments))},render:function(){return this.renderSkeleton(),this.$headerEl=this.queryHeaderOuterEl(),this.$headerInnerEl=this.queryHeaderInnerEl(),this.$contentEl=this.queryContentOuterEl(),this.$contentInnerEl=this.queryContentInnerEl(),this.renderHeader(this.$headerInnerEl),this.renderContent(this.$contentInnerEl),this.delegateEvents(),this},renderSkeleton:function(){i.prototype.render.call(this)},queryHeaderOuterEl:function(){},queryHeaderInnerEl:function(){},queryContentOuterEl:function(){},queryContentInnerEl:function(){},renderHeader:function(e){},queryScrollEl:function(){},renderContent:function(e){var t=this.contentFunc,i,o,r;t?(i=t.call(this),i instanceof n.View?o=i:"string"==typeof i&&(r=i)):(o=this.contentView,r=this.contentHtml),o?(this.processContentView(o),o.render(),o.delegateEvents(),o.$el.appendTo(e)):r&&e.html(r)},updateSize:function(){this.updateWidth(),this.updateHeight()},setWidth:function(e){this.width=e,this.updateWidth()},updateWidth:function(){this.applyWidth(this.width)},applyWidth:function(e){var t=null==e||"auto"==e;this.$el.width(t?"":e).css("max-width",t?"":"none")},setHeight:function(e){this.height=e,this.updateHeight()},setMinHeight:function(e){this.minHeight=e,this.updateHeight()},updateHeight:function(){this.applyHeight(this.height,this.minHeight)},applyHeight:function(e,t){var n=this.$headerEl.outerHeight(),i;n&&(null===this.providesOwnHeight&&(this.providesOwnHeight=this.$el.outerHeight()>2*n),null!=e||this.providesOwnHeight||(e=this.computeHeight()),this.$contentEl.css({top:n,height:"calc(100% - "+n+"px)"}),this.$el.css({height:null!=e?e:"","min-height":null!=t?t:""}),this.applyScrollbar())},computeHeight:function(){return this.$headerEl.outerHeight()+this.queryContentNaturalHeight()},queryContentNaturalHeight:function(){return this.$contentInnerEl.outerHeight()},applyScrollbar:function(){var t=this.queryScrollEl();t&&e(t).nanoScroller({alwaysVisible:!0,preventPageScrolling:!0,contentClass:"dialog__scroll",paneClass:"dialog__scrollbar",sliderClass:"dialog__scrollbar-slider"})},openOverlay:function(t,n){var i=this;return this.innerOverlay&&this.innerOverlay.destroy(),this.innerOverlay=t,t.once("close",function(){i.innerOverlay=null}),n=e.extend({parent:this.getContainerEl(),outerClassName:this.innerOverlayClassName},n),t.open(n)},getContainerEl:function(){return this.$el},_onBeforeAttach:function(){this.contentView&&(this.contentView.trigger("before:attach"),this.contentView.onBeforeAttach&&this.contentView.onBeforeAttach())},_onAttach:function(){var n=this;this.contentView&&(this.contentView.trigger("attach"),this.contentView.onAttach&&this.contentView.onAttach()),"100%"==this.height&&e(window).on("resize",this.windowResizeHandler=t.debounce(function(){n.updateSize()},100))},_onDetach:function(){this.windowResizeHandler&&e(window).off("resize",this.windowResizeHandler)},_onShow:function(){this.contentView&&(this.contentView.trigger("show"),this.contentView.onShow&&this.contentView.onShow())},executeDestroy:function(e){var t=this.contentView;t&&(t instanceof i?t.destroy():e&&e.preventContentViewDestroy||(t.destroy?t.destroy():t.close&&t.close()),t.$el&&(t.$el.remove(),t.$el=null,t.el=null,t._ensureElement())),i.prototype.executeDestroy.call(this),this.$headerEl&&(this.$headerEl.remove(),this.$headerEl=null),this.$contentEl&&(this.$contentEl.remove(),this.$contentEl=null)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(9),n(497)],o=function(e,t,n){var i=t.Collection.extend({model:n,getTest:function(e){return this.findWhere({name:e})},fromBackendData:function(t){return this.add(e.map(t,function(e,t){return e.name=t,e})),this},getTestVariable:function(e,t){var n=this.findWhere({name:e});return n?n.getVariable(t):null}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(3),n(4),n(161)],o=function(e,t,n){var i=e.Marionette.ItemView.extend({template:n,templateHelpers:function(){var e=this.options.loadingText||_W.utl("javascript.components.views.EmptyLoadingView_1");return{loadingText:e}}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(5),n(4),n(13),n(14),n(26),n(12),n(35),n(17),n(860),n(859),n(376),n(861),n(377),n(862),n(25),n(352),n(29),n(24)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w){var y=window.Class.create(g,v,{initialize:function($super,e,t){$super(e,t),this.template=u,this.isFooter="content"===this.type&&"footer"===this.name,this.isBlogArea="blog"==this.context.kind&&currentBlog.postId||this.elID&&this.elID.indexOf("sidebar")>-1,this.isMain()&&(this.elID="secondlist"),this.elements=t.loadElements(e.elements),r.vent.on("editor:elements:changed",this.addOrRemoveEmptyMessage,this)},unrender:function(){r.vent.off("editor:elements:changed",this.addOrRemoveEmptyMessage,this)},getHTML:function(){var e=this.getInnerHTML(),t={elID:this.elID,classNames:this.getWrapperClassNames(),innerHtml:e};return i.render(d,t)},getWrapperClassNames:function(){var e=["weebly-area","wsite-elements"];return"footer"==this.name||"footer"==this.type?e.push("wsite-footer"):e.push("wsite-not-footer"),"platform"==this.name&&e.push("wsite-platform-area"),e.join(" ")},getInnerHTML:function(){var e={elID:"",classNames:this.getClassNames(),elements:""},t=this.elements;return"secondlist"!==this.elID&&(e.elID=this.innerElID?this.innerElID:this.elID),t.length?this.elements.each(function(t){e.elements+=t.renderHTML(!1)+"\n"}):e.elements=this.insertEmptyMessage(),i.render(u,e)},getClassNames:function(){var e="";return this.isFooter&&(e+="weebly-footer-list"),e},insertEmptyMessage:function(){var t="";if(this.isMain()&&"blog"!==this.context.kind){var n=c.getPage(window.currentPage);if(!n||"splash"==n.get("layout")||l.isMobileView||o.chromeless)t=i.render(h,{});else{var r={layout_section_id:this.sectionId,content_area:this.name,has_sections:this.hasSections()};t=i.render(f,r)}}else"store"==this.context.kind&&e("#wsite-com-area-product").length?t=i.render(m,{}):"blog"==this.context.kind&&(t=i.render(p,{}));return t},isEmpty:function(){return 0===this.elements.length},addOrRemoveEmptyMessage:function(){if(!this.el)return this;var e=!1;return e=this.isEmpty()?this.addEmptyMessage():this.removeEmptyMessage(),e&&r.vent.trigger("editor:elements:changed"),this},getListElement:function(){if(!this.el)return e();var t=e(this.el);return t.is("ul")||(t=t.find("ul")),t},getEmptyMessage:function(){var e=this.getListElement();return e.find("#empty-message, .empty-element-message").eq(0)},removeEmptyMessage:function(){var e=this.getEmptyMessage();return!!e.length&&(e.remove(),!0)},addEmptyMessage:function(){var e=this.getListElement(),t=this.getEmptyMessage();if(e.length&&!t.length){var n=this.insertEmptyMessage();if(n){e.append(n);var i=e.closest(".wsite-section");return b.resizeEmptyMessage(i),!0}}return!1},relocateElement:function(t,n){var i,o,r=e("#inside_"+t.id);this.elements.splice(n,0,t),i="UL"===this.el.nodeName?e(this.el):e(this.el).find("> ul, div > ul").first(),i.find("#empty-message, .empty-element-message").eq(0).remove(),o=i.children("li").eq(n),o.length?o.before(r):i.append(r)},addElement:function(t,n){this.spliceExistingElements([t]);var i=this.context.loadElement(t);if(this.elements.splice(n,0,i),!s.inEditorContext()){var o;o=i.li?i.li:i.renderHTML(!1);var r,a;r="UL"===this.el.nodeName?e(this.el):e(this.el).find("> ul, div > ul").first(),r.find("#empty-message, .empty-element-message").eq(0).remove(),a=r.children("li").eq(n);var l,c=e(o),u=c.find("script.element-script");u.length&&u.data("evaluated",!0),a.length?(a.before(c),l=a.prev()):(r.append(c),l=r.children().last()),this.removeEmptyColumns(),!i.li&&i.afterAdd&&i.afterAdd(l[0]),this.afterAddElement&&this.afterAddElement()}},removeEmptyColumns:function(){var t=this;e("#"+this.elID+" .wsite-multicol-li").each(function(){var t=e(this),n=t.prop("id").replace("inside_",""),i=window.getElementObject(n);i.removeEmptyColumns()})},removeElement:function(e){var t=this.context.deleteElement(e);this.spliceElement(t.id),this.afterRemoveElement()},removeAllElements:function(){this.elements.forEach(function(e){this.context.deleteElement(e.id)}.bind(this)),this.elements.length=0,s.inEditorContext()||this.addOrRemoveEmptyMessage()},spliceExistingElements:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.columns)for(var i=0;i<n.columns.length;i++){var o=n.columns[i];this.spliceExistingElements(o)}this.spliceElement(n.id,!0)}},replaceElement:function(e,t){t=[].concat(t);var n=this.findElement(this.elements,e.id);if(n){var i=n.list,o=n.index;i.splice.apply(i,[o,1].concat(t))}},spliceElement:function(e,t){var n=this.findElement(this.elements,e,t);return n?n.list.splice(n.index,1)[0]:null},findElement:function(e,n,i){var o;return t.any(e,function(e,t,r){if(e.id==n)return o={element:e,index:t,list:r},!0;if(i)return!1;var s;if(e.columns)for(var a=0;a<e.columns.length;a++){var l=e.columns[a];if(s=this.findElement(l,n))return o=s,!0}return e.children&&(s=this.findElement(e.children,n))?(o=s,!0):void 0}.bind(this)),o||null},afterRemoveElement:function(){if(this.removeEmptyColumns(),0==this.elements.length){var t=e(this.el).parent().find(".weebly-content-area"),n=t.find("#secondlist-blog").first(),i=t.find(".columnlist-blog");0!==n.length?n.html(this.insertEmptyMessage()):0!==i.length?i.html(this.insertEmptyMessage()):t.html(this.insertEmptyMessage())}},moveBelow:function(t,n){var i=e("#inside_"+n.id),o=e("#inside_"+t);if(o.after(i),o.parent().hasClass("columnlist"))this.moveToColumn(n,t);else if(o.parent().hasClass("formlist"))this.moveWithinForm(n,t,!1);else{for(var r=0,s=0;s<this.elements.length;s++)if(this.elements[s].id==t){r=s;break}this.elements.splice(r+1,0,n)}this.removeEmptyColumns()},moveAbove:function(t,n){var i=e("#inside_"+n.id),o=e("#inside_"+t);if(o.before(i),o.parent().hasClass("columnlist"))this.moveToColumn(n,t,!0);else if(o.parent().hasClass("formlist"))this.moveWithinForm(n,t,!0);else{for(var r=0,s=0;s<this.elements.length;s++)if(this.elements[s].id==t){r=s;break}this.elements.splice(r,0,n)}this.removeEmptyColumns()},moveWithinForm:function(t,n,i){for(var o=i?0:1,r=e("#inside_"+n),s=r.closest(".weebly-form-container"),a=s.closest("li"),l=a.attr("id").replace("inside_",""),c=this.findElement(this.elements,l).element,u=0;u<c.children.length;u++)if(c.children[u].id==n){c.children.splice(u+o,0,t);break}},moveToColumn:function(t,n,i){var o=i?0:1,r=e("#inside_"+n).closest(".wsite-multicol-li"),s=r.attr("id").replace("inside_",""),a=this.findElement(this.elements,s).element;a.columns.each(function(e){for(var i=0;i<e.length;i++)if(e[i].id==n){e.splice(i+o,0,t);break}})},moveToArea:function(e){this.relocateElement(e,0)},afterRender:function($super){this.el=e("#"+this.elID),this.innerEl=this.el.children("#"+this.elID)[0],this.el=this.el[0],$super(),t.each(this.elements,function(t){var n=e("#inside_"+t.id)[0];n&&t.afterRender(n)})},isMain:function(){var e=!this.type||"content"===this.type,t="blog"==this.context.kind&&currentBlog.postId||this.elID&&this.elID.indexOf("sidebar")>-1,n=this.name||"store"==this.context.kind;return(e||t)&&!n},getElements:function(){return this.elements},hasSections:function(){var e=window.getPageType(currentPage,currentThemeData,n.view.isMobileView),t=w.currentThemeData.page_type_templates[e];return b.pageHasSectionsMarkup(t)&&this.isMain()}});return n.ElementArea=y,g.register(function(e){return"content"===e.type&&e.elements&&"footer"!==e.name&&e.name!==a.HEADER_SECTION_TAG_NAME&&!e.is_blog},y),y}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(7),n(196),n(409),n(26),n(27)],o=function(e,t,n,i,o,r,s){function a(e){var n={};return e=decodeURI(e),e=e.replace(/"/g,'\\"'),e=e.replace(/'/g,"\\"),e=e.split("&"),t.each(e,function(e){e=e.split(/=(.+)/),n[e[0]]=e[1]}),n}var l={},c=function(o){function l(e,n){var i=c[e];return t.indexOf(i,n)!==-1}var c={rpc:["Weebly.Editor.RPC.ThemeOption.getSavedThemeOptions","Weebly.Section.RPC.HeaderSection.getConnectedHeaderBackgroundPages","Weebly.Section.RPC.HeaderSection.setConnectedHeaderBackgroundPages","Weebly.Editor.RPC.Site.saveSiteTitle","Weebly.Editor.RPC.Elements.saveProperties","Weebly.Editor.RPC.Elements.removeImageTextImage","Weebly.Editor.RPC.Elements.combineImageTextElements","Weebly.Editor.RPC.Elements.combineTextImageElements","Weebly.Editor.RPC.Elements.moveImageTextElementImage","Weebly.Editor.RPC.Elements.moveElement","Weebly.Editor.RPC.Elements.splitImageTextElement","Weebly.Editor.RPC.Elements.removeElement","Weebly.Editor.RPC.Elements.removeEmptyColumns","Weebly.Editor.RPC.Elements.getElementDefinition","Weebly.Editor.RPC.PlatformElementInstance.getEditorSettings","Weebly.Editor.RPC.PlatformElementInstance.updateSettings","Weebly.Editor.RPC.PlatformElementInstance.getSettingsJWT","Weebly.Editor.RPC.PlatformElementInstance.completeTutorial","Weebly.Editor.RPC.Linker.getFiles","Weebly.Editor.RPC.Blog.getBlogPosts","Weebly.Section.RPC.Section.copyToPage","Weebly.Section.RPC.Section.moveToPage","Weebly.Editor.RPC.BackgroundVideo.getBackgroundVideosByCategory","Weebly.Editor.RPC.ImageEditor.resizeImageArea","Weebly.Editor.RPC.ImageEditor.resizeImageElement","Weebly.Editor.RPC.ImageEditor.resetHeaderImage","Weebly.Commerce.RPC.Product.read","Weebly.Commerce.RPC.Product.update","Weebly.Commerce.RPC.Category.read","Weebly.Commerce.RPC.Category.update","Weebly.Commerce.RPC.Category.saveHierarchy","Weebly.Commerce.RPC.Category.getHierarchy","Weebly.Commerce.RPC.Category.generateProductList","Weebly.Commerce.RPC.Overview.getUsedCommerceFeatures"],
ajax:["blogdeletecomment","gettheme","getmobiletheme","saveproperties","content","sitetitle","savearea","getareas","savecustomhtml","saveadsense","checkpageupdates","flickergetid","redrawproduct","setuserpreference","updateproduct"]},u={getWhitelist:function(){return e.extend(!0,{},c)},rpc:function(n){var i=e.Deferred(),o=Array.prototype.slice.call(arguments,1),r;if(!n||!l("rpc",n))return window.W_DEBUG&&console.error("RPC request `"+n+"` not allowed!"),i.reject(),i.promise();t.has(o[0]||{},"filter")&&t.each(o[0].filter,function(e){"owner_id"===e.property?e.value=window.userID:"site_id"===e.property&&(e.value=window.currentSite)});var s,a=n.split("."),c=a.shift(),u=a.shift(),d=a.shift();return d&&"RPC"===d?(s=Weebly[u]?Weebly[u].RPC:{},a.every(function(e,t){return s=s[e]}),t.isUndefined(s)?(window.W_DEBUG&&console.error("The RPC method is not defined: "+n),i.reject(),r=i.promise()):r=s.apply(this,o),r):(window.W_DEBUG&&console.error("Prototcol `"+d+"` is invalid!"),i.reject(),i.promise())},ajax:function(n){var i=e.Deferred(),o={},s;return"string"==typeof n.parameters&&(n.parameters=a(n.parameters)),s=t.result(n.parameters,"pos"),s&&l("ajax",s)?(t.has(n.parameters,"cookie")&&(n.parameters.cookie=document.cookie),t.has(n.parameters,"token")&&(n.parameters.token=Weebly.RequestToken),t.isUndefined(n.asynchronous)||(o.asynchronous=n.asynchronous),t.isUndefined(n.bgRequest)||(o.bgRequest=n.bgRequest),o.parameters=n.parameters,o.onSuccess=function(e){i.resolve(new r(e))},o.onFailure=function(e){e&&e.request&&e.request.isRetriable()||i.reject(new r(e))},o.onComplete=function(){},new window.Ajax.Request(window.ajax,o),i.promise()):(window.W_DEBUG&&console.error("Ajax request `"+s+"` not allowed!"),i.reject(),i.promise())}};o.on("start",function(){n.reqres.setHandlers({"ajax:whitelist":u.getWhitelist}),i.reqres.setHandlers({"ajax:rpc":u.rpc,"ajax:request":u.ajax}),i.commands.setHandlers({"ajax:showError":function(e,t,n){window.showError(e,t,n)},"ajax:showRetriableError":function(e,t,n){window.showRetriableError(e,t,n)}})}),o.on("stop",function(){n.reqres.removeHandlers(["ajax:whitelist"]),i.reqres.removeHandlers(["ajax:rpc","ajax:request"]),i.commands.removeHandlers(["ajax:showError","ajax:showRetriableError"])}),s.inEditorContext()&&(window.startWait=o.startWait=function(){n.loading.start("AjaxUtilsStub::startWait")},window.endWait=o.endWait=function(){n.loading.stop("AjaxUtilsStub::startWait")})};return l=n.module("Ajax",{moduleClass:o,define:c})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(7),n(8),n(14),n(5),n(275),n(124),n(169)],o=function(e,t,n,i,o,r,s,a,l){function c(){var e=[],n={globalStyle:p.global+" {",globalColorStyle:p.globalColor+" {",footerGlobalStyle:p.footerGlobal+" {",headerStyle:p.header+" {",headerColorStyle:p.headerColor+" {",footerHeaderStyle:p.footerHeader+" {",siteTitleStyle:p.siteTitle+" {",linkStyle:"",hoverStyle:"",navMenuStyle:p.navMenu+" {",flyoutMenuStyle:p.flyoutMenu+" {",imageCaptionsStyle:p.imageCaptions+" {",galleryCaptionsStyle:p.galleryCaptions+" {",lightboxGalleryCaptionsStyle:p.lightboxGalleryCaptions+" {",slideshowCaptionsStyle:p.slideshowCaptions+" {",phoneStyle:p.phone+" {",headlineStyle:p.headline+" {",subHeadlineStyle:p.subHeadline+" {",buttonStyle:p.button+" {",blockquoteStyle:p.blockquote+" {",footerBlockquoteStyle:p.footerBlockquote+" {",blogPostTitleStyle:p.blogPostTitle+" {",productTitleStyle:p.productTitle+" {",productPriceStyle:p.productPrice+" {"},i=t.clone(n),o=[],r=[];return t.each(Weebly.DesignOptions,function(t,s){var a,l,c=!1;if(t){if("globalColor"==s)return n.globalColorStyle+="color:"+t+" !important;",void o.push("globalColorStyle");if("headerColor"==s)return n.headerColorStyle+="color:"+t+" !important;",void o.push("headerColorStyle");if("aLink"==s)return n.linkStyle+=".wsite-not-footer h2.wsite-content-title a, .wsite-not-footer .paragraph a, .wsite-not-footer blockquote a, .wsite-not-footer .blog-sidebar a, .wsite-not-footer .blog-comments a, .wsite-not-footer .blog-comments-bottom a, #wsite-com-store a, #wsite-com-product-gen a {color:"+t+" !important;}\n",void o.push("linkStyle");if("aHover"==s)return n.hoverStyle+=".wsite-not-footer h2.wsite-content-title a:hover, .wsite-not-footer .paragraph a:hover, .wsite-not-footer blockquote a:hover, .wsite-not-footer .blog-sidebar a:hover, .wsite-not-footer .blog-comments a:hover, .wsite-not-footer .blog-comments-bottom a:hover, #wsite-com-store a:hover, #wsite-com-product-gen a:hover {color:"+t+" !important;}\n",void o.push("hoverStyle");if("footerALink"==s)return n.linkStyle+=".wsite-footer h2 a, .wsite-footer .paragraph a, .wsite-footer blockquote a {color:"+t+" !important;}\n",void o.push("linkStyle");if("footerAHover"==s)return n.hoverStyle+=".wsite-footer h2 a:hover, .wsite-footer .paragraph a:hover, .wsite-footer blockquote a:hover {color:"+t+" !important;}\n",void o.push("hoverStyle");if("buttonSize"==s)return n.hoverStyle+=".wsite-button-large .wsite-button-inner {font-size:"+t+" !important;}\n",void o.push("hoverStyle");if("smallButtonSize"==s)return n.hoverStyle+=".wsite-button-small .wsite-button-inner {font-size:"+t+" !important;}\n",void o.push("hoverStyle");if("blogPostTitleHover"==s)return n.hoverStyle+=".blog-header h2 a:hover {color:"+t+" !important;}\n",void o.push("hoverStyle");if(l=/(.*)Font$/.exec(s))t=t.replace(/'|"/g,""),a='font-family:"'+t+'" !important;',e.push(t);else if(l=/(.*)Size$/.exec(s))c=!0,a="font-size:"+t+" !important;";else if(l=/(.*)Weight$/.exec(s))a="font-weight:"+t+" !important;";else if(l=/(.*)Color$/.exec(s))a="color:"+t+" !important;";else if(l=/(.*)LineHeight$/.exec(s))c=!0,a="line-height:"+t+" !important;";else if(l=/(.*)Style$/.exec(s))switch(t){case"normal":case"italic":a="font-style:"+t+" !important;";break;case"bold":a="font-weight: bold !important;";break;case"italicBold":a="font-weight: bold !important; font-style: italic !important;";break;case"underline":a="text-decoration: underline !important;"}else(l=/(.*)UpperCase$/.exec(s))?a="true"===t?"text-transform:  uppercase !important;":"text-transform:  none !important;":(l=/(.*)LetterSpacing$/.exec(s))&&(a="letter-spacing:"+t+" !important;");if(a&&l&&n[l[1]+"Style"]){var u=l[1]+"Style";c?(i[u]+=a,r.push(u)):(n[u]+=a,o.push(u))}}}),Weebly.DesignOptions&&"pageHeaderImage"in Weebly.DesignOptions&&headerImage.setCurrentHeaderImage(Weebly.DesignOptions.pageHeaderImage),n=t.pick(n,o),i=t.pick(i,r),{styles:u(n,i),fontsToLoad:e}}function u(e,n){var i="";return t.each(e,function(e,t){e&&(/}\s*$/.test(e)||(e+="}\n"),"hoverStyle"!=t&&(i+=e))}),i+=e.hoverStyle||"",i+="@media screen and (min-width: 767px) {",t.each(n,function(e,t){e&&(/}\s*$/.test(e)||(e+="}\n"),i+=e)}),i+="}"}function d(e,t){var n={},i="MozAppearance"in document.documentElement.style,o=i&&t;return n.font=e.css("fontFamily").replace(/"/g,"'").split(",")[0].toLowerCase(),n.font=o?"":n.font,n.size=o?"":e.css("fontSize"),/px$/.test(n.size)||(n.size="auto"),n.weight=o?"":e.css("fontWeight"),isNaN(n.weight)&&(n.weight=n.weight.toUpperCase(),"BOLD"==n.weight&&(n.weight=700),"NORMAL"==n.weight&&(n.weight=400),"LIGHTER"==n.weight&&(n.weight=300)),n.color=o?"":e.css("color"),n.height=o?"":e.css("lineHeight"),/px$/.test(n.height)||(n.height="auto"),n}t.isUndefined(Weebly.DesignOptions)&&(Weebly.DesignOptions={});var h={},p=s.DESIGN_OPTIONS_SELECTORS;return h.applyDesignOptions=function(){var e=c();n.execute("applyDesignStyle",e.styles),n.execute("loadFont",e.fontsToLoad)},h.siteApplyDesignOptions=function(){var e=c();o.vent.trigger("applyDesignStyle",e.styles),t.each(e.fontsToLoad,function(e){l.loadFont(e)})},h.stripFontName=function(e){return e.replace(/(^['"\s]*|['"\s]*$)/g,"")},h.saveDesignOption=function(e,t){h.setDesignOption(e,t);var n=window.currentTheme+"|"+e;r.Editor.RPC.ThemeOption.saveDesignOption(n,t).done(function(){i.trackEvent("site","change_design_setting",e)})},h.setDesignOption=function(e,t){Weebly.DesignOptions[e]=t},h.getCurrentStyles=function(t){var n=!1,i=null,o=null,r={},s;switch(t){case"site-title":i=e(p.siteTitle).eq(0),i.length||(i=e("<div/>",{id:"wsite-title"}),n=!0);break;case"paragraph-title":i=e(p.header).eq(0),i.length||(i=e("<h2/>"),n=!0);break;case"footer-paragraph-title":i=e(p.footerHeader).eq(0),i.length||(i=e("<h2/>"),n=!0);break;case"paragraph-text":i=e(p.global).eq(0),i.length||(i=e("<div/>",{class:"paragraph"}),n=!0);break;case"footer-paragraph-text":i=e(p.footerGlobal).eq(0),i.length||(i=e("<div/>",{class:"paragraph"}),n=!0);break;case"links":return s=e("<a/>",{href:"http://www.test.com"}),e("#secondlist").append(s),r.link=s.css("color"),s.remove(),Weebly.DesignOptions&&Weebly.DesignOptions.aHover?r.hover=Weebly.DesignOptions.aHover:r.hover=r.link,r;case"footer-links":return s=e("<a/>",{href:"http://www.test.com"}),e(".wsite-footer").eq(0).append(s),r.link=s.css("color"),s.remove(),Weebly.DesignOptions&&Weebly.DesignOptions.footerAHover?r.hover=Weebly.DesignOptions.footerAHover:r.hover=r.link,r;case"image-captions":i=e(p.imageCaptions).eq(0),i.length||(i=e("<div/>"),o=i.wrap('<div class="wsite-image"/>'),n=!0);break;case"photo-gallery-captions":i=e(p.galleryCaptions).eq(0),i.length||(i=e("<div/>",{class:"galleryCaptionInnerText"}),o=i.wrap('<div class="imageGallery"/>'),n=!0);break;case"lightbox-gallery-captions":i=e(p.lightboxGalleryCaptions).eq(0),i.length||(i=e('<div class="fancybox-title"/>'),n=!0);break;case"slideshow-captions":i=e(p.slideshowCaptions).eq(0),i.length||(i=e('<div class="wslide"/>'),n=!0);break;case"navigation-menu-text":i=e(p.navMenu).eq(0),i.length||(i=e("<a/>"),o=i.wrap('<li id="active" class="w-menu-item"/>'),n=!0);break;case"flyout-menu-text":i=e(p.flyoutMenu).eq(0),i.length||(i=e("<a/>"),o=i.wrap("<li/>").wrap('<ul class="wsite-menu"/>'),n=!0);break;case"phone-number-field":i=e(p.phone).eq(0),i.length||(i=e("<span/>",{class:"wsite-text"}),o=i.wrap('<span class="phone-number"/>').wrap('<div id="header-right"/>'),n=!0);break;case"landing-page-headline":i=e(p.headline).eq(0),i.length||(i=e("<span/>",{class:"wsite-headline"}),o=i.wrap("<h2/>"),n=!0);break;case"landing-page-sub-headline":i=e(p.subHeadline).eq(0),i.length||(i=e("<span/>",{class:"wsite-headline-paragraph"}),o=i.wrap("<p/>"),n=!0);break;case"button":i=e(p.button).eq(0),i.length||(i=e("<span/>",{class:"wsite-button-inner"}),o=i.wrap('<span class="wsite-button-large wsite-button-normal"/>'),n=!0);break;case"small-button":i=e(p.smallButton).eq(0),i.length||(i=e("<span/>",{class:"wsite-button-inner"}),o=i.wrap('<span class="wsite-button-small wsite-button-normal"/>'),n=!0);break;case"blockquote":i=e(p.blockquote).eq(0),i.length||(i=e("<blockquote/>"),n=!0);break;case"footer-blockquote":i=e(p.footerBlockquote).eq(0),i.length||(i=e("<blockquote/>"),n=!0);break;case"blog-post-title":return s=e(p.blogPostTitle).eq(0),s||(s=e("<a/>",{class:"blog-title-link"}),o=s.wrap('<h2 class="blog-title"/>'),o=o.wrap('<div class="blog-header"/>'),e("#secondlist").append(o),n=!0),r=d(s,n),Weebly.DesignOptions&&Weebly.DesignOptions.blogPostTitleHover?r.hover=Weebly.DesignOptions.blogPostTitleHover:r.hover=r.color,n&&o.remove(),r;case"product-title":i=e(p.productTitle).eq(0),i.length||(i=e("<h2/>",{class:"wsite-product-title"}),n=!0);break;case"product-price":i=e(p.productPrice).eq(0),i.length||(i=e("<a/>"),o=i.wrap('<div class="wsite-product-price"/>'),n=!0)}if(n){var a=/^footer/.test(t)?e(".wsite-footer").eq(0):e("#secondlist");a.append(o?o:i)}return r=d(i,n),n&&(o?o.remove():i.remove()),r},h.setDesignOptions=function(e){Weebly.DesignOptions=e},window.applyDesignOptions=h.applyDesignOptions,window.stripFontName=h.stripFontName,window.saveDesignOption=h.saveDesignOption,window.setDesignOption=h.setDesignOption,window.getCurrentStyles=h.getCurrentStyles,h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(13),n(150),n(17),n(31)],o=function(e,t,n,i,o,r){var s={};s.isCommerceCategoryPageID=function(e){if(e.indexOf("/")>0)return e.search(/store\/c[0-9]+\/.+/)!==-1;var n=t.result(o.getPage(e),"toJSON");return n&&"category"===n.page_kind},s.getCategoryPromise=function(t){var i=e.Deferred(),o;return!n.chromeless&&s.isCommerceCategoryPageID(t)?(o=new r,o.fetch().done(function(e){i.resolve(o)})):i.resolve(),i.promise()},s.getPageTypePromise=function(e,n,i){var r,a;return s.getCategoryPromise(e).then(function(l){if(r=s.getPageType(e.replace(/\/.*/,""),n,i),l)if(e.indexOf("/")>0)a=l.find(function(t){return e.indexOf(t.get("site_link"))!==-1}),r=a&&a.get("page_layout")?a.get("page_layout"):r;else{var c=t.result(o.getPage(e),"toJSON");c&&(a=l.findWhere({site_category_id:c.store_page_kind_id}),r=a&&a.get("page_layout")?a.get("page_layout"):r)}return r})},s.getPageType=function(e,n,r){var a=t.result(o.getPage(e),"toJSON"),l="no-header";if(Weebly.view.isNativeApp&&Weebly.view.isAdaptiveView)return"no-header";if(a&&(l=r&&a.mobile_layout?a.mobile_layout:a.layout),r&&a&&!a.mobile_layout&&i.isHeaderDisabled()&&(l="no-header"),i.isMobileEditor()&&!r&&a&&("header"==a.mobile_layout?l="tall-header"==a.layout||"short-header"==a.layout?a.layout:"tall-header":"landing"==a.mobile_layout&&(l="landing")),a&&"category"===a.page_kind&&!a.layout)return"no-header";var c=t.keys(n.page_type_templates);if(t.contains(c,l))return l;if("tall-header"==l||"short-header"==l){if(t.contains(c,"header"))return"header"}else if("title"==l){if(t.contains(c,"header"))return"header";if(t.contains(c,"no-header"))return"no-header"}return s.getDefaultPageType(n,r)},window.getPageType=s.getPageType,s.getDefaultPageType=function(e,t){return s.getOrderedPageTypes(e.page_type_templates,t)[0]},window.getDefaultPageType=s.getDefaultPageType;var a=["index","homepage","header","tall-header","short-header","no-header","landing","splash"],l=["index","no-header","header","tall-header","short-header","homepage","landing","splash"];return s.getOrderedPageTypes=function(e,n){var i=t.keys(e),o=[],r=[],s=n?l:a;return t.each(s,function(e){i.indexOf(e)!=-1&&o.push(e)}),t.each(i,function(e){s.indexOf(e)==-1&&r.push(e)}),r.sort(),o.concat(r)},window.getOrderedPageTypes=s.getOrderedPageTypes,s.getTopLevelSummary=function(){var n=[],i=o.toJSON();return t.each(i,function(t){if(!t.hidden){var i={id:t.id,title:t.title,onclick:function(){return config.chromeless?e(event.target.parentNode).data("hasChildren")?e(event.target.parentNode).trigger("mouseover"):External.navClicked(t.id):t.extlink||t.nonclickable||notBeenDragged()&&(noJump=1,goUpdateList(t.id,1)),!1}};t.extlink&&(i.onmouseover=function(e){s.onExternalLinkHover(t,e||window.event)},i.onmouseout=function(){s.hideNavTooltip()}),n.push(i)}}),n},window.getTopLevelSummary=s.getTopLevelSummary,s.onExternalLinkHover=function(t,n){var i=window._W.utl("javascript.editor.pages.utils_2")+" "+t.extlink;s.tooltip||(s.tooltip=e("<div/>",{class:"ext-tooltip"}),e(document.body).append(s.tooltip)),s.tooltip.css({top:n.pageY+10+"px",left:n.pageX+10+"px"}).text(i).show()},s.hideNavTooltip=function(){s.tooltip&&s.tooltip.hide()},s}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(5),n(1),n(14),n(7),n(83)],o=function(e,t,n,i,o){"use strict";function r(){t("#secondlist").find(".wsite-com-link").each(function(){this.title=""})}var s=n.module("commerce");return s.on("start",function(){var a={};e&&e.Commerce&&e.Commerce.BackboneBootstrap&&e.Commerce.BackboneBootstrap.StorefrontSettings&&(a=e.Commerce.BackboneBootstrap.StorefrontSettings),s.storefrontSettings=new o(a),t(document).on("click.commerce","[href^=commerce-url]",function(e){if(e.preventDefault(),this.pathname)i.request("page:navigate:commerce",this.pathname);else{var t=this.href.split(":");i.request("page:navigate:commerce",t[t.length-1])}}),s.listenTo(n.vent,{pageRendered:r}),r(),i.commands.setHandlers({"commerce:set:store_mode":function(e){s.storefrontSettings.set("store_mode",e),i.request("page:navigate")}})}),s.on("stop",function(){t(document).off("click.commerce"),i.commands.removeHandlers(["commerce:set:store_mode"])}),s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(7)],o=function(e,t){var n={},i={};return n.getDimensions=function(t,n){var o={},r=n;if(r instanceof e||(r=e(n)),!t)return console.warn("Namespace not specified:",t),!1;if(!r.length)return console.warn("Target not found:",n),!1;var s=r.map(function(t,n){var i=e(n),o=i.offset(),r=i.outerHeight(),s=i.outerWidth();return{top:o.top,left:o.left,height:r,width:s}}).get();return i[t]={$el:r,target:n},s},n.show=function(i,o,r){var s=n.getDimensions(i,o);return s?t.request("beacon:show",i,s,r):e.Deferred().reject()},n.close=function(e,i){return t.request("beacon:close",e,i).done(function(){n.remove(e)})},n.refresh=function(t){var o=i[t]||{},r=e.Deferred(),s=o.$el,a;return Object.keys(o).length?e.contains(document,s)?(a=n.getDimensions(t,s),r.resolve(a)):(s=e(o.target)).length?(i[t].$el=s,a=n.getDimensions(t,o.target),r.resolve(a)):r.reject():r.reject(),r.promise()},n.find=function(t){var i=e.Deferred(),o=n.getDimensions(t,t);return o?i.resolve(t,o):i.reject(),i.promise()},n.remove=function(e){var t=i[e];t&&delete t[e]},t.reqres.setHandlers({"beacon:refresh":n.refresh,"beacon:remove":n.remove,"beacon:find":n.find}),n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(14),n(98),n(70),n(153),n(7),n(23),n(41),n(178)],o=function(e,t,n,i,o,r,s,a){function l(e){var t=e.attr("style");return!(!t||null===t.match(/(^|[^\w-])width:/))}function c(e,t){return t.replace(/margin:([^;!]+)(!important)?(;|$)/,"margin:$1 !important$3")}function u(e,t){return t.replace(/margin:([^;!]+)(!important)?(;|$)/,"margin:$1$3")}function d(e,t){Weebly.Elements.disableElementOptions=!0,a.isElementSettingsOpen()&&Weebly.Elements.hideElementSettings(),Weebly.Elements.selectElement(t.element.closest(".element")[0]),m.resizing=!0,n.disable(),h(t.originalElement,t.element)}function h(e,t){var n=t.parentsUntil("div").last().parent().width(),i=e.outerWidth(!0)-e.width()+(t.outerWidth(!0)-t.width()),o=n-i;return e.resizable("option","maxWidth",o),o}function p(){v&&(v(),v=null)}function f(){var t=e(this);if(t.data("ui-resizable")){var n=h(t,t.parent()),i={width:"",height:""};t.css(i).css("max-width",n+"px").closest(".ui-wrapper").css(i)}}var m={resizing:!1},g=!0,v,b=100;return m.init=function(o,a,u){function h(){var t=a.attr("src");if(!a.length||a.data("ui-resizable")||a.width()<=0||a.height()<=0||!a[0].complete||!t.match(/^http:\/\/[^\.]+\.weebly\.com\/uploads\//)&&!t.match(/\/uploads\//)||a.hasClass("product-image")&&1===e(o).down(".product-old").length)return!1;var i=a.closest(".element");return l(i)&&i.css("width","auto"),a.resizable({handles:"se",aspectRatio:!0,minWidth:30,minHeight:30,maxWidth:1e3,maxHeight:2e3,start:d,stop:f,resize:w}).css({margin:"0","max-width":"100%"}).attr("style",c).closest(".ui-wrapper").css({display:"inline-block",overflow:"visible","vertical-align":a.css("vertical-align")}),m.updateElementWidth(a),D=a.siblings(".ui-resizable-handle").addClass("imageresizer").hide(),n.init(D,window._W.utl("javascript.editor.build.images.resizing_1")),!0}function f(e,i){e.originalEvent.originalEvent.stopImmediatePropagation(),n.enable();var l=o[0].id,c=s.getContentFieldProperty(l,"<!DATA!>"),u=JSON.parse(c.property_result),d=Math.round(i.size.width-a.outerWidth(!0)+a.width()),h=Math.round(i.size.height-a.outerHeight(!0)+a.height());r.execute("loading:start","SiteEditorUiImagesResizing::imageResize"),Weebly.Editor.RPC.ImageEditor.resizeImageElement(l,u,d,h).done(function(e){var n=m.updateElementWidth(a);null!==n&&(d=n),s.setContentFieldProperty(l,"<!SRC!>",e.image.publishedUrl),s.setContentFieldProperty(l,"<!DATA!>",JSON.stringify(e)),s.setContentFieldProperty(l,"<!WIDTH!>",d),s.setContentFieldProperty(l,"<!MAXWIDTH!>","100%"),Weebly.Elements.unselectElement(),window.updateImageElement(e,l),r.execute("loading:stop","SiteEditorUiImagesResizing::imageResize"),t.vent.trigger("imageResizeStopped"),t.vent.trigger("editor:elements:changed"),m.resizing=!1,Weebly.Elements.disableElementOptions=!1})}function w(){t.vent.trigger("editor:element:resize"),m.updateElementWidth(a)}function y(){return a.data("ui-resizable")?void(!I&&D&&g&&!i.isInitialImage(a[0])&&u()&&(p(),D.show(),I=!0,v=_)):void h()}function _(){I&&D&&(D.hide(),I=!1)}function E(){m.destroy(a),_(),o.off(x)}function T(){O++,y()}function C(){if(a.data("ui-resizable")){var e=O;setTimeout(function(){e!==O||o.is(Weebly.Elements.currentElement)||_()},b)}}var S={show:y,hide:_,destroy:E},I=!1,O=0,D,x={mouseover:T,mouseout:C};return o.on(x),h()?S:S},m.updateElementWidth=function(e){var t=e.closest(".element");if(!l(t))return null;e.data("ui-resizable")&&(e=e.closest(".ui-wrapper"));var n=e.outerWidth(!0)+"px";return t.css("width",n),n},m.destroy=function(e){e.data("ui-resizable")&&e.attr("style",u).css("margin",e.parent().css("margin")).resizable("destroy").css({width:"",height:""})},m.disable=function(){p(),g=!1},m.enable=function(){g=!0},m.unsetDimensions=function(t){return t instanceof e||(t=e("body")),t.find(".ui-wrapper").children("img").each(f)},m}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2)],o=function(e){var t={getGradient:function(e){if(null===e||"object"!=typeof e)return"";var t=e.colors,n=this.getColorString(t);return e.type+"-gradient("+e.angle+"deg, "+n+")"},generateCSS:function(e){if(null===e||"object"!=typeof e)return"";var t="",n=e.colors;n&&n[0]&&(t+="background: "+n[0].color+";");var i=this.getColorString(n),o=e.type+"-gradient("+e.angle+"deg, "+i+");";return t+="background: "+o},getColorString:function(t){var n=e.map(t,function(e){return e.color+" "+e.position+"%"});return n.join(", ")}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(3)],o=function(e,t,n){function i(t,i,l,d,h){var p,f,m,g,v=Math.floor(16777216*(1+Math.random())).toString(16).substring(1);if(h=h||i.regenerate&&i.regenerate.bind(i),"string"==typeof i)m=a(i.replace("{size}",l)),g=o(t,m,l,d,h);else if(i instanceof n.Model)l=i.getMaxAvailableWidth(l),m=a(i.uri(l)),f=Math.round(i.get("width")/i.get("height")*1e4)/1e4;else{if(i.hasOwnProperty("width")){var b=parseInt(i.width);l>b&&(l=b)}m=a(i.url.replace("{size}",l)),f=Math.round(i.width/i.height*1e4)/1e4}if(f){var w=r(f,d),y=0;if(c())g=u(t,m);else{var _=s(t,w),E=e("<div>").append(_);E.find("img").attr("id",v).error(function(){y++,10==y&&h&&h(),e("#"+v).attr("src","//"+window.ASSETS_BASE+"/images/blank.gif").addClass("image-waiting"),y<60&&setTimeout(function(){E.find("img").attr("src",m)},2500)}).load(function(){e("#"+v).attr("src",m).removeClass("image-waiting")}).attr("src",m),g=E.html()}}return g}function o(t,n,i,o,s){var a=Math.floor(16777216*(1+Math.random())).toString(16).substring(1),c=n.replace("{size}",i),u=new Image;return e(u).on("load",function(){var e=Math.round(this.width/this.height*1e4)/1e4,n=r(e,o);l(t,n,c,s,a)}),u.src=n,'<div id="'+a+'" class="aspectratio-image-loading"></div>'}function r(e,t){var n,i,o;return e>t?(i=(e/t*100).toFixed(2),o=0,n=-((e/t-1)/2*100).toFixed(2)):(i=100,o=-((t/e-1)/2*100).toFixed(2),n=0),{width:i,top:o,left:n}}function s(e,t){return h({classPrefix:e,imagePercentWidth:t.width,imagePercentTop:t.top,imagePercentLeft:t.left})}function a(e){var t=e,n="/"==e.charAt(0),i=e.indexOf("://")>=0;return n||i||(t="//"+e),t}function l(t,n,i,o,r,a){var d=e("#"+r),h=0;if(d.length>0)if(d.removeClass("aspectratio-image-loading"),c()){var p=u(t,i);d.html(p)}else{var p=s(t,n);d.html(p),d.find("img").error(function(){h++,o&&o(),$html.find("img").hide(),h<60&&setTimeout(function(){$html.find("img").attr("src",i+"?"+Date.now()).show()},2500)}).attr("src",i)}else setTimeout(function(){a<5&&(a=(a||0)+1,l(t,n,i,o,r,a))},50)}function c(){return!1}function u(e,t){var n='<span class="wsite-css-sizer '+e+'-sizer"></span>';return'<div class="wsite-css-aspect '+e+'-css-aspect" style="background-image: url('+t+');">'+n+"</div>"}var d='<div class="{{classPrefix}}-image-container wsite-imageaspectratio-image-container">';d+='  <div class="{{classPrefix}}-image-height   wsite-imageaspectratio-image-height"></div>',d+='    <div class="{{classPrefix}}-image-wrap     wsite-imageaspectratio-image-wrap">',d+='    <img class="{{classPrefix}}-image         wsite-imageaspectratio-image" style="width:{{imagePercentWidth}}%;top:{{imagePercentTop}}%;left:{{imagePercentLeft}}%" />',d+="  </div>",d+="</div>";var h=t.compile(d);return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o,r;!function(s,a){o=[t,n(9),n(2)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n){"use strict";t.Relational={showWarnings:!0},t.Semaphore={_class:"Backbone.Semaphore",_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable)throw new Error("Max permits acquired");this._permitsUsed++},release:function(){if(0===this._permitsUsed)throw new Error("All permits released");this._permitsUsed--},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(e){if(this._permitsUsed>e)throw new Error("Available permits cannot be less than used permits");this._permitsAvailable=e}},t.BlockingQueue=function(){this._queue=[]},n.extend(t.BlockingQueue.prototype,t.Semaphore,{_class:"Backbone.BlockingQueue",_queue:null,add:function(e){this.isBlocked()?this._queue.push(e):e()},process:function(){var e=this._queue;for(this._queue=[];e&&e.length;)e.shift()()},block:function(){this.acquire()},unblock:function(){this.release(),this.isBlocked()||this.process()},isBlocked:function(){return this.isLocked()}}),t.Relational.eventQueue=new t.BlockingQueue,t.Store=function(){this._collections=[],this._reverseRelations=[],this._orphanRelations=[],this._subModels=[],this._modelScopes=[e]},n.extend(t.Store.prototype,t.Events,{_class:"Backbone.Store",initializeRelation:function(e,i,o){var r=n.isString(i.type)?t[i.type]||this.getObjectByName(i.type):i.type;r&&r.prototype instanceof t.Relation?new r(e,i,o):t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; missing or invalid relation type!",i)},addModelScope:function(e){this._modelScopes.push(e)},removeModelScope:function(e){this._modelScopes=n.without(this._modelScopes,e)},addSubModels:function(e,t){this._subModels.push({superModelType:t,subModels:e})},setupSuperModel:function(e){n.find(this._subModels,function(t){return n.each(t.subModels||[],function(n,i){var o=this.getObjectByName(n);if(e===o)return t.superModelType._subModels[i]=e,e._superModel=t.superModelType,e._subModelTypeValue=i,e._subModelTypeAttribute=t.superModelType.prototype.subModelTypeAttribute,!0},this)},this)},addReverseRelation:function(e){var t=n.any(this._reverseRelations,function(t){return n.all(e||[],function(e,n){return e===t[n]})});!t&&e.model&&e.type&&(this._reverseRelations.push(e),this._addRelation(e.model,e),this.retroFitRelation(e))},addOrphanRelation:function(e){var t=n.any(this._orphanRelations,function(t){return n.all(e||[],function(e,n){return e===t[n]})});!t&&e.model&&e.type&&this._orphanRelations.push(e)},processOrphanRelations:function(){n.each(this._orphanRelations.slice(0),function(e){var i=t.Relational.store.getObjectByName(e.relatedModel);i&&(this.initializeRelation(null,e),this._orphanRelations=n.without(this._orphanRelations,e))},this)},_addRelation:function(e,t){e.prototype.relations||(e.prototype.relations=[]),e.prototype.relations.push(t),n.each(e._subModels||[],function(e){this._addRelation(e,t)},this)},retroFitRelation:function(e){var t=this.getCollection(e.model,!1);t&&t.each(function(t){t instanceof e.model&&new e.type(t,e)},this)},getCollection:function(e,i){e instanceof t.RelationalModel&&(e=e.constructor);for(var o=e;o._superModel;)o=o._superModel;var r=n.find(this._collections,function(e){return e.model===o});return r||i===!1||(r=this._createCollection(o)),r},getObjectByName:function(e){var t=e.split("."),i=null;return n.find(this._modelScopes,function(e){if(i=n.reduce(t||[],function(e,t){return e?e[t]:void 0},e),i&&i!==e)return!0},this),i},_createCollection:function(e){var n;return e instanceof t.RelationalModel&&(e=e.constructor),e.prototype instanceof t.RelationalModel&&(n=new t.Collection,n.model=e,this._collections.push(n)),n},resolveIdForItem:function(e,i){var o=n.isString(i)||n.isNumber(i)?i:null;return null===o&&(i instanceof t.RelationalModel?o=i.id:n.isObject(i)&&(o=e.prototype._getNewId(i))),o||0===o||(o=null),o},find:function(e,t){var n=this.resolveIdForItem(e,t),i=this.getCollection(e);if(i){var o=i.get(n);if(o instanceof e)return o}return null},register:function(e){var t=this.getCollection(e);if(t){var n=e.collection;t.add(e),e.collection=n}},checkId:function(e,n){var i=this.getCollection(e),o=i&&i.get(n);if(o&&e!==o)throw t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Duplicate id! Old RelationalModel=%o, new RelationalModel=%o",o,e),new Error("Cannot instantiate more than one Backbone.RelationalModel with the same id per type!")},update:function(e){var t=this.getCollection(e);t.contains(e)||this.register(e),t._onModelEvent("change:"+e.idAttribute,e,t),e.trigger("relational:change:id",e,t)},unregister:function(e){var i,o;e instanceof t.Model?(i=this.getCollection(e),o=[e]):e instanceof t.Collection?(i=this.getCollection(e.model),o=n.clone(e.models)):(i=this.getCollection(e),o=n.clone(i.models)),n.each(o,function(e){this.stopListening(e),n.invoke(e.getRelations(),"stopListening")},this),n.contains(this._collections,e)?i.reset([]):n.each(o,function(e){i.get(e)?i.remove(e):i.trigger("relational:remove",e,i)},this)},reset:function(){this.stopListening(),n.each(this._collections,function(e){this.unregister(e)},this),this._collections=[],this._subModels=[],this._modelScopes=[e]}}),t.Relational.store=new t.Store,t.Relation=function(e,i,o){if(this.instance=e,i=n.isObject(i)?i:{},this.reverseRelation=n.defaults(i.reverseRelation||{},this.options.reverseRelation),this.options=n.defaults(i,this.options,t.Relation.prototype.options),this.reverseRelation.type=n.isString(this.reverseRelation.type)?t[this.reverseRelation.type]||t.Relational.store.getObjectByName(this.reverseRelation.type):this.reverseRelation.type,this.key=this.options.key,this.keySource=this.options.keySource||this.key,this.keyDestination=this.options.keyDestination||this.keySource||this.key,this.model=this.options.model||this.instance.constructor,this.relatedModel=this.options.relatedModel,!n.isFunction(this.relatedModel)||this.relatedModel.prototype instanceof t.RelationalModel||(this.relatedModel=n.result(this,"relatedModel")),n.isString(this.relatedModel)&&(this.relatedModel=t.Relational.store.getObjectByName(this.relatedModel)),this.checkPreconditions()&&(!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key&&t.Relational.store.addReverseRelation(n.defaults({isAutoRelation:!0,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation)),e)){var r=this.keySource;r!==this.key&&"object"==typeof this.instance.get(this.key)&&(r=this.key),this.setKeyContents(this.instance.get(r)),this.relatedCollection=t.Relational.store.getCollection(this.relatedModel),this.keySource!==this.key&&delete this.instance.attributes[this.keySource],this.instance._relations[this.key]=this,this.initialize(o),this.options.autoFetch&&this.instance.fetchRelated(this.key,n.isObject(this.options.autoFetch)?this.options.autoFetch:{}),this.listenTo(this.instance,"destroy",this.destroy).listenTo(this.relatedCollection,"relational:add relational:change:id",this.tryAddRelated).listenTo(this.relatedCollection,"relational:remove",this.removeRelated)}},t.Relation.extend=t.Model.extend,n.extend(t.Relation.prototype,t.Events,t.Semaphore,{_class:"Backbone.Relation",options:{createModels:!0,includeInJSON:!0,isAutoRelation:!1,autoFetch:!1,parse:!1},instance:null,key:null,keyContents:null,relatedModel:null,relatedCollection:null,reverseRelation:null,related:null,checkPreconditions:function(){var e=this.instance,i=this.key,o=this.model,r=this.relatedModel,s=t.Relational.showWarnings&&"undefined"!=typeof console;
if(!o||!i||!r)return s&&console.warn("Relation=%o: missing model, key or relatedModel (%o, %o, %o).",this,o,i,r),!1;if(!(o.prototype instanceof t.RelationalModel))return s&&console.warn("Relation=%o: model does not inherit from Backbone.RelationalModel (%o).",this,e),!1;if(!(r.prototype instanceof t.RelationalModel))return s&&console.warn("Relation=%o: relatedModel does not inherit from Backbone.RelationalModel (%o).",this,r),!1;if(this instanceof t.HasMany&&this.reverseRelation.type===t.HasMany)return s&&console.warn("Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.",this),!1;if(e&&n.keys(e._relations).length){var a=n.find(e._relations,function(e){return e.key===i},this);if(a)return s&&console.warn("Cannot create relation=%o on %o for model=%o: already taken by relation=%o.",this,i,e,a),!1}return!0},setRelated:function(e){this.related=e,this.instance.attributes[this.key]=e},_isReverseRelation:function(e){return e.instance instanceof this.relatedModel&&this.reverseRelation.key===e.key&&this.key===e.reverseRelation.key},getReverseRelations:function(e){var t=[],i=n.isUndefined(e)?this.related&&(this.related.models||[this.related]):[e];return n.each(i||[],function(e){n.each(e.getRelations()||[],function(e){this._isReverseRelation(e)&&t.push(e)},this)},this),t},destroy:function(){this.stopListening(),this instanceof t.HasOne?this.setRelated(null):this instanceof t.HasMany&&this.setRelated(this._prepareCollection()),n.each(this.getReverseRelations(),function(e){e.removeRelated(this.instance)},this)}}),t.HasOne=t.Relation.extend({_class:"Backbone.HasOne",options:{reverseRelation:{type:"HasMany"}},initialize:function(e){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);var t=this.findRelated(e);this.setRelated(t),n.each(this.getReverseRelations(),function(t){t.addRelated(this.instance,e)},this)},findRelated:function(e){var t=null;if(e=n.defaults({parse:this.options.parse},e),this.keyContents instanceof this.relatedModel)t=this.keyContents;else if(this.keyContents||0===this.keyContents){var i=n.defaults({create:this.options.createModels},e);t=this.relatedModel.findOrCreate(this.keyContents,i)}return t&&(this.keyId=null),t},setKeyContents:function(e){this.keyContents=e,this.keyId=t.Relational.store.resolveIdForItem(this.relatedModel,this.keyContents)},onChange:function(e,i,o){if(!this.isLocked()){this.acquire(),o=o?n.clone(o):{};var r=n.isUndefined(o.__related),s=r?this.related:o.__related;if(r){this.setKeyContents(i);var a=this.findRelated(o);this.setRelated(a)}if(s&&this.related!==s&&n.each(this.getReverseRelations(s),function(e){e.removeRelated(this.instance,null,o)},this),n.each(this.getReverseRelations(),function(e){e.addRelated(this.instance,o)},this),!o.silent&&this.related!==s){var l=this;this.changed=!0,t.Relational.eventQueue.add(function(){l.instance.trigger("change:"+l.key,l.instance,l.related,o,!0),l.changed=!1})}this.release()}},tryAddRelated:function(e,t,n){!this.keyId&&0!==this.keyId||e.id!==this.keyId||(this.addRelated(e,n),this.keyId=null)},addRelated:function(e,t){var i=this;e.queue(function(){if(e!==i.related){var o=i.related||null;i.setRelated(e),i.onChange(i.instance,e,n.defaults({__related:o},t))}})},removeRelated:function(e,t,i){if(this.related&&e===this.related){var o=this.related||null;this.setRelated(null),this.onChange(this.instance,e,n.defaults({__related:o},i))}}}),t.HasMany=t.Relation.extend({_class:"Backbone.HasMany",collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:t.Collection,collectionKey:!0,collectionOptions:{}},initialize:function(e){if(this.listenTo(this.instance,"relational:change:"+this.key,this.onChange),this.collectionType=this.options.collectionType,!n.isFunction(this.collectionType)||this.collectionType===t.Collection||this.collectionType.prototype instanceof t.Collection||(this.collectionType=n.result(this,"collectionType")),n.isString(this.collectionType)){var i=this.collectionType;this.collectionType=t.Relational.store.getObjectByName(this.collectionType)}if(this.collectionType||(i&&t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("`collectionType` of "+i+" not found, using Backbone.Collection in its place."),this.collectionType=t.Collection),this.collectionType!==t.Collection&&!(this.collectionType.prototype instanceof t.Collection))throw new Error("`collectionType` must inherit from Backbone.Collection");var o=this.findRelated(e);this.setRelated(o)},_prepareCollection:function(e){if(this.related&&this.stopListening(this.related),!(e&&e instanceof t.Collection)){var i=n.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions;e=new this.collectionType(null,i)}if(e.model=this.relatedModel,this.options.collectionKey){var o=this.options.collectionKey===!0?this.options.reverseRelation.key:this.options.collectionKey;e[o]&&e[o]!==this.instance?t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,o,this.options.collectionKey):o&&(e[o]=this.instance)}return this.listenTo(e,"relational:add",this.handleAddition).listenTo(e,"relational:remove",this.handleRemoval).listenTo(e,"relational:reset",this.handleReset),e},findRelated:function(e){var i=null;if(e=n.defaults({parse:this.options.parse},e),this.keyContents instanceof t.Collection)this._prepareCollection(this.keyContents),i=this.keyContents;else{var o=[];n.each(this.keyContents,function(t){if(t instanceof this.relatedModel)var i=t;else i=this.relatedModel.findOrCreate(t,n.extend({merge:!0},e,{create:this.options.createModels}));i&&o.push(i)},this),i=this.related instanceof t.Collection?this.related:this._prepareCollection(),i.set(o,n.defaults({merge:!1,parse:!1},e))}return this.keyIds=n.difference(this.keyIds,n.pluck(i.models,"id")),i},setKeyContents:function(e){this.keyContents=e instanceof t.Collection?e:null,this.keyIds=[],this.keyContents||!e&&0!==e||(this.keyContents=n.isArray(e)?e:[e],n.each(this.keyContents,function(e){var n=t.Relational.store.resolveIdForItem(this.relatedModel,e);(n||0===n)&&this.keyIds.push(n)},this))},onChange:function(e,i,o){o=o?n.clone(o):{},this.setKeyContents(i),this.changed=!1;var r=this.findRelated(o);if(this.setRelated(r),!o.silent){var s=this;t.Relational.eventQueue.add(function(){s.changed&&(s.instance.trigger("change:"+s.key,s.instance,s.related,o,!0),s.changed=!1)})}},handleAddition:function(e,i,o){o=o?n.clone(o):{},this.changed=!0,n.each(this.getReverseRelations(e),function(e){e.addRelated(this.instance,o)},this);var r=this;!o.silent&&t.Relational.eventQueue.add(function(){r.instance.trigger("add:"+r.key,e,r.related,o)})},handleRemoval:function(e,i,o){o=o?n.clone(o):{},this.changed=!0,n.each(this.getReverseRelations(e),function(e){e.removeRelated(this.instance,null,o)},this);var r=this;!o.silent&&t.Relational.eventQueue.add(function(){r.instance.trigger("remove:"+r.key,e,r.related,o)})},handleReset:function(e,i){var o=this;i=i?n.clone(i):{},!i.silent&&t.Relational.eventQueue.add(function(){o.instance.trigger("reset:"+o.key,o.related,i)})},tryAddRelated:function(e,t,i){var o=n.contains(this.keyIds,e.id);o&&(this.addRelated(e,i),this.keyIds=n.without(this.keyIds,e.id))},addRelated:function(e,t){var i=this;e.queue(function(){i.related&&!i.related.get(e)&&i.related.add(e,n.defaults({parse:!1},t))})},removeRelated:function(e,t,n){this.related.get(e)&&this.related.remove(e,n)}}),t.RelationalModel=t.Model.extend({_class:"Backbone.RelationalModel",relations:null,_relations:null,_isInitialized:!1,_deferProcessing:!1,_queue:null,_attributeChangeFired:!1,subModelTypeAttribute:"type",subModelTypes:null,keydefs:{},compoundKeyDelim:"-",constructor:function(e,i){if(i&&i.collection){var o=this,r=this.collection=i.collection;delete i.collection,this._deferProcessing=!0;var s=function(e){e===o&&(o._deferProcessing=!1,o.processQueue(),r.off("relational:add",s))};r.on("relational:add",s),n.defer(function(){s(o)})}t.Relational.store.processOrphanRelations(),t.Relational.store.listenTo(this,"relational:unregister",t.Relational.store.unregister),this._queue=new t.BlockingQueue,this._queue.block(),t.Relational.eventQueue.block();try{t.Model.apply(this,arguments)}finally{t.Relational.eventQueue.unblock()}this.createSavepoint(),this.on("sync",this.createSavepoint,this)},createSavepoint:function(){return this.savepoint=JSON.parse(JSON.stringify(this)),this},rollback:function(e){e=e||{},this.set(this.savepoint),this.changed=[],e.silent||this.trigger("rollback",this,e)},commit:function(e){e=e||{};var i=this,o=i.isNew(),r=[],s=[];return(o||i.hasChangedDeepSinceSavepoint())&&(o||n.each(i.relations,function(t){if(t.includeInJSON&&(r.push(t),t.includeInJSON=!1,!t.isAutoRelation)){var n=i.get(t.key);s.push(n.commit(e))}}),s.push(i.save(null,e)),n.each(r,function(e){e.includeInJSON=!0}),e.silent||i.trigger("commit",i,e)),t.$.when.apply(t.$,s)},hasChangedDeepSinceSavepoint:function(){return!n.isEqual(this.toJSON(),this.savepoint)},trigger:function(e){if(e.length>5&&0===e.indexOf("change")){var n=this,i=arguments;t.Relational.eventQueue.add(function(){if(n._isInitialized){var o=!0;if("change"===e)o=n.hasChanged()||n._attributeChangeFired,n._attributeChangeFired=!1;else{var r=e.slice(7),s=n.getRelation(r);s?(o=i[4]===!0,o?n.changed[r]=i[2]:s.changed||delete n.changed[r]):o&&(n._attributeChangeFired=!0)}o&&t.Model.prototype.trigger.apply(n,i)}})}else"destroy"===e?(t.Model.prototype.trigger.apply(this,arguments),t.Relational.store.unregister(this)):t.Model.prototype.trigger.apply(this,arguments);return this},initializeRelations:function(e){this.acquire(),this._relations={},n.each(this.relations||[],function(n){t.Relational.store.initializeRelation(this,n,e)},this),this._isInitialized=!0,this.release(),this.processQueue()},updateRelations:function(e,t){this._isInitialized&&!this.isLocked()&&n.each(this._relations,function(n){if(!e||n.keySource in e||n.key in e){var i=this.attributes[n.keySource]||this.attributes[n.key],o=e&&(e[n.keySource]||e[n.key]);(n.related!==i||null===i&&null===o)&&this.trigger("relational:change:"+n.key,this,i,t||{})}n.keySource!==n.key&&delete this.attributes[n.keySource]},this)},queue:function(e){this._queue.add(e)},processQueue:function(){this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()&&this._queue.unblock()},getRelation:function(e){return this._relations[e]},getRelations:function(){return n.values(this._relations)},fetchRelated:function(e,i,o){i=n.extend({update:!0,remove:!1},i);var r,s,a=[],l=this.getRelation(e),c=l&&(l.keyIds&&l.keyIds.slice(0)||(l.keyId||0===l.keyId?[l.keyId]:[]));if(o&&(r=l.related instanceof t.Collection?l.related.models:[l.related],n.each(r,function(e){(e.id||0===e.id)&&c.push(e.id)})),c&&c.length){var u=[];if(r=n.map(c,function(e){var t=l.relatedModel.findModel(e);if(!t){var n={};n[l.relatedModel.prototype.idAttribute]=e,t=l.relatedModel.findOrCreate(n,i),u.push(t)}return t},this),l.related instanceof t.Collection&&n.isFunction(l.related.url)&&(s=l.related.url(r)),s&&s!==l.related.url()){var d=n.defaults({error:function(){var e=arguments;n.each(u,function(t){t.trigger("destroy",t,t.collection,i),i.error&&i.error.apply(t,e)})},url:s},i);a=[l.related.fetch(d)]}else a=n.map(r,function(e){var t=n.defaults({error:function(){n.contains(u,e)&&(e.trigger("destroy",e,e.collection,i),i.error&&i.error.apply(e,arguments))}},i);return e.fetch(t)},this)}return a},get:function(e){var i=t.Model.prototype.get.call(this,e);if(!this.dotNotation||e.indexOf(".")===-1)return i;var o=e.split("."),r=n.reduce(o,function(e,i){if(!n.isNull(e)&&!n.isUndefined(e)){if(e instanceof t.Model)return t.Model.prototype.get.call(e,i);if(e instanceof t.Collection)return t.Collection.prototype.at.call(e,i);throw new Error("Attribute must be an instanceof Backbone.Model or Backbone.Collection. Is: "+e+", currentSplit: "+i)}},this);if(void 0!==i&&void 0!==r)throw new Error("Ambiguous result for '"+e+"'. direct result: "+i+", dotNotation: "+r);return i||r},_getNewId:function(e){var t=this,n=null,i="",o=!1,r,s=t.keydefs.PRIMARY;return s&&(s.forEach(function(n,s){r=e[n]||t.attributes&&t.attributes[n],r||0===r?i+=(i?t.compoundKeyDelim:"")+(e[n]||t.attributes&&t.attributes[n]):o=!0}),o||(n=i)),n||(n=e&&t.idAttribute in e&&e[t.idAttribute]),n},set:function(e,i,o){t.Relational.eventQueue.block();var r;n.isObject(e)||null==e?(r=e,o=i):(r={},r[e]=i);try{var s=this.id,a=this._getNewId(r);t.Relational.store.checkId(this,a);var l=t.Model.prototype.set.apply(this,arguments);a&&(this.id=a),this._isInitialized||this.isLocked()?a&&a!==s&&t.Relational.store.update(this):(this.constructor.initializeModelHierarchy(),(a||0===a)&&t.Relational.store.register(this),this.initializeRelations(o)),r&&this.updateRelations(r,o)}finally{t.Relational.eventQueue.unblock()}return l},clone:function(){var e=n.clone(this.attributes);return n.isUndefined(e[this.idAttribute])||(e[this.idAttribute]=null),n.each(this.getRelations(),function(t){delete e[t.key]}),new this.constructor(e)},toJSON:function(e){if(this.isLocked())return this.id;this.acquire();var i=t.Model.prototype.toJSON.call(this,e);return!this.constructor._superModel||this.constructor._subModelTypeAttribute in i||(i[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue),n.each(this._relations,function(o){var r=i[o.key],s=o.options.includeInJSON,a=null;s===!0?r&&n.isFunction(r.toJSON)&&(a=r.toJSON(e)):n.isString(s)?(r instanceof t.Collection?a=r.pluck(s):r instanceof t.Model&&(a=r.get(s)),s===o.relatedModel.prototype.idAttribute&&(o instanceof t.HasMany?a=a.concat(o.keyIds):o instanceof t.HasOne&&(a=a||o.keyId,a||n.isObject(o.keyContents)||(a=o.keyContents||null)))):n.isArray(s)?r instanceof t.Collection?(a=[],r.each(function(e){var t={};n.each(s,function(n){t[n]=e.get(n)}),a.push(t)})):r instanceof t.Model&&(a={},n.each(s,function(e){a[e]=r.get(e)})):delete i[o.key],s&&(i[o.keyDestination]=a),o.keyDestination!==o.key&&delete i[o.key]}),this.release(),i}},{setup:function(e){return this.prototype.relations=(this.prototype.relations||[]).slice(0),this._subModels={},this._superModel=null,this.prototype.hasOwnProperty("subModelTypes")?t.Relational.store.addSubModels(this.prototype.subModelTypes,this):this.prototype.subModelTypes=null,n.each(this.prototype.relations||[],function(e){if(e.model||(e.model=this),e.reverseRelation&&e.model===this){var i=!0;if(n.isString(e.relatedModel)){var o=t.Relational.store.getObjectByName(e.relatedModel);i=o&&o.prototype instanceof t.RelationalModel}i?t.Relational.store.initializeRelation(null,e):n.isString(e.relatedModel)&&t.Relational.store.addOrphanRelation(e)}},this),this},build:function(e,t){this.initializeModelHierarchy();var n=this._findSubModelType(this,e)||this;return new n(e,t)},_findSubModelType:function(e,t){if(e._subModels&&e.prototype.subModelTypeAttribute in t){var n=t[e.prototype.subModelTypeAttribute],i=e._subModels[n];if(i)return i;for(n in e._subModels)if(i=this._findSubModelType(e._subModels[n],t))return i}return null},initializeModelHierarchy:function(){if(this.inheritRelations(),this.prototype.subModelTypes){var e=n.keys(this._subModels),i=n.omit(this.prototype.subModelTypes,e);n.each(i,function(e){var n=t.Relational.store.getObjectByName(e);n&&n.initializeModelHierarchy()})}},inheritRelations:function(){if(n.isUndefined(this._superModel)||n.isNull(this._superModel))if(t.Relational.store.setupSuperModel(this),this._superModel){if(this._superModel.inheritRelations(),this._superModel.prototype.relations){var e=n.filter(this._superModel.prototype.relations||[],function(e){return!n.any(this.prototype.relations||[],function(t){return e.relatedModel===t.relatedModel&&e.key===t.key},this)},this);this.prototype.relations=e.concat(this.prototype.relations)}}else this._superModel=!1},findOrCreate:function(e,t){t||(t={});var i=n.isObject(e)&&t.parse&&this.prototype.parse?this.prototype.parse(n.clone(e)):e,o=this.findModel(i);return n.isObject(e)&&(o&&t.merge!==!1?(delete t.collection,delete t.url,o.set(i,t)):o||t.create===!1||(o=this.build(e,t))),o},find:function(e,t){return t||(t={}),t.create=!1,this.findOrCreate(e,t)},findModel:function(e){return t.Relational.store.find(this,e)}}),n.extend(t.RelationalModel.prototype,t.Semaphore);var i=t.Collection.prototype.__initialize=t.Collection.prototype.initialize;t.Collection.prototype.initialize=function(e,t){i.apply(this,arguments),this.createSavepoint(),this.on("sync",this.createSavepoint,this)},t.Collection.prototype.createSavepoint=function(){return this._added=[],this._removed=[],this;n.each(this.models,function(e){e.createSavepoint()})},t.Collection.prototype.rollback=function(e){return e=e||{},this.add(this._removed,{silent:!0}),n.each(this.models,function(e){e.rollback()}),this.remove(this._added,{silent:!0}),this.createSavepoint(),e.silent||this.trigger("rollback",this,e),this},t.Collection.prototype.hasChangedDeepSinceSavepoint=function(){return!(!this._removed.length&&!this._added.length)||!!n.find(this.models,function(e){return e.hasChangedDeepSinceSavepoint()})},t.Collection.prototype.commit=function(e){var i=[];return this.hasChangedDeepSinceSavepoint()&&(e=e||{},n.each(this._removed,function(e){i.push(e.destroy())}),n.each(this.models,function(e){i.push(e.commit())}),this.createSavepoint(),e.silent||this.trigger("commit",this,e)),t.$.when.apply(t.$,i)},t.Collection.prototype._class="Backbone.Collection",t.Collection.prototype.__prepareModel=t.Collection.prototype._prepareModel,t.Collection.prototype._prepareModel=function(e,i){var o;return e instanceof t.Model?(e.collection||(e.collection=this),o=e):(i=i?n.clone(i):{},i.collection=this,o="undefined"!=typeof this.model.findOrCreate?this.model.findOrCreate(e,i):new this.model(e,i),o&&o.validationError&&(this.trigger("invalid",this,e,i),o=!1)),o};var o=t.Collection.prototype.__set=t.Collection.prototype.set;t.Collection.prototype.set=function(e,i){if(!(this.model.prototype instanceof t.RelationalModel))return o.apply(this,arguments);i&&i.parse&&(e=this.parse(e,i));var r=!n.isArray(e),s=[],a=[];e=r?e?[e]:[]:n.clone(e),n.each(e,function(e){e instanceof t.Model||(e=t.Collection.prototype._prepareModel.call(this,e,i)),e&&(a.push(e),this.get(e)||this.get(e.cid)?null!=e.id&&(this._byId[e.id]=e):s.push(e))},this),a=r?a.length?a[0]:null:a;var l=o.call(this,a,n.defaults({parse:!1},i));return n.each(s,function(e){(this.get(e)||this.get(e.cid))&&this.trigger("relational:add",e,this,i)},this),l};var r=t.Collection.prototype.__get=t.Collection.prototype.get;t.Collection.prototype.get=function(e){if(!(this.model.prototype instanceof t.RelationalModel))return r.apply(this,arguments);if(null!=e){var n=t.Relational.store.resolveIdForItem(this.model,e);return this._byId[null!=n?n:e.cid||e]}};var s=t.Collection.prototype.__add=t.Collection.prototype.add;t.Collection.prototype.add=function(e,i){if(!(this.model.prototype instanceof t.RelationalModel))return s.apply(this,arguments);var o=s.call(this,e,n.defaults(i||{},{add:!0,merge:!1,remove:!1}));return this._added=this._added.concat(o),o};var a=t.Collection.prototype.__remove=t.Collection.prototype.remove;t.Collection.prototype.remove=function(e,i){if(!(this.model.prototype instanceof t.RelationalModel))return this._removed=this._removed.concat(e),a.apply(this,arguments);var o=!n.isArray(e),r=[];e=o?e?[e]:[]:n.clone(e),i||(i={}),n.each(e,function(e){e=this.get(e)||e&&this.get(e.cid),e&&r.push(e)},this);var s=a.call(this,o?r.length?r[0]:null:r,i);return n.each(r,function(e){this.trigger("relational:remove",e,this,i)},this),this._removed=this._removed.concat(r),s};var l=t.Collection.prototype.__reset=t.Collection.prototype.reset;t.Collection.prototype.reset=function(e,i){i=n.extend({merge:!0},i);var o=l.call(this,e,i);return this._added=[],this._removed=[],this.model.prototype instanceof t.RelationalModel&&this.trigger("relational:reset",this,i),this.createSavepoint(),o};var c=t.Collection.prototype.__sort=t.Collection.prototype.sort;t.Collection.prototype.sort=function(e){var n=c.call(this,e);return this.model.prototype instanceof t.RelationalModel&&this.trigger("relational:reset",this,e),n};var u=t.Collection.prototype.__trigger=t.Collection.prototype.trigger;t.Collection.prototype.trigger=function(e){if(!(this.model.prototype instanceof t.RelationalModel))return u.apply(this,arguments);if("add"===e||"remove"===e||"reset"===e||"sort"===e){var i=this,o=arguments;n.isObject(o[3])&&(o=n.toArray(o),o[3]=n.clone(o[3])),t.Relational.eventQueue.add(function(){u.apply(i,o)})}else u.apply(this,arguments);return this},t.RelationalModel.extend=function(e,n){var i=t.Model.extend.apply(this,arguments);return i.setup(this),i}})},function(e,t,n){!function(t){e.exports=t(n(9),n(2))}(function(e,t){return e.Validation=function(t){"use strict";var n={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},i={formatLabel:function(e,t){return c[n.labelFormatter](e,t)},format:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})}},o=function(n,i,r){return i=i||{},r=r||"",t.each(n,function(t,s){n.hasOwnProperty(s)&&(t&&"object"==typeof t&&!(t instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof e.Model||t instanceof e.Collection)?o(t,i,r+s+"."):i[r+s]=t)}),i},r=function(){var e=function(e){return t.reduce(t.keys(t.result(e,"validation")||{}),function(e,t){return e[t]=void 0,e},{})},r=function(e,n){var i=e.validation?t.result(e,"validation")[n]||{}:{};return(t.isFunction(i)||t.isString(i))&&(i={fn:i}),t.isArray(i)||(i=[i]),t.reduce(i,function(e,n){return t.each(t.without(t.keys(n),"msg"),function(t){e.push({fn:u[t],val:n[t],msg:n.msg})}),e},[])},a=function(e,n,o,s){return t.reduce(r(e,n),function(r,a){var l=t.extend({},i,u),c=a.fn.call(l,o,n,a.val,e,s);return c!==!1&&r!==!1&&(c&&!r?t.result(a,"msg")||c:r)},"")},l=function(e,n){var i,r={},s=!0,l=t.clone(n),c=o(n);return t.each(c,function(t,n){i=a(e,n,t,l),i&&(r[n]=i,s=!1)}),{invalidAttrs:r,isValid:s}},c=function(n,i){return{preValidate:function(e,n){var i=this,o={},r;return t.isObject(e)?(t.each(e,function(e,t){r=i.preValidate(t,e),r&&(o[t]=r)}),t.isEmpty(o)?void 0:o):a(this,e,n,t.extend({},this.attributes))},isValid:function(e){var n=o(this.attributes);return t.isString(e)?!a(this,e,n[e],t.extend({},this.attributes)):t.isArray(e)?t.reduce(e,function(e,i){return e&&!a(this,i,n[i],t.extend({},this.attributes))},!0,this):(e===!0&&this.validate(),!this.validation||this._isValid)},validate:function(r,s){var a=this,c=!r,u=t.extend({},i,s),d=e(a),h=t.extend({},d,a.attributes,r),p=o(r||h),f=l(a,h);if(a._isValid=f.isValid,t.each(d,function(e,t){var i=f.invalidAttrs.hasOwnProperty(t);i||u.valid(n,t,u.selector)}),t.each(d,function(e,t){var i=f.invalidAttrs.hasOwnProperty(t),o=p.hasOwnProperty(t);i&&(o||c)&&u.invalid(n,t,f.invalidAttrs[t],u.selector)}),t.defer(function(){a.trigger("validated",a._isValid,a,f.invalidAttrs),a.trigger("validated:"+(a._isValid?"valid":"invalid"),a,f.invalidAttrs)}),!u.forceUpdate&&t.intersection(t.keys(f.invalidAttrs),t.keys(p)).length>0)return f.invalidAttrs}}},d=function(e,n,i){t.extend(n,c(e,i))},h=function(e){delete e.validate,delete e.preValidate,delete e.isValid},p=function(e){d(this.view,e,this.options)},f=function(e){h(e)};return{version:"0.9.1",configure:function(e){t.extend(n,e)},bind:function(e,i){i=t.extend({},n,s,i);var o=i.model||e.model,r=i.collection||e.collection;if("undefined"==typeof o&&"undefined"==typeof r)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";o?d(e,o,i):r&&(r.each(function(t){d(e,t,i)}),r.bind("add",p,{view:e,options:i}),r.bind("remove",f))},unbind:function(e,n){n=t.extend({},n);var i=n.model||e.model,o=n.collection||e.collection;i?h(i):o&&(o.each(function(e){h(e)}),o.unbind("add",p),o.unbind("remove",f))},mixin:c(null,n)}}(),s=r.callbacks={valid:function(e,t,n){e.$("["+n+'~="'+t+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,n,i){e.$("["+i+'~="'+t+'"]').addClass("invalid").attr("data-error",n)}},a=r.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,domain:/^(?:[a-zA-Z0-9]+(?:\-*[a-zA-Z0-9])*\.)+[a-zA-Z]{2,6}$/},l=r.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",int:"{0} must be a whole number",email:"{0} must be a valid email",url:"{0} must be a valid url",domain:"{0} must be a valid domain",inlinePattern:"{0} is invalid"},c=r.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,t){return t.labels&&t.labels[e]||c.sentenceCase(e,t)}},u=r.validators=function(){var e=String.prototype.trim?function(e){return null===e?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,n=/\s+$/;return null===e?"":e.toString().replace(t,"").replace(n,"")},n=function(e){return t.isNumber(e)||t.isString(e)&&e.match(a.number)},i=function(n){return!(t.isNull(n)||t.isUndefined(n)||t.isString(n)&&""===e(n)||t.isArray(n)&&t.isEmpty(n))};return{fn:function(e,n,i,o,r){return t.isString(i)&&(i=o[i]),i.call(o,e,n,r)},required:function(e,n,o,r,s){var a=t.isFunction(o)?o.call(r,e,n,s):o;return!(!a&&!i(e))&&(a&&!i(e)?this.format(l.required,this.formatLabel(n,r)):void 0)},acceptance:function(e,n,i,o){if("true"!==e&&(!t.isBoolean(e)||e===!1))return this.format(l.acceptance,this.formatLabel(n,o))},min:function(e,t,i,o){if(!n(e)||e<i)return this.format(l.min,this.formatLabel(t,o),i)},max:function(e,t,i,o){if(!n(e)||e>i)return this.format(l.max,this.formatLabel(t,o),i)},range:function(e,t,i,o){if(!n(e)||e<i[0]||e>i[1])return this.format(l.range,this.formatLabel(t,o),i[0],i[1])},length:function(e,n,i,o){if(!t.isString(e)||e.length!==i)return this.format(l.length,this.formatLabel(n,o),i)},minLength:function(e,n,i,o){if(!t.isString(e)||e.length<i)return this.format(l.minLength,this.formatLabel(n,o),i)},maxLength:function(e,n,i,o){if(!t.isString(e)||e.length>i)return this.format(l.maxLength,this.formatLabel(n,o),i)},rangeLength:function(e,n,i,o){if(!t.isString(e)||e.length<i[0]||e.length>i[1])return this.format(l.rangeLength,this.formatLabel(n,o),i[0],i[1])},oneOf:function(e,n,i,o){if(!t.include(i,e))return this.format(l.oneOf,this.formatLabel(n,o),i.join(", "))},equalTo:function(e,t,n,i,o){if(e!==o[n])return this.format(l.equalTo,this.formatLabel(t,i),this.formatLabel(n,i))},pattern:function(e,t,n,o){if(!i(e)||!e.toString().match(a[n]||n))return this.format(l[n]||l.inlinePattern,this.formatLabel(t,o),n)},url:function(e,t,n,i){if(!a.url.test(e))return this.format(l.url,this.formatLabel(t,i))},domain:function(e,t,n,i){if(!a.domain.test(e))return this.format(l.domain,this.formatLabel(t,i))},email:function(e,t,n,i){if(!a.email.test(e))return this.format(l.email,this.formatLabel(t,i))},number:function(e,t,n,i){if(isNaN(parseFloat(e))||!isFinite(e))return this.format(l.number,this.formatLabel(t,i))},int:function(e,t,n,i){if(e%1!==0)return this.format(l.int,this.formatLabel(t,i))}}}();return t.each(u,function(e,n){u[n]=t.bind(u[n],t.extend({},i,u))}),r}(t),e.Validation})},,,,function(e,t,n){(function(t){window.jsonrpc={},jsonrpc.CallStack=function(e,t,n,i){this._counter=0,this._enterFn=e,this._exitFn=n,this._enterScope=t,this._exitScope=i},jsonrpc.CallStack.prototype={enter:function(){this._counter=this._counter<0?1:this._counter+1,1===this._counter&&this._enterFn.apply(this._enterScope,arguments)},exit:function(e){this._counter-=1,0===this._counter&&this._exitFn.apply(this._exitScope,arguments)}},jsonrpc.DelayedTask=function(e,t,n){this._fn=e||function(){},this._scope=t||void 0,this._args=n||[],this._id=null},jsonrpc.Observable=function(){this._listeners=[]},jsonrpc.Observable.prototype={bind:function(e,t){var n={fn:e,scope:t||this};return this._listeners.push(n),n},unbind:function(e){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)},trigger:function(){var e;for(e=0;e<this._listeners.length;e+=1)this._listeners[e].fn.apply(this._listeners[e].scope,arguments)}},jsonrpc.DelayedTask.prototype={delay:function(e,t,n,i){var o=this;this._fn=t||this._fn,this._scope=n||this._scope,this._args=i||this._args,this.cancel(),this._id=window.setInterval(function(){window.clearInterval(o._id),o._id=null,o._fn.apply(o._scope,o._args)},e)},cancel:function(){this._id&&(window.clearInterval(this._id),this._id=null)}},jsonrpc.JsonRpc=function(e){var t=e.split("/");this._url=e,this._end=t[t.length-2],this.loading=new jsonrpc.Observable,this.loaded=new jsonrpc.Observable,this.unhandledFailure=new jsonrpc.Observable,this._loadingState=new jsonrpc.CallStack(this.loading.trigger,this.loading,this.loaded.trigger,this.loaded),this._requests=[],this._batchingMilliseconds=10,this._delayedTask=new jsonrpc.DelayedTask},jsonrpc.JsonRpc.prototype={setBatchingMilliseconds:function(e){this._batchingMilliseconds=e},call:function(){var e=this._getParams.apply(this,arguments);this._loadingState.enter(),e.standalone?this._sendRequests([e]):(this._requests.push(e),this._batchingMilliseconds?this._delayedTask.delay(this._batchingMilliseconds,this._sendRequests,this):this._sendRequests())},_sendRequests:function(e){function t(t,i,o){var s;if(t)s=n._isArray(i)?i:[i];else for(s=[],r=0;r<e.length;r+=1)s[r]={id:r,error:{message:i}};n._handleResponses(e,s,o)}var n=this,i=[],o=[],r,s=[],a=[],l=!0,c;for("undefined"==typeof e&&(e=n._requests,n._requests=[]),r=0;r<e.length;r+=1)e[r].request.id=r,e[r].secure?(a.push(e[r].request.method),o.push(e[r].request)):(s.push(e[r].request.method),i.push(e[r].request));i.length>0&&(1===i.length&&(i=i[0]),c=n._url+(l?"?"+this._end+"["+s.join()+"]":""),n._doJsonPost(c,i,t)),o.length>0&&(1===o.length&&(o=o[0]),c=n._url+(l?"?"+this._end+"["+a.join()+"]":""),n._doJsonpGet(c,o,t))},_handleResponses:function(e,t,n){var i,o,r;for(i=0;i<t.length;i+=1)o=t[i],r=e[o.id],this._handleResponse(r,o,n)},_handleResponse:function(e,t,n){var i=!t.error,o=i?t.result:t.error.message;
this._loadingState.exit(),i?e.success.call(e.scope,o,n):e.failure.call(e.scope,o,n),e.callback.call(e.scope,i,o,n)},_getParams:function(){var e=this,t=Array.prototype.slice.call(arguments),n={request:{jsonrpc:"2.0",method:t.shift()}};for(n.request.params=[];t.length>1&&!this._isFunction(t[0]);)n.request.params.push(t.shift());return this._isFunction(t[0])?(n.success=t[0],n.scope=t[1]):(n.success=t[0].success,n.failure=t[0].failure,n.callback=t[0].callback,n.scope=t[0].scope,n.secure=!!t[0].secure,n.standalone=!!t[0].standalone),n.success=n.success||function(){},n.failure=n.failure||function(){e.unhandledFailure.trigger.apply(e.unhandledFailure,arguments)},n.callback=n.callback||function(){},n},_isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},_isFunction:function(e){return"[object Function]"===Object.prototype.toString.apply(e)},_beforeSend:function(e){},_doJsonPost:function(e,i,o){var r=t||n(1),s=r.ajax({type:"POST",url:e,cache:!1,contentType:"application/json; charset=UTF-8",dataType:"json",beforeSend:this._beforeSend,data:JSON.stringify(i),headers:{"x-wtok":Weebly.RequestToken}}).done(function(e){var t=s.getResponseHeader("Content-Type");200!==s.status?o(!1,'Expected HTTP response "200 OK", found "'+s.status+" "+s.statusText+'"',s):0!==t.indexOf("application/json")?o(!1,'Expected JSON encoded response, found "'+t+'"',s):o(!0,e,s)}).fail(function(){o(!1,"HTTP request failed",s)})},_doJsonpGet:function(e,i,o){e="https://"+_W.securePrefix+e;var r=t||n(1),s=r.ajax({type:"GET",url:e,cache:!1,jsonpCallback:"WJsonp",dataType:"jsonp",beforeSend:this._beforeSend,data:i,headers:{"x-wtok":Weebly.RequestToken}}).done(function(e){o(!0,e,s)}).fail(function(){o(!1,"HTTP request failed",s)})}},e.exports=jsonrpc}).call(t,n(1))},function(e,t,n){var i,o,r;!function(s){o=[n(1)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,r,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return e("body").append(i),t=r.offsetWidth,i.css("overflow","scroll"),n=r.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),o=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,r="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||o?n.width():n.outerWidth(),height:i||o?n.height():n.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=e.extend({},o);var p,m,g,v,b,w,y=e(o.of),_=e.position.getWithinInfo(o.within),E=e.position.getScrollInfo(_),T=(o.collision||"flip").split(" "),C={};return w=i(y),y[0].preventDefault&&(o.at="left top"),m=w.width,g=w.height,v=w.offset,b=e.extend({},v),e.each(["my","at"],function(){var e=(o[this]||"").split(" "),t,n;1===e.length&&(e=c.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=c.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",t=d.exec(e[0]),n=d.exec(e[1]),C[this]=[t?t[0]:0,n?n[0]:0],o[this]=[h.exec(e[0])[0],h.exec(e[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===o.at[0]?b.left+=m:"center"===o.at[0]&&(b.left+=m/2),"bottom"===o.at[1]?b.top+=g:"center"===o.at[1]&&(b.top+=g/2),p=t(C.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var i,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=n(this,"marginLeft"),w=n(this,"marginTop"),S=d+f+n(this,"marginRight")+E.width,I=h+w+n(this,"marginBottom")+E.height,O=e.extend({},b),D=t(C.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?O.left-=d:"center"===o.my[0]&&(O.left-=d/2),"bottom"===o.my[1]?O.top-=h:"center"===o.my[1]&&(O.top-=h/2),O.left+=D[0],O.top+=D[1],r||(O.left=l(O.left),O.top=l(O.top)),i={marginLeft:f,marginTop:w},e.each(["left","top"],function(t,n){e.ui.position[T[t]]&&e.ui.position[T[t]][n](O,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:h,collisionPosition:i,collisionWidth:S,collisionHeight:I,offset:[p[0]+D[0],p[1]+D[1]],my:o.my,at:o.at,within:_,elem:u})}),o.using&&(c=function(e){var t=v.left-O.left,n=t+m-d,i=v.top-O.top,r=i+g-h,l={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:O.left,top:O.top,width:d,height:h},horizontal:n<0?"left":t>0?"right":"center",vertical:r<0?"top":i>0?"bottom":"middle"};m<d&&a(t+n)<m&&(l.horizontal="center"),g<h&&a(i+r)<g&&(l.vertical="middle"),s(a(t),a(n))>s(a(i),a(r))?l.important="horizontal":l.important="vertical",o.using.call(this,e,l)}),u.offset(e.extend(O,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=e.left-t.collisionPosition.marginLeft,a=i-r,l=r+t.collisionWidth-o-i,c;t.collisionWidth>o?a>0&&l<=0?(c=e.left+a+t.collisionWidth-o-i,e.left+=a-c):l>0&&a<=0?e.left=i:a>l?e.left=i+o-t.collisionWidth:e.left=i:a>0?e.left+=a:l>0?e.left-=l:e.left=s(e.left-r,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,a=i-r,l=r+t.collisionHeight-o-i,c;t.collisionHeight>o?a>0&&l<=0?(c=e.top+a+t.collisionHeight-o-i,e.top+=a-c):l>0&&a<=0?e.top=i:a>l?e.top=i+o-t.collisionHeight:e.top=i:a>0?e.top+=a:l>0?e.top-=l:e.top=s(e.top-r,e.top)}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,o=n.width,r=n.isWindow?n.scrollLeft:n.offset.left,s=e.left-t.collisionPosition.marginLeft,l=s-r,c=s+t.collisionWidth-o-r,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0],p,f;l<0?(p=e.left+u+d+h+t.collisionWidth-o-i,(p<0||p<a(l))&&(e.left+=u+d+h)):c>0&&(f=e.left-t.collisionPosition.marginLeft+u+d+h-r,(f>0||a(f)<c)&&(e.left+=u+d+h))},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,o=n.height,r=n.isWindow?n.scrollTop:n.offset.top,s=e.top-t.collisionPosition.marginTop,l=s-r,c=s+t.collisionHeight-o-r,u="top"===t.my[1],d=u?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1],f,m;l<0?(m=e.top+d+h+p+t.collisionHeight-o-i,(m<0||m<a(l))&&(e.top+=d+h+p)):c>0&&(f=e.top-t.collisionPosition.marginTop+d+h+p-r,(f>0||a(f)<c)&&(e.top+=d+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)t.style[s]=i[s];t.appendChild(l),n=a||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,r=o>10&&o<11,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position})},function(e,t,n){var i,i;!function(t){if(0)if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Raven=t()}else e.exports=t()}(function(){var e,t,n;return function e(t,n,o){function r(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof i&&i;if(!l&&c)return i(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return r(n?n:e)},d,d.exports,e,t,n,o)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function i(e,t,n,i){return JSON.stringify(e,o(t,i),n)}function o(e,t){var n=[],i=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n.indexOf(t)).join(".")+"]"}),function(o,r){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?i.splice(s,1/0,o):i.push(o),~n.indexOf(r)&&(r=t.call(this,o,r))}else n.push(r);return null==e?r:e.call(this,o,r)}}n=t.exports=i,n.getSerialize=o},{}],2:[function(e,t,n){"use strict";function i(e){this.name="RavenConfigError",this.message=e}i.prototype=new Error,i.prototype.constructor=i,t.exports=i},{}],3:[function(e,t,n){"use strict";var i=function(e,t,n){var i=e[t],o=e;if(t in e){var r="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),t=""+e.join(" "),s={level:r,logger:"console",extra:{arguments:e}};n&&n(t,s),i&&Function.prototype.apply.call(i,o,e)}}};t.exports={wrapMethod:i}},{}],4:[function(e,t,n){"use strict";function i(){return+new Date}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!r(x),this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:!0},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=D.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=i(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=D.location,this._lastHref=this._location&&this._location.href;for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}function r(e){return void 0===e}function s(e){return"function"==typeof e}function a(e){return"[object String]"===k.toString.call(e)}function l(e){return"object"==typeof e&&null!==e}function c(e){for(var t in e)return!1;return!0}function u(e){var t=k.toString.call(e);return l(e)&&"[object Error]"===t||"[object Exception]"===t||e instanceof Error}function d(e,t){var n,i;if(r(e.length))for(n in e)f(e,n)&&t.call(null,n,e[n]);else if(i=e.length)for(n=0;n<i;n++)t.call(null,n,e[n])}function h(e,t){return t?(d(t,function(t,n){e[t]=n}),e):e}function p(e,t){return!t||e.length<=t?e:e.substr(0,t)+""}function f(e,t){return k.hasOwnProperty.call(e,t)}function m(e){for(var t=[],n=0,i=e.length,o;n<i;n++)o=e[n],a(o)?t.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):o&&o.source&&t.push(o.source);return new RegExp(t.join("|"),"i")}function g(e){var t=[];return d(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function v(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",i=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+i}}function b(){var e=window.crypto||window.msCrypto;if(!r(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function w(e){for(var t=5,n=80,i=[],o=0,r=0,s=" > ",a=s.length,l;e&&o++<t&&(l=y(e),!("html"===l||o>1&&r+i.length*a+l.length>=n));)i.push(l),r+=l.length,e=e.parentNode;return i.reverse().join(s)}function y(e){var t=[],n,i,o,r,s;if(!e||!e.tagName)return"";if(t.push(e.tagName.toLowerCase()),e.id&&t.push("#"+e.id),n=e.className,n&&a(n))for(i=n.split(" "),s=0;s<i.length;s++)t.push("."+i[s]);var l=["type","name","title","alt"];for(s=0;s<l.length;s++)o=l[s],r=e.getAttribute(o),r&&t.push("["+o+'="'+r+'"]');return t.join("")}function _(e,t,n,i){var o=e[t];e[t]=n(o),i&&i.push([e,t,o])}var E=e(6),T=e(2),C=e(1),S=e(3).wrapMethod,I="source protocol user pass host port path".split(" "),O=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,D="undefined"!=typeof window?window:void 0,x=D&&D.document;o.prototype={VERSION:"3.8.0",debug:!1,TraceKit:E,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&d(t,function(e,t){"tags"===e||"extra"===e?n._globalContext[e]=t:i[e]=t}),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=m(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&m(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&m(i.whitelistUrls),i.includePaths=m(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0},r=i.autoBreadcrumbs;return"[object Object]"==={}.toString.call(r)?r=h(o,r):r!==!1&&(r=o),i.autoBreadcrumbs=r,E.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(E.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),i=n.path.lastIndexOf("/"),o=n.path.substr(1,i);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(i+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+o+"api/"+t._globalProject+"/store/"},context:function(e,t,n){return s(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){function i(){var i=[],r=arguments.length,a=!e||e&&e.deep!==!1;for(n&&s(n)&&n.apply(this,arguments);r--;)i[r]=a?o.wrap(e,arguments[r]):arguments[r];try{return t.apply(this,i)}catch(t){throw o._ignoreNextOnError(),o.captureException(t,e),t}}var o=this;if(r(t)&&!s(e))return e;if(s(e)&&(t=e,e=void 0),!s(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}for(var a in t)f(t,a)&&(i[a]=t[a]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__inner__=t,i},uninstall:function(){return E.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!u(e))return this.captureMessage(e,h({trimHeadFrames:1,stacktrace:!0},t));this._lastCapturedException=e;try{var n=E.computeStackTrace(e);this._handleStackInfo(n,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n=h({message:e+""},t);if(t&&t.stacktrace){var i;try{throw new Error(e)}catch(e){i=e}i.name=null,t=h({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var o=E.computeStackTrace(i),r=this._prepareFrames(o,t);n.stacktrace={frames:r.reverse()}}return this._send(n),this}},captureBreadcrumb:function(e){var t=h({timestamp:i()/1e3},e);return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(C(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=s(e)?function(n){return e(n,t)}:e,this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=s(e)?function(n){return e(n,t)}:e,this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=D.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(x){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new T("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new T("Missing DSN");var i=encodeURIComponent,o="";o+="?eventId="+i(t),o+="&dsn="+i(n);var r=e.user||this._globalContext.user;r&&(r.name&&(o+="&name="+i(r.name)),r.email&&(o+="&email="+i(r.email)));var s=this._getGlobalServer(this._parseDSN(n)),a=x.createElement("script");a.async=!0,a.src=s+"/api/embed/error-page/"+o,(x.head||x.body).appendChild(a)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,i;if(this._hasDocument){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),x.createEvent?(n=x.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=x.createEventObject(),n.eventType=e);for(i in t)f(t,i)&&(n[i]=t[i]);if(x.createEvent)x.dispatchEvent(n);else try{x.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){t._lastCapturedEvent=n;var i=n.target,o;try{o=w(i)}catch(e){o="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:o})}}},_keypressEventHandler:function(){var e=this,t=1e3;return function(n){var i=n.target,o=i&&i.tagName;if(o&&("INPUT"===o||"TEXTAREA"===o||i.isContentEditable)){var r=e._keypressTimeout;r||e._breadcrumbEventHandler("input")(n),clearTimeout(r),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},t)}}},_captureUrlChange:function(e,t){var n=v(this._location.href),i=v(t),o=v(e);this._lastHref=t,n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_instrumentTryCatch:function(){function e(e){return function(t,i){for(var o=new Array(arguments.length),r=0;r<o.length;++r)o[r]=arguments[r];var a=o[0];return s(a)&&(o[0]=n.wrap(a)),e.apply?e.apply(this,o):e(o[0],o[1])}}function t(e){var t=D[e]&&D[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(_(t,"addEventListener",function(t){return function(i,r,s,a){try{r&&r.handleEvent&&(r.handleEvent=n.wrap(r.handleEvent))}catch(e){}var l;return o&&o.dom&&("EventTarget"===e||"Node"===e)&&("click"===i?l=n._breadcrumbEventHandler(i):"keypress"===i&&(l=n._keypressEventHandler())),t.call(this,i,n.wrap(r,void 0,l),s,a)}},i),_(t,"removeEventListener",function(e){return function(t,n,i,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,i,o)}},i))}var n=this,i=n._wrappedBuiltIns,o=this._globalOptions.autoBreadcrumbs;_(D,"setTimeout",e,i),_(D,"setInterval",e,i),D.requestAnimationFrame&&_(D,"requestAnimationFrame",function(e){return function(t){return e(n.wrap(t))}},i);for(var r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<r.length;a++)t(r[a]);var l=D.jQuery||D.$;l&&l.fn&&l.fn.ready&&_(l.fn,"ready",function(e){return function(t){return e.call(this,n.wrap(t))}},i)},_instrumentBreadcrumbs:function(){function e(e,n){e in n&&s(n[e])&&_(n,e,function(e){return t.wrap(e)})}var t=this,n=this._globalOptions.autoBreadcrumbs,i=t._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in D){var o=XMLHttpRequest.prototype;_(o,"open",function(e){return function(n,i){return a(i)&&i.indexOf(t._globalKey)===-1&&(this.__raven_xhr={method:n,url:i,status_code:null}),e.apply(this,arguments)}},i),_(o,"send",function(n){return function(i){function o(){if(r.__raven_xhr&&(1===r.readyState||4===r.readyState)){try{r.__raven_xhr.status_code=r.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:r.__raven_xhr})}}for(var r=this,a=["onload","onerror","onprogress"],l=0;l<a.length;l++)e(a[l],r);return"onreadystatechange"in r&&s(r.onreadystatechange)?_(r,"onreadystatechange",function(e){return t.wrap(e,void 0,o)}):r.onreadystatechange=o,n.apply(this,arguments)}},i)}n.xhr&&"fetch"in D&&_(D,"fetch",function(e){return function(n,i){for(var o=new Array(arguments.length),r=0;r<o.length;++r)o[r]=arguments[r];var s="GET";o[1]&&o[1].method&&(s=o[1].method);var a={method:s,url:o[0],status_code:null};return t.captureBreadcrumb({type:"http",category:"fetch",data:a}),e.apply(this,o).then(function(e){return a.status_code=e.status,e})}},i),n.dom&&this._hasDocument&&(x.addEventListener?(x.addEventListener("click",t._breadcrumbEventHandler("click"),!1),x.addEventListener("keypress",t._keypressEventHandler(),!1)):(x.attachEvent("onclick",t._breadcrumbEventHandler("click")),x.attachEvent("onkeypress",t._keypressEventHandler())));var r=D.chrome,l=r&&r.app&&r.app.runtime,c=!l&&D.history&&history.pushState;if(n.location&&c){var u=D.onpopstate;D.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),u)return u.apply(this,arguments)},_(history,"pushState",function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}},i)}if(n.console&&"console"in D&&console.log){var h=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};d(["debug","info","warn","error","log"],function(e,t){S(console,t,h)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){e=this._wrappedBuiltIns.shift();var t=e[0],n=e[1],i=e[2];t[n]=i}},_drainPlugins:function(){var e=this;d(this._plugins,function(t,n){var i=n[0],o=n[1];i.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=O.exec(e),n={},i=7;try{for(;i--;)n[I[i]]=t[i]||""}catch(t){throw new T("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new T("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,i=[];if(e.stack&&e.stack.length&&(d(e.stack,function(e,t){var o=n._normalizeFrame(t);o&&i.push(o)}),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<i.length;o++)i[o].in_app=!1;return i=i.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e){if(e.url){var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return t.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t.function)||/raven\.(min\.)?js$/.test(t.filename)),t}},_processException:function(e,t,n,i,o,r){var s;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t))&&(t+="",o&&o.length?(n=o[0].filename||n,o.reverse(),s={frames:o}):n&&(s={frames:[{filename:n,lineno:i,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var a=h({exception:{values:[{type:e,value:t,stacktrace:s}]},culprit:n},r);this._send(a)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=p(e.message,t)),e.exception){var n=e.exception.values[0];n.value=p(n.value,t)}return e},_getHttpData:function(){if(this._hasDocument&&x.location&&x.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=x.location.href,x.referrer&&(e.headers.Referer=x.referrer),e}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},o=this._getHttpData();o&&(n.request=o),e.trimHeadFrames&&delete e.trimHeadFrames,e=h(n,e),e.tags=h(h({},this._globalContext.tags),e.tags),e.extra=h(h({},this._globalContext.extra),e.extra),e.extra["session:duration"]=i()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),c(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),s(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!c(e)&&(s(t.shouldSendCallback)&&!t.shouldSendCallback(e)||this._sendProcessedPayload(e))},_getUuid:function(){return b()},_sendProcessedPayload:function(e,t){var n=this,i=this._globalOptions;if(this._lastEventId=e.event_id||(e.event_id=this._getUuid()),e=this._trimPacket(e),this._logDebug("debug","Raven about to send:",e),this.isSetup()){var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var r=e.exception&&e.exception.values[0];this.captureBreadcrumb({category:"sentry",message:r?(r.type?r.type+": ":"")+r.value:e.message,event_id:e.event_id,level:e.level||"error"});var s=this._globalEndpoint;(i.transport||this._makeRequest).call(this,{url:s,auth:o,data:e,options:i,onSuccess:function i(){n._triggerEvent("success",{data:e,src:s}),t&&t()},onError:function i(o){n._triggerEvent("failure",{data:e,src:s}),o=o||new Error("Raven send failed (no additional details provided)"),t&&t(o)}})}},_makeRequest:function(e){function t(){200===n.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError(new Error("Sentry error code: "+n.status))}var n=new XMLHttpRequest,i="withCredentials"in n||"undefined"!=typeof XDomainRequest;if(i){var o=e.url;"withCredentials"in n?n.onreadystatechange=function(){4===n.readyState&&t()}:(n=new XDomainRequest,o=o.replace(/^https?:/,""),n.onload=t),n.open("POST",o+"?"+g(e.auth)),n.send(C(e.data))}},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){r(t)?delete this._globalContext[e]:this._globalContext[e]=h(this._globalContext[e]||{},t)}};var k=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(o.utils={isUndefined:r,isFunction:s,isString:a,isObject:l,isEmptyObject:c,isError:u,each:d,objectMerge:h,truncate:p,hasKey:f,joinRegExp:m,urlencode:g,uuid4:b,htmlTreeAsString:w,htmlElementAsString:y,parseUrl:v,fill:_}),o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,t.exports=o},{1:1,2:2,3:3,6:6}],5:[function(e,t,n){"use strict";var i=e(4),o=window.Raven,r=new i;r.noConflict=function(){return window.Raven=o,r},r.afterLoad(),t.exports=r},{4:4}],6:[function(e,t,n){"use strict";function i(){return"undefined"==typeof document?"":document.location.href}var o={collectWindowErrors:!0,debug:!1},r=[].slice,s="?",a=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;o.report=function e(){function t(e){d(),m.push(e)}function n(e){for(var t=m.length-1;t>=0;--t)m[t]===e&&m.splice(t,1)}function l(){h(),m=[]}function c(e,t){var n=null;if(!t||o.collectWindowErrors){for(var i in m)if(m.hasOwnProperty(i))try{m[i].apply(null,[e].concat(r.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function u(e,t,n,r,l){var u=null;if(b)o.computeStackTrace.augmentStackTraceWithInitialElement(b,t,n,e),p();else if(l)u=o.computeStackTrace(l),c(u,!0);else{var d={url:t,line:n,column:r},h=void 0,f=e,m;if("[object String]"==={}.toString.call(e)){var m=e.match(a);m&&(h=m[1],f=m[2])}d.func=s,u={name:h,message:f,url:i(),stack:[d]},c(u,!0)}return!!w&&w.apply(this,arguments)}function d(){y||(w=window.onerror,window.onerror=u,y=!0)}function h(){y&&(window.onerror=w,y=!1,w=void 0)}function p(){var e=b,t=g;g=null,b=null,v=null,c.apply(null,[e,!1].concat(t))}function f(e,t){var n=r.call(arguments,1);if(b){if(v===e)return;p()}var i=o.computeStackTrace(e);if(b=i,v=e,g=n,setTimeout(function(){v===e&&p()},i.incomplete?2e3:0),t!==!1)throw e}var m=[],g=null,v=null,b=null,w,y;return f.subscribe=t,f.unsubscribe=n,f.uninstall=l,f}(),o.computeStackTrace=function e(){function t(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function n(e){return t(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function r(e){if("undefined"!=typeof e.stack&&e.stack){for(var t=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,r=e.stack.split("\n"),a=[],l,c,u=/^(.*) is undefined$/.exec(e.message),d=0,h=r.length;d<h;++d){if(l=t.exec(r[d])){var p=l[2]&&l[2].indexOf("native")!==-1;c={url:p?null:l[2],func:l[1]||s,args:p?[l[2]]:[],line:l[3]?+l[3]:null,column:l[4]?+l[4]:null}}else if(l=o.exec(r[d]))c={url:l[2],func:l[1]||s,args:[],line:+l[3],column:l[4]?+l[4]:null};else{if(!(l=n.exec(r[d])))continue;c={url:l[3],func:l[1]||s,args:l[2]?l[2].split(","):[],line:l[4]?+l[4]:null,column:l[5]?+l[5]:null}}!c.func&&c.line&&(c.func=s),a.push(c)}return a.length?(a[0].column||"undefined"==typeof e.columnNumber||(a[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:i(),stack:a}):null}}function a(e,t,n,i){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function l(e,t){for(var n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,r=[],u={},d=!1,h,p,f,m=l.caller;m&&!d;m=m.caller)if(m!==c&&m!==o.report){if(p={url:null,func:s,line:null,column:null},m.name?p.func=m.name:(h=n.exec(m.toString()))&&(p.func=h[1]),"undefined"==typeof p.func)try{p.func=h.input.substring(0,h.input.indexOf("{"))}catch(e){}u[""+m]?d=!0:u[""+m]=!0,
r.push(p)}t&&r.splice(0,t);var g={name:e.name,message:e.message,url:i(),stack:r};return a(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function c(e,t){var n=null;t=null==t?0:+t;try{if(n=r(e))return n}catch(e){if(o.debug)throw e}try{if(n=l(e,t+1))return n}catch(e){if(o.debug)throw e}return{name:e.name,message:e.message,url:i()}}return c.augmentStackTraceWithInitialElement=a,c.computeStackTraceFromStackProp=r,c}(),t.exports=o},{}]},{},[5])(5)})},,function(e,t,n){var i,o;i=[n(1),n(5),n(3),n(6),n(173)],o=function(e,t,n,i,o){var r={"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)",transform:"translateZ(0)"},s={"-webkit-transform":"","-moz-transform":"","-ms-transform":"",transform:""},a={opened_panels:[],registered_panels:{},selectedTab:!1,isOpening:!1,speed:0,init:function(){var o=this;o.resize(),e(window).resize(o.resize.bind(o)),e("#w-editor-top").on("click",".tabs li",function(){function r(){o.selectedTab&&s.attr("id")==o.selectedTab&&(o.hideAllPanels(),"weebly_tab_pages"==s.attr("id")&&i.execute("page-manager:open"))}var s=e(this);t.Commerce?n.preventClose(r):r()}),e("#w-editor-top .js-back").on("click",function(e){o.opened_panels.length>0&&(e.preventDefault(),e.stopPropagation(),o.hideAllPanels())})},register:function(e,t){t=t||{},this.registered_panels[e]=t},resize:function(){var t=e(document.body).width(),n=e(window).width(),i=t;n<=1024?(this.getPanels().addClass("narrow"),this.initTooltips()):(this.getPanels().removeClass("narrow"),this.destroyTooltips()),this.getPanels().css({width:i+"px"})},initTooltips:function(){e(".w-sliding-panel").each(function(){var t=e(this),n=t.attr("id");e("#"+n+' .sliding-panel-menu-inner li i[class^="w-icon-"]').tooltip({placement:"right",container:t})})},destroyTooltips:function(){e('.sliding-panel-menu-inner li i[class^="w-icon-"]').tooltip("destroy")},show:function(t){if(this.registered_panels[t]){var n=e("#"+t);this.isOpened(t)||(this.isOpening=!0,this.hideAllPanels(),this.setOpened(t),this.showBlackout(),n.show().css(r),n.clearQueue().animate({top:"0%"},this.speed,function(){this.registered_panels[t].afterSlideOut&&this.registered_panels[t].afterSlideOut(),n.css(s),this.isOpening=!1}.bind(this)),this.registered_panels[t].onOpen&&this.registered_panels[t].onOpen(),this.registered_panels[t].tab_id&&(this.selectedTab||(this.selectedTab=e("#w-editor-top .tabs .selected").attr("id")),window.activeTab(this.registered_panels[t].tab_id)))}},hide:function(t){if(this.registered_panels[t]){var n=e("#"+t);if(this.isOpened(t)&&(this.setClosed(t),this.hideBlackout(),n.css(r),this.registered_panels[t].beforeClose&&this.registered_panels[t].beforeClose(),n.clearQueue().animate({top:"100%"},this.speed,function(){n.hide().css(s),this.registered_panels[t].afterSlideIn&&this.registered_panels[t].afterSlideIn(),this.registered_panels[t].afterClose&&this.registered_panels[t].afterClose()}.bind(this)),this.registered_panels[t].onClose&&this.registered_panels[t].onClose(),this.selectedTab)){var i=window.getCurrentSelectedTab();i.attr("id")==this.registered_panels[t].tab_id&&window.highlightSelectedTab(this.selectedTab),this.selectedTab=!1}}},hideAllPanels:function(){this.opened_panels.forEach(function(e){this.hide(e)}.bind(this))},toggle:function(e){this.registered_panels[e]&&(this.isOpened(e)?this.hide(e):this.show(e),0==this.opened_panels.length&&setTimeout(function(){o.showEvent("x-elements")},600))},getPanels:function(){return e(".w-sliding-panel")},isOpened:function(t){return e.inArray(t,this.opened_panels)!==-1},setOpened:function(t){e.inArray(t,this.opened_panels)===-1&&this.opened_panels.push(t)},setClosed:function(t){var n=e.inArray(t,this.opened_panels);n!==-1&&this.opened_panels.splice(n,1)},showBlackout:function(){this.hideBlackout();var t=document.body.offsetHeight,n=e(window).height();t=n>t?n:t;var i=e('<div class="weebly-blackout sliding-panel-blackout"></div>');i.css({height:t+"px",zIndex:"12"}).appendTo(document.body),i.click(this.hideAllPanels.bind(this))},hideBlackout:function(){e(".sliding-panel-blackout").remove()}};return t.SlidingPanel=a,a}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(2),n(136),n(16),n(397),n(65),n(100),n(147),n(166)],o=function(e,t,n,i,o,r,s,a){var l=i.extend(t.extend({useServerGeneratedDefaultsFor:"TaxRate",defaults:{country_name:null,display_tax_name:null,display_tax_rate:null,display_rate_type:null,actual_percent_rate:null,display_subregion_name:null},validation:{display_name:function(e){if("string"==typeof e&&!e.length&&this.get("isCountry")&&/^(?!(ca|us)$)/i.exec(this.get("country")))return n.messages.required}},overrideUserTaxRateInPercent:function(e){return e=s.trimDecimals(e.trim(),".",a.DEFAULT_TAX_RATE_DECIMALS),this.set("user_tax_rate",parseFloat(e)/100),e},changedAttributes:function(e){var n=e;if(e instanceof l){var o=["created_date","updated_date",this.idAttribute];this.relations.forEach(function(e){o.push(e.key)}),t.each(this.keydefs,function(e){Array.prototype.push.apply(o,e)}),n=t.omit(e.attributes,o)}return i.prototype.changedAttributes.call(this,n)},save:function(){return i.prototype.save.call(this,arguments).then(function(){this.set("subregion_count",this.get("subregions")?this.get("subregions").length:0)}.bind(this))},clone:function(){var e=i.prototype.clone.call(this);if(e.set("default_rate",this.get("default_rate"),{silent:!0}),this.subregions){var t=this.subregions.invoke("clone");e.subregions=new this.subregions.constructor(t),e.subregions.each(function(t){t.parent=e})}return e},fetchSubregionRates:function(){return Weebly.Commerce.RPC.TaxRate.getSubregionTaxRates(this.get("identifier"),this.get("site_tax_rate_id")).then(function(e){var n=e.data;return"CA"!==this.get("identifier")||n.length?(this.set("subregions",n),n):(n=[],o.getCanadaDefaults().then(function(e){return t.each(e.subregions,function(e){n.push({identifier:e.identifier,isCountry:!1,country:"CA",rate_type:e.rate_type,parent_tax_rate_id:this.get("site_tax_rate_id"),user_tax_rate:e.tax_rate,display_name:e.identifier})}.bind(this)),this.set("subregions",n),n}.bind(this)))}.bind(this))},getParent:function(){return this.parent},getRateType:function(e){if(!e){var t=this.get("default_rate");t.length&&(e=t.at(0).get("rate_type"))}return e},getDisplayRateType:function(){var e=this.get("rate_type");return"base"===e?"":_W.utl("ecommerce.settings.tax.dialogs.edit_subregion."+e+"_option")},getCountryName:function(){if(this.get("isCountry")){var e=t.findWhere(r.getCountries(),{cca2:this.get("country")});if(e)return e.name}return""},getDisplayTaxName:function(){return this.get("isCountry")&&(this.get("subregion_count")>0||this.get("auto_calculate_rates"))?_W.utl("ecommerce.settings.tax.rates.tax_name_various"):"US"===this.get("identifier")?"US":this.get("display_name")},lookupActualRate:function(){if(this.has("user_tax_rate"))return this.get("user_tax_rate");if(this.has("actual_rate"))return this.get("actual_rate");var e=this.get("default_rate")||{};return e.length?e.at(0).get("tax_rate"):null},getActualPercentRate:function(){var e=this.lookupActualRate();return null!==e?a.formatTaxRate(e):null},getDisplaySubregionName:function(){var e=this.get("identifier");if(!e){var n=this.get("default_rate")||{};if(n.length&&(e=n.at(0).get("identifier")),!e)return""}var i=t.findWhere(r.getStates()[this.get("country")],{abbr:e});return i?i.name:""},getDisplayTaxRate:function(){if(this.get("auto_calculate_rates"))return _W.utl("ecommerce.settings.tax.rates.display_tax_rate.auto_calculated");var e=this.get("actual_percent_rate");if(this.get("subregion_count")>0){var t=this.get("country"),n=this.get("subregion_count"),i="";if(null!==e&&(i+="percent_"),i+=1===n?"one_":"multi_","US"===t?i+="state":"CA"===t&&(i+="province"),i)return i="ecommerce.settings.tax.rates.display_tax_rate."+i,_W.utl(i,n,e)}return _W.utl("ecommerce.settings.tax.rates.display_tax_rate.percent",Number(e))}},n.mixin));return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[],o=function(){var e={formatCurrency:function(e,t,n){return e=parseFloat(e),t=t?t.replace("_","-"):navigator.language||"en-US",e.toLocaleString(t,{style:"currency",currency:n})},formatTaxRate:function(e){return(100*e).toLocaleString(void 0,{maximumFractionDigits:this.DEFAULT_TAX_RATE_DECIMALS})},DEFAULT_TAX_RATE_DECIMALS:3};return e}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(4),n(48),n(300),n(469)],o=function(e,t,n,i,o,r,s){function a(e){this.onUploadLoadstart(e),this.trigger("start",e)}function l(e,t){var n=t.responseText;try{n=JSON.parse(n)}catch(e){}this.onUploadSuccess(n,e),this.trigger("success",n,e),d.call(this,e,n)}function c(e,t){var n="";if(t){n=t.responseText;try{n=JSON.parse(n)}catch(e){}}this.onUploadError(n,e),this.trigger("error",n,e),d.call(this,e,n)}function u(e){this.onUploadAbort(e),this.trigger("abort",e),d.call(this,e)}function d(e,t){this.onUploadComplete(t,e),this.trigger("complete",t,e)}var h=n.Marionette.ItemView.extend({events:{"drop.uploader-view":"onDrop","dragover.uploader-view":"onDragover","dragleave.uploader-view":"onDragleave","change.uploader-view .w-upload-input":"onChangeFile"},_uploadOpts:{target:".w-upload-target",url:"/weebly/fileUpload.php",multipleFiles:!1,maxFileSize:Number.MAX_VALUE,type:"all",params:{}},_mimeTypes:{all:{description:_W.utl("javascript.components.uploader-view.UploaderView_1")},image:{types:["gif","jpg","jpeg","png","bmp"],description:_W.utl("javascript.components.uploader-view.UploaderView_2"),accept:"image/*"},zip:{types:["zip"],description:_W.utl("javascript.components.uploader-view.UploaderView_3")},audio:{types:["mp3"],description:_W.utl("javascript.components.uploader-view.UploaderView_4"),accept:"audio/*"},video:{notTypes:["wlmp","htm","exe","mp3","tch1","swmm","pptx","html","docx","url","mht","hive","bloc","wma","ppt","pdf","ifo","zip","doc","bup","wp3","key","wpl","proj","atch","wav","xspf","fla","prel","tch2","jpg","jpeg","gif","png"],description:_W.utl("javascript.components.uploader-view.UploaderView_5"),accept:"video/*"},flash:{types:["swf"],description:_W.utl("javascript.components.uploader-view.UploaderView_8"),accept:"application/x-shockwave-flash"},html:{types:["html"],description:_W.utl("javascript.components.uploader-view.UploaderView_9")},tpl:{types:["tpl"],description:_W.utl("javascript.components.uploader-view.UploaderView_12")},less:{types:["less"],description:_W.utl("javascript.components.uploader-view.UploaderView_11")},doc:{types:["doc","docx","ppt","pptx","pps","xls","xlsx","pdf","ps","odt","odp","ods"],description:_W.utl("javascript.components.uploader-view.UploaderView_13")}},addAcceptedFileExtension:function(t,n){this._mimeTypes=e.extend(!0,{},this._mimeTypes),n||(n=this.uploadOpts.type);var i=this._mimeTypes[n];i.types||(i.types=[]),i.types.push(t)},getAccept:function(){var e=this._mimeTypes[this.uploadOpts.type.toLowerCase()];return t.difference(e.types||[],e.notTypes||[]).reduce(function(e,t){return"."+t+","+e},e.accept||"")},validFileType:function(e){var n=this._mimeTypes[this.uploadOpts.type.toLowerCase()],i=n.notTypes||[],o=t.difference(n.types||[],i),r=e.slice(e.lastIndexOf(".")+1).toLowerCase();return o.length?o.indexOf(r)!==-1:!i.length||i.indexOf(r)===-1},initialize:function(e){return this.uploadOpts=t.extend({},this._uploadOpts,e.uploadOptions),!this.template&&this.$el&&this.$el.length&&(this.template=this.$el.html()),n.Marionette.ItemView.prototype.initialize.apply(this,arguments)},onRender:function(){var e=this.$el.find(this.uploadOpts.target);if(!e.length)throw"UploaderView - target not found: "+this.uploadOpts.target;if("button"===e[0].nodeName.toLowerCase())throw"UploaderView - a button cannot be used as target, Firefox does not support this";var t=i.render(s,{multiple:this.uploadOpts.multipleFiles,accept:this.getAccept()});e.addClass("w-upload-button").append(t)},reset:function(){var e=this.$el.find(this.uploadOpts.target);e.removeClass("w-upload-button");var t=this.serializeData();t=this.mixinTemplateHelpers(t);var i=this.getTemplate(),o=n.Marionette.Renderer.render(i,t);this.$el.html(o),this.stopListening(),this.undelegateEvents()},onShow:function(){},setUploadOptions:function(t){return e.extend(!0,this.uploadOpts,t),this.render()},setPostParameters:function(e){this.uploadOpts.params=e},onChangeFile:function(t){var n=t.target.files,o=i.render(s,{multiple:this.uploadOpts.multipleFiles,accept:this.getAccept()});this.upload(n),e(t.target).replaceWith(o)},onDragleave:function(e){e.preventDefault(),e.stopPropagation(),this.$el.removeClass("upload-view-drag")},onDragover:function(e){o.setDropEffect(e),this.$el.addClass("upload-view-drag"),e.preventDefault(),e.stopPropagation()},onDrop:function(e){var t=e.originalEvent.dataTransfer.files;e.preventDefault(),e.stopPropagation(),this.$el.removeClass("upload-view-drag"),this.upload(t)},upload:function(e){if(!this.uploadOpts.multipleFiles&&e.length>1)return void this.trigger("error:multiple",this.uploadOpts);for(var t=new r({parameters:this.uploadOpts.params,action:this.uploadOpts.url,error:c.bind(this,this.uploadOpts),success:l.bind(this,this.uploadOpts),loadstart:a.bind(this,this.uploadOpts),abort:u.bind(this,this.uploadOpts)}),n=[],i=0;i<e.length;i++)this.validFileType(e[i].name)?!e[i].size>this.uploadOpts.maxFileSize?this.trigger("error:size",this.uploadOpts):n.push({Filedata:e[i],Filename:e[i].name}):this.trigger("error:type",this.uploadOpts);t.send(n)},onUploadLoadstart:function(){},onUploadSuccess:function(){},onUploadError:function(){},onUploadAbort:function(){},onUploadComplete:function(){}});return h.extend=function(e){var i=n.Marionette.ItemView.extend.apply(this,arguments),o=t.result(e,"events")||e.events;return i.prototype.events=t.extend({},this.prototype.events,o),i},h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(6),n(12)],o=function(e,t,n){var i=t.module("build.frame.element"),o,r;return i.on("start",function(){o=e("#"+n.EDITOR_FRAME_ID),r=o[0].contentWindow}),i.on("stop",function(){o=null,r=null}),i.getElement=function(){return o},i.getWindow=function(){return r},i.hideElement=function(){o.css("opacity",0)},i.showElement=function(){o.css("opacity",1)},i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){var t={},n={};t.getHeaderPlaceholder=function(e){var t="";return"short-header"==e?t=n.mobile_header_placeholder_short||"":"tall-header"==e?t=n.mobile_header_placeholder_tall||"":"landing"==e&&(t=n.mobile_header_placeholder_landing||""),t||(t=n.mobile_header_placeholder||""),t},t.isThemeNoHeader=function(e){for(var t in e)if(e[t].body.indexOf("wsite-header")!=-1)return!1;return!0},t.isHeaderDisabled=function(){return!!n.mobile_headers_disabled||t.isThemeNoHeader(currentThemeData.page_type_templates)},t.setSiteSetting=function(e,t){n[e]=t},t.getSiteSetting=function(e){return n[e]},t.setSiteSettings=function(t){e.extend(n,t)},t.getSiteSettings=function(){return n},t.clearSettingsCache=function(){n={}},t.serializeSiteSettings=function(){var e="";for(var t in n)if("mobile_themes"!=t){var i=n[t]?n[t]:0;e+=t+String.fromCharCode(3)+i+String.fromCharCode(2)}return e};var i=!1;return t.isMobileEditor=function(e){return i="undefined"!=typeof e?e:i},window.Weebly.mobile||(window.Weebly.mobile={}),window.Weebly.mobile.isMobileEditor=t.isMobileEditor,t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(336)],o=function(e,t){var n={deferHtml:null,win:null,instance:function(){return this.win},open:function(e,t){if(this.win){if(this.win.constructor===e)return n;this.win.close({skipGoMain:!0})}var n=this.create(e,t);return n.events.addListener("close",function(){this.win=null}.bind(this)),n.loading(),this.win=n,this.win},close:function(){this.win&&(this.win.close({skipGoMain:!0}),window.editorApp&&editorApp.vent.trigger("publish:dialog:close"))},success:function(){this.win&&(this.win.success.apply(this.win,arguments),window.editorApp&&editorApp.vent.trigger("publish:success"),this.callback&&(this.callback(),this.callback=void 0))},defer:function(e){this.deferHtml=e},resolve:function(){if(this.deferHtml){var e=this.deferHtml;this.deferHtml=null,this.success(e)}},create:function(e,n){return new(e||t)(n)}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){function t(t){var i=n;if(!i){var o=e(".__bootstrapdata__");if(0===o.length)throw new Error("Bootstrap data not found on page");if(o.length>1)throw new Error("Multiple bootstrap data found on page");i=o.html()}var r;try{r=JSON.parse(i)}catch(e){throw new Error("Could not parse bootstrap data.")}return n=i,r[t]}var n;return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(14),n(7),n(26),n(196),n(27)],o=function(e,t,n,i,o,r){"use strict";var s={},a=function(r){var s,a=function(e){t.each(e,function(e){u(window,e)})},l=function(e){return i.RPC.apply(i,arguments)},c=function(e,n){try{var i=Array.prototype.slice.call(arguments,2);t.isFunction(e[n])&&e[n].apply(this,i)}catch(n){if(t.isFunction(e.onException))e.onException.apply(this,i);else{var o=t.some(Ajax.Responders.responders,function(e){return!!t.isFunction(e.onException)&&(e.onException.apply(this,i),!0)});if(!o)throw n}}},u=function(e,n){for(var i=n.split("."),o=i[0],r=0,s=i.length-1;r<s;r++)e[o]||(e[o]={}),e=e[o],o=i[r+1];e[o]=t.partial(l,n)},d=function(){s=window.Ajax.Request,window.Ajax.Request=function(e,n){i.ajax({parameters:n.parameters,asynchronous:n.asynchronous,bgRequest:n.bgRequest}).done(t.partial(c,n,"onSuccess")).fail(t.partial(c,n,"onFailure")).always(t.partial(c,n,"onComplete"))}},h=function(){window.Ajax.Request=s},p=function(e){var e=e||{};d(),a(e.rpc)};r.on("start",function(){r.listenTo(n.vent,{"site:initialized":p}),W_DEBUG&&e(document).ajaxError(function(e,t,n,i){if(404===t.status&&n.url.match(/^\/api\/JsonRPC\//)){var o=JSON.parse(n.data);console.warn("You may need to whitelist: `"+o.method+"`")}})}),r.on("stop",function(){h()}),r.Request=function(){return window.Ajax.Request.apply(this,arguments)},o.inSiteContext()&&(window.showError=function(e,t,n){i.execute("ajax:showError",e,t,n)},window.showRetriableError=function(e,t,n){i.execute("ajax:showRetriableError",e,t,n)},window.startWait=r.startWait=function(){i.execute("loading:start","AjaxUtilsStub::startWait")},window.endWait=r.endWait=function(){i.execute("loading:stop","AjaxUtilsStub::startWait")})};return s=n.module("Ajax",{moduleClass:r,define:a})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){!function(t){if(0){if("function"==typeof define&&define.amd)define(["underscore","backbone"],t);else if("undefined"!=typeof _&&"undefined"!=typeof Backbone){var i=Backbone.PageableCollection,o=t(_,Backbone);Backbone.PageableCollection.noConflict=function(){return Backbone.PageableCollection=i,o}}}else e.exports=t(n(2),n(9))}(function(e,t){"use strict";function n(t,n){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+n+"` must be a finite integer");return t}function i(e){for(var t,n,i,o,r={},s=decodeURIComponent,a=e.split("&"),l=0,c=a.length;l<c;l++){var u=a[l];t=u.split("="),n=t[0],i=t[1]||!0,n=s(n),i=s(i),o=r[n],f(o)?o.push(i):o?r[n]=[o,i]:r[n]=i}return r}function o(e,t,n){var i=e._events[t];if(i&&i.length){var o=i[i.length-1],r=o.callback;o.callback=function(){try{r.apply(this,arguments),n()}catch(e){throw e}finally{o.callback=r}}}else n()}var r=e.extend,s=e.omit,a=e.clone,l=e.each,c=e.pick,u=e.contains,d=e.isEmpty,h=e.pairs,p=e.invert,f=e.isArray,m=e.isFunction,g=e.isObject,v=e.keys,b=e.isUndefined,w=e.result,y=Math.ceil,_=Math.floor,E=Math.max,T=t.Collection.prototype,C=/[\s'"]/g,S=/[<>\s'"]/g,I=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){T.constructor.apply(this,arguments),t=t||{};var n=this.mode=t.mode||this.mode||O.mode,i=r({},O.queryParams,this.queryParams,t.queryParams||{});i.directions=r({},O.queryParams.directions,this.queryParams.directions,i.directions||{}),this.queryParams=i;var o=this.state=r({},O.state,this.state,t.state||{});o.currentPage=null==o.currentPage?o.firstPage:o.currentPage,f(e)||(e=e?[e]:[]),"server"==n||null!=o.totalRecords||d(e)||(o.totalRecords=e.length),this.switchMode(n,r({fetch:!1,resetState:!1,models:e},t));var s=t.comparator;if(o.sortKey&&!s&&this.setSorting(o.sortKey,o.order,t),"server"!=n){var l=this.fullCollection;s&&t.full&&(this.comparator=null,l.comparator=s),t.full&&l.sort(),e&&!d(e)&&(this.reset([].slice.call(e),r({silent:!0},t)),this.getPage(o.currentPage),e.splice.apply(e,[0,e.length].concat(this.models)))}this._initState=a(this.state)},_makeFullCollection:function(e,n){var i=["url","model","sync","comparator"],o=this.constructor.prototype,r,s,a,l={};for(r=0,s=i.length;r<s;r++)a=i[r],b(o[a])||(l[a]=o[a]);var c=new(t.Collection.extend(l))(e,n);for(r=0,s=i.length;r<s;r++)a=i[r],this[a]!==o[a]&&(c[a]=this[a]);return c},_makeCollectionEventHandler:function(e,t){return function n(i,s,c,u){var d=e._handlers;l(v(d),function(n){var i=d[n];e.off(n,i),t.off(n,i)});var h=a(e.state),p=h.firstPage,f=0===p?h.currentPage:h.currentPage-1,m=h.pageSize,g=f*m,w=g+m;if("add"==i){var _,E,T,C,u=u||{};if(c==t)E=t.indexOf(s),E>=g&&E<w&&(C=e,_=T=E-g);else{_=e.indexOf(s),E=g+_,C=t;var T=b(u.at)?E:u.at+g}if(u.onRemove||(++h.totalRecords,delete u.onRemove),e.state=e._checkState(h),C){C.add(s,r({},u||{},{at:T}));var S=_>=m?s:!b(u.at)&&T<w&&e.length>m?e.at(m):null;S&&o(c,i,function(){e.remove(S,{onAdd:!0})})}}if("remove"==i)if(u.onAdd)delete u.onAdd;else{if(--h.totalRecords){var I=h.totalPages=y(h.totalRecords/m);h.lastPage=0===p?I-1:I||p,h.currentPage>I&&(h.currentPage=h.lastPage)}else h.totalRecords=null,h.totalPages=null;e.state=e._checkState(h);var O,D=u.index;c==e?((O=t.at(w))&&o(e,i,function(){e.push(O,{onRemove:!0})}),t.remove(s)):D>=g&&D<w&&((O=t.at(w-1))&&o(e,i,function(){e.push(O,{onRemove:!0})}),e.remove(s))}if("reset"==i)if(u=c,c=s,c==e&&null==u.from&&null==u.to){var x=t.models.slice(0,g),k=t.models.slice(g+e.models.length);t.reset(x.concat(e.models).concat(k),u)}else c==t&&((h.totalRecords=t.models.length)||(h.totalRecords=null,h.totalPages=null),"client"==e.mode&&(h.lastPage=h.currentPage=h.firstPage),e.state=e._checkState(h),e.reset(t.models.slice(g,w),r({},u,{parse:!1})));"sort"==i&&(u=c,c=s,c===t&&e.reset(t.models.slice(g,w),r({},u,{parse:!1}))),l(v(d),function(n){var i=d[n];l([e,t],function(e){e.on(n,i);var t=e._events[n]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,i=this.links,o=e.totalRecords,r=e.pageSize,s=e.currentPage,a=e.firstPage,l=e.totalPages;if(null!=o&&null!=r&&null!=s&&null!=a&&("infinite"!=t||i)){if(o=n(o,"totalRecords"),r=n(r,"pageSize"),s=n(s,"currentPage"),a=n(a,"firstPage"),r<1)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=y(o/r),a<0||a>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===a?E(0,l-1):l||a,"infinite"==t){if(!i[s+""])throw new RangeError("No link found for page "+s)}else if(s<a||l>0&&(a?s>l:s>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(a?">":">=")+" totalPages if "+a+"-based. Got "+s+".")}return e},setPageSize:function(e,t){e=n(e,"pageSize"),t=t||{first:!1};var i=this.state,o=y(i.totalRecords/e),a=o?E(i.firstPage,_(o*(i.firstPage?i.currentPage:i.currentPage+1)/i.totalPages)):i.firstPage;return i=this.state=this._checkState(r({},i,{pageSize:e,currentPage:t.first?i.firstPage:a,totalPages:o})),this.getPage(i.currentPage,s(t,["first"]))},switchMode:function(t,n){if(!u(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');n=n||{fetch:!0,resetState:!0};var i=this.state=n.resetState?a(this._initState):this._checkState(r({},this.state));this.mode=t;var o=this,c=this.fullCollection,d=this._handlers=this._handlers||{},h;if("server"==t||c)"server"==t&&c&&(l(v(d),function(e){h=d[e],o.off(e,h),c.off(e,h)}),delete this._handlers,this._fullComparator=c.comparator,delete this.fullCollection);else{c=this._makeFullCollection(n.models||[],n),c.pageableCollection=this,this.fullCollection=c;var p=this._makeCollectionEventHandler(this,c);l(["add","remove","reset","sort"],function(t){d[t]=h=e.bind(p,{},t),o.on(t,h),c.on(t,h)}),c.comparator=this._fullComparator}if("infinite"==t)for(var f=this.links={},m=i.firstPage,g=y(i.totalRecords/i.pageSize),b=0===m?E(0,g-1):g||m,w=i.firstPage;w<=b;w++)f[w]=this.url;else this.links&&delete this.links;return n.fetch?this.fetch(s(n,"fetch","resetState")):this},hasPrevious:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNext:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var i=this.mode,o=this.fullCollection;t=t||{fetch:!1};var a=this.state,l=a.firstPage,c=a.currentPage,u=a.lastPage,h=a.pageSize,p=e;switch(e){case"first":p=l;break;case"prev":p=c-1;break;case"next":p=c+1;break;case"last":p=u;break;default:p=n(e,"index")}this.state=this._checkState(r({},a,{currentPage:p})),t.from=c,t.to=p;var f=(0===l?p:p-1)*h,m=o&&o.length?o.models.slice(f,f+h):[];return"client"!=i&&("infinite"!=i||d(m))||t.fetch?("infinite"==i&&(t.url=this.links[p]),this.fetch(s(t,"fetch"))):(this.reset(m,s(t,"fetch")),this)},getPageByOffset:function(e,t){if(e<0)throw new RangeError("`offset must be > 0`");e=n(e);var i=_(e/this.state.pageSize);return 0!==this.state.firstPage&&i++,i>this.state.lastPage&&(i=this.state.lastPage),this.getPage(i,t)},sync:function(e,n,i){var o=this;if("infinite"==o.mode){var s=i.success,a=o.state.currentPage;i.success=function(e,t,n){var l=o.links,c=o.parseLinks(e,r({xhr:n},i));c.first&&(l[o.state.firstPage]=c.first),c.prev&&(l[a-1]=c.prev),c.next&&(l[a+1]=c.next),s&&s(e,t,n)}}return(T.sync||t.sync).call(o,e,n,i)},parseLinks:function(e,t){var n={},i=t.xhr.getResponseHeader("Link");if(i){var o=["first","prev","next"];l(i.split(","),function(e){var t=e.split(";"),i=t[0].replace(S,""),r=t.slice(1);l(r,function(e){var t=e.split("="),r=t[0].replace(C,""),s=t[1].replace(C,"");"rel"==r&&u(o,s)&&(n[s]=i)})})}return n},parse:function(e,t){var n=this.parseState(e,a(this.queryParams),a(this.state),t);return n&&(this.state=this._checkState(r({},this.state,n))),this.parseRecords(e,t)},parseState:function(t,n,i,o){if(t&&2===t.length&&g(t[0])&&f(t[1])){var r=a(i),c=t[0];return l(h(s(n,"directions")),function(t){var n=t[0],i=t[1],o=c[i];b(o)||e.isNull(o)||(r[n]=c[i])}),c.order&&(r.order=1*p(n.directions)[c.order]),r}},parseRecords:function(e,t){return e&&2===e.length&&g(e[0])&&f(e[1])?e[1]:e},fetch:function(e){e=e||{};var t=this._checkState(this.state),n=this.mode;"infinite"!=n||e.url||(e.url=this.links[t.currentPage]);var o=e.data||{},l=w(e,"url")||w(this,"url")||"",u=l.indexOf("?");u!=-1&&(r(o,i(l.slice(u+1))),l=l.slice(0,u)),e.url=l,e.data=o;var d="client"==this.mode?c(this.queryParams,"sortKey","order"):s(c(this.queryParams,v(O.queryParams)),"directions"),p,f,g,y,_=h(d),E=a(this);for(p=0;p<_.length;p++)f=_[p],g=f[0],y=f[1],y=m(y)?y.call(E):y,null!=t[g]&&null!=y&&(o[y]=t[g]);t.sortKey&&t.order?o[d.order]=this.queryParams.directions[t.order+""]:t.sortKey||delete o[d.order];var C=h(s(this.queryParams,v(O.queryParams)));for(p=0;p<C.length;p++)f=C[p],y=f[1],y=m(y)?y.call(E):y,null!=y&&(o[f[0]]=y);if("server"!=n){var S=this,I=this.fullCollection,D=e.success;return e.success=function(t,i,o){o=o||{},b(e.silent)?delete o.silent:o.silent=e.silent;var s=t.models;"client"==n?I.reset(s,o):(I.add(s,r({at:I.length},r(o,{parse:!1}))),S.trigger("reset",S,o)),D&&D(t,i,o)},T.fetch.call(this,r({},e,{silent:!0}))}return T.fetch.call(this,e)},_makeComparator:function(e,t,n){var i=this.state;if(e=e||i.sortKey,t=t||i.order,e&&t)return n||(n=function(e,t){return e.get(t)}),function(i,o){var r=n(i,e),s=n(o,e),a;return 1===t&&(a=r,r=s,s=a),r===s?0:r<s?-1:1}},setSorting:function(t,n,i){var o=this.state;o.sortKey=t,o.order=n=n||o.order;var s=this.fullCollection,a=!1,l=!1;t||(a=l=!0);var c=this.mode;i=r({side:"client"==c?c:"server",full:!0},i);var u=this._makeComparator(t,n,i.sortValue),d=i.full,h=i.side;return"client"==h?d?(s&&(s.comparator=u),a=!0):(this.comparator=u,l=!0):"server"!=h||d||(this.comparator=u),a&&(this.comparator=null),l&&s&&(s.comparator=null),this.fetchOptions=e.extend({},this.fetchOptions,{sort:[{property:t,direction:n>0?"ASC":"DESC"}]}),this}}),O=I.prototype;return I})},,,,,,,function(e,t){e.exports='<div class="store-loading">\n\t<div class="store-loading-spinner">\n\t\t<div class="store-loading-spinner__bg"></div>\n\t</div>\n\t<span class="store-loading__text">{{loadingText}}</span>\n</div>\n'},function(e,t,n){!function(t,i){e.exports=i(n(2),n(9))}(this,function(e,t){"use strict";function n(e,t,n,i){var o=e[t];if(!(n&&n!==o.callback&&n!==o.callback._callback||i&&i!==o.context))return delete e[t],!0}function i(t,i,o,r){t||(t={});for(var s=i?[i]:e.keys(t),a=!1,l=0,c=s.length;l<c;l++)i=s[l],t[i]&&n(t,i,o,r)&&(a=!0);return a}function o(t){return u[t]||(u[t]=e.bind(l.log,l,t))}function r(t){return e.isFunction(t)?t:function(){return t}}e="default"in e?e.default:e,t="default"in t?t.default:t;var s={};s.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var a=t.Radio,l=t.Radio={};l.VERSION="1.0.4",l.noConflict=function(){return t.Radio=a,this},l.DEBUG=!1,l._debugText=function(e,t,n){return e+(n?" on the "+n+" channel":"")+': "'+t+'"'},l.debugLog=function(e,t,n){l.DEBUG&&console&&console.warn&&console.warn(l._debugText(e,t,n))};var c=/\s+/;l._eventsApi=function(t,n,i,o){if(!i)return!1;var r={};if("object"===("undefined"==typeof i?"undefined":s.typeof(i))){for(var a in i){var l=t[n].apply(t,[a,i[a]].concat(o));c.test(a)?e.extend(r,l):r[a]=l}return r}if(c.test(i)){for(var u=i.split(c),d=0,h=u.length;d<h;d++)r[u[d]]=t[n].apply(t,[u[d]].concat(o));return r}return!1},l._callHandler=function(e,t,n){var i=n[0],o=n[1],r=n[2];switch(n.length){case 0:return e.call(t);case 1:return e.call(t,i);case 2:return e.call(t,i,o);case 3:return e.call(t,i,o,r);default:return e.apply(t,n)}};var u={};e.extend(l,{log:function t(n,i){if("undefined"!=typeof console){var o=e.toArray(arguments).slice(2);console.log("["+n+'] "'+i+'"',o)}},tuneIn:function e(t){var n=l.channel(t);return n._tunedIn=!0,n.on("all",o(t)),this},tuneOut:function e(t){var n=l.channel(t);return n._tunedIn=!1,n.off("all",o(t)),delete u[t],this}}),l.Requests={request:function t(n){var i=e.toArray(arguments).slice(1),o=l._eventsApi(this,"request",n,i);if(o)return o;var r=this.channelName,s=this._requests;if(r&&this._tunedIn&&l.log.apply(this,[r,n].concat(i)),s&&(s[n]||s.default)){var a=s[n]||s.default;return i=s[n]?i:arguments,l._callHandler(a.callback,a.context,i)}l.debugLog("An unhandled request was fired",n,r)},reply:function e(t,n,i){return l._eventsApi(this,"reply",t,[n,i])?this:(this._requests||(this._requests={}),this._requests[t]&&l.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:r(n),context:i||this},this)},replyOnce:function t(n,i,o){if(l._eventsApi(this,"replyOnce",n,[i,o]))return this;var s=this,a=e.once(function(){return s.stopReplying(n),r(i).apply(this,arguments)});return this.reply(n,a,o)},stopReplying:function e(t,n,o){return l._eventsApi(this,"stopReplying",t)?this:(t||n||o?i(this._requests,t,n,o)||l.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,
this)}},l._channels={},l.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return l._channels[e]?l._channels[e]:l._channels[e]=new l.Channel(e)},l.Channel=function(e){this.channelName=e},e.extend(l.Channel.prototype,t.Events,l.Requests,{reset:function e(){return this.off(),this.stopListening(),this.stopReplying(),this}});var d,h,p=[t.Events,l.Requests];return e.each(p,function(t){e.each(t,function(t,n){l[n]=function(t){return h=e.toArray(arguments).slice(1),d=this.channel(t),d[n].apply(d,h)}})}),l.reset=function(t){var n=t?[this._channels[t]]:this._channels;e.each(n,function(e){e.reset()})},l})},,function(e,t,n){var i,o;i=[n(1)],o=function(e){function t(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}var n=t(Object,{initialize:function(t){this.el=t.el,this.$el=e(this.el),this.onChange="function"==typeof t.onChange?t.onChange:function(){},this.initializeEvents(),this.render()},initializeEvents:function(){},render:function(){}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(3),n(16)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"DefaultTaxRate"})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(16),n(529)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"PaymentGateway"})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(13),n(603)],o=function(e,t,n,i){var o=function(){return this.definitions={},this.rawDefinitions={},this};return o.prototype={fetchDefinition:function(o,r,s){return e.has(this.definitions,o)?void r(this.definitions[o],this.rawDefinitions[o]):n.chromeless?void console.log("Invalid ajax get element definition"):void t.Editor.RPC.Elements.getElementDefinition([o]).done(function(t){e.each(t,function(e){var t=new i(e.eid,e);this.rawDefinitions[e.eid]=e,this.definitions[e.eid]=t,r(t,e)},this)}.bind(this))},registerDefinition:function(e,t){this.definitions[e]=new i(e,t),this.rawDefinitions[e]=t},getDefinition:function(e){return this.definitions[e]},getRawDefinitions:function(){return this.rawDefinitions}},new o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(13)],o=function(e,t,n){function i(e,t){this.family=e,this._variants=t}function o(e){var t=r(e);t&&t.load()}function r(e){var t=i.data?s(e,i.data.google_fonts):null;if(t)t.source="google";else{var t=i.data?s(e,i.data.standalone_fonts):null;if(t){var n=i.data?i.data.system_families[t.family]:null;n&&(t.systemFamily=n)}}return t}function s(e,t){e=e.replace(/(^['"\s]*|['"\s]*$)/g,""),"Comic Sans MS"===e&&(e="Comic Sans");var n,o=t[e];if(o)n=e;else{e=e.toLowerCase();for(var r in t)"string"==typeof r&&r.toLowerCase()==e&&(n=r,o=t[r])}if(n)return new i(n,o)}var a={};return i.prototype.hasRegular=function(){return 1&this._variants},i.prototype.hasBold=function(){return 2&this._variants},i.prototype.hasItalic=function(){return 4&this._variants},i.prototype.hasBoldItalic=function(){return 8&this._variants},i.prototype.hasLight=function(){return 16&this._variants},i.prototype.hasLightItalic=function(){return 32&this._variants},i.prototype.hasUltraLight=function(){return 64&this._variants},i.prototype.hasUltraLightItalic=function(){return 128&this._variants},i.prototype.getLinkTag=function(){if(!this.systemFamily){var e="";if(i.data.familyCSSBaseURL)e=i.data.familyCSSBaseURL+escape(this.family);else if(n.chromeless&&0!=window.currentSite)e="x-com-weebly-font-css:///"+window.currentSite+"/"+escape(this.family);else if("google"==this.source){var t=[];this.hasRegular()&&t.push("400"),this.hasLight()&&t.push("300"),this.hasLightItalic()&&t.push("300italic"),this.hasUltraLight()&&t.push("200"),this.hasUltraLightItalic()&&t.push("200italic"),this.hasBold()&&t.push("700"),this.hasItalic()&&t.push("400italic"),this.hasBoldItalic()&&t.push("700italic");var o="";(t.length>1||"400"!=t[0])&&(o=":"+t.join(",")),e="https://fonts.googleapis.com/css?family="+escape(this.family)+o}else e="//"+ASSETS_BASE+"/fonts/"+this.family.replace(/ /g,"_")+"/font.css?2";return"<link href='"+e+"' rel='stylesheet' type='text/css' />"}},i.prototype.load=function(){if(!a[this.family]){a[this.family]=!0;var e=this.getLinkTag();if(e){var t=new Element("div").update(e);$$("head")[0].insert(t.down())}}},i.loadFont=o,i.getFont=r,t.Font=e.extend(i,t.Font),t.Font}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(48)],o=function(e,t){"use strict";function n(e){var t=e.match(/^\w+:\/\/[^\/]+(\/.*)$/);return t?t[1]:e}function i(e){return e=o(e),e=e.replace(/_orig(\.[^\.]*)$/,"$1"),e.replace(/\.([^\.]+)$/,"_orig.$1")}function o(e){return e.replace(/\?[^\?]+$/,"")}function r(e){return"filter"===e.type&&("identity"===e.options.name||!e.options.intensity||0===h(e.options.intensity))}function s(e){return!("crop"!==e.type||e.options.rotation&&0!==h(e.options.rotation)||e.options.scale&&1!==h(e.options.scale)||e.options.start&&(e.options.start.x&&0!==h(e.options.start.x)||e.options.start.y&&0!==h(e.options.start.y))||e.options.end&&(e.options.end.x&&1!==h(e.options.end.x)||e.options.end.y&&1!==h(e.options.end.y)))}function a(e){return!("orientation"!==e.type||e.options.flipVertically||e.options.flipHorizontally||e.options.rotation&&0!==h(e.options.rotation))}function l(e){return!("adjustments"!==e.type||e.options.saturation&&0!==h(e.options.saturation)||e.options.contrast&&0!==h(e.options.contrast)||e.options.brightness&&0!==h(e.options.brightness))}function c(e){return"focus"===e.type&&(u(e.options)||d(e.options))}function u(e){return"linear"===e.type&&(!e.options.blurRadius||0===h(e.options.blurRadius))}function d(e){return"radial"===e.type&&(!e.options.blurRadius||0===h(e.options.blurRadius))}function h(e){return t.roundNumber(e,4)}var p={},f={jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",gif:"image/png"};return p.urlToMimeType=function(e){var t=e.lastIndexOf(".")+1,n=e.lastIndexOf("?");n=n===-1?e.length:n;var i=e.substring(t,n);return f[i.toLowerCase()]},p.getBackgroundSprite=function(e){var t=(e.css("background-image")||"").match(/url\(['"]?(.+?)['"]?\)/);if(t){var i=n(t[1]);return{originalUrl:i}}return null},p.getEditData=function(e){var t=e.getAttribute("src"),n=i(t);return n!==o(t)&&(t=n),{originalUrl:t}},p.sanitizeOperations=function(n){return n=n.filter(function(e){return!(r(e)||s(e)||a(e)||l(e)||c(e))}),n.forEach(function(n){t.mapObjectValues(n,function(t){return e.isNumber(t)&&!e.isNaN(t)?h(t):t})}),n},p}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(218)],o=function(e){var t=new e;return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(326)],o=function(e){var t=Class.create(e,{WINDOW_WIDTH:650,WINDOW_HEIGHT:325,CALLBACK_PREFIX:"weebly_fb_auth_cb_",POPUP_URL:"/editor/fb_auth.php?cb={callback}&{params}"});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(7),n(234),n(27)],o=function(e,t,n,i){function o(e){t.Editor.RPC.User.doEvent(e),window.fireTrackingEvent("Event",e)}var r={},s={first_tip:"x-elements",selectTheme:"x-pages",tab_pages:"x-pages",secondPage:"x-pages-subpages",updatePages:"x-publish",addElement:"x-design"},a={};return e.each(s,function(e,t){a[e]=t}),r.hasDoneUserEvent=function(t){return"string"==typeof t?!!(window.isClientSite&&!window.isMaster||window.userEvents[t]||s[t]&&window.userEvents[s[t]]||a[t]&&window.userEvents[a[t]]):"object"==typeof t?e.every(t,function(e,t){return e?r.hasDoneUserEvent(t):!r.hasDoneUserEvent(t)}):void 0},r.showEvent=function(e){r.hasDoneUserEvent(e)||(i.show(e),window.userEvents[e]=1,r.markUserEventDone(e))},r.markUserEventDone=function(e){r.hasDoneUserEvent(e)||o(e),window.userEvents[e]=1},n.reqres.setHandlers({"userEvent:hasDoneUserEvent":r.hasDoneUserEvent}),n.commands.setHandlers({"userEvent:showEvent":r.showEvent}),window.showEvent=r.showEvent,window.hasDoneUserEvent=r.hasDoneUserEvent,window.markUserEventDone=r.markUserEventDone,r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(3),n(1),n(4),n(40),n(41),n(12),n(825)],o=function(e,t,n,i,o,s,a){var l=i.extend({template:n.compile(a),events:{"click .js-item":"clickHandler"},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("hovertip"),i=e.model.get("description");return{checked:function(){if("buttonDropdown"===e.model.get("special")){if(e.model.get("cfpid")){var t=e.model.get("value")||e.model.get("default");return this.value.toString()===t.toString()}var n=Weebly.Elements.uproperty.properties[62923320].property_result,i=Weebly.Elements.uproperty.properties[23060085].property_result;return this.name===n+" "+i}var t=e.model.get("value")||e.model.get("default");return!!t&&this.value.toString()===t.toString()},options:function(){return e.model.getOptions()},isButtonDropdown:"buttonDropdown"===e.model.get("special"),label:_W.utl(t),hovertip:!!n&&_W.utl(n),description:!!i&&_W.utl(i)}},onRender:function(){var e=i.prototype.onRender.call(this);if(!e){var t=this.model.get("special");"buttonDropdown"===t&&this.populateButtonDropdown()}},getValue:function(){var e=this.$el.find(":checked");return e.val()},clickHandler:function(e){var n=this,i=t(e.currentTarget).find("input[type=radio]");if(n.$el.find(":checked").prop("checked",!1),n.$el.find('[value= "'+i.val()+'"]').prop("checked",!0),"resetLink"===n.model.get("special")&&"text"===i.val())Weebly.Elements.uproperty.properties[s.FORM_CONFIRMATION_LINK_CFPID].property_result="<a>",Weebly.Elements.saveProperties();else if("buttonDropdown"===n.model.get("special")){if(n.model.get("cfpid"))return void n.saveValue();var o=i.val().indexOf("wsite-button-small")>-1?"small":"large",r=i.val().indexOf("wsite-button-normal")>-1?"normal":"highlight";window.setContentFieldProperty(Weebly.Elements.ucfid,"<!SIZE!>",o),window.setContentFieldProperty(Weebly.Elements.ucfid,"<!COLOR!>",r),Weebly.Elements.continueOnChange()}else n.saveValue()},populateButtonDropdown:function(){var e=this,n=e.$el.find(".wsite-button"),i=["border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-color","border-right-color","border-bottom-color","border-left-color","background-color","background-image","background-position","background-repeat","color","padding-top","padding-right","padding-bottom","padding-left","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","text-decoration","font-family","font-size","font-weight","text-shadow","box-shadow","line-height"],o=t(Weebly.Elements.currentElement);r.each(n,function(e){e=t(e);var n=t(e.clone()),s,a;o.append(n),s=t(e).find(".wsite-button-inner"),a=n.find(".wsite-button-inner"),r.each(i,function(t){s.css(t,a.css(t)),e.css(t,n.css(t))}),n.remove()})}});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(1),n(2),n(9)],o=function(e,t,n){var i=n.Model.extend({defaults:{video_type:null,video_url:"",video_id:null,loop:1,autoplay:1,mute:1,background_url:""},initialize:function(e,n){var i=t.result(e,"video_url","");if(!this.has("video_type")){var o=i.match(/youtube/)||i.match(/vimeo/);this.set("video_type",t.first(o)),this.setIdAndBackground()}"upload"===this.get("video_type")&&this.set("encoding_done",t.result(e,"encoding_done")!==!1)},reset:function(){return this.set(this.defaults),this},setIdAndBackground:function(){var e=this.get("video_type");switch(e){case"youtube":this.set("video_id",this.getYoutubeVideoId()),this.set("background_url","https://img.youtube.com/vi/"+this.get("video_id")+"/0.jpg");break;case"vimeo":this.set("video_id",this.getVimeoVideoId()),this.fetchVimeoBackground()}},fetchVimeoBackground:function(){var t=this,n="https://vimeo.com/api/v2/video/"+t.get("video_id")+".json";e.getJSON(n,function(e){t.set("background_url",e[0].thumbnail_large)})},getYoutubeVideoId:function(){var e=this.get("video_url"),t=e.match(/v=([a-zA-Z0-9_\-]+)/);return t?t[1]:null},getVimeoVideoId:function(){var e=this.get("video_url"),t=e.match(/\/([0-9]+)$/);return t?t[1]:null}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(107),n(668),n(863)],o=function(e,t,n,i){var o=t.Panel.extend({initialize:function(e){this.section=this.options.section},newLabelTpl:function(){return e.render(i)},renderOptions:function(){this.dialog=this.panelSwitcher.dialog.comboDialog;var e=new n({panelType:this.value,dialog:this.dialog,section:this.section,showAlignment:this.options.showAlignment,fallbackAlignment:this.options.fallbackAlignment,baseSetting:this.options.baseSetting,showSaveToPages:this.options.showSaveToPages});this.$(".bgpanel__body").append(e.render().$el)},renderContent:function(e){e.html('<div class="bgpanel__body"></div>'),this.renderOptions()},hideNewLabels:function(){this.trigger("section:switcher:panel:labels:hide")}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(7),n(91),n(126),n(24),n(150),n(35),n(433),n(353),n(13),n(29),n(200),n(32),n(74)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){function f(){return getComputedStyle(y.getCurrentHeaderElement())}function m(){var e=f(),t=e["max-height"];t&&"none"!==t||(t=e.height),t=t.length&&t.indexOf("%")===-1?parseInt(t,10):void 0;var n=e["max-width"];return n&&"none"!==n||(n=e.width),n=n.length&&n.indexOf("%")===-1?parseInt(n,10):void 0,{height:t,width:n}}function g(e){return 0===e.indexOf("http")&&(e="/"+e.split("/").slice(3).join("/")),e}function v(e){var t=e.data;return t?t.type?t.image&&t.image.editorUrl:t.is_slideshow?null:e.url:null}function b(e){return e.type?"slideshow"===e.type:e.is_slideshow}function w(){u.chromeless||(E&&E.destroy(),_.length&&r.getCurrentThemeData(a.isMobileView).done(function(o){var r=i.getCurrentHeader(),s=m(),u=!1;E=new l({currentHeader:r,targetElement:_,appendToElement:t("#_editor-ui"),allowPageTypes:!a.isMobileView&&!d.themeSupportsSections(o),allowSlideshow:!a.isMobileView,allowNewImage:!0,allowReset:!0,position:"topright",height:s.height,width:s.width,editCallback:function(t){return t=t||{},t.forceSlideshow&&!e.Restrictions.hasAccess("slideshow_header")?void n.request("billing:upgrade:prompt",{restrictionID:"slideshow_header",restrictionType:"feature",refer:"main"}):("image"===r.data.type&&(r.data.image.originalUrl||(r.data.image.originalUrl=y.getHeaderImageUrl()),r.data.image.editedUrl||(r.data.image.editedUrl=r.data.image.originalUrl),r.data.image.editorUrl||(r.data.image.editorUrl=r.data.image.editedUrl),r.data.image.publishedUrl||(r.data.image.publishedUrl=r.data.image.editorUrl)),t.mode="header",t.header={data:r,element:_[0]},t.imageEditorData=t.imageEditorData||r.data,u=!0,void h.edit(t).always(function(){u=!1,t.forceSlideshow&&c.reset()}).done(function(e){y.setCurrentHeaderImage(e)}))},getIsEditing:function(){return u}}).on({"click:reset":function(){var n=t("#wsite-com-area-category").attr("data-id");this.hide(),p.confirm({parent:"#_editor-ui ._editor-ui__framework",outerClassName:"modal--transparent",isModalLight:!1,message:e.utl("javascript.editor.slideshow-editor.header_reset_message"),proceedButton:{text:e.utl("javascript.editor.slideshow-editor.header_reset_ok"),className:"btn--destructive"},cancelButton:{text:e.utl("html.weebly.slideshow-editor.js.he_11")},isModal:!0,isPositionFixed:!0}).then(e.Editor.RPC.ImageEditor.resetHeaderImage.bind(e.Editor.RPC.ImageEditor,window.currentTheme,window.currentPage,r.id||"",n,!1)).done(function(e){y.setCurrentHeaderImage(e)})}}),E.render()}))}var y={},_=t();y.reportHeaderElement=function(e){_=t(e)},y.getCurrentHeaderElement=function(){return _[0]},y.getHeaderImageUrl=function(){var e=_.css("background-image").match(/url\(['"]?([^'"]*)['"]?\)/),t=e?e[1]:"";return g(t)},y.setCurrentHeaderImage=function(n,l){var u=a.isMobileView,d;c.clearHeaderSlideshow(),n||(n={}),n.data||(n.data={});var h=n.data;h.type&&"image"===h.type&&!h.image&&(h.image={});var p=h.image,f=v(n);return u&&(f||(d=r.getCurrentThemeData(u).done(function(e){var t=o.getPageType(currentPage,e);f=s.getHeaderPlaceholder(t),h.type?p.editorUrl=f:n.url=f})),_.css({height:""})),t.when(d).done(function(){b(h)?c.updateHeaderSlideshow(h.slideshow):f?u?(_.css({height:"auto","min-height":"0",background:"none"}),_.html('<img src="'+f+'" style="width:100%;height:auto;display:block;">')):_.css({backgroundImage:"url("+f+")",backgroundPosition:n.id?"0 0":""}):(_.css({background:"",backgroundImage:"",backgroundPosition:"",height:""}),_.empty()),i.setCurrentHeader(n),e.Permissions.allow_header_editing&&w(u),l||updateFooterAttribution()})};var E;return y}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(206)],o=function(e){e.widget("ui.resizable",e.ui.resizable,{_mouseCapture:function(t){var n,i=!1;for(n in this.handles)this.handles[n].each(function(n,o){(o===t.target||e.contains(o,t.target))&&(i=!0)});return!this.options.disabled&&i}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,function(e,t,n){var i,o,r;!function(s){o=[n(1),n(55),n(81),n(43)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return i=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(o=!0)}),!o))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=e.left,s=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&i+c<l,h="y"===this.options.axis||t+u>r&&t+u<s,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!i&&(this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,o,r,s,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(r=e(c[i],this.document[0]),o=r.length-1;o>=0;o--)s=e.data(r[o],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(o=e(h[n],this.document[0]),i=o.length-1;i>=0;i--)r=e.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(d.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,c=a.length;i<c;i++)l=e(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===i?t._createTrPlaceholder(t.currentItem,o):"img"===i&&o.attr("src",t.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(e,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,o,r,s,a,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),
this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,u=h.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,t[d]-l>this.items[i][a]/2&&(c=!0),Math.abs(t[d]-l)<o&&(o=Math.abs(t[d]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],n=e(o.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(t){var n,i,o=this.options,r=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<o.length;i++)o[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})},,function(e,t,n){var i,o;i=[n(5),n(1),n(13)],o=function(e,t,n){var i="SLIDE_RIGHT",o="SLIDE_DOWN",r="SLIDE_STATIC",s=60,a=!1,l=!1,c=!1,u=null,d=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i),h="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,p=0,f=r,m,g,v,b=function(e,t,n,i){n||(n=500),e.css({webkitTransitionDuration:n+"ms",webkitTransitionProperty:t,webkitTransitionTimingFunction:"linear"});var o=function(){e.off("webkitTransitionEnd",o),e.css({webkitTransitionDuration:"",webkitTransitionProperty:"",webkitTransitionTimingFunction:""}),i()};e.on("webkitTransitionEnd",o)},w=function(e,t,n,i,o){i||(i=500),h?(e.css({webkitTransitionDuration:"0ms"}),e.css(t),setTimeout(function(){b(e,"all",i,o);var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);e.css(t)},0)):(n.avoidCSSTransitions=!0,e.animate(n,{duration:i,complete:o}))},y=function(){var e=m.outerHeight(),n,r,u,g;if(!l){a=!a,l=!0,a&&v.addClass("menu-open");var b=function(){l=!1,a||v.removeClass("menu-open")};if(f===o)a?(n=-e-10,r=0):(n=0,r=-e-10),u={"-webkit-transform":"translate3d( 0px, "+n+"px, 0)"},g={"-webkit-transform":"translate3d( 0px, "+r+"px, 0)"},h||(u={top:p+n+"px"},g={top:p+r+"px"}),w(m,u,g,300,b);else if(f===i){var y=t("#wsite-page-wrapper");b=function(){l=!1,a?y.one("click",R):(v.removeClass("menu-open"),m.hide(),v.css("overflow-x","visible"),t("#wsite-viewport").css({overflow:"visible",height:""}),y.css({background:"none",height:""})),C(),a||t(".wsite-background").show()};var _=0;if(a){n="0%",r="80%";var E=t(".wsite-background");0===E.length&&(E=v);var S=d?s:0,I=t(window);y.css({"background-color":E.css("background-color")||"white","background-image":E.css("background-image"),"background-position":E.css("background-position"),"background-size":E.css("background-size"),"background-repeat":E.css("background-repeat"),"background-clip":E.css("background-clip"),height:Math.max(E.height(),I.height()+S)+"px"}),E.css("background-image").length>0&&h&&c&&(_=260),E!==v&&E.hide(),v.css({"overflow-x":"hidden"}),setTimeout(function(){m.show()},_)}else n="80%",r="0%";u={"-webkit-transform":"translate3d("+n+", 0px, 0)"},g={"-webkit-transform":"translate3d("+r+", 0px, 0)"},h||(u={left:n},g={left:r}),setTimeout(function(){w(y,u,g,300,b)},_)}T()}},_=function(e,n,i){var o=t(".wsite-animation-wrap",g),r=i?1:-1;if(!l){l=!0;var s=Math.max(n.outerHeight(),e.outerHeight());g.css({height:s+"px"}),C();var a=g.width(),c=-r*a+"px",u={"-webkit-transform":"translate3d( 0, 0px, 0)"},d={"-webkit-transform":"translate3d("+c+", 0px, 0)"};h?n.css({"-webkit-transform":"translate3d("+r*a+"px, 0px, 0)"}):(n.css({left:r*a+"px"}),u={left:0},d={left:c}),n.show();var p=function(){e.hide();var t=n.outerHeight();g.css({height:t+"px"}),o.css(u),n.css(u),l=!1,C()};w(o,u,d,300,p)}},E=function(e,n){e.on("touchstart",n,function(){t(this).addClass("active")}),e.on("touchend",n,function(){t(this).removeClass("active")})},T=function(){var n=d?s:0,o=t(window);if(f==i&&a){m.height("auto");var r=Math.max(o.height()+n,m.outerHeight());t("#wsite-viewport").css({height:r+"px"}),t("#wsite-viewport").css({overflow:"visible"}),setTimeout(function(){t("#wsite-viewport").css({overflow:"hidden"})},150),m.height()<r&&m.css("height",r+"px"),t("#wsite-page-wrapper").css("height",r+"px")}if(!e.EDITOR){var l=o.height()+n;t(".wsite-background").css({height:l+"px"})}},C=function(){var e=t(window).height();d&&(e+=s);var n=t(".wsite-mobile-footer");S(),T(),n.css({top:"0px"});var i=n.position();i&&(e-=i.top,e-=n.outerHeight(!0),e>0&&n.css({position:"relative",top:e+"px"}))},S=function(){if(g){var e=g.find(".wsite-menu-slide:visible").outerHeight();if(e>0&&g.css({height:e+"px"}),f===o){var t=m.outerHeight(),n;n=a?0:-t-10,h?m.css({"-webkit-transform":"translate3d( 0px, "+n+"px, 0)","-webkit-backface-visibility":"hidden"}):m.css({top:p+n+"px"})}}},I=function(){var e=window.DocumentTouch;v=t("body"),("ontouchstart"in window||e&&document instanceof e)&&(v.removeClass("no-touch"),v.addClass("touch"),c=!0)},O=function(){var e=t(".wsite-menu-default");if(!e.closest(".wsite-mobile-menu").length){var i=t(".wsite-menu-wrap"),o=t(".wsite-menu-button");e.wrap('<div class="wsite-mobile-menu" />'),g=e.closest(".wsite-mobile-menu"),m=e.closest(".wsite-menu-wrapper"),m=m.length>0?m:g,a=!1,l=!1,n.chromeless||o.on("click",y);var r={position:"absolute",top:"0",left:"0",width:"100%"};e.addClass("wsite-menu-slide").css(r),i.addClass("wsite-menu-slide").css(r),e.css({left:"0"}),h&&e.css({"-webkit-transform":"translate3d( 0, 0px, 0)"}),g.append('<div class="wsite-animation-wrap"></div>');var s=t(".wsite-animation-wrap",g);s.css({position:"relative"}),h&&s.css({"-webkit-backface-visibility":"hidden"}),s.append(e),i.each(function(){var e=t(this),n=e.prev(),i=e.children("ul"),o=e.parents(".wsite-menu-slide"),r=t('<li class="wsite-menu-back-item"><a><span class="wsite-menu-mobile-arrow"></span><span class="wsite-menu-back">Back</span></a></li>');r.on("click",function(){_(e,o,!1)});var a=n.clone(!0),l=t('<li class="wsite-menu-master-item"></li>').html(a);i.prepend(l),i.prepend(r),n.removeAttr("href").removeAttr("onclick"),n.append('<span class="wsite-menu-mobile-arrow"></span>'),n.off("click").on("click",function(){_(o,e,!0)}),e.css({left:"0"}),h&&e.css({"-webkit-transform":"translate3d( 0, 0px, 0)"}),s.append(e)}),g.css({display:"block"}),m.css({display:"block"}),v.hasClass("wsite-menu-dropdown")?x():v.hasClass("wsite-menu-slideright")&&D(),S(),c&&(E(t(".wsite-home-link")),E(o),E(g,"a"))}},D=function(){f=i;var e=v.contents();v.prepend('<div id="wsite-viewport" ><div id="wsite-page-wrapper" /></div>');for(var n=t("#wsite-page-wrapper"),o=0;o<e.length;o++){var r=e[o];n[0].appendChild(r)}n.css({position:"relative",background:"none","z-index":"3",left:"0",top:"0"}),h&&n.css({"-webkit-backface-visibility":"hidden","-webkit-transform":"translate3d( 0, 0, 0)"}),m.css({top:"0",left:"0","min-height":"100%",width:"80%",position:"absolute"}),m.hide(),v.find("#wsite-viewport").css({height:"",width:"100%"}).append(m)},x=function(){f=o,m.css({position:"absolute",width:"100%","z-index":6});var e=m.position();p=e?e.top:0;var t=-m.outerHeight()-10;h?m.css({"-webkit-transform":"translate3d( 0px, "+t+"px, 0)","-webkit-backface-visibility":"hidden"}):m.css({top:p+t+"px"})},k=function(){var e=t(".wmap-container");e.find("iframe").css({height:u+"px"}),u=null},R=function(){return a&&y(null),!1},P=function(){v=t("body"),v.hasClass("wsite-render3d")||(h=!1),O()};e.EDITOR||(t(window).on("message",function(e){e.origin&&e.origin.indexOf("weebly.com")!==-1&&(u=e.data,document.loaded&&k())}),t(function(){I(),P(),window.FastClick&&(window.FastClick.attach(t(".wsite-menu-button")[0]),window.FastClick.attach(t(".wsite-mobile-menu")[0])),null!==u&&k(),t(window).on("resize",C),C(),window.scroll(0,1),t(window).load(C)})),window.Weebly||(window.Weebly={});var A={init:P,resizeScreen:C,resizeMenu:S,menuTap:y,closeMenu:R};return e.mobile_navigation=A,A}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(22),n(2),n(13),n(4),n(9),n(14),n(6),n(7),n(196),n(91),n(279),n(177),n(34)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h){function p(){E=t("weeblyfootertext"),C=t("weeblyfooterattribution")}function f(e){var t=[];if(!e||!e.data)return t;var n;n="slideshow"===e.data.type?e.data.slideshow.slides:[e.data.image],n&&n.forEach(function(e){e&&e.pageUrl&&e.creator&&t.push("<a href='"+e.pageUrl+"' target='_blank'>"+e.creator+"</a>")})}function m(e){var t=[];return $H(e).each(function(e){var n=e[1];if(n)for(var i=Object.isArray(n)?n:[n],o=0;o<i.length;o++){var r=i[o];r&&r.url&&r.author&&t.push("<a href='"+r.url+"' target='_blank'>"+r.author+"</a>")}}),t}function g(e){var t=[];return n.each(e,function(e){if(e){e instanceof r.Model&&(e=e.toJSON());var n=e.origImage||e.image;if(n){var i=n.attributionUrl,o=n.attributionAuthor;i&&o&&t.push("<a href='"+i+"' target='_blank'>"+o+"</a>")}}}),t}function v(e){return e=e.uniq(),e.length?(1==e.length?_W.utl("html.weebly.libraries.weebly_footer_6"):_W.utl("html.weebly.libraries.weebly_footer_7"))+" "+e.join(", "):""}function b(){new window.Ajax.Request(c.ajax,{parameters:{pos:"hidefooter",siteid:window.currentSite,cookie:document.cookie},onFailure:c.errFunc,bgRequest:!0})}var w={},y=_W.utl("html.weebly.libraries.weebly_footer_1"),_=_W.utl("html.weebly.libraries.weebly_footer_2"),E,T=!1,C,S,I;return w.updateFooter=function(){void 0===S?(S=Weebly.initialFooterText,I=Weebly.initialFooterTextShown):Weebly.Restrictions.hasAccess("edit_footer")&&(I=!1),p(),w.updateFooterText(S),w.updateFooterTextShown(I),w.updateFooterAttribution(),e(".wsite-version-web").on("click",function(e){window.Pages.go("webView")})},w.updateFooterText=function(e){var n;if(S=e,Weebly.Restrictions.hasAccess("edit_footer")&&S||(Weebly.Restrictions.isClientSite||(S=y),E&&(Weebly.view.isMobileView?E.style.display="block":E.style.display="inline")),E){if(S==y)if(Weebly.view.isMobileView||i.chromeless)i.chromeless?E.innerHTML=o.render("<div id='weebly-empty-footer' class='wsite-footer' style='position: relative;'><span class='weebly-empty-footer-message empty-element-message'>"+_W.utl("html.weebly.libraries.weebly_footer_12")+"</span></div>"):E.innerHTML=_;else{var r="";if(window.Weebly&&window.Weebly.Reseller&&window.Weebly.Reseller.isResellerUser)switch(window.Weebly.Reseller.brandPreference){case"weebly":r=_W.utl("html.weebly.libraries.weebly_footer_8")+"<div class='w-ui' style='display: inline-block; margin-left: 15px;'><button class='btn-flat btn-flat-outline btn-flat-light' style='color: #2990ea;'>"+_W.utl("html.weebly.libraries.weebly_footer_13")+"</button></div>";break;case"cobranded":var s=_W.utl("html.weebly.libraries.weebly_footer_9");s=s.replace("{{brand_name}}",Weebly.Reseller.resellerName),r=s+"<div class='w-ui' style='display: inline-block; margin-left: 15px;'><button class='btn-flat btn-flat-outline btn-flat-light' style='color: #2990ea;'>"+_W.utl("html.weebly.libraries.weebly_footer_14")+"</button></div>";break;case"whitelabeled":default:r=_W.utl("html.weebly.libraries.weebly_footer_10")}else r=_W.utl("html.weebly.libraries.weebly_footer_11")+"<div class='w-ui' style='display: inline-block; margin-left: 15px;'><button class='btn-flat btn-flat-outline btn-flat-light' style='color: #2990ea;'>"+_W.utl("html.weebly.libraries.weebly_footer_14")+"</button></div>";E.innerHTML=o.render('<div id="weebly-empty-footer" class="wsite-footer" style="position: relative;"><span class="weebly-empty-footer-message empty-element-message">'+r+'</span><div class="wsite-spotlight-cover" style="cursor: pointer;"><div class="wsite-spotlight-cover-inner"></div></div></div>')}else E.innerHTML=S;if(Weebly.Restrictions.hasAccess("show_footer_removebutton")){var a=function(e){w.updateFooterTextShown(!1),b(),e.stopPropagation(),Weebly.view.isMobileView&&Weebly.mobile_navigation.resizeScreen()},c=function(e){window.alertProFeatures("Please sign-up for a pro account to remove the Weebly footer link","main"),e.stopPropagation()};Weebly.Restrictions.hasAccess("edit_footer")?E.insert(new Element("a",{href:"#",class:"wsite-remove-footer-button"}).update(_W.utl("html.weebly.libraries.weebly_footer_4")).observe("click",function(e){w.updateFooterTextShown(!1),b(),e.stop()})):(n=t("weebly-empty-footer"),n?n.observe("click",function(e){l.execute("editor:show:dialog",{element_id:"edit_footer",restrictionType:"feature"}),e.stop()}):E.insert(new Element("a",{href:"#",class:"wsite-edit-footer-button"}).update(_W.utl("html.weebly.libraries.weebly_footer_5")).observe("click",function(e){l.execute("editor:show:dialog",{element_id:"edit_footer",restrictionType:"feature"}),e.stop()})))}}},w.updateFooterTextShown=function(t){if(I=t,Weebly.Restrictions.hasAccess("edit_footer")||(I=!0),E){var n=e(E);Weebly.view.isMobileView&&I?(n.find(".wmobile-footer-custom").show(),n.find(".wmobile-app-callout").show()):Weebly.view.isMobileView&&!I?(n.find(".wmobile-footer-custom").hide(),n.find(".wmobile-app-callout").hide()):I?Weebly.view.isMobileView?E.style.display="block":E.style.display="inline":E.style.display="none"}},w.updateFooterAttribution=function(){var e=[],t=u.getCurrentHeader(),n=h.getCurrentHeaderElement();t&&n&&"no-header"!=window.currentPageType&&(e=e.concat(f(t))),Weebly.pageContext.attribution&&(e=e.concat(m(Weebly.pageContext.attribution))),Weebly.siteContext.attribution&&(e=e.concat(m(Weebly.siteContext.attribution)))},w.setContentFieldAttribution=function(e,t){e in Weebly.pageContext.contentFieldsByID?Weebly.pageContext.attribution[e]=t:e in Weebly.siteContext.contentFieldsByID&&(Weebly.siteContext.attribution[e]=t)},window.updateFooter=w.updateFooter,window.updateFooterText=w.updateFooterText,window.updateFooterTextShown=w.updateFooterTextShown,window.updateFooterAttribution=w.updateFooterAttribution,window.setContentFieldAttribution=w.setContentFieldAttribution,w}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(18),n(312)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"Coupon",state:{pageSize:10},setSearchText:function(e){if(e)this.searchQuery?this.searchQuery.value="%"+e+"%":(this.searchQuery={property:"code",comparison:"LIKE",value:"%"+e+"%"},this.fetchOptions.filter.push(this.searchQuery));else if(this.searchQuery){var t=this.fetchOptions.filter.indexOf(this.searchQuery);this.fetchOptions.filter.splice(t,1),this.searchQuery=null}},sortByValues:function(e){return this.fetchOptions.sort=e,this.fetch()},fetch:function(t){return t=t?e.extend({},this.fetchOptions,t):this.fetchOptions,o.fetch.call(this,t)}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,function(e,t,n){var i,o;i=[n(5)],o=function(e){var t={customerLocale:e.customerLocale,storeCurrency:e.storeCurrency,setCustomerLocale:function(e){this.customerLocale=e},setStoreCurrency:function(e){this.storeCurrency=e}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(9),n(154),n(135)],o=function(e,t,n,i){var o=window,r=i,s=r.prototype,a={};n.Relational.store.addModelScope(a);var l=r.extend({_class:this.className,initialize:function(n,i){i=e.extend({view:"list"},i);var o=this.fetchOptions=t.pick(i,"filter","sort","searchText","view");return this.constructor.addSiteFilter(o),s.initialize.apply(this,arguments)},fetch:function(t){return t=e.extend({},this.fetchOptions,t),s.fetch.call(this,t)},setSearchText:function(e){this.fetchOptions.searchText=e||null},state:{pageSize:25},queryParams:{pageSize:"limit",totalRecords:"total"},parseState:function(e){return{totalRecords:e.total}},parseRecords:function(e){return e.data},parseLinks:function(e){var t=this.state,n=t.currentPage,i=t.pageSize*n;return{first:"#1",prev:n>1&&"#"+(n-1),next:i<e.total&&"#"+(n+1)}}},{addSiteFilter:function(e){e.filter||(e.filter=[]),this.prototype.userKey&&!t.findWhere(e.filter,{property:this.prototype.userKey})&&e.filter.push({property:this.prototype.userKey,value:e[this.prototype.userKey]||this.prototype.userValue||o[this.prototype.userKey]}),this.prototype.siteKey&&!t.findWhere(e.filter,{property:this.prototype.siteKey})&&e.filter.push({property:this.prototype.siteKey,value:o.com_currentSite})},count:function(t){t=e.extend({},t),this.addSiteFilter(t);var n=this.prototype.useServerGeneratedDefaultsFor;return this.prototype.rpc.count(t)}});return l.extendBase=function(e){return r.extend.call(this,e)},l.extend=function(e,n,i){var o=r.extend.call(this,t.extend(e,i?i[e.useServerGeneratedDefaultsFor]:{}),n),s=e._class;return s&&(s=s.split("."),s=s[s.length-1],a[s+"Collection"]=o),o},l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(142),n(48)],o=function(e,t,n,i){"use strict";function o(n){switch(typeof n){case"boolean":case"undefined":case"number":case"string":case"PixelArray":case"ImageData":case"Blob":case"File":return n;case"function":return window.W_DEBUG&&console.warn("Removed function from postMessage message:",n),null}return t.isNull(n)?n:t.isArray(n)?t.map(n,o):e.isPlainObject(n)?n.overrideMimeType&&n.readyState&&n.status?null:(window.W_DEBUG&&i.isCyclic(n)&&console.warn("Tried to clone cyclic object in postMessage",n),t.chain(n).clone().each(r).value()):(window.W_DEBUG&&console.warn("Removed the following object from postMessage message:",n),null)}function r(e,t,n){n[t]=o(e)}var s;try{s=!0,window.postMessage({toString:function(){s=!1}},"*")}catch(e){}var a=function(e){this.targetOrigin=e};a.prototype.outgoingQueue=[],a.prototype.outgoingWindow=null,a.prototype.outgoingChannel=null,a.prototype.outgoingDeferreds={},a.prototype.incomingChannel=null;var l=1;return a.prototype.runOutgoingQueue=function(){for(var e=this.outgoingQueue.length,t,n=0;n<e;n++)t=this.outgoingQueue.shift(),this.postMessage.apply(this,t)},a.prototype.setReqResState=function(e,t){var n=this.outgoingDeferreds[t.uid];n&&(n[e].apply(n,t.value),delete this.outgoingDeferreds[t.uid])},a.prototype.postMessage=function(e,n,i,r){var a={messenger:e,name:n,args:t.map(i,o),uid:l++};return this.outgoingWindow.postMessage&&this.outgoingReady?(r&&(this.outgoingDeferreds[a.uid]=r),s||(a=JSON.stringify(a)),void this.outgoingWindow.postMessage(a,this.targetOrigin)):void this.outgoingQueue.push(t.toArray(arguments))},a.prototype.listener=function(i){var o=this;if(i.origin===o.targetOrigin&&i.source===o.outgoingWindow){var r=i.data;s||(r=JSON.parse(r));var a=r.messenger,l=r.name,c=r.args,u=r.uid;if(a&&l){var d;switch(a){case"vent":d=o.incomingChannel.vent.trigger;break;case"commands":d=o.incomingChannel.commands.execute;break;case"reqres":d=o.incomingChannel.reqres.request;break;default:return}c||(c=[]),c.unshift(l);try{var h=d.apply(o.incomingChannel[a],c);"reqres"===a&&e.when(h).done(function(){var e=t.toArray(arguments);o.outgoingChannel.commands.execute("reqres:resolve",{value:e,uid:u})}).fail(function(){var e=t.toArray(arguments);o.outgoingChannel.commands.execute("reqres:reject",{value:e,uid:u})})}catch(e){n.captureException(e),console.error(e.stack),"reqres"===a&&o.outgoingChannel.commands.execute("reqres:reject",{value:[e.message],uid:u})}}}},a.prototype.readyPing=null,a.prototype.outgoingReady=!1,a.prototype.numPings=0,a.prototype.maxPings=120,a.prototype.pingInterval=500,a.prototype.setup=function(i,o,r){var a=this,l=e.Deferred();a.incomingChannel=i,a.incomingChannel.commands.setHandlers({"reqres:resolve":t.partial(a.setReqResState.bind(a),"resolve"),"reqres:reject":t.partial(a.setReqResState.bind(a),"reject")}),a.incomingChannel.vent.once("ready",function(){a.outgoingReady=!0}),a.boundListener=a.listener.bind(a),window.addEventListener("message",a.boundListener),a.outgoingWindow=o,a.outgoingChannel=r,a.outgoingChannel.vent.trigger=function(){var e=t.toArray(arguments),n=e.shift();return a.postMessage("vent",n,e),a.outgoingChannel.vent},a.outgoingChannel.commands.execute=function(){var e=t.toArray(arguments),n=e.shift();a.postMessage("commands",n,e)},a.outgoingChannel.reqres.request=function(){var n=t.toArray(arguments),i=n.shift(),o=e.Deferred();return a.postMessage("reqres",i,n,o),o.promise()};var c={messenger:"vent",name:"ready"};return s||(c=JSON.stringify(c)),a.readyPing=setInterval(function(){++a.numPings>a.maxPings&&(clearInterval(a.readyPing),a.readyPing=null,l.reject()),a.outgoingReady&&(clearInterval(a.readyPing),a.readyPing=null,a.runOutgoingQueue(),l.resolve());try{a.outgoingWindow.postMessage(c,a.targetOrigin)}catch(e){n.captureMessage("Exception during handshake: "+e.message,{level:"info"})}},a.pingInterval),l.promise()},a.prototype.destroy=function(){clearInterval(this.readyPing),window.removeEventListener("message",this.boundListener)},a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(3)],o=function(e,t){"use strict";var n=function(){var n=this.incoming={vent:new t.Wreqr.EventAggregator,reqres:new t.Wreqr.RequestResponse,commands:new t.Wreqr.Commands},i=this.outgoing={vent:new t.Wreqr.EventAggregator,reqres:new t.Wreqr.RequestResponse,commands:new t.Wreqr.Commands};this.on=e.bind(n.vent.on,n.vent),this.off=e.bind(n.vent.off,n.vent),this.once=e.bind(n.vent.once,n.vent),this.reqres={request:this.request,setHandler:e.bind(n.reqres.setHandler,n.reqres),setHandlers:e.bind(n.reqres.setHandlers,n.reqres),removeHandler:e.bind(n.reqres.removeHandler,n.reqres),removeHandlers:e.bind(n.reqres.removeHandlers,n.reqres),removeAllHandlers:e.bind(n.reqres.removeAllHandlers,n.reqres)},this.commands={execute:this.execute,setHandler:e.bind(n.commands.setHandler,n.commands),setHandlers:e.bind(n.commands.setHandlers,n.commands),removeHandler:e.bind(n.commands.removeHandler,n.commands),removeHandlers:e.bind(n.commands.removeHandlers,n.commands),removeAllHandlers:e.bind(n.commands.removeAllHandlers,n.commands)}};return n.prototype.trigger=function(){return this.outgoing.vent.trigger.apply(this.outgoing.vent,arguments)},n.prototype.request=function(){return this.outgoing.reqres.request.apply(this.outgoing.reqres,arguments)},n.prototype.execute=function(){return this.outgoing.commands.execute.apply(this.outgoing.commands,arguments)},n.prototype.ajax=function(){return Array.prototype.unshift.call(arguments,"ajax:request"),this.request.apply(this,arguments)},n.prototype.RPC=function(){return Array.prototype.unshift.call(arguments,"ajax:rpc"),this.request.apply(this,arguments)},n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(737)],o=function(e){var t=e.Marionette.Module.extend({ajax:window.ajax,errFunc:window.errFunc,exceptionFunc:window.exceptionFunc,startWait:window.startWait,endWait:window.endWait});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(14),n(7),n(23),n(45),n(28),n(153),n(27)],o=function(e,t,n,i,o,r,s,a,l){function c(t){var r=t[0].id.replace("inside_","");n.vent.trigger("editor:saving"),Weebly.Editor.RPC.Elements.removeElement(r).done(function(){n.vent.trigger("editor:saved").trigger("editor:element:delete:after"),i.vent.trigger("editor:element:delete:after"),o.trigger("editor:element:delete:after",r)}).fail(function(t){e(".inside-inactive").removeClass("inside-inactive"),window.showError(t)})}function u(t){return t.find(".wsite-multicol-col[id$=lhs], .weebly-splitpane-2, .wsite-multicol-col").filter(function(){return e(this).closest("li.inside").is(t)}).length>0}function d(e){return e.find(".platform-element-child").length>0;
}function h(e){return!!e.find("li.inside").length}function p(e){var t=e.find(".formlist").eq(0);if(t.length){var n=e.find(".columnlist").eq(0);return!n.length||t.parents().length<n.parents().length}return!1}var f={scriptSrc:[],scriptId:[],runIncludedScripts:function(n){if(n&&t.each(n,function(e,t){f.scriptId.push(t),f.scriptSrc.push(e)}),f.scriptId.length&&f.scriptSrc.length){var i=f.scriptId.pop(),o=f.scriptSrc.pop(),r=i.replace(/scriptInclude/,""),s=document.getElementById(i).contentWindow.document,a="",l;o.indexOf("<%HEAD%>")>-1&&(l=[],l=o.split("<%HEAD%>"),o=l[1],a=l[0]);var c="";o.indexOf("<%BODY%>")>-1&&(l=[],l=o.split("<%BODY%>"),o=l[1],c=l[0]);var u="<html><head> "+a+' </head><body style=" margin: 0px; padding: 0px; background-color: transparent;" onload="parent.resizeMe();'+c+'" onClick="parent.clickHandler(event, \''+r+"');\"> "+o+'<script type="text/javascript">parent.resizeMe("'+i+'");parent.setInterval("resizeMe(\''+i+"');\", 250);</script></body></html>";if(s.write(u),!e("#"+i+"-coverbox").length){var d=e("#"+i);e("<div/>",{id:i+"-coverbox"}).css({position:"absolute",overflow:"hidden",background:"transparent",top:"17px",left:"0px",height:d.css("height"),width:d.css("width")}).appendTo(d.parent())}f.runIncludedScripts()}},resizeMe:function(t){var n=e("#"+t);if(n.length){var o=n[0].contentWindow.document,r,s=e(o.body).find("iframe");if(r=s.length>0?s.first().height():o.body.offsetHeight,r!=n.css("height").replace(/px/,"")){n.css("height",r+"px");var a=e("#"+t+"-coverbox");a.length&&a.css("height",r+"px"),i.vent.trigger("scriptFrameResized")}}},deleteWeeblyElement:function(t,n,i){t=e(t),t.length&&(!h(t)||p(t)||u(t)||d(t)?n?c(t):window.showConfirm({title:window._W.utl("javascript.editor.build.elements.utils_3"),message:i||window._W.utl("javascript.editor.build.elements.utils_4"),okText:window._W.utl("javascript.editor.build.elements.utils_5"),onConfirm:function(){c(t)},onCancel:function(){t.removeClass("inside-inactive")}}):t.hasClass("wsite-multicol-li")?(window.showWarning(window._W.utl("javascript.editor.build.elements.utils_1"),{okButton:!0}),t.removeClass("inside-inactive")):window.showWarning(window._W.utl("javascript.editor.build.elements.utils_2"),{okButton:!0}))},moveElementObject:function(e,n,i,o,a,l,c){var u=r.getElementObject(e),d,h,p=u.elData,f=p.area,m=p.parentString,g;p.parent?g=r.getElementObject(p.parent.id):p.parentColumn&&(g=r.getElementObject(p.parentColumn.el.id));var v=s.getAreaInstanceFromParent(f.is_site_wide,f.type,f.name,f.parentString),b=s.getAreaInstanceFromParent(i.is_site_wide,i.type,i.name,i.parentString),w;v.sections&&(w=v.getSectionFromElementId(e).get("section_id"));var y;y=m&&g?r.getElementSiblings(m,g):v.getElements(w);var _=y.indexOf(u);y.splice(_,1);var E;n&&l?(l=r.getElementObject(l),E=r.getElementSiblings(n,l)):E=b.getElements(c),o?(d=r.getElementObject(o),h=E.indexOf(d),h+="after"===a?1:0):h=0,E.splice(h,0,u);var T=v.context,C=b.context;T!==C&&(delete T.elementsByID[u.id],C.elementsByID[u.id]=u,t.each(u.content_fields,function(e,t){delete T.contentFieldsByID[t],C.contentFieldsByID[t]=e}))}};return window.resizeMe=f.resizeMe,f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(28),n(26),n(97),n(325),n(12),n(7),n(361)],o=function(e,t,n,i,o,r,s,a,l){function c(){return A||(A=e(document)),A}function u(){return N||(N=e("body")),N}function d(){return D?D:D=o.getScrollContainer()}function h(){return d()[0]===window?u():D}function p(n,o){window.isDraggingElement=!0,R=this,r.disable(),e(this).trigger("dragstart:before",o),S=o.originalPosition.top,I=o.originalPosition.left,h().addClass("no-hovering");var c=o.elementObject;c&&c.startDrag&&c.startDrag(n,o);var u=!1;t.each(Weebly.pageContext.elementsByID,function(e){e.eid==a.CONTENT_AREA_ELEMENT_ID&&(u=!0)}),t.each(Weebly.siteContext.elementsByID,function(e){e.eid==a.CONTENT_AREA_ELEMENT_ID&&(u=!0)}),u&&(i.clearPageDataCache(),s.buildDroppableEdges());var d=c?c.id||c.eid:null;l.trigger("dragstart",d),M.vent.trigger("dragstart",d)}function f(){var t={helper:this};return e(this).trigger("draghelper",t),C=t.helper}function m(e){(e.x||e.y)&&(x=setInterval(function(){M.vent.trigger("scrollBy",e.x,e.y,K),l.trigger("scrollBy",e.x,e.y,K)},10))}function g(){clearInterval(x),x=null}function v(t,n){var i=this,o=h().offset(),r=o.top,l=o.left,u=l+D.outerWidth(),d=r+D.outerHeight(),p={left:c().scrollLeft(),top:c().scrollTop()};g();var f={x:0,y:0},v=t.pageX-p.left,w=t.pageY-p.top,y=0;if(e("#_editor-ui").length&&(y=e("#_editor-ui").offset().top),v<l+k&&(f.x=v-l-k),w<r+k&&(f.y=w-r-k),v>u-k&&(f.x=v-u+k),w+y>d-k&&(f.y=w+y-d+k),m(f),e(this).trigger("drag:drag",[n,K]),t.pageX>l+p.left&&t.pageY>r+p.top&&t.pageX<u+p.left&&t.pageY<d+p.top){t.pageX-=l,t.pageY-=r,t.pageX+=F.left,t.pageY+=F.top;var _;_=n.elementObject.eid===a.SECTION_ELEMENT?s.findClosestDroppableSectionEdge(t):s.findClosestDroppableEdge(t),_.done(function(e){b.call(i,t,e,n)})}else b.call(i,t,null,n)}function b(n,i,o){var r=t.clone(o.originalPosition);o.originalPosition.top=o.originalPosition.left=Number.MAX_VALUE;var s=o.elementObject;s&&s.onDrag&&(i=s.onDrag(n,o,i));var a=h().offset();if(o.originalPosition.left+=a.left,o.originalPosition.top+=a.top,!i)return O=null,o.originalPosition.left===Number.MAX_VALUE&&o.originalPosition.top===Number.MAX_VALUE&&(o.originalPosition.left=I,o.originalPosition.top=S),L.execute("removeMarker"),void e(this).trigger("drag:edge:removed",o);if(i!==O){if(O=i,i.el)var l=i.column_id?i.column_id:i.el.id;var c={elementId:l,position:i.position,x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2};L.execute("createMarkerFromEdge",c);var u=F.left+o.helper.outerWidth()/2,d=F.top+o.helper.outerHeight()/2;if("absolute"===o.helper.css("position")){var p=o.helper.offsetParent().offset();u+=p.left,d+=p.top}else u+=o.offset.left-o.position.left,d+=o.offset.top-o.position.top;o.originalPosition.left=a.left,o.originalPosition.top=a.top,o.originalPosition.left+=(i.x1+i.x2)/2-u,o.originalPosition.top+=(i.y1+i.y2)/2-d,e(this).trigger("drag:edge:changed",[i,o])}else o.originalPosition.left=r.left,o.originalPosition.top=r.top}function w(t,n){window.isDraggingElement=!1,g(),h().removeClass("no-hovering"),D=null,K.left=0,K.top=0,C=null,r.enable(),L.execute("removeMarker"),e(this).trigger("dragstop:before",n);var i=n.elementObject;i&&i.stopDrag&&i.stopDrag(t,n,O),e(this).trigger("dragstop:after",n);var o;return!n.noDrop&&O&&(e(this).trigger("dragstop:drop",[n,O]),M.vent.trigger("element:dropped",n,O),n.clearDOM===!1&&(o=!1)),l.trigger("dragstop"),M.vent.trigger("dragstop"),R=null,o}function y(e){t.defer(_.bind(e))}function _(){var t=e(this.delegateTarget).draggable("instance").iframeBlocks;if(void 0!==t&&t.length){var n=h(),i=parseInt(n.css("z-index"),10)+1;P=e(this.currentTarget).data("element-id"),t.insertAfter(n);var o=t.offsetParent().eq(0),r=o.offset();t.css({left:"-="+r.left+"px",top:"-="+r.top+"px","z-index":i}),M.vent.trigger("element:mousedown",P)}}function E(t){if(M.vent.trigger("element:mouseup",P),!R)return M.vent.trigger("element:clicked",P),void(P=null);var n=e(R).data("ui-draggable"),i=null;O&&(i={left:(O.x1+O.x2)/2,top:(O.y1+O.y2)/2}),l.trigger("dragmouseup",{originalPosition:i,revert:n.options.revert,revertDuration:n.options.revertDuration}),M.vent.trigger("element:partialdrag",P),P=null}var T={isDraggingElement:!1};window.isDraggingElement=T.isDraggingElement;var C,S,I,O=null,D=null,x=null,k=50,R=null,P=null,A,N,M,L,B=e.fn.scrollParent;e.fn.scrollParent=function(){if(this.is(C)){var e=d();return e[0]===window&&(e=c()),e}return B.apply(this,arguments)},T.start=p;var K={left:0,top:0},F={left:0,top:0};return n.vent.on("setScroll",function(e,t){d()[0]!==window&&(F.left=e,F.top=t)}),T.drag=v,T.stop=w,T.cancelDrag=function(){if(window.isDraggingElement){var t=document.createEvent("MouseEvents"),n=-5e4;t.initMouseEvent("mousemove",!0,!1,window,1,n,n,n,n,!1,!1,!1,!1,0,null),document.dispatchEvent(t);var i=e(":data(ui-draggable)").filter(function(){var t=e(this);return e(".ui-draggable-dragging").is(t.add((t.data("ui-draggable")||{}).helper))}),o=i.draggable("option","revertDuration"),r=i.draggable("option","revert");i.draggable("option",{revert:!0,revertDuration:0}).trigger("mouseup").draggable("option",{revert:r,revertDuration:o})}},n.vent.on("editor:updateList",T.cancelDrag),e.fn.wDraggable=function(e){if("destroy"===e){c().off("mouseup",E);var n=this.draggable("option","handle");return this.draggable(e).off("mousedown",n||"",y)}return M=e.app,s.init(M),i.init(M),L=o.inEditorContext()?l:M,e=t.extend(e||{},{addClasses:!1,scroll:!1,helper:f,start:p,drag:v,stop:w,revert:!0,iframeFix:!0}),c().on("mouseup",E),this.draggable(e).on("mousedown",e.handle||"",y)},T}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(14),n(353),n(7),n(657)],o=function(e,t,n,i,o){"use strict";function r(e){return e=e||s.current.header.element,e?new o(e):null}var s=t.module("imageEditor");return s.current={},s.edit=function(t){s.current=t,t.categoryId=e("#wsite-com-area-category").attr("data-id");var o="imageeditor:start";if("header"===t.mode||"slide"===t.mode){var a;if("header"===t.mode&&(a=e(t.header.element)),!t.forceSlideshow||t.forceImage)t.imageEditorData=t.imageEditorData||t.header.data.data,t.imageEditorData||(t.imageEditorData={}),t.imageEditorData.image||(t.imageEditorData.image=r(a));else{o="slideshoweditor:start",t.header.dimensions=r(a);var l=n.edit({element:s.current.header.element});if(!l)return e.Deferred.reject().promise()}}return i.request.call(i,o,t).always(function(){s.current={}})},s.on("start",function(){i.reqres.setHandlers({"imageeditor:element":r})}),s.on("stop",function(){i.reqres.removeHandlers(["imageeditor:element"])}),s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){(function(e){!function(e,t,n){function i(e,t,n){for(var i=[],o=0;o<e.length;o++){var r=tinycolor(e[o]),s=r.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";s+=tinycolor.equals(t,e[o])?" sp-thumb-active":"";var a=v?"background-color:"+r.toRgbString():"filter:"+r.toFilter();i.push('<span title="'+r.toRgbString()+'" data-color="'+r.toRgbString()+'" class="'+s+'"><span class="sp-thumb-inner" style="'+a+';" /></span>')}return"<div class='sp-cf "+n+"'>"+i.join("")+"</div>"}function o(){for(var e=0;e<m.length;e++)m[e]&&m[e].hide()}function r(e,n){var i=t.extend({},f,e);return i.callbacks={move:u(i.move,n),change:u(i.change,n),show:u(i.show,n),hide:u(i.hide,n),beforeShow:u(i.beforeShow,n)},i}function s(s,l){function u(){Se.toggleClass("sp-flat",U),Se.toggleClass("sp-input-disabled",!V.showInput),Se.toggleClass("sp-alpha-enabled",V.showAlpha),Se.toggleClass("sp-buttons-disabled",!V.showButtons||U),Se.toggleClass("sp-palette-disabled",!V.showPalette),Se.toggleClass("sp-palette-only",V.showPaletteOnly),Se.toggleClass("sp-initial-disabled",!V.showInitial),Se.addClass(V.className),Se.attr("id",V.id),K()}function p(){function n(e){return e.data&&e.data.ignore?(k(t(this).data("color")),N()):(k(t(this).data("color")),B(!0),N(),X&&D()),!1}if(g&&Se.find("*:not(input)").attr("unselectable","on"),u(),$e&&Te.hide().after(ze),U?Te.after(Se).hide():t(Ee).append(Se),Q&&e.localStorage){try{var i=e.localStorage[Q].split(",#");i.length>1&&(delete e.localStorage[Q],t.each(i,function(e,t){f(t)}))}catch(e){}try{ve=e.localStorage[Q].split(";")}catch(e){}}Ve.bind("click.spectrum touchstart.spectrum",function(e){Ce||I(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(Te.is(":disabled")||V.disabled===!0)&&W(),Se.click(c),Ae.change(S),Ae.bind("paste",function(){setTimeout(S,1)}),Ae.keydown(function(e){13==e.keyCode&&(S(),e.preventDefault())}),Be.text(V.cancelText),Be.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),D("cancel")}),Ke.text(V.chooseText),Ke.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),P()&&(B(!0),D())}),Fe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),z()}),He.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),$()}),d(Re,function(e,t,n){fe=e/le,n.shiftKey&&(fe=Math.round(10*fe)/10),N()}),d(De,function(e,t){de=parseFloat(t/se),N()},T,C),d(Ie,function(e,t){he=parseFloat(e/ie),pe=parseFloat((oe-t)/oe),N()},T,C),Ge?(k(Ge),M(),Xe=Ye||tinycolor(Ge).format,f(Ge)):M(),U&&O();var o=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Me.delegate(".sp-thumb-el",o,n),Le.delegate(".sp-thumb-el:nth-child(1)",o,{ignore:!0},n)}function f(n){if(J){var i=tinycolor(n).toRgbString();if(t.inArray(i,ve)===-1)for(ve.push(i);ve.length>be;)ve.shift();if(Q&&e.localStorage)try{e.localStorage[Q]=ve.join(";")}catch(e){}}}function y(){var e=[],t=ve,n={},i;if(V.showPalette){for(var o=0;o<ge.length;o++)for(var r=0;r<ge[o].length;r++)i=tinycolor(ge[o][r]).toRgbString(),n[i]=!0;for(o=0;o<t.length;o++)i=tinycolor(t[o]).toRgbString(),n.hasOwnProperty(i)||(e.push(t[o]),n[i]=!0)}return e.reverse().slice(0,V.maxSelectionSize)}function _(){var e=R(),n=t.map(ge,function(t,n){return i(t,e,"sp-palette-row sp-palette-row-"+n)});ve&&n.push(i(y(),e,"sp-palette-row sp-palette-row-selection")),Me.html(n.join(""))}function E(){if(V.showInitial){var e=qe,t=R();Le.html(i([e,t],t,"sp-palette-row-initial"))}}function T(){0!==oe&&0!==ie&&0!==se||K(),Se.addClass(we)}function C(){Se.removeClass(we)}function S(){var e=tinycolor(Ae.val());e.ok?k(e)&&ee.move(e):Ae.addClass("sp-validation-error")}function I(){ne?D():O()}function O(){var n=t.Event("beforeShow.spectrum");return ne?void K():(Te.trigger(n,[R()]),void(ee.beforeShow(R())===!1||n.isDefaultPrevented()||(o(),ne=!0,t(ye).bind("click.spectrum",D),t(e).bind("resize.spectrum",te),ze.addClass("sp-active"),Se.removeClass("sp-hidden"),V.autoExpand&&(A()?$():z()),V.showPalette&&_(),K(),M(),qe=R(),E(),ee.show(qe),Te.trigger("show.spectrum",[qe]))))}function D(n){if((!n||"click"!=n.type||2!=n.button)&&ne&&!U){ne=!1,t(ye).unbind("click.spectrum",D),t(e).unbind("resize.spectrum",te),ze.removeClass("sp-active"),Se.addClass("sp-hidden");var i=!tinycolor.equals(R(),qe);i&&(Je&&"cancel"!==n?B(!0):x()),ee.hide(R()),V.dontHideBoundElement||Te.trigger("hide.spectrum",[R()])}}function x(){k(qe,!0)}function k(e,t){if(tinycolor.equals(e,R()))return!1;var n=tinycolor(e),i=n.toHsv();return de=i.h,he=i.s,pe=i.v,fe=i.a,M(),n.ok&&!t&&(Xe=Ye||n.format),!0}function R(){return tinycolor.fromRatio({h:de,s:he,v:pe,a:Math.round(100*fe)/100})}function P(){return!Ae.hasClass("sp-validation-error")}function A(e){var t=!1,e=e||R();e:for(var n=0;n<ge.length;n++)for(var i=0;i<ge[n].length;i++)if(t=tinycolor.equals(e,ge[n][i]))break e;return t}function N(){M(),ee.move(R()),Te.trigger("move.spectrum",[R()])}function M(){Ae.removeClass("sp-validation-error"),L();var e=tinycolor({h:de,s:"1.0",v:"1.0"});Ie.css("background-color",e.toHexString());var t=Xe;fe<1&&("hex"!==t&&"name"!==t||(t="rgb"));var n=R(),i=n.toHexString(),o=n.toRgbString();if(v||1===n.alpha?Ue.css("background-color",o):(Ue.css("background-color","transparent"),Ue.css("filter",n.toFilter())),V.showAlpha){var r=n.toRgb();r.a=0;var s=tinycolor(r).toRgbString(),a="linear-gradient(left, "+s+", "+i+")";g?ke.css("filter",tinycolor(s).toFilter({gradientType:1},i)):(ke.css("background","-webkit-"+a),ke.css("background","-moz-"+a),ke.css("background","-ms-"+a),ke.css("background",a))}V.showInput&&(fe<1&&("hex"!==t&&"name"!==t||(t="rgb")),Ae.val(n.toString(t))),je.css("background-color",n.toString(t)),V.showPalette&&_(),E()}function L(){var e=he,t=pe,n=e*ie,i=oe-t*oe;n=Math.max(-re,Math.min(ie-re,n-re)),i=Math.max(-re,Math.min(oe-re,i-re)),Oe.css({top:i,left:n});var o=fe*le;Pe.css({left:o-ce/2});var r=de*se;xe.css({top:r-ue})}function B(e){var t=R();We&&Te.val(t.toString(Xe)).change();var n=!tinycolor.equals(t,qe);qe=t,f(t),e&&n&&(ee.change(t),Te.trigger("change.spectrum",[t]))}function K(){ie=Ie.width(),oe=Ie.height(),re=Oe.height(),ae=De.width(),se=De.height(),ue=xe.height(),le=Re.width(),ce=Pe.width(),U||Se.offset(a(Se,Ve,Y,q)),L()}function F(){Te.show(),Ve.unbind("click.spectrum touchstart.spectrum"),Se.remove(),ze.remove(),m[Qe.id]=null}function H(e,i){return e===n?t.extend({},V):i===n?V[e]:(V[e]=i,void u())}function j(){Ce=!1,Te.attr("disabled",!1),Ve.removeClass("sp-disabled")}function W(){D(),Ce=!0,Te.attr("disabled",!0),Ve.addClass("sp-disabled")}function $(){Ne.hide(),Fe.show(),Se.find(".sp-palette-input-container").show().find(".sp-custom-el").toggle(!A()),K()}function z(){Ne.show(),Se.find(".sp-palette-input-container").hide(),K()}var V=r(l,s),U=V.flat,G=V.parent,q=V.containerOffsetY,Y=V.containerOffsetX,X=V.clickPaletteToClose,J=V.showSelectionPalette,Q=V.localStorageKey,Z=V.theme,ee=V.callbacks,te=h(K,10),ne=!1,ie=0,oe=0,re=0,se=0,ae=0,le=0,ce=0,ue=0,de=0,he=0,pe=0,fe=1,me=V.palette.slice(0),ge=t.isArray(me[0])?me:[me],ve=V.selectionPalette.slice(0),be=V.maxSelectionSize,we="sp-dragging",ye=s.ownerDocument,_e=ye.body,Ee=t(G).length?t(G):ye.body,Te=t(s),Ce=!1,Se=t(w,ye).addClass(Z),Ie=Se.find(".sp-color"),Oe=Se.find(".sp-dragger"),De=Se.find(".sp-hue"),xe=Se.find(".sp-slider"),ke=Se.find(".sp-alpha-inner"),Re=Se.find(".sp-alpha"),Pe=Se.find(".sp-alpha-handle"),Ae=Se.find(".sp-input"),Ne=Se.find(".sp-picker-container"),Me=Se.find(".sp-palette"),Le=Se.find(".sp-initial"),Be=Se.find(".sp-cancel"),Ke=Se.find(".sp-choose"),Fe=Se.find(".sp-expand"),He=Se.find(".sp-collapse"),je=Se.find(".sp-custom-inner"),We=Te.is("input"),$e=We&&!U,ze=$e?t(b).addClass(Z):t([]),Ve=$e?ze:Te,Ue=ze.find(".sp-preview-inner"),Ge=V.color||We&&Te.val(),qe=!1,Ye=V.preferredFormat,Xe=Ye,Je=!V.showButtons||V.clickoutFiresChange;p();var Qe={show:O,hide:D,toggle:I,reflow:K,option:H,enable:j,disable:W,collapse:$,expand:z,set:function(e){k(e),B()},get:R,destroy:F,container:Se,isPaletteColor:function(e){return A(e)}};return Qe.id=m.push(Qe)-1,Qe}function a(e,n,i,o){var r=0,s=function(){var n=0;return e.children(":visible").each(function(){n+=t(this).outerWidth()}),n}(),a=e.outerHeight(),l=n.outerHeight(),c=n.outerWidth(),u=e[0].ownerDocument,d=u.documentElement,h=d.clientWidth+t(u).scrollLeft(),p=d.clientHeight+t(u).scrollTop(),f=n.offset();return f.top+=l,f.left-=Math.min(f.left,f.left+s>h&&h>s?Math.abs(f.left+s-h-(c+f.left-h)):0),f.left+=i,f.top-=Math.min(f.top,f.top+a>p&&p>a?Math.abs(a+l-r):r),f.top+=o,f}function l(){}function c(e){e.stopPropagation()}function u(e,t){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function d(n,i,o,r){function s(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function a(e){if(d){if(g&&document.documentMode<9&&!e.button)return c();var t=e.originalEvent.touches,o=t?t[0].pageX:e.pageX,r=t?t[0].pageY:e.pageY,a=Math.max(0,Math.min(o-h.left,f)),l=Math.max(0,Math.min(r-h.top,p));m&&s(e),i.apply(n,[a,l,e])}}function l(e){var i=e.which?3==e.which:2==e.button,r=e.originalEvent.touches;i||d||o.apply(n,arguments)!==!1&&(d=!0,p=t(n).height(),f=t(n).width(),h=t(n).offset(),t(u).bind(v),t(u.body).addClass("sp-dragging"),m||a(e),s(e))}function c(){d&&(t(u).unbind(v),t(u.body).removeClass("sp-dragging"),r.apply(n,arguments)),d=!1}i=i||function(){},o=o||function(){},r=r||function(){};var u=n.ownerDocument||document,d=!1,h={},p=0,f=0,m="ontouchstart"in e,v={};v.selectstart=s,v.dragstart=s,v[m?"touchmove":"mousemove"]=a,v[m?"touchend":"mouseup"]=c,t(n).bind(m?"touchstart":"mousedown",l)}function h(e,t,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,e.apply(o,r)};n&&clearTimeout(i),!n&&i||(i=setTimeout(s,t))}}function p(){e.console&&(p=Function.prototype.bind?Function.prototype.bind.call(console.log,console):function(){Function.prototype.apply.call(console.log,console,arguments)},p.apply(this,arguments))}var f={beforeShow:l,move:l,change:l,show:l,hide:l,autoExpand:!1,color:!1,flat:!1,showInput:!1,showButtons:!0,containerOffsetX:0,containerOffsetY:0,clickoutFiresChange:!1,clickPaletteToClose:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,dontHideBoundElement:!1,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,id:"",className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},m=[],g=!!/msie/i.exec(e.navigator.userAgent),v=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),n=t.style;return n.cssText="background-color:rgba(0,0,0,.5)",e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),b=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),w=function(){var e="";if(g)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-input-container'>","<span class='sp-custom-el' type='text' spellcheck='false'>","<span class='sp-custom-inner'></span>","</span>","<span class='sp-expand'><span class='sp-expand-inner'></span></span>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color-outer'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","</div>","<div class='sp-hue-outer'>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<span class='sp-custom-el' type='text' spellcheck='false'>","<span class='sp-custom-inner'></span>","</span>","<input class='sp-input' type='text' spellcheck='false'  />","<span class='sp-collapse'><span class='sp-collapse-inner'></span></span>","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var i=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=m[t(this).data(y)];if(n){var r=n[e];if(!r)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?i=n.get():"container"==e?i=n.container:"option"==e?i=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData(y)):"isPaletteColor"==e?i=n.isPaletteColor.apply(n,o):r.apply(n,o)}}),i}return this.spectrum("destroy").each(function(){var n=s(this,e);t(this).data(y,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=d,t.fn.spectrum.defaults=f,t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("<input type='color' value='#ffffff' />")[0],n="color"===e.type&&"#ffffff"!=e.value;n||t("input[type=color]").spectrum({preferredFormat:"hex6"})},function(e){function t(e,i){if("object"==typeof e&&e.hasOwnProperty("_tc_id"))return e;var r=n(e),a=r.r,c=r.g,u=r.b,d=S(r.a),h=r.format;return{ok:r.ok,format:h,_tc_id:w++,alpha:d,toHsv:function(){var e=s(a,c,u);return{h:e.h,s:e.s,v:e.v,a:d}},toHsvString:function(){var e=s(a,c,u),t=_(360*e.h),n=_(100*e.s),i=_(100*e.v);return 1==d?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+d+")"},toHsl:function(){var e=o(a,c,u);return{h:e.h,s:e.s,l:e.l,a:d}},toHslString:function(){var e=o(a,c,u),t=_(360*e.h),n=_(100*e.s),i=_(100*e.l);return 1==d?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+d+")"},toHex:function(){return l(a,c,u)},toHexString:function(e){return"#"+l(a,c,u,e)},toRgb:function(){return{r:_(a),g:_(c),b:_(u),a:d}},toRgbString:function(){return 1==d?"rgb("+_(a)+", "+_(c)+", "+_(u)+")":"rgba("+_(a)+", "+_(c)+", "+_(u)+", "+d+")"},toName:function(){return O[l(a,c,u)]||!1},toFilter:function(e,n){var i=l(a,c,u,!0),o=i,r=Math.round(255*S(d)).toString(16),s=r,h=e&&e.gradientType?"GradientType = 1, ":"";if(n){var p=t(n);o=p.toHex(),s=Math.round(255*S(p.alpha)).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+h+"startColorstr=#"+m(r)+i+",endColorstr=#"+m(s)+o+")"},toString:function(e){e=e||this.format;var t=!1;return"rgb"===e&&(t=this.toRgbString()),"hex"===e&&(t=this.toHexString()),"hex6"===e&&(t=this.toHexString(!0)),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString(!0)}}}function n(e){var t={r:0,g:0,b:0},n=1,o=!1,s=!1;return"string"==typeof e&&(e=g(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=i(e.r,e.g,e.b),o=!0,s="rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(t=a(e.h,e.s,e.v),o=!0,s="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(t=r(e.h,e.s,e.l),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),t.r=E(255,T(t.r,0)),t.g=E(255,T(t.g,0)),t.b=E(255,T(t.b,0)),t.r<1&&(t.r=_(t.r)),t.g<1&&(t.g=_(t.g)),t.b<1&&(t.b=_(t.b)),{ok:o,format:e&&e.format||s,r:t.r,g:t.g,b:t.b,a:n}}function i(e,t,n){return{r:255*u(e,255),g:255*u(t,255),b:255*u(n,255)}}function o(e,t,n){e=u(e,255),t=u(t,255),n=u(n,255);var i=T(e,t,n),o=E(e,t,n),r,s,a=(i+o)/2;if(i==o)r=s=0;else{var l=i-o;switch(s=a>.5?l/(2-i-o):l/(i+o),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:s,l:a}}function r(e,t,n){function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var o,r,s;if(e=u(e,360),t=u(t,100),n=u(n,100),0===t)o=r=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=i(l,a,e+1/3),r=i(l,a,e),s=i(l,a,e-1/3)}return{r:255*o,g:255*r,b:255*s}}function s(e,t,n){e=u(e,255),t=u(t,255),n=u(n,255);var i=T(e,t,n),o=E(e,t,n),r,s,a=i,l=i-o;if(s=0===i?0:l/i,i==o)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:s,v:a}}function a(e,t,n){e=6*u(e,360),t=u(t,100),n=u(n,100);var i=y.floor(e),o=e-i,r=n*(1-t),s=n*(1-o*t),a=n*(1-(1-o)*t),l=i%6,c=[n,s,r,r,a,n][l],d=[a,n,n,s,r,r][l],h=[r,r,a,n,n,s][l];return{r:255*c,g:255*d,b:255*h}}function l(e,t,n,i){var o=[m(_(e).toString(16)),m(_(t).toString(16)),m(_(n).toString(16))];return i||o[0].charAt(0)!=o[0].charAt(1)||o[1].charAt(0)!=o[1].charAt(1)||o[2].charAt(0)!=o[2].charAt(1)?o.join(""):o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)}function c(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function u(e,t){p(e)&&(e="100%");var n=f(e);return e=E(t,T(0,S(e))),n&&(e*=t/100),y.abs(e-t)<1e-6?1:e>=1?e%t/S(t):e}function d(e){return E(1,T(0,e))}function h(e){return parseInt(e,16)}function p(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===S(e)}function f(e){return"string"==typeof e&&e.indexOf("%")!=-1}function m(e){return 1==e.length?"0"+e:""+e}function g(e){e=e.replace(v,"").replace(b,"").toLowerCase();var t=!1;if(I[e])e=I[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0};var n;return(n=D.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=D.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=D.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=D.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=D.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=D.hex6.exec(e))?{r:h(n[1]),g:h(n[2]),b:h(n[3]),format:t?"name":"hex"}:!!(n=D.hex3.exec(e))&&{r:h(n[1]+""+n[1]),g:h(n[2]+""+n[2]),b:h(n[3]+""+n[3]),format:t?"name":"hex"}}var v=/^[\s,#]+/,b=/\s+$/,w=0,y=Math,_=y.round,E=y.min,T=y.max,C=y.random,S=e.parseFloat;t.fromRatio=function(e){if("object"==typeof e)for(var n in e)1===e[n]&&(e[n]="1.0");return t(e)},t.equals=function(e,n){return!(!e||!n)&&t(e).toRgbString()==t(n).toRgbString()},t.random=function(){return t.fromRatio({r:C(),g:C(),b:C()})},t.desaturate=function(e,n){var i=t(e).toHsl();return i.s-=(n||10)/100,i.s=d(i.s),t(i)},t.saturate=function(e,n){var i=t(e).toHsl();return i.s+=(n||10)/100,i.s=d(i.s),t(i)},t.greyscale=function(e){return t.desaturate(e,100)},t.lighten=function(e,n){var i=t(e).toHsl();return i.l+=(n||10)/100,i.l=d(i.l),t(i)},t.darken=function(e,n){var i=t(e).toHsl();return i.l-=(n||10)/100,i.l=d(i.l),t(i)},t.complement=function(e){var n=t(e).toHsl();return n.h=(n.h+.5)%1,t(n)},t.triad=function(e){var n=t(e).toHsl(),i=360*n.h;return[t(e),t({h:(i+120)%360,s:n.s,l:n.l}),t({h:(i+240)%360,s:n.s,l:n.l})]},t.tetrad=function(e){var n=t(e).toHsl(),i=360*n.h;return[t(e),t({h:(i+90)%360,s:n.s,l:n.l}),t({h:(i+180)%360,s:n.s,l:n.l}),t({h:(i+270)%360,s:n.s,l:n.l})]},t.splitcomplement=function(e){var n=t(e).toHsl(),i=360*n.h;return[t(e),t({h:(i+72)%360,s:n.s,l:n.l}),t({h:(i+216)%360,s:n.s,l:n.l})]},t.analogous=function(e,n,i){n=n||6,i=i||30;var o=t(e).toHsl(),r=360/i,s=[t(e)];for(o.h*=360,o.h=(o.h-(r*n>>1)+720)%360;--n;)o.h=(o.h+r)%360,s.push(t(o));return s},t.monochromatic=function(e,n){n=n||6;for(var i=t(e).toHsv(),o=i.h,r=i.s,s=i.v,a=[],l=1/n;n--;)a.push(t({h:o,s:r,v:s})),s=(s+l)%1;return a},t.readable=function(e,n){var i=t(e).toRgb(),o=t(n).toRgb();return(o.r-i.r)*(o.r-i.r)+(o.g-i.g)*(o.g-i.g)+(o.b-i.b)*(o.b-i.b)>10404};var I=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=t.hexNames=c(I),D=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";
return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();e.tinycolor=t}(this),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()}),t.ui&&t.ui.dialog&&t.widget("ui.dialog",t.ui.dialog,{_allowInteraction:function(e){return!!t(e.target).closest(".sp-container").length||this._super(e)}})}(window,e)}).call(t,n(1))},,,function(e,t,n){var i=n(6),o=n(17),r=n(173),s=n(414),a=n(151),l=n(278),c=n(277),u=n(27),d=n(734),h=n(171),p=n(54),f=n(368),m=n(39),g=n(74),v=n(34),b=n(356),w=n(211),y=n(144),_=n(699),E=n(70),T=n(67),C=n(13),S=n(7),I=n(59),O=n(367),D=n(14),x=n(22);window.previousPages=0,window.currentSite=0,window.siteType=null,window.currentPage=0,window.currentPagePublished=null,window.obtainedPage=0,window.currentElement=0,window.currentThemesPage=0,window.imageUploadSize=0,window.userID=0,window.userIDLocation="",window.publishingWindow=0,window.publishingAnim=0,window.publishingLoc="left",window.uploadUpdater=new Object,window.oldSecondList="",window.oldPages="",window.externalSites=0,window.scriptType=[],window.originalPages="",window.documentWriteElement="body",window.currentThemesPerPage=8,window.currentThemesCategory="",window.validateChangeFunction=function(){},window.headerSelected=null,window.headerDimensions=Array(),window.uploadId=null,window.currentHeader=null,window.resetScrollTop=null,window.adsenseID=0,window.currentImageNum=Math.floor(10000000001*Math.random()),window.newSitePassword="",window.currentSiteLocation="",window.userEvents={},window.xhrUploading=null,window.optionsBoxSelectingText=!1;var S=n(7),I=n(59),a=n(151),l=n(278);window.Prototype.Browser.IE6=window.Prototype.Browser.IE&&6==parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5)),window.inEditor=function(){return!0},window.Prototype.Browser.IE6=window.Prototype.Browser.IE&&6==parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5)),window.calledAdsenseSetup=!1,window.calledExternalSetup=!1,window.submitExternal=function(e){x(e+"ErrorDiv").style.display="none",x("externalSubmitBtn").style.opacity=.5,x("externalSubmitBtn").style.filter="alpha(opacity=50)",x("externalSubmitBtn").style.display="inline-block";var t=window.Form.serialize(e+"_form",!0);t.pos="externalaccount",t.type=e,t.cookie=document.cookie,t.token=window.Weebly.RequestToken,new window.Ajax.Request(window.ajax,{parameters:t,onSuccess:function(t){window.handlerSubmitExternal(t,e)},onFailure:window.errFunc,bgRequest:!0})},window.handlerSubmitExternal=function(e,t){if(e.responseText.match("SUCCESS")){var n=e.responseText.replace("SUCCESS:","");window.remoteAccounts[t]={remoteSite:t,remoteId:n},S.execute("remoteAccount:update",t,n),window.updateList(),window.Pages.go("main"),window.Weebly.AllDialogs[t].close(),x(t+"ErrorDiv").style.display="none",x("externalSubmitBtn").style.opacity=1,x("externalSubmitBtn").style.filter="alpha(opacity=100)",x("externalSubmitBtn").style.display="none"}else e.responseText.match("ERROR")||(e.responseText=window._W.utl("html.weebly.libraries.weebly_main_1")),x(t+"ErrorDiv").innerHTML=e.responseText,x(t+"ErrorDiv").style.display="block",x(t+"ErrorDiv").setStyle({color:"#FF0000"}),x("externalSubmitBtn").style.opacity=1,x("externalSubmitBtn").style.filter="alpha(opacity=100)",x("externalSubmitBtn").style.display="none"},window.safeCumulativeOffset=function(e){return window.jQuery(e).offset()},window.handlerDragEndSplitpane=function(e,t,n,i){for(var o=e.serialize(),r=o.split(/&/),s=new Array,a=0;a<r.length;a++){var l=r[a].split(/=/);s[l[0]]=l[1]}for(var c=n.split(/-/),u=new Array,a=0;a<c.length;a++)u.push(c[a]+"-"+s["div"+(a+1)+"_width"]);var d=u.join(":");window.Weebly.Slideshow.updateSize()&&x(i).select(".columnlist").each(window.MultiColumnElement.resizeColumns),new window.Ajax.Request(window.ajax,{parameters:{pos:"savecolumn",elementid:i,width:d,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerFuncDragEndSplitpane,onFailure:window.errFunc,bgRequest:!0})},window.handlerFuncDragEndSplitpane=function(e){},window.flashMouseUpHandler=function(e,t){if(document.createEvent){var n=document.createEvent("MouseEvents");n.initMouseEvent("mouseup",!0,!1,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentNode.dispatchEvent(n)}},window.clickHandler=function(e,t){if(window.hideAllTips(!0),!window.Weebly.ImageGallery.isSorting){var n;if(t)n=x(t+"");else{if(!e)var e=window.event;e.target?n=e.target:e.srcElement&&(n=e.srcElement),3==n.nodeType&&(n=n.parentNode)}if(!n||"weebly_image_extras_helper"!==n.id){if(n&&"string"==typeof n.id){if(n.id.match(/coverbox/)&&(n=n.up(".element")),window.jQuery(n).closest("#form-cover, #link-info-box, .weebly-dialog, #image-chooser, .w-element-controls").length)return;var i=window.jQuery(n).closest(".editable-text")}if(i.is("h2, p, div")&&!i.hasClass("wsite-button-inner")){var o=i.get(0);o&&o.ondblclick&&o.ondblclick(),window.Weebly.Elements.unselectElement()}else if(i.attr("id")&&i.attr("id").match(/[0-9]Edit/));else if(n===document.body||window.isAParent("editMenu",n)||window.isAParent("commerce_editor_product_short_description_controls",n)||window.isAParent("createLink",n)||window.isAParent("editmenu-color-chooser",n)||window.isAParentMatch(/menuBar(Advanced)?Div/,n)||window.isAParent("notifications",n)||window.isAParentByClass("customhtml_textarea",n)||window.isAParent("flashContainer",n)||window.isInitialImage(n)||window.isInitialImage(n.previous(".galleryImage"))||window.isPageLayoutImage(n)||window.isInitialVideo(n)||window.isAPlatformElement(n)||window.isAParentByClass("product-pagination",n)||window.isAParentByClass("js-single-row-controls",n)||!window.isAParent(document,n))"string"==typeof n.id&&"colorSwatch"==n.id&&window.myColorPicker.toggle(e);else{if(window.editBoxSelectingText||window.optionsBoxSelectingText)return void(window.optionsBoxSelectingText=!1);var r=n.up("li");if(r&&r.hasClassName("wsite-multicol-li"))return void window.Weebly.Elements.unselectElement();if(window.isAParentByClass("element",n)){var s=x(window.jQuery(n).closest(".element")[0]);window.Weebly.Elements.selectElement(s)}else window.isAParentByClass("wsite-header",n)?window.Weebly.Elements.unselectElement():0===window.jQuery("#elementSettingsWrapper").find(e.target).length&&0===window.jQuery("#orbitDialogContainer").find(e.target).length&&0===window.jQuery("#element-ui-container").find(e.target).length&&window.Weebly.Elements.unselectElement()}window.editBoxSelectingText=!1}}},Event.observe(document,"mouseup",window.clickHandler),window.Prototype.Browser.Gecko&&window.navigator.userAgent.match(/Macintosh/)&&Event.observe(document,"click",function(e){var t=Event.element(e);"EMBED"==t.tagName&&window.clickHandler(e)}),window.saveProperties=function(e,t,n){if(window.uploadInProgress>0)window.showError(window._W.utl("html.weebly.libraries.weebly_main_2"));else{Element.setStyle("errorProperties",{display:"none"});for(var o="",r="",s=x("propertiesBasic").getElementsByTagName("td"),a=s.length,l=!1,c=0;c<a;c++)for(var u=s[c].getElementsByTagName("form"),d=0;d<u.length;d++){var h=u[d].childNodes[0],p=h.name,f;if(f="checkbox"==h.type?u[d].childNodes[0].checked?1:0:u[d].childNodes[0].value,r+=p+String.fromCharCode(3)+f+String.fromCharCode(2),"enable_nav_more"==p&&(window.DISABLE_NAV_MORE=!f,S.execute("theme:DISABLE_NAV_MORE",window.DISABLE_NAV_MORE,!1)),"site_title"==p){window.currentSiteTitle=u[d].childNodes[0].value;var m=x("wsite-title");m&&(m.innerHTML=window.currentSiteTitle)}"hide_title"==p&&(window.hideTitle="1"==u[d].childNodes[0].value),"copyright_show"==p&&(!l&&parseInt(u[d].childNodes[0].value)?window.updateFooterTextShown(!0):window.updateFooterTextShown(!1)),"copyright_text"==p&&(window.updateFooterText(u[d].childNodes[0].value),u[d].childNodes[0].value||(l=!0)),"site_password"==p&&window.Weebly.Restrictions.hasAccess("editable_site_password")&&(window.newSitePassword=u[d].childNodes[0].value,i.request("site-password:set",window.newSitePassword))}for(var g=x("propertiesAdvanced").getElementsByTagName("td"),v=g.length,c=0;c<v;c++)for(var u=g[c].getElementsByTagName("form"),d=0;d<u.length;d++)o+=u[d].childNodes[0].name+String.fromCharCode(3)+u[d].childNodes[0].value+String.fromCharCode(2);new window.Ajax.Request(window.ajax,{parameters:{pos:e,reqid:t,keys:r+o,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.handlerFuncSaveProperties(e,n)},onFailure:window.errFunc,bgRequest:!0})}},window.handlerFuncSaveProperties=function(e,t){if(1==e.responseText.isJSON()){var n=e.responseText.evalJSON();0==n.result&&window.showDeniedAction(n.error)}e.responseText.indexOf("RELOAD")>=0&&window.location.reload(),e.responseText.indexOf("the following problems")>0?(x("errorProperties").innerHTML=e.responseText,window.Effect.Appear("errorProperties",{duration:.5})):(window.updateList(),t||window.Pages.go("main"))},window.isAPlatformElement=function(e){return window.jQuery(e).closest(".platform-element-settings").length>0},window.goBlogPage=function(e){window.resetScrollTop=1,e=e.startsWith("/")?e:"/"+e;var t=window.currentPage.replace(/^(\d+).*$/,"$1")+e;window.Pages.go("updateList",t)},window.goCommercePage=function(e){return C.chromeless?void S.trigger(I.EVENTS.NAV_CLICKED,e):(window.resetScrollTop=1,e=e.startsWith("/")?e:"/"+e,window.Pages.pageConstructor.editMenu.go(),window.Pages.go("updateList","0"+e),void clearTimeout(window.Weebly.Commerce.Editor.shouldUpdateListTimer))},window.goNewBlogPost=function(){window.currentBlog.saving=0,window.Pages.go("goBlogPost",1)},window.goBlogPost=function(e,t){window.Pages.go("goBlogPost",e)},window.goPublishPost=function(e){return 0==window.settingQuickExport&&!window.isClientSite&&window.currentPagePublished?(window.Weebly.BlogEditor.allowSwitch=!0,window._W.domainMenuLocation="repeat-use",window.Pages.go("domainMenu","blogpostpublish",window.jQuery.extend(!0,{},window.currentBlog)),void(window.Weebly.BlogEditor.allowSwitch=!1)):void(1!=window.currentBlog.publishingPost&&(window.currentBlog.publishingPost=1,1==window.currentBlog.postId&&(window.currentBlog.saving=1),window.Weebly.BlogEditor.updateCurrentBlog(),new window.Ajax.Request(window.ajax,{bgRequest:!0,parameters:{pos:"blogpublish",pageid:e,title:window.currentBlog.title,categories:"",comments:"",date:window.currentBlog.date,shares:window.currentBlog.shares,cookie:document.cookie,token:window.Weebly.RequestToken},onComplete:function(){window.currentBlog.publishingPost=0},onFailure:window.errFunc,onException:window.exceptionFunc,onCreate:function(){window.currentPagePublished&&a.open(l)},onSuccess:function(e){var t=e.responseText.evalJSON(!0);t&&(window.currentPagePublished?(a.defer(t.html),window.Weebly.BlogEditor.allowSwitch=!0,window.Pages.go("blogPostPublishSuccess"),window.Weebly.BlogEditor.allowSwitch=!1):window.Pages.go("updateList",window.currentPage))}})))},window.goDeleteComment=function(e,t){t=t?"1":"0";var n="data-blog-comment-parent-id",i=x(e),o=i.readAttribute(n),r=window.$$("div["+n+"="+o+"]"),s=function(e){var t=[];return window.$$("div["+n+"="+e+"]").each(function(e){t.push(e),t=t.concat(s(e.readAttribute("id")))}),t},a=function(t){var n=t.responseText.evalJSON(!0);if(n)if(window.updateCommentCount(-1),"deleted"==n.action){if(o&&1==r.length){var a=x(o).select("span.delete-replies")[0];if(a){var l=a.select("input")[0];l.writeAttribute("checked"),a.hide()}}n.deletedReplies&&s(e).each(Element.remove),new window.Effect.Fade(i,{afterFinish:Element.remove.curry(i)})}else if("hidden"==n.action){var c=i.select(".blogCommentText p")[0];c.update("<em>"+n.hiddenText+"</em>");var u=i.select(".delete-replies input[type=checkbox]")[0];u.writeAttribute("checked"),u.writeAttribute("disabled")}};new window.Ajax.Request(window.ajax,{parameters:{pos:"blogdeletecomment",commentid:e,deleteReplies:t,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc,onException:window.exceptionFunc,onSuccess:a})},window.updateCommentCount=function(e){var t=document.getElementsByClassName("blog-comments")[0].children[0],n=document.getElementsByClassName("blog-comments-bottom")[0].children[0],i=Number(t.innerHTML.split(" ")[0])+e,o=window.formatCommentCount(i);t.innerHTML=o,n.innerHTML=o},window.formatCommentCount=function(e){if(1==e)return window._W.utl("html.weebly.libraries.weebly_main_32");var t=window._W.utl("html.weebly.libraries.weebly_main_33","plural or 0");return t.replace("{{numberOfComments}}",e)},window.resetBlogGlobals=function(){window.currentBlog.postId=0,window.currentBlog.title="",window.currentBlog.date="",window.currentBlog.shares=""},window.handlerTrackback=function(e){x("trackback-url").value="",e.responseText.match("%%SUCCESS%")?x("trackback-status").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_3"):x("trackback-status").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_4")},window.calendarCallback=function(e,t){var n=x("blogTable").select(".blog-date span.date-text")[0];n.innerHTML=t;var i=x("blog-date-field");i.value=t,i.hidden_change&&i.hidden_change()},window.handlerDisplayPageProperties=function(e){x("saveProperties").innerHTML="<div style='height: 50px; margin-top: 20px;'><a href='#' style='float: left;' onClick=\"saveProperties('editpage', '"+window.currentPage+"'); return false;\"><img src='https://"+window.editorStatic+window._W.tli("/weebly/images/savebtn.jpg")+"' border='0'/></a><div style='margin: 23px 0 0 5px; font-size: 14px; float: left;'> "+window._W.utl("html.weebly.libraries.weebly_main_5")+"&nbsp;<a href='#' onClick=\"Pages.go('main'); return false;\" style='position: absolute; font-weight: bold; font-size: 14px; color: #CE2424; text-decoration: underline;'>cancel</a></div></div>",x("propertiesTitle").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_6");var t=x("propertiesBasic");t.innerHTML="<br/><p>"+window._W.utl("html.weebly.libraries.weebly_main_7")+"</p><br/>"+e.responseText,Element.hide("propertiesBasicHeader"),Element.hide("textEditBox"),x("textEditorBox").value="",Element.hide("propertiesAdvancedHeader"),Element.hide("propertiesAdvanced"),x("propertiesAdvanced").innerHTML="",window.showProperties(45),Element.show("propertiesBasic")},window.displayUserSettings=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"usersettings",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerDisplayUserSettings,onFailure:window.errFunc,onException:window.exceptionFunc})},window.handlerDisplayUserSettings=function(e){x("saveProperties").innerHTML="<div style='height: 50px; margin-top: 20px;'><a href='#' style='float: left;' onClick=\"saveProperties('usersettings', ''); return false;\"><img src='https://"+window.editorStatic+window._W.tli("/weebly/images/savebtn.jpg")+"' border='0'/></a><div style='margin: 23px 0 0 5px; font-size: 14px; float: left;'> "+window._W.utl("html.weebly.libraries.weebly_main_8")+"&nbsp;<a href='#' onClick=\"Pages.go('main'); return false;\" style='position: absolute; font-weight: bold; font-size: 14px; color: #CE2424; text-decoration: underline;'>"+window._W.utl("html.weebly.libraries.weebly_main_9")+"</a></div></div>",x("propertiesTitle").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_10");var t=x("propertiesBasic");t.innerHTML=e.responseText,Element.hide("propertiesBasicHeader"),Element.hide("textEditBox"),x("textEditorBox").value="",Element.hide("propertiesAdvancedHeader"),Element.hide("propertiesAdvanced"),x("propertiesAdvanced").innerHTML="",window.showProperties(),Element.show("propertiesBasic")},window.displaySiteSettings=function(e){window.Weebly.SlidingPanel.show("site-settings-container")},window.handlerFunctionHttps=function(e){if(e.match(/%%SUCCESS%%/)){var t=e.split("|");t=t[1],window.completeDomainPurchase(t)}else x("purchaseDomainLoading")&&x("purchaseDomainLoading").parentNode&&x("purchaseDomainLoading").parentNode.removeChild(x("purchaseDomainLoading")),x("purchaseDomain").style.display="block",x("domainError").innerHTML=e},window.doClick=function(e){var t,n=document.getElementById(e);document.createEvent&&(t=document.createEvent("MouseEvents"),t.initMouseEvent?t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):t=!1),t?n.dispatchEvent(t):n.click&&n.click()},window.exportSite=function(){0!=window.settingQuickExport||window.isDeveloperSite?window.Pages.go("doExport"):(window._W.domainMenuLocation="pre-publish",window.Pages.go("domainMenu","publish"))},window.doExport=function(e){function t(){new window.Ajax.Request(window.ajax,{parameters:Object.extend({pos:"exportsite",cookie:document.cookie,token:window.Weebly.RequestToken},e),onSuccess:function(e){var t;t=!!e.responseJSON&&e.responseJSON,t&&t.blocked?(window.Weebly.AllDialogs["publishing-status"].close(),i.bootstrap.publishBlockers=t.blockers,i.vent.trigger("editor:publishBlockers:updated"),i.vent.trigger("editor:publishBlockers:display",t.blockers)):window._W.Commerce.RPC.Overview.getUsedCommerceFeatures().done(function(t){t.data=t.data||{},a.success(e.responseText,t.data)})},onFailure:window.errFunc,bgRequest:!0})}e=e||{};var n=0;0===window.publishingAnim&&window.showPublishingAnimation(),n?setTimeout(t,350):t()},window.openVerifyWindow=function(e){var t=window.open("https://www.weebly.com/weebly/verify.php","Verify","height=600,width=910,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes,dependent=yes");window.pollMemberVerify(void 0,void 0,e)},window.pollMemberVerify=function(e,t,n){"undefined"==typeof e&&(e=x("memberId").innerHTML,t=x("memberVerifyToken").innerHTML);var i;i="action=checkVerify",i+="&token="+t,i+="&memberId="+e,new window.Ajax.Request("apps/verifyJSON.php",{parameters:i,evalJSON:!0,bgRequest:!0,onSuccess:function(i){1==i.responseJSON.verified&&(n&&window.exportSite(),clearTimeout(window.verifyPoller)),0==i.responseJSON.verified&&(window.verifyPoller=setTimeout(function(){window.pollMemberVerify(e,t,n)},3e3))}})},window.submitPublishCaptcha=function(e,t){var n;n="action=verifyResponse&token="+window.Weebly.RequestToken+"&recaptcha_challenge_field="+e+"&recaptcha_response_field="+t+"&location=sitePublish",new window.Ajax.Request("apps/captchaJSON.php",{parameters:n,evalJSON:!0,bgRequest:!0,onSuccess:function(e){1==e.responseJSON.verified&&(window.showPublishingAnimation(),window.doExport()),0==e.responseJSON.verified&&(window.Recaptcha.reload(),x("publish-captcha-error").show())}})},window.submitPublishRecaptcha=function(e){var t,n=window.jQuery("#recaptcha-button");n.hasClass("disabled")||(n.addClass("disabled"),t="action=verifyResponse&token="+window.Weebly.RequestToken+"&g_recaptcha_response="+e+"&location=sitePublish",new window.Ajax.Request("/spam/captcha/verify",{parameters:t,evalJSON:!0,bgRequest:!0,onSuccess:function(e){if(n.removeClass("disabled"),1==e.responseJSON.verified&&(window.showPublishingAnimation(),window.doExport()),0==e.responseJSON.verified){var t=window.jQuery(".g-recaptcha").attr("id");window.grecaptcha.reset(t),x("publish-captcha-error").show()}},onFailure:window.errFunc}))},window.handlerPreviewSite=function(e){e.responseText&&window.open("https://"+window.configSiteName+"/weebly/previewSite.php?req_id="+e.responseText)},window.exportSiteZip=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"exportsitezip",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerExportSiteZip,onFailure:window.errFunc})},window.handlerExportSiteZip=function(e){e.responseText.match("error")?window.showError(e.responseText):window.open("https://"+window.configSiteName+"/weebly/exports/"+window.userID+"/"+e.responseText+".zip")},window.shortcut.add("Ctrl+B",function(){window.runCommand(window.currentBox,"Bold",null)}),window.shortcut.add("Ctrl+U",function(){window.runCommand(window.currentBox,"Underline",null)}),window.shortcut.add("Ctrl+I",function(){window.runCommand(window.currentBox,"Italic",null)}),window.showAbout=function(){window.showTip("Thanks for using Weebly!",x("weebly_tab_edit"),"y","101"),setTimeout("hideTip('tip101'); showTip('Weebly was created by David Rusenko, Dan Veltri, and Chris Fanini.', $('weebly_tab_themes'), 'y', '102');",4e3),setTimeout("hideTip('tip102'); showTip('We are!', $('weebly_tab_pages'), 'y', '103');",8e3),setTimeout("hideTip('tip103'); showTip('Penn State!<br/><br/><img src=\"https://rusenko.weebly.com/drusenko/pennstate.jpg\" width=\"300\" height=\"220\"/>', $('weebly_tab_settings'), 'w', '104');",14e3),setTimeout("hideTip('tip104');",2e4)},window.showPublishingAnimation=function(){window.publishingAnim=1,x("publishing-status-title").update(window._W.utl("html.weebly.libraries.weebly_main_11")),window.Weebly.Restrictions.hasAccess("ftp_publish")?x("exportText").innerHTML='<div style="text-align: center;"><img src="https://'+window.editorStatic+'/weebly/images/ajax-loader.gif"/><br/><br/>'+window._W.utl("html.weebly.libraries.weebly_main_12")+"</div><br/><br/>":x("exportText").innerHTML='<div style="text-align: center;"><img src="https://'+window.editorStatic+'/weebly/images/ajax-loader.gif"/><br/><br/>'+window._W.utl("html.weebly.libraries.weebly_main_13")+"</div><br/><br/>"},window.expandAdvanced=function(){x("propertiesAdvancedHeader").innerHTML='<br/><h3><a href="#" onClick="collapseAdvanced();" style="color: black;"><img border="0" src="https://'+window.editorStatic+'/weebly/images/arrow_down.gif"/> '+window._W.utl("html.weebly.libraries.weebly_main_14")+"</a></h3>",Element.setStyle("propertiesAdvanced",{display:"block"})},window.collapseAdvanced=function(){Element.setStyle("propertiesAdvanced",{display:"none"}),x("propertiesAdvancedHeader").innerHTML='<br/><h3><a href="#" onClick="expandAdvanced();" style="color: black;"><img border="0" src="https://'+window.editorStatic+'/weebly/images/arrow_right.gif"/> '+window._W.utl("html.weebly.libraries.weebly_main_15")+"</a></h3>"},window.showProperties=function(e){e=e?e:145,x("textEditor").style.top=e+"px",Element.show("scroll_container_properties"),1==window.settingAnimations?window.setTimeout("Effect.Appear('textEditor')",1e3):Element.show("textEditor")},window.fadeProperties=function(){i.execute("linker:close"),Element.hide("scroll_container_properties")},window.fadeMain=function(){Element.setStyle("grayedOut",{height:window.getInnerHeight()-35+"px"}),1==window.settingAnimations?window.Effect.Appear("grayedOut"):Element.show("grayedOut")},window.showMain=function(){1==window.settingAnimations?(setTimeout("Effect.Fade('grayedOut')",1e3),Element.setStyle("grayedOut",{visibility:"visible"})):Element.hide("grayedOut")},window.displayThemes=function(){Element.setStyle("themes",{top:window.Position.realOffset(window)[1]+30+"px"}),1==window.settingAnimations?(window.Effect.Appear("themes"),window.Effect.Appear("themeChoices",{duration:.5})):(Element.show("themes"),Element.show("themeChoices")),window.currentThemesPage=1},window.fadeThemes=function(){1==window.settingAnimations?window.setTimeout("Effect.Fade('themes')",1e3):Element.hide("themes"),Element.setStyle("nextThemes",{display:"block"}),Element.setStyle("previousThemes",{display:"none"}),window.currentThemesPage=0},window.refreshAllCustomHtml=function(){window.$$("iframe.custom-html-frame").each(function(e){e.src&&(e.src=e.src+"&w="+(new Date).getTime())})},window.hideElement=function(e){Element.hide(e)},window.showElement=function(e){Element.setStyle(e,{display:"block",visibility:"visible"})},window.validateNoGo=function(e){},window.contentDecode=function(e){return e=e.replace(new RegExp("\\+","g")," "),unescape(e)},window.contentEncode=function(e){return e=escape(e),e=e.replace(new RegExp("\\+","g"),"%2B"),e.replace(new RegExp("%20","g"),"+")},window.showUploader=function(e){Element.hide("uploadSize"),Element.show("imageUploader"),window.imageUploadSize=e},window.getScrollTop=function(){var e;return self.pageYOffset?e=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},window.setProperty=function(e,t,n){if("string"==typeof t)document.getElementsByClassName(t).each(function(t){x(t).style[e]=n});else if("object"==typeof t)for(var i=0;i<t.length;i++)window.setProperty(e,t[i],n)},window.makePremium=function(e,t){window.Weebly.Restrictions.level!=e.level&&(window.Weebly.Restrictions.addService(t),window.Weebly.Restrictions.level=e.level,window.Weebly.Restrictions.is_trial=!1,window.Weebly.Restrictions.days_left=-1,window.initPlanDropdown(),window.hideUpgradePrompts(),window.hideAllTips(),window.showTip(window._W.utl("html.weebly.libraries.weebly_main_28").replace("{{plan_name}}",e.noun),window.jQuery("#w-editor-top .plan-dropdown-toggle")[0],"y"),i.build.syncRestrictions(),window.Weebly.SiteSettings&&window.Weebly.SiteSettings.updatePremium(e.level),i.vent.trigger("plan:upgraded"))},window.hideUpgradePrompts=function(){window.jQuery(".upgrade_prompt").hide()},window.saveSiteTitle=function(){window.currentSiteTitle=x("newSiteTitle").value,new window.Ajax.Request(window.ajax,{parameters:{pos:"sitetitle",newtitle:window.currentSiteTitle,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerSaveSiteTitle,onFailure:window.errFunc});var e=x("wsite-title");e&&(e.innerHTML=window.currentSiteTitle)},window.handlerSaveSiteTitle=function(e){window.settingQuickExport||window.isClientSite||"edstudent"==window.source?window.Pages.go("main"):(window._W.domainMenuLocation="repeat-use",window.Pages.go("domainMenu"))},window.load_twitter=function(){x("twitterMessage").value="I just updated my "+window.Weebly.PROPERTY_NAME+" website, check it out: "+window.currentSiteLocation,x("twitter-publish").style.display="block"},window.tweet=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"tweet",username:x("twitterUser").value,password:x("twitterPass").value,message:x("twitterMessage").value,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerTweet,onFailure:window.errFunc})},window.handlerTweet=function(e){x("twitter-publish").style.display="none"},window.load_email=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"doevent",event:"tellFriendsPublish",cookie:document.cookie,token:window.Weebly.RequestToken}});var e="I just updated my website, "+window.currentSiteTitle+", and thought you'd like to check it out. You can get to the site by visiting: \n\n"+window.currentSiteLocation+"\n\n"+window.Weebly.EMAIL_FOOTER;window.abookwin=window.open("/weebly/apps/abook.php?type=update&message="+encodeURIComponent(e),"abook","toolbar=0,status=0,width=700,height=526"),setTimeout("abookwin.focus()",300)},window.faviconUploading=!1,window.uploadFaviconStart=function(){if(!window.faviconUploading&&x("favicon-path").value.length>0){var e=new Element("iframe",{id:"favicon-iframe",name:"favicon-iframe",src:"about:blank"}).setStyle({display:"none"});return e.observe("load",window.uploadFaviconFinish),x("body").insert({bottom:e}),x("favicon-loading").show(),window.faviconUploading=!0,!0}return!1},window.uploadFaviconFinish=function(){var e=x("favicon-iframe").contentWindow.document.body.innerHTML,t=e.evalJSON();"success"===t.status?(x("current-favicon").show().setAttribute("src",t.imagePath+"?"+Math.floor(10000000001*Math.random())),x("remove-favicon").show(),x("upload-favicon-link").update(window._W.utl("html.weebly.libraries.weebly_main_18")),x("favicon-upload-area").hide()):alert(t.message),x("favicon-iframe").remove(),x("favicon-loading").hide(),window.faviconUploading=!1},window.updateProductButton=function(e,t){var n=x(""+e).down(".product-button"),i=n.src.match(/small|big/),o="buy_now";"add_to_cart"===t&&(o="add_to_cart"),n.src="https://"+window.editorStatic+"/weebly/images/"+o+"_"+i+".gif"},window.makeProductEditable=function(e){window.jQuery("#"+e+" .product-image").off("mouseover",window.initialImageMouseover).on("mouseover",window.initialImageMouseover);var t=x(""+e).down(".product-title");t&&(t.onclick=function(){window.showEditBox(t.id,null,{saveCallback:window.saveProductField,redrawOptions:!0,showOptions:!0})},t.addClassName("editable-text").writeAttribute("contentEditable","true"));var n=x(""+e).down(".product-price");n&&(n.onclick=function(e){window.showEditBox(n.id,null,{saveCallback:window.saveProductField,redrawOptions:!0,showOptions:!1})},n.addClassName("editable-text").writeAttribute("contentEditable","true"));var i=x(""+e).down(".product-description");i&&(i.onclick=function(e){window.showEditBox(i.id,null,{saveCallback:window.saveProductField,redrawOptions:!0,showOptions:!0})},i.addClassName("editable-text").writeAttribute("contentEditable","true"));var o=x(""+e).down("form");o&&(o.onsubmit=function(){return!1})},window.setUserPreference=function(e,t){new window.Ajax.Request(window.ajax,{parameters:{pos:"setuserpreference",key:e,value:t,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc})},window.loadExternalLibraries=function(){if(window.externalLibariesLoaded=!0,window.checkContentEditable(),window.Weebly.Permissions&&window.Weebly.Permissions.hasContributors){var e;document.observe("mousemove",window._.throttle(function(){if(!e||"pending"!==e.state()){var t=(new Date).getTime(),n=window.Weebly.lastMouseMove||t;t-n>3e5&&(e=window.checkForPageUpdate()),window.Weebly.lastMouseMove=t}},1e3))}},window.showMerchantSettingsOption=function(){if(x("site_settings_merchantaccount"))switch(x("site_settings_paypal").hide(),window.$F("site_settings_merchantaccount")){case"paypal":x("site_settings_paypal").show(),x("site_settings_curr_warning").hide(),x("site_settings_currency").enable()}},window.editPollDaddy=function(e,t,n){S.execute("polldaddy:edit",t,n)},window.checkClientDomain=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"checkclientdomain",domain:x("client-domain").value,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){x("purchaseClientSiteTitlePreview").hide(),x("purchaseClientSiteTitleSetup").show(),x("purchaseClientSiteBodyPreview").hide(),"%%SUCCESS%%"==e.responseText?(x("purchaseClientSiteBodySuccess").show(),x("purchaseClientSiteBodyInstructions").hide()):(x("purchaseClientSiteBodySuccess").hide(),x("purchaseClientSiteBodyInstructions").show()),window.$$(".client-chosen-domain").invoke("update",x("client-domain").value)}})},window.saveClientDomain=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"savedomain",domain:x("client-domain").value,type:"domain",continue_not_configured:"1",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){e.responseText.length<2||e.responseText.match("%%notconfigured%%")?(window.clientPreviewDialog.close(),window.Pages.go("exportSite")):x("client-domain-error").update(e.responseText)},onError:window.errFunc,onException:window.errFunc})},window.loadClientPreview=function(){x("purchaseClientSiteTitlePreview").show(),x("purchaseClientSiteTitleSetup").hide(),x("purchaseClientSiteBodyPreview").show(),x("purchaseClientSiteBodySuccess").hide(),x("purchaseClientSiteBodyInstructions").hide(),new window.Ajax.Request(window.ajax,{parameters:{pos:"getclientpreviewaddress",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){var t='<a href="'+e.responseText+'" target="_blank">'+e.responseText+"</a>";x("previewAddress").update(t)}}),window.clientPreviewDialog=new window.Weebly.Dialog(x("purchaseClientSite"),{modal:!0}),window.clientPreviewDialog.open()},window.isInitialVideo=function(e){return window.isInitialVideoSrc(e.src||"")},window.isInitialVideoSrc=function(e){return e.match(/video_click_to_upload\.jpg/)&&!e.match(/uploading=1/)},window.updateContributorsList=function(e){if(window.Weebly.Contributors=window.$H(e.evalJSON()),!e.match(/^\[\]/)&&window.Weebly.Contributors.size()>0){
var t="";window.Weebly.Contributors.each(function(e){var n=e.value,i="<tr>";i+='<td class="email-cell">'+n.email+"</td>",i+='<td class="role-cell">'+n.display_role+' <a href="#" onclick="editContributor(\''+e.key+"', "+!n.user_id+')" class="btn edit-contributor"><span class="bi">Edit</span></a></td>',i+='<td class="login-cell">'+(n.last_login||'Emailed. <a href="http://www.weebly.com/weebly/contributors.php?user='+window.userID+"&pc="+e.key+'" target="_blank" class="invitation-link">Invitation</a> not accepted yet.')+"</td>",i+='<td class="remove-column"><a href="#" onclick="deleteContributor(\''+e.key+"', "+!n.user_id+')" class="btn remove-contributor"><span class="bi">Remove Access</span></a></td>',i+="</tr>",t+=i}),x("contributor-table-body").update(t),x("empty-contributor-list").hide()}else x("contributor-table-body").update(""),x("empty-contributor-list").show()},window.openEditContributors=function(){new window.Weebly.Dialog("edit-contributors",{modal:!0}).open(),x("author-pages-selector").update(window.getPagePermissionHtml(o.toJSON(),"")),window.resetEditContributors()},window.resetEditContributors=function(){x("contributor-emails").show(),x("editors-emails").update("").value="",x("editors-invitation").update("").value="",x("edit-contributors-title").update(window._W.utl("html.weebly.libraries.weebly_main_19")),x("contributors-customize-email").show(),x("edit-contributor-user-id").value="",x("edit-contributor-pc-id").value="",x("edit-contributors-button").update("Add Editors"),window.roleSelect("admin",!0),window.$$(".multiple-choice-box-selected").invoke("removeClassName","multiple-choice-box-selected");var e=x("role-admin").select(".multiple-choice-box-inner-left input")[0];e.checked=!0,e.checked=!1,x("edit-contributors-form").disable_select_pages[0].checked=!0,x("author-page-chooser").hide(),x("edit-contributors-form").disable_stats.checked=!1,x("edit-contributors-form").disable_form.checked=!1,x("edit-contributors-form").disable_comments.checked=!1,x("edit-contributors-error").update("")},window.editContributor=function(e,t){window.openEditContributors(),x("contributor-emails").hide(),x("contributors-customize-email").hide(),t?x("edit-contributor-pc-id").value=e:x("edit-contributor-user-id").value=e,x("edit-contributors-button").update("Save Settings");var n=window.Weebly.Contributors.get(e);switch(x("edit-contributors-title").update("Edit: "+n.email.truncate(20)),n.role){case"admin":window.roleSelect("admin");break;case"author":window.roleSelect("author"),n.restrict_pages||n.allowed_pages?(x("edit-contributors-form").disable_select_pages[1].checked=!0,x("author-page-chooser").show(),x("author-page-chooser").select("input").each(function(e){n.allowed_pages.include(e.value)?e.checked=!0:e.checked=!1})):(x("author-page-chooser").hide(),x("edit-contributors-form").disable_select_pages.checked=!1),x("edit-contributors-form").disable_publish.checked=!!n.disable_publishing;break;case"dashboard":window.roleSelect("dashboard"),n.view_stats||(x("edit-contributors-form").disable_stats.checked=!0),n.manage_form_entries||(x("edit-contributors-form").disable_form.checked=!0),n.moderate_comments||(x("edit-contributors-form").disable_comments.checked=!0)}window.Weebly.AllDialogs["edit-contributors"].positionDialog()},window.resizeContributorInput=function(e){e=x(e);var t=Math.min(30*Math.floor(e.textLength/70)+30,90);e.setStyle({height:t+"px"})},window.roleSelect=function(e,t){if(window.Weebly.Restrictions.hasAccess("allow_"+e+"_contributors")){window.$$(".contributors-role-detail").invoke("hide");var n=x("role-"+e),o=n.select(".contributors-role-detail");o=o&&o[0]?o[0]:null,o&&o.show(),window.$$(".multiple-choice-box-selected").invoke("removeClassName","multiple-choice-box-selected"),n.addClassName("multiple-choice-box-selected"),t||setTimeout(function(){n.select(".multiple-choice-box-inner-left input")[0].checked=!0},10),window.resizeRoleBoxes(n)}else i.vent.trigger("billing:upgrade:window",{restrictionID:"allow_"+e+"_contributors",restrictionType:"feature",refer:"contributors"})},window.resizeRoleBoxes=function(e){window.$$(".multiple-choice-box-inner-left").invoke("setStyle",{height:"auto"});var t=e.select(".multiple-choice-box-inner-left")[0],n=e.select(".multiple-choice-box-inner-right")[0];t.setStyle({height:n.getHeight()-48+"px"}),window.Weebly.AllDialogs["edit-contributors"].positionDialog()},window.submitContributors=function(){var e=x("edit-contributors-form"),t=e.serialize(!0),n=window.Weebly.Contributors._object,i=t.emails.replace(/\s/g,"").split(","),o=x("contributor-emails").style.display;if(""===t.emails&&"none"!==o)return void x("edit-contributors-error").update("Please enter at least one email address.");if(!t["contributor-role"])return void x("edit-contributors-error").update(window._W.utl("html.weebly.libraries.weebly_main_20"));for(window.id in n)for(var r=0;r<i.length;r++)if(i[r]===n[window.id].email)return void x("edit-contributors-error").update(window._W.utl("html.weebly.libraries.weebly_main_21")+" "+n[window.id].email);new window.Ajax.Request(window.ajax,{parameters:Object.extend({pos:"savecontributors",cookie:document.cookie,token:window.Weebly.RequestToken},t),onSuccess:function(e){e.responseText?e.responseText.isJSON()?(window.updateContributorsList(e.responseText),window.Weebly.AllDialogs["edit-contributors"].close()):x("edit-contributors-error").update(e.responseText):window.Weebly.AllDialogs["edit-contributors"].close()}})},window.deleteContributor=function(e,t){var n=window.Weebly.Contributors.get(e);confirm("Are you sure you want to remove access for "+n.email+"?")&&new window.Ajax.Request(window.ajax,{parameters:{pos:"deletecontributor",contributor_user_id:t?null:e,pc_id:t?e:null,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.updateContributorsList(e.responseText)}})},window.getPageChooser=function(e){var t='<div class="page-chooser">';return t+=window._getPageChooserHelper(o.toJSON(),e,"",0),t+"</div>"},window.alt=!1,window._getPageChooserHelper=function(e,t,n,i){var o=0;switch(i){case 0:break;case 1:o=30;break;default:o=30+25*(i-1)}return e.each(function(e){window.alt=!window.alt;var r=window.pageIsLocked(e.id,t),s=window.canGoToPage(e.id,t),a='<span class="page-chooser-icon page-chooser-stop"></span>',l=window._W.utl("html.weebly.libraries.weebly_main_29");if(r){var c=t[e.id];a='<span class="page-chooser-icon page-locked page-chooser-locked"></span>',l=window._W.utl("html.weebly.libraries.weebly_main_30",c.email)}else s&&(a='<span class="page-chooser-icon page-chooser-editable"></span>',l=window._W.utl("html.weebly.libraries.weebly_main_31"));n+='<div title="'+l+'" class="page-chooser-page '+(s?"page-chooser-allowed-page":"page-chooser-denied-page")+" "+(window.alt?"page-chooser-alt-row":"")+'" onclick="'+(s?"hideWarning(); goUpdateList('"+e.id+"', 1); return false;":"return false;")+'"><div class="page-chooser-page-inner '+(i>0?"page-chooser-subpage":"")+'" style="margin-left:'+o+'px">'+a+e.title+"</div></div>\n",e.children.size()>0&&(n=window._getPageChooserHelper(e.children,t,n,i+1))}),n},window.canGoToPage=function(e,t){var n=window.pageIsLocked(e,t);return!n&&window.isAllowedPage(e)},window.isAllowedPage=function(e){return!window.Weebly.Permissions.allowed_pages||0==window.Weebly.Permissions.allowed_pages.size()||window.Weebly.Permissions.allowed_pages.include(e)},window.hasAllowedPages=function(){return window.Weebly.Permissions.allowed_pages&&window.Weebly.Permissions.allowed_pages.size()>0},window.pageIsLocked=function(e,t){var n=t[e];return n&&n.user_id!=window.Weebly.Permissions.true_user_id},window.reloadAllowedPages=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"getallowedpages",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.Weebly.Permissions.allowed_pages=e.responseText.evalJSON()},asynchronous:!1})},window.checkForPageUpdate=function(){return S.request("pages:get",window.currentPage).done(function(e){!e||e.blog||window.jQuery("#contributor-page-updated").length||new window.Ajax.Request(window.ajax,{parameters:{pos:"checkpageupdates",page_id:window.currentPage,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){var t=e.responseText.evalJSON();t.last_updated_by&&t.last_updated_by!=window.Weebly.Permissions.true_user_id&&S.execute("dialog:open","contributor-page-updated")}})})},window.showPageChooser=function(e,t,n){n=Object.extend({page_locked:!1,page_locks:{},load_page_locks:!1,initial_load:!1},n),n.load_page_locks?new window.Ajax.Request(window.ajax,{parameters:{pos:"getpagelocks",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(i){window._finishShowPageChooser(e,t,Object.extend(n,{page_locks:i.responseText.evalJSON()}))}}):window._finishShowPageChooser(e,t,n)},window._finishShowPageChooser=function(e,t,n){var i={title:e,message:'<div class="page-chooser-text">'+t+"</div>"+window.getPageChooser(n.page_locks)};window.showWarning(i,{width:"613px",titleFontSize:"26px",showClose:!0,closeFunction:function(){!window.obtainedPage&&n.initial_load?window.location.href="/weebly/userHome.php":window.goUpdateList(window.currentPage,1),window.hideWarning()}})},window.checkForPageChanges=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"checkpagedata",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){e.responseText.match(/%%CHANGED%%/)||window.addNotification('The number of pages has been chaged by another editor. <a style="display:inline;" href="#" onclick="window.location.reload(); return false;">Click here</a> to reload Weebly and view the updated pages.<br /><br /><a href="#" onclick="$(this).up(\'li\').remove(); return false;">Close Message</a>')}})},window.addNotification=function(e){var t=new Element("li").update(e);x("notifications").appendChild(t)},window.openPlanningInfo=function(){var e=new window.Weebly.Dialog("planning-info",{modal:!0,blackoutOpacity:.4,outerClass:"chromeless chromeless-outer-close w-ui",onClose:function(e){window.jQuery("#planning-info").remove(),e&&(window.Weebly.SlidingPanel.isOpened("site-store-container")||setTimeout(function(){window.showEvent("x-elements")},100))}});e.open();var t=window.jQuery("#planning-info iframe");t[0].src=t.data("src"),window.jQuery("#planning-info .planning-info-close").on("click",function(){e.close(),window.Weebly.SlidingPanel.isOpened("site-store-container")||setTimeout(function(){window.showEvent("x-elements")},100)}),"function"==typeof window.ga&&window.ga("send","pageview",{page:"/welcome-video?location=onboarding",title:"Welcome Video"})},window.chooseMobileColor=function(){var e=x("mobile_color_chooser"),t=window.jQuery(e);if(t.is(":hidden")){e.update().show(),t.show();var n=new _(e,{closeOnClick:!1,onUpdate:function(e){x("mobile_color_square").style.background=e,x("mobile_color").value=e,t.hide()}});n.draw(),e.select("table")[0].style.width="auto"}else t.hide()},window.showNoEditablePagesWarning=function(){window.showWarning({title:window._W.utl("html.weebly.libraries.weebly_main_25"),message:window._W.utl("html.weebly.libraries.weebly_main_26")},{closeFunction:window.Weebly.goHome})}},function(e,t,n){var i=n(1);!function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"F61C",version:"4.4.8 (Standard)",revision:"ccd0038",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++){var o=n[i].src.match(e);if(o){t=o[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp),e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(e){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){function i(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(i,1)}e()}if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e),t=!1;try{t=!window.frameElement}catch(e){}document.documentElement.doScroll&&t&&i()}}}()},n=window.CKEDITOR_GETURL;if(n){var i=t.getUrl;t.getUrl=function(e){return n.call(t,e)||i.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t=CKEDITOR.event.prototype,n;for(n in t)null==e[n]&&(e[n]=t[n])},CKEDITOR.event.prototype=function(){function e(e){var i=t(this);return i[e]||(i[e]=new n(e))}var t=function(e){return e=e.getPrivate&&e.getPrivate()||e._||(e._={}),e.events||(e.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var i=e.call(this,t);CKEDITOR.tools.extend(i,n,!0)},on:function(t,n,i,o,r){function s(e,r,s,l){return e={name:t,sender:this,editor:e,data:r,listenerData:o,stop:s,cancel:l,removeListener:a},n.call(i,e)!==!1&&e.data}function a(){c.removeListener(t,n)}var l=e.call(this,t);if(l.getListenerIndex(n)<0){l=l.listeners,i||(i=this),isNaN(r)&&(r=10);var c=this;s.fn=n,s.priority=r;for(var u=l.length-1;u>=0;u--)if(l[u].priority<=r)return l.splice(u+1,0,s),{removeListener:a};l.unshift(s)}return{removeListener:a}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,n=function(){e=1},i=0,o=function(){i=1};return function(r,s,a){var l=t(this)[r],r=e,c=i;if(e=i=0,l){var u=l.listeners;if(u.length)for(var u=u.slice(0),d,h=0;h<u.length;h++){if(l.errorProof)try{d=u[h].call(this,a,s,n,o)}catch(e){}else d=u[h].call(this,a,s,n,o);if(d===!1?i=1:"undefined"!=typeof d&&(s=d),e||i)break}}return s=!i&&("undefined"==typeof s||s),e=r,i=c,s}}(),fireOnce:function(e,n,i){return n=this.fire(e,n,i),delete t(this)[e],n},removeListener:function(e,n){var i=t(this)[e];if(i){var o=i.getListenerIndex(n);o>=0&&i.listeners.splice(o,1)}},removeAllListeners:function(){var e=t(this),n;for(n in e)delete e[n]},hasListeners:function(e){return(e=t(this)[e])&&e.listeners.length>0}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t={ie:e.indexOf("trident/")>-1,webkit:e.indexOf(" applewebkit/")>-1,air:e.indexOf(" adobeair/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:e.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol};t.gecko="Gecko"==navigator.product&&!t.webkit&&!t.ie,t.webkit&&(e.indexOf("chrome")>-1?t.chrome=!0:t.safari=!0);var n=0;if(t.ie&&(n=t.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,t.ie9Compat=9==n,t.ie8Compat=8==n,t.ie7Compat=7==n,t.ie6Compat=n<7||t.quirks),t.gecko){var i=e.match(/rv:([\d\.]+)/);i&&(i=i[1].split("."),n=1e4*i[0]+100*(i[1]||0)+1*(i[2]||0))}return t.air&&(n=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),t.webkit&&(n=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),t.version=n,t.isCompatible=t.iOS&&n>=534||!t.mobile&&(t.ie&&n>6||t.gecko&&n>=2e4||t.air&&n>=1||t.webkit&&n>=522||!1),t.hidpi=window.devicePixelRatio>=2,t.needsBrFiller=t.gecko||t.webkit||t.ie&&n>10,t.needsNbspFiller=t.ie&&n<11,t.cssClass="cke_browser_"+(t.ie?"ie":t.gecko?"gecko":t.webkit?"webkit":"unknown"),t.quirks&&(t.cssClass=t.cssClass+" cke_browser_quirks"),t.ie&&(t.cssClass=t.cssClass+(" cke_browser_ie"+(t.quirks?"6 cke_browser_iequirks":t.version))),t.air&&(t.cssClass=t.cssClass+" cke_browser_air"),t.iOS&&(t.cssClass=t.cssClass+" cke_browser_ios"),t.hidpi&&(t.cssClass=t.cssClass+" cke_hidpi"),t}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},function(){CKEDITOR.domReady(function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*t))})}(),CKEDITOR.status="basic_loaded"}(),CKEDITOR.dom={},function(){var e=[],t=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",n=/&/g,i=/>/g,o=/</g,r=/"/g,s=/&amp;/g,a=/&gt;/g,l=/&lt;/g,c=/&quot;/g;CKEDITOR.on("reset",function(){e=[]}),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;t=new e.constructor;for(n in e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t=arguments.length,n,i;"boolean"==typeof(n=arguments[t-1])?t--:"boolean"==typeof(n=arguments[t-2])&&(i=arguments[t-1],t-=2);for(var o=1;o<t;o++){var r=arguments[o],s;for(s in r)n!==!0&&null!=e[s]||(!i||s in i)&&(e[s]=r[s])}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t={},n;for(n in e)t[n]=e[n];return t},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,n,i){return i?t+e+":"+n+";"+e+":"+n:(i={},i[e]=n,i[t+e]=n,i)},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t="undefined"!=typeof e.cssFloat?"cssFloat":"undefined"!=typeof e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}}(),buildStyleHtml:function(e){for(var e=[].concat(e),t,n=[],i=0;i<e.length;i++)(t=e[i])&&(/@import|[{}]/.test(t)?n.push("<style>"+t+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+t+'">'));return n.join("")},htmlEncode:function(e){return(""+e).replace(n,"&amp;").replace(i,"&gt;").replace(o,"&lt;")},htmlDecode:function(e){return e.replace(s,"&").replace(a,">").replace(l,"<")},htmlEncodeAttr:function(e){return e.replace(r,"&quot;").replace(o,"&lt;").replace(i,"&gt;")},htmlDecodeAttr:function(e){return e.replace(c,'"').replace(l,"<").replace(a,">")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,i,o){return o||(o=window),n||(n=o),o.setTimeout(function(){i?e.apply(n,[].concat(i)):e.apply(n)},t||0)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return n>=0?e[n]:null},bind:function(e,t){return function(){return e.apply(t,arguments)}},createClass:function(e){var t=e.$,n=e.base,i=e.privates||e._,o=e.proto,e=e.statics;if(!t&&(t=function(){n&&this.base.apply(this,arguments)}),i)var r=t,t=function(){var e=this._||(this._={}),t;for(t in i){var n=i[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)};return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(t.prototype,o,!0),e&&this.extend(t,e,!0),t},addFunction:function(t,n){return e.push(function(){return t.apply(n||this,arguments)})-1},removeFunction:function(t){e[t]=null},callFunction:function(t){var n=e[t];return n&&n.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e=/^-?\d+\.?\d*px$/,t;return function(n){return t=CKEDITOR.tools.trim(n+"")+"px",e.test(t)?t:n||""}}(),convertToPx:function(){var e;return function(t){return e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),/%$/.test(t)?t:(e.setStyle("width",t),e.$.clientWidth)}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;t<n;t++){var i=arguments[t];try{e=i();break}catch(e){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout(function(){e.apply(n,t)},0)}},normalizeCssText:function(e,t){var n=[],i,o=CKEDITOR.tools.parseCssText(e,!0,t);for(i in o)n.push(i+":"+o[i]);return n.sort(),n.length?n.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,n,i){for(e=[t,n,i],t=0;t<3;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")})},parseCssText:function(e,t,n){var i={};return n&&(n=new CKEDITOR.dom.element("span"),n.setAttribute("style",e),e=CKEDITOR.tools.convertRgbToHex(n.getAttribute("style")||"")),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,o){t&&(n=n.toLowerCase(),"font-family"==n&&(o=o.toLowerCase().replace(/["']/g,"").replace(/\s*,\s*/g,",")),o=CKEDITOR.tools.trim(o)),i[n]=o}),i):i},writeCssText:function(e,t){var n,i=[];for(n in e)i.push(n+":"+e[n]);return t&&i.sort(),i.join("; ")},objectCompare:function(e,t,n){var i;if(!e&&!t)return!0;if(!e||!t)return!1;for(i in e)if(e[i]!=t[i])return!1;if(!n)for(i in t)if(e[i]!=t[i])return!1;return!0},objectKeys:function(e){var t=[],n;for(n in e)t.push(n);return t},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var i=0,o=e.length;i<o;++i)n[e[i]]=t;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain,!e)break;document.domain=e}return!!e},eventsBuffer:function(e,t){function n(){o=(new Date).getTime(),i=!1,t()}var i,o=0;return{input:function(){if(!i){var t=(new Date).getTime()-o;t<e?i=setTimeout(n,e-t):n()}},reset:function(){i&&clearTimeout(i),i=o=0}}},enableHtml5Elements:function(e,t){for(var n=["abbr","article","aside","audio","bdi","canvas","data","datalist","details","figcaption","figure","footer","header","hgroup","mark","meter","nav","output","progress","section","summary","time","video"],i=n.length,o;i--;)o=e.createElement(n[i]),t&&e.appendChild(o)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="}}(),CKEDITOR.dtd=function(){var e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),i=1;i<arguments.length;i++){var t=arguments[i],o;for(o in t)delete n[o]}return n},n={},i={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},r={command:1,link:1,meta:1,noscript:1,script:1,style:1},s={},a={"#":1},l={center:1,dir:1,noframes:1};return e(n,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},a,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),e(i,o,n,l),t={a:t(n,{a:1,button:1}),abbr:n,address:i,area:s,article:i,aside:i,audio:e({source:1,track:1},i),b:n,base:s,bdi:n,bdo:n,blockquote:i,body:i,br:s,button:t(n,{a:1,button:1}),canvas:n,caption:i,cite:n,code:n,col:s,colgroup:{col:1},command:s,datalist:e({option:1},n),dd:i,del:n,details:e({summary:1},i),dfn:n,div:i,dl:{dt:1,dd:1},dt:i,em:n,embed:s,fieldset:e({legend:1},i),figcaption:i,figure:e({figcaption:1},i),footer:i,form:i,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},r),header:i,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:s,html:e({head:1,body:1},i,r),i:n,iframe:a,img:s,input:s,ins:n,kbd:n,keygen:s,label:n,legend:n,li:i,link:s,main:i,map:i,mark:n,menu:e({li:1},i),meta:s,meter:t(n,{meter:1}),nav:i,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:a,output:n,p:n,param:s,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:a,section:i,select:{optgroup:1,option:1},small:n,source:s,span:n,strong:n,style:a,sub:n,summary:n,sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:i,textarea:a,tfoot:{tr:1},th:i,thead:{tr:1},time:t(n,{time:1}),title:a,tr:{th:1,td:1},track:s,u:n,ul:{li:1},var:n,video:e({source:1,track:1},i),wbr:s,acronym:n,applet:e({param:1},i),basefont:s,big:n,center:i,dialog:s,dir:{li:1},font:n,isindex:s,noframes:i,strike:n,tt:n},e(t,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),t}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}};return{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(t){var n=this.getCustomData("_cke_nativeListeners");return n||(n={},this.setCustomData("_cke_nativeListeners",n)),n[t]||(n=n[t]=e(this,t),this.$.addEventListener?this.$.addEventListener(t,n,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,n)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){var e=this.getCustomData("_cke_nativeListeners"),t;for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",function(){t={}}),e.equals=function(e){try{return e&&e.$===this.$}catch(e){return!1}},e.setCustomData=function(e,n){var i=this.getUniqueId();return(t[i]||(t[i]={}))[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"];return(n=n&&t[n])&&e in n?n[e]:null},e.removeCustomData=function(e){var n=this.$["data-cke-expando"],n=n&&t[n],i,o;return n&&(i=n[e],o=e in n,delete n[e]),o?i:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.$["data-cke-expando"];e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber());
},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){var n=this.$.cloneNode(e),i=function(n){if(n["data-cke-expando"]&&(n["data-cke-expando"]=!1),n.nodeType==CKEDITOR.NODE_ELEMENT&&(t||n.removeAttribute("id",!1),e))for(var n=n.childNodes,o=0;o<n.length;o++)i(n[o])};return i(n),new CKEDITOR.dom.node(n)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,i=this.$;i&&i!=n;){var o=i.parentNode;o&&t.unshift(this.getIndex.call({$:i},e)),i=o}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,n){var i=n?e.nextSibling:e.previousSibling;return i&&i.nodeType==CKEDITOR.NODE_TEXT?i.nodeValue?i:t(i,n):null}var n=this.$,i=-1,o;if(!this.$.parentNode||e&&n.nodeType==CKEDITOR.NODE_TEXT&&!n.nodeValue&&!t(n)&&!t(n,!0))return-1;do(!e||n==this.$||n.nodeType!=CKEDITOR.NODE_TEXT||!o&&n.nodeValue)&&(i++,o=n.nodeType==CKEDITOR.NODE_TEXT);while(n=n.previousSibling);return i},getNextSourceNode:function(e,t,n){if(n&&!n.call)var i=n,n=function(e){return!e.equals(i)};var e=!e&&this.getFirst&&this.getFirst(),o;if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&n(this,!0)===!1)return null;e=this.getNext()}for(;!e&&(o=(o||this).getParent());){if(n&&n(o,!0)===!1)return null;e=o.getNext()}return!e||n&&n(e)===!1?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(n&&!n.call)var i=n,n=function(e){return!e.equals(i)};var e=!e&&this.getLast&&this.getLast(),o;if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&n(this,!0)===!1)return null;e=this.getPrevious()}for(;!e&&(o=(o||this).getParent());){if(n&&n(o,!0)===!1)return null;e=o.getPrevious()}return!e||n&&n(e)===!1?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){var t=this.$,n;do n=(t=t.previousSibling)&&10!=t.nodeType&&new CKEDITOR.dom.node(t);while(n&&e&&!e(n));return n},getNext:function(e){var t=this.$,n;do n=(t=t.nextSibling)&&new CKEDITOR.dom.node(t);while(n&&e&&!e(n));return n},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do n[e?"push":"unshift"](t);while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do if(t.contains(e))return t;while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return t.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var t=this.getAddress(),e=e.getAddress(),n=Math.min(t.length,e.length),i=0;i<=n-1;i++)if(t[i]!=e[i]){if(i<n)return t[i]<e[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;break}return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n=this.$,i,o;t||(n=n.parentNode),"function"==typeof e?(o=!0,i=e):(o=!1,i=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});for(;n;){if(i(o?new CKEDITOR.dom.node(n):n))return new CKEDITOR.dom.node(n);try{n=n.parentNode}catch(e){n=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),e&&"undefined"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e&&!e.data("cke-editable");){if("false"==e.getAttribute("contentEditable"))return!0;if("true"==e.getAttribute("contentEditable"))break;e=e.getParent()}return!e}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:(e=e.document,{x:e.documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0})},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,i=0;n&&i<e.length;i++){var o=e[i];if(t)for(var r=-1,s=0;s<n.childNodes.length;s++){var a=n.childNodes[s];if((t!==!0||3!=a.nodeType||!a.previousSibling||3!=a.previousSibling.nodeType)&&(r++,r==o)){n=a;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return!(CKEDITOR.env.ie&&document.documentMode<=8)&&t&&(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e=e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return e<0||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,i){var o=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[o]=t,r[n]=1,t.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var i=t.getCustomData("list_marker_names"),o=t.getCustomData("list_marker_id"),r;for(r in i)t.removeCustomData(r);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[o])},function(){function e(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function t(e,t){return"#"+e.$.id+" "+t.split(/,\s*/).join(", #"+e.$.id+" ")}function n(e){for(var t=0,n=0,o=i[e].length;n<o;n++)t+=parseInt(this.getComputedStyle(i[e][n])||0,10)||0;return t}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:function(e){var t=this.$.className;return t&&(RegExp("(?:^|\\s)"+e+"(?:\\s|$)","").test(t)||(t+=" "+e)),this.$.className=t||e,this},removeClass:function(e){var t=this.getAttribute("class");return t&&(e=RegExp("(?:^|\\s+)"+e+"(?=\\s|$)","i"),e.test(t)&&((t=t.replace(e,"").replace(/^\s+/,""))?this.setAttribute("class",t):this.removeAttribute("class"))),this},hasClass:function(e){return RegExp("(?:^|\\s+)"+e+"(?=\\s|$)","").test(this.getAttribute("class"))},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text=this.$.text+e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e){var t=new CKEDITOR.dom.range(this.getDocument());t.setStartAfter(this),t.setEndAfter(e),e=t.extractContents(),t.insertNode(this.remove()),e.insertAfterNode(this)},contains:CKEDITOR.env.ie||CKEDITOR.env.webkit?function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)}:function(e){return!!(16&this.$.compareDocumentPosition(e.$))},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(n){for(this.$.innerHTML="",t=new CKEDITOR.dom.element("body",this.getDocument()),t.$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:function(){var e=function(e){return this.$.getAttribute(e,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return e=this.$.getAttribute(e,2),0!==e&&0===this.$.tabIndex&&(e=null),e;case"checked":return e=this.$.attributes.getNamedItem(e),(e.specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:e}(),getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:CKEDITOR.env.ie?function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]}:function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:CKEDITOR.env.ie?function(){var e=this.$.tabIndex;return 0===e&&!CKEDITOR.dtd.$tabIndex[this.getName()]&&0!==parseInt(this.getAttribute("tabindex"),10)&&(e=-1),e}:CKEDITOR.env.webkit?function(){var e=this.$.tabIndex;return void 0===e&&(e=parseInt(this.getAttribute("tabindex"),10),isNaN(e)&&(e=-1)),e}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(e===!1||(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span,!(!e||!e["#"])))},isIdentical:function(e){var t=this.clone(0,1),e=e.clone(0,1);if(t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&(n=n.clone(),n.setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),t,n;return e&&CKEDITOR.env.webkit&&(t=this.getWindow(),!t.equals(CKEDITOR.document.getWindow())&&(n=t.$.frameElement)&&(e=new CKEDITOR.dom.element(n).isVisible())),!!e},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();t<n;t++){var i=e.getItem(t);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return t>0&&(t>2||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return this.$.className.length>0;case"checked":return!!this.$.checked;case"value":return e=this.getAttribute("type"),"checkbox"==e||"radio"==e?"on"!=this.$.value:!!this.$.value}return!!t&&t.specified}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n=this.$,e=e.$;if(n!=e){var i;if(t)for(;i=n.lastChild;)e.insertBefore(n.removeChild(i),e.firstChild);else for(;i=n.firstChild;)e.appendChild(n.removeChild(i))}},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var i=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(i.push(t),t=n?t.getNext():t.getPrevious(),!t||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var o=n?e.getLast():e.getFirst();i.length;)i.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(t){(t===!1||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(e){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:function(){var e=function(e){this.$.removeAttribute(e)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:e}(),removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e)e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){var t=this.$.style;if(t.removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)t.removeProperty?t.removeProperty(e):t.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var n=["top","left","right","bottom"],i;"border"==e&&(i=["color","style","width"]);for(var t=[],o=0;o<n.length;o++)if(i)for(var r=0;r<i.length;r++)t.push([e,n[o],i[r]].join("-"));else t.push([e,n[o]].join("-"));for(e=0;e<t.length;e++)this.removeStyle(t[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(e=Math.round(100*e),this.setStyle("filter",e>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e,t=this.getElementsByTag("*"),n=0,i=t.count();n<i;n++)e=t.getItem(n),e.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(document.documentElement.getBoundingClientRect){var s=this.$.getBoundingClientRect(),a=i.$.documentElement,l=a.clientTop||o.$.clientTop||0,c=a.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=r&&i||!r&&u),u&&(CKEDITOR.env.webkit?(t=o.$.scrollLeft||a.scrollLeft,n=o.$.scrollTop||a.scrollTop):(n=r?o.$:a,t=n.scrollLeft,n=n.scrollTop),t=s.left+t-c,n=s.top+n-l)}else for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)t-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();c=l,l=(s=l.$.offsetParent)?new CKEDITOR.dom.element(s):null}return e&&(s=this.getWindow(),l=e.getWindow(),!s.equals(l)&&s.$.frameElement&&(e=new CKEDITOR.dom.element(s.$.frameElement).getDocumentPosition(e),t+=e.x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var i=n.$.frameElement;i&&(t=new CKEDITOR.dom.element(i))}catch(e){}}while(t=t.getParent())},scrollIntoParent:function(e,t,n){function i(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft=e.$.scrollLeft+t,e.$.scrollTop=e.$.scrollTop+n)}function o(e,t){var n={x:0,y:0};if(!e.is(u?"body":"html")){var i=e.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return i=e.getWindow(),i.equals(t)||(i=o(CKEDITOR.dom.element.get(i.$.frameElement),t),n.x=n.x+i.x,n.y=n.y+i.y),n}function r(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}var s,a,l,c;!e&&(e=this.getWindow()),l=e.getDocument();var u="BackCompat"==l.$.compatMode;e instanceof CKEDITOR.dom.window&&(e=u?l.getBody():l.getDocumentElement()),l=e.getWindow(),a=o(this,l);var d=o(e,l),h=this.$.offsetHeight;s=this.$.offsetWidth;var p=e.$.clientHeight,f=e.$.clientWidth;l=a.x-r(this,"left")-d.x||0,c=a.y-r(this,"top")-d.y||0,s=a.x+s+r(this,"right")-(d.x+f)||0,a=a.y+h+r(this,"bottom")-(d.y+p)||0,(c<0||a>0)&&i(0,t===!0?c:t===!1?a:c<0?c:a),n&&(l<0||s>0)&&i(l<0?l:s,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){for(var n=this.$.attributes,t=t||{},i=0;i<n.length;i++){var o=n[i],r=o.nodeName.toLowerCase(),s;r in t||("checked"==r&&(s=this.getAttribute(r))?e.setAttribute(r,s):CKEDITOR.env.ie&&!this.hasAttribute(r)||(s=this.getAttribute(r),null===s&&(s=o.nodeValue),e.setAttribute(r,s)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument(),e=new CKEDITOR.dom.element(e,t);this.copyAttributes(e),this.moveChildren(e),this.getParent()&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;if(t>=0&&t<n.length)return n[t]}return function(t){var n=this.$;if(t.slice)for(;t.length>0&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",function(e){e.data.getTarget().hasClass("cke_enable_context_menu")||e.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(t===!1?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(){var e=CKEDITOR.instances,t,n;for(t in e)if(n=e[t],n.element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return n;return null},find:function(n){var i=e(this),n=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t(this,n)));return i(),n},findOne:function(n){var i=e(this),n=this.$.querySelector(t(this,n));return i(),n?new CKEDITOR.dom.element(n):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(i!==!1)for(var n=this.getChildren(),o=0;o<n.count();o++)i=n.getItem(o),i.type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):(!t||i.type==t)&&e(i)}});var i={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,i){"number"==typeof t&&(!i||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=n.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var i=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(i-=n.call(this,e)),i}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){e=e.$,e.parentNode.insertBefore(this.$,e.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r=n.startOffset,s=n.endOffset,a,l=this.guard,c=this.type,u=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(e,t){return!(t&&d.equals(e)||h&&e.equals(h)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var p=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),f=o.type==CKEDITOR.NODE_ELEMENT?r?o.getChild(r-1):null:o.getPrevious();this._.guardRTL=function(e,t){return!(t&&p.equals(e)||f&&e.equals(f)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var m=e?this._.guardRTL:this._.guardLTR;for(a=l?function(e,t){return m(e,t)!==!1&&l(e,t)}:m,this.current?i=this.current[u](!1,c,a):(e?i.type==CKEDITOR.NODE_ELEMENT&&(i=s>0?i.getChild(s-1):a(i,!0)===!1?null:i.getPreviousSourceNode(!0,c,a)):(i=o,i.type!=CKEDITOR.NODE_ELEMENT||(i=i.getChild(r))||(i=a(o,!0)===!1?null:o.getNextSourceNode(!0,c,a))),i&&a(i)===!1&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&this.evaluator(i)===!1){if(t&&this.evaluator)return!1}else if(!t)return i;i=i[u](!1,c,a)}return this.end(),this.current=null}function t(t){for(var n,i=null;n=e.call(this,t);)i=n;return i}function n(e){if(c(e))return!1;if(e.type==CKEDITOR.NODE_TEXT)return!0;if(e.type==CKEDITOR.NODE_ELEMENT){if(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable"))return!0;var t;if((t=!CKEDITOR.env.needsBrFiller)&&(t=e.is(u)))e:{t=0;for(var n=e.getChildCount();t<n;++t)if(!c(e.getChild(t))){t=!1;break e}t=!0}if(t)return!0}return!1}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return e.call(this,0,1)!==!1},checkBackward:function(){return e.call(this,1,1)!==!1},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var i={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},o={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in o||!i[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e));
}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(i){var o,r;return o=i&&i.type!=CKEDITOR.NODE_ELEMENT&&(r=i.getParent())&&n(r),o=e?o:o||n(i),!!(t^o)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&""==t.getText()),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(i){return t(i)?i=1:(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),i=i.$.offsetWidth<=n),!!(e^i)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!s(e)&&!a(e)}return function(n){var i=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&r.test(n.getText());return i&&(i=n.getParent(),n=n.getNext(t),i=i.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(e^i)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var r=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),l=CKEDITOR.dom.walker.temp();CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=s(t)||a(t)||l(t),!!(e^t)}};var c=CKEDITOR.dom.walker.ignored(),u=function(e){var t={},n;for(n in e)CKEDITOR.dtd[n]["#"]&&(t[n]=1);return t}(CKEDITOR.dtd.$block);CKEDITOR.dom.walker.editable=function(e){return function(t){return!!(e^n(t))}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do e=e.getPreviousSourceNode();while(a(e)||s(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty));return!(!e||!(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&r.test(e.getText())))&&e}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),i=CKEDITOR.dom.walker.bogus();return function(o){return!(!n(o)&&!t(o))||(i(o)&&!e?e=!0:!(o.type==CKEDITOR.NODE_TEXT&&(o.hasAscendant("pre")||CKEDITOR.tools.trim(o.getText()).length)||o.type==CKEDITOR.NODE_ELEMENT&&!o.is(r)))}}function t(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(i){return!(!n(i)&&!t(i))||(!e&&s(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$removeEmpty))}}function n(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){return!t&&c(e)&&(t=e),l(e)&&!(s(e)&&e.equals(t))})}}var i=function(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset},o=function(e,t,n,i){e.optimizeBookmark();var o=e.startContainer,r=e.endContainer,s=e.startOffset,a=e.endOffset,l,c;r.type==CKEDITOR.NODE_TEXT?r=r.split(a):r.getChildCount()>0&&(a>=r.getChildCount()?(r=r.append(e.document.createText("")),c=!0):r=r.getChild(a)),o.type==CKEDITOR.NODE_TEXT?(o.split(s),o.equals(r)&&(r=o.getNext())):s?s>=o.getChildCount()?(o=o.append(e.document.createText("")),l=!0):o=o.getChild(s).getPrevious():(o=o.append(e.document.createText(""),1),l=!0);var s=o.getParents(),a=r.getParents(),u,d,h;for(u=0;u<s.length&&(d=s[u],h=a[u],d.equals(h));u++);for(var p=n,f,m,g,v=u;v<s.length;v++){for(f=s[v],p&&!f.equals(o)&&(m=p.append(f.clone())),f=f.getNext();f&&(!f.equals(a[v])&&!f.equals(r));)g=f.getNext(),2==t?p.append(f.clone(!0)):(f.remove(),1==t&&p.append(f)),f=g;p&&(p=m)}for(p=n,n=u;n<a.length;n++){if(f=a[n],t>0&&!f.equals(r)&&(m=p.append(f.clone())),!s[n]||f.$.parentNode!=s[n].$.parentNode)for(f=f.getPrevious();f&&(!f.equals(s[n])&&!f.equals(o));)g=f.getPrevious(),2==t?p.$.insertBefore(f.$.cloneNode(!0),p.$.firstChild):(f.remove(),1==t&&p.$.insertBefore(f.$,p.$.firstChild)),f=g;p&&(p=m)}2==t?(d=e.startContainer,d.type==CKEDITOR.NODE_TEXT&&(d.$.data=d.$.data+d.$.nextSibling.data,d.$.parentNode.removeChild(d.$.nextSibling)),e=e.endContainer,e.type==CKEDITOR.NODE_TEXT&&e.$.nextSibling&&(e.$.data=e.$.data+e.$.nextSibling.data,e.$.parentNode.removeChild(e.$.nextSibling))):(d&&h&&(o.$.parentNode!=d.$.parentNode||r.$.parentNode!=h.$.parentNode)&&(t=h.getIndex(),l&&h.$.parentNode==o.$.parentNode&&t--,i&&d.type==CKEDITOR.NODE_ELEMENT?(i=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document),i.insertAfter(d),d.mergeSiblings(!1),e.moveToBookmark({startNode:i})):e.setStart(h.getParent(),t)),e.collapse(!0)),l&&o.remove(),c&&r.$.parentNode&&r.remove()},r={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},s=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),c=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||o(this,2,e),e},deleteContents:function(e){this.collapsed||o(this,0,null,e)},extractContents:function(e){var t=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||o(this,1,t,e),t},createBookmark:function(e){var t,n,i,o,r=this.collapsed;return t=this.document.createElement("span"),t.data("cke-bookmark",1),t.setStyle("display","none"),t.setHtml("&nbsp;"),e&&(i="cke_bm_"+CKEDITOR.tools.getNextNumber(),t.setAttribute("id",i+(r?"C":"S"))),r||(n=t.clone(),n.setHtml("&nbsp;"),e&&n.setAttribute("id",i+"E"),o=this.clone(),o.collapse(),o.insertNode(n)),o=this.clone(),o.collapse(!0),o.insertNode(t),n?(this.setStartAfter(t),this.setEndBefore(n)):this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),{startNode:e?i+(r?"C":"S"):t,endNode:e?i+"E":n,serializable:e,collapsed:r}},createBookmark2:function(){function e(e){var n=e.container,i=e.offset,o;o=n;var r=i;if(o=o.type!=CKEDITOR.NODE_ELEMENT||0===r||r==o.getChildCount()?0:o.getChild(r-1).type==CKEDITOR.NODE_TEXT&&o.getChild(r).type==CKEDITOR.NODE_TEXT,o&&(n=n.getChild(i-1),i=n.getLength()),n.type==CKEDITOR.NODE_ELEMENT&&i>1&&(i=n.getChild(i-1).getIndex(!0)+1),n.type==CKEDITOR.NODE_TEXT){for(o=n,r=0;(o=o.getPrevious())&&o.type==CKEDITOR.NODE_TEXT;)r+=o.getLength();o=r,n.getText()?i+=o:(r=n.getPrevious(t),o?(i=o,n=r?r.getNext():n.getParent().getFirst()):(n=n.getParent(),i=r?r.getIndex(!0)+1:0))}e.container=n,e.offset=i}var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(t){var n=this.collapsed,i={container:this.startContainer,offset:this.startOffset},o={container:this.endContainer,offset:this.endOffset};return t&&(e(i),n||e(o)),{start:i.container.getAddress(t),end:n?null:o.container.getAddress(t),startOffset:i.offset,endOffset:o.offset,normalized:t,collapsed:n,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,i=e.end&&this.document.getByAddress(e.end,e.normalized),e=e.endOffset;this.setStart(t,n),i?this.setEnd(i,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e=this.startContainer,t=this.endContainer,n=this.startOffset,i=this.endOffset,o;if(e.type==CKEDITOR.NODE_ELEMENT)if(o=e.getChildCount(),o>n)e=e.getChild(n);else if(o<1)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=new CKEDITOR.dom.node(e),e=e.getNextSourceNode()||e}if(t.type==CKEDITOR.NODE_ELEMENT)if(o=t.getChildCount(),o>i)t=t.getChild(i).getPreviousSourceNode(!0);else if(o<1)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=new CKEDITOR.dom.node(t)}return e.getPosition(t)&CKEDITOR.POSITION_FOLLOWING&&(e=t),{startNode:e,endNode:t}},getCommonAncestor:function(e,t){var n=this.startContainer,i=this.endContainer,n=n.equals(i)?e&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!e||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i),i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset=this.endOffset+1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,t||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i?(i>=n.getLength()||n.split(i),i=n.getIndex()+1):i=n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var i=RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var o=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var r=this.getCommonAncestor(),s=this.root,a,l,c,u,d,h=!1,p,f;p=this.startContainer;var m=this.startOffset;for(p.type==CKEDITOR.NODE_TEXT?(m&&(p=!CKEDITOR.tools.trim(p.substring(0,m)).length&&p,h=!!p),p&&!(u=p.getPrevious())&&(c=p.getParent())):(m&&(u=p.getChild(m-1)||p.getLast()),u||(c=p)),c=n(c);c||u;){if(c&&!u){if(!d&&c.equals(r)&&(d=!0),o?c.isBlockBoundary():!s.contains(c))break;h&&"inline"==c.getComputedStyle("display")||(h=!1,d?a=c:this.setStartBefore(c)),u=c.getPrevious()}for(;u;)if(p=!1,u.type==CKEDITOR.NODE_COMMENT)u=u.getPrevious();else{if(u.type==CKEDITOR.NODE_TEXT)f=u.getText(),i.test(f)&&(u=null),p=/[\s\ufeff]$/.test(f);else if((u.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&u.is("br"))&&!u.data("cke-bookmark"))if(h&&CKEDITOR.dtd.$removeEmpty[u.getName()]){if(f=u.getText(),i.test(f))u=null;else for(var m=u.$.getElementsByTagName("*"),g=0,v;v=m[g++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){u=null;break}u&&(p=!!f.length)}else u=null;if(p&&(h?d?a=c:c&&this.setStartBefore(c):h=!0),u){if(p=u.getPrevious(),!c&&!p){c=u,u=null;break}u=p}else c=null}c&&(c=n(c.getParent()))}p=this.endContainer,m=this.endOffset,c=u=null,d=h=!1;var b=function(e,t){var n=new CKEDITOR.dom.range(s);n.setStart(e,t),n.setEndAt(s,CKEDITOR.POSITION_BEFORE_END);var n=new CKEDITOR.dom.walker(n),o;for(n.guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};o=n.next();){if(o.type!=CKEDITOR.NODE_TEXT)return!1;if(f=o!=e?o.getText():o.substring(t),i.test(f))return!1}return!0};for(p.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(p.substring(m)).length?h=!0:(h=!p.getLength(),m==p.getLength()?(u=p.getNext())||(c=p.getParent()):b(p,m)&&(c=p.getParent())):(u=p.getChild(m))||(c=p);c||u;){if(c&&!u){if(!d&&c.equals(r)&&(d=!0),o?c.isBlockBoundary():!s.contains(c))break;h&&"inline"==c.getComputedStyle("display")||(h=!1,d?l=c:c&&this.setEndAfter(c)),u=c.getNext()}for(;u;){if(p=!1,u.type==CKEDITOR.NODE_TEXT)f=u.getText(),b(u,0)||(u=null),p=/^[\s\ufeff]/.test(f);else if(u.type==CKEDITOR.NODE_ELEMENT){if((u.$.offsetWidth>0||t&&u.is("br"))&&!u.data("cke-bookmark"))if(h&&CKEDITOR.dtd.$removeEmpty[u.getName()]){if(f=u.getText(),i.test(f))u=null;else for(m=u.$.getElementsByTagName("*"),g=0;v=m[g++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){u=null;break}u&&(p=!!f.length)}else u=null}else p=1;if(p&&h&&(d?l=c:this.setEndAfter(c)),u){if(p=u.getNext(),!c&&!p){c=u,u=null;break}u=p}else c=null}c&&(c=n(c.getParent()))}a&&l&&(r=a.contains(l)?l:a,this.setStartBefore(r),this.setEndAfter(r));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:c=new CKEDITOR.dom.range(this.root),s=this.root,c.setStartAt(s,CKEDITOR.POSITION_AFTER_START),c.setEnd(this.startContainer,this.startOffset),c=new CKEDITOR.dom.walker(c);var w,y,_=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),E=null,T=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(E){if(E.equals(e))return void(E=null)}else E=e;else if(E)return;var t=_(e);return t||(w=e),t},o=function(e){var t=T(e);return!t&&e.is&&e.is("br")&&(y=e),t};if(c.guard=T,c=c.lastBackward(),w=w||s,this.setStartAt(w,!w.is("br")&&(!c&&this.checkStartOfBlock()||c&&w.contains(c))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){c=this.clone(),c=new CKEDITOR.dom.walker(c);var C=CKEDITOR.dom.walker.whitespaces(),S=CKEDITOR.dom.walker.bookmark();if(c.evaluator=function(e){return!C(e)&&!S(e)},(c=c.previous())&&c.type==CKEDITOR.NODE_ELEMENT&&c.is("br"))break}c=this.clone(),c.collapse(),c.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),c=new CKEDITOR.dom.walker(c),c.guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?o:T,w=E=y=null,c=c.lastForward(),w=w||s,this.setEndAt(w,!c&&this.checkEndOfBlock()||c&&w.contains(c)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),y&&this.setEndAfter(y)}},shrink:function(e,t,n){if(!this.collapsed){var e=e||CKEDITOR.SHRINK_TEXT,i=this.clone(),o=this.startContainer,r=this.endContainer,s=this.startOffset,a=this.endOffset,l=1,c=1;o&&o.type==CKEDITOR.NODE_TEXT&&(s?s>=o.getLength()?i.setStartAfter(o):(i.setStartBefore(o),l=0):i.setStartBefore(o)),r&&r.type==CKEDITOR.NODE_TEXT&&(a?a>=r.getLength()?i.setEndAfter(r):(i.setEndAfter(r),c=0):i.setEndBefore(r));var i=new CKEDITOR.dom.walker(i),u=CKEDITOR.dom.walker.bookmark();i.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var d;return i.guard=function(t,i){return!!u(t)||!(e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||i&&t.equals(d)||n===!1&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(!i&&t.type==CKEDITOR.NODE_ELEMENT&&(d=t),!0)},l&&(o=i[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(o,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),c&&(i.reset(),(i=i[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(i,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!l&&!c)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(e,t){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(t=e.getIndex(),e=e.getParent()),this._setStartContainer(e),this.startOffset=t,this.endContainer||(this._setEndContainer(e),this.endOffset=t),i(this)},setEnd:function(e,t){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(t=e.getIndex()+1,e=e.getParent()),this._setEndContainer(e),this.endOffset=t,this.startContainer||(this._setStartContainer(e),this.startOffset=t),i(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}i(this)},setEndAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}i(this)},fixBlock:function(e,t){var n=this.createBookmark(),i=this.document.createElement(t);return this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),i.appendBogus(),this.insertNode(i),this.moveToBookmark(n),i},splitBlock:function(e){var t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),n=new CKEDITOR.dom.elementPath(this.endContainer,this.root),i=t.block,o=n.block,r=null;return t.blockLimit.equals(n.blockLimit)?("br"!=e&&(i||(i=this.fixBlock(!0,e),o=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),o||(o=this.fixBlock(!1,e))),e=i&&this.checkStartOfBlock(),t=o&&this.checkEndOfBlock(),this.deleteContents(),i&&i.equals(o)&&(t?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_AFTER_END),o=null):e?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i=null):(o=this.splitElement(i),i.is("ul","ol")||i.appendBogus())),{previousBlock:i,nextBlock:o,wasStartOfBlock:e,wasEndOfBlock:t,elementPath:r}):null},splitElement:function(e){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var t=this.extractContents(),n=e.clone(!1);return t.appendTo(n),n.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),n},removeEmptyBlocksAtEnd:function(){function e(e){return function(i){return!(t(i)||n(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.isEmptyInlineRemoveable()||e.is("table")&&i.is("caption"))}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit,r;o&&!o.equals(i.root)&&!o.getFirst(e(o));)r=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=r;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,n){var i=n==CKEDITOR.START,o=this.clone();return o.collapse(i),o[i?"setStartAt":"setEndAt"](e,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),o=new CKEDITOR.dom.walker(o),o.evaluator=t(i),o[i?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,n=this.startOffset;return CKEDITOR.env.ie&&n&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,n)),a.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),n=this.clone(),n.collapse(!0),n.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),t=new CKEDITOR.dom.walker(n),t.evaluator=e(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,n=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(n)),a.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),n=this.clone(),n.collapse(!1),n.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),t=new CKEDITOR.dom.walker(n),t.evaluator=e(),t.checkForward()},getPreviousNode:function(e,t,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),n=new CKEDITOR.dom.walker(i),n.evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),n=new CKEDITOR.dom.walker(i),n.evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&a.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var i=e,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[t?"getLast":"getFirst"](c)),!o&&!r&&(r=i[t?"getPrevious":"getNext"](c)),e=r}return!!n},moveToClosestEditablePosition:function(e,t){var n=new CKEDITOR.dom.range(this.root),i=0,o,r=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return n.moveToPosition(e,r[t?0:1]),e.is(CKEDITOR.dtd.$block)?(o=n[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(i=1,o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)&&"false"==o.getAttribute("contenteditable")?(n.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(o,CKEDITOR.POSITION_AFTER_END)):n.moveToPosition(o,r[t?1:0])):i=1,i&&this.moveToRange(n),!!i},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){var e=this.clone();if(e.optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var i=e.next();return e.reset(),i&&i.equals(e.previous())?i:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:n(),getPreviousEditableNode:n(1),scrollIntoView:function(){var e=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),t,n,i,o=this.clone();o.optimize(),(i=o.startContainer.type==CKEDITOR.NODE_TEXT)?(n=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),e.insertAfter(o.startContainer)):o.insertNode(e),e.scrollIntoView(),i&&(o.startContainer.setText(n),t.remove()),e.remove()},_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){arguments.length<1||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(e){var t=[];return e.forEach(function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1},CKEDITOR.NODE_ELEMENT,!0),t}function n(e,i,o,r){e:{null==r&&(r=t(o));for(var s;s=r.shift();)if(s.getDtd().p){r={element:s,remaining:r};break e}r=null}return r?(s=CKEDITOR.filter.instances[r.element.data("cke-filter")])&&!s.check(i)?n(e,i,o,r.remaining):(i=new CKEDITOR.dom.range(r.element),i.selectNodeContents(r.element),i=i.createIterator(),i.enlargeBr=e.enlargeBr,i.enforceRealBlocks=e.enforceRealBlocks,i.activeFilter=i.filter=s,e._.nestedEditable={element:r.element,container:o,remaining:r.remaining,iterator:i},1):0}function i(e,t,n){return!!t&&(e=e.clone(),e.collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END))}var o=/^[\r\n\t ]+$/,r=CKEDITOR.dom.walker.bookmark(!1,!0),s=CKEDITOR.dom.walker.whitespaces(!0),a=function(e){return r(e)&&s(e)},l={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var t,s,c,u,d,e=e||"p";if(this._.nestedEditable){if(t=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,t;if(this.activeFilter=this.filter,n(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var h=this.range.clone();s=h.startPath();var p=h.endPath(),f=!h.collapsed&&i(h,s.block),m=!h.collapsed&&i(h,p.block,1);h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),f&&h.setStartAt(s.block,CKEDITOR.POSITION_BEFORE_END),m&&h.setEndAt(p.block,CKEDITOR.POSITION_AFTER_START),s=h.endContainer.hasAscendant("pre",!0)||h.startContainer.hasAscendant("pre",!0),h.enlarge(this.forceBrBreak&&!s||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),h.collapsed||(s=new CKEDITOR.dom.walker(h.clone()),p=CKEDITOR.dom.walker.bookmark(!0,!0),s.evaluator=p,this._.nextNode=s.next(),s=new CKEDITOR.dom.walker(h.clone()),s.evaluator=p,s=s.previous(),this._.lastNode=s.getNextSourceNode(!0,null,h.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(p=this.range.clone(),p.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),p.checkEndOfBlock()&&(p=new CKEDITOR.dom.elementPath(p.endContainer,p.root),this._.lastNode=(p.block||p.blockLimit).getNextSourceNode(!0))),this._.lastNode&&h.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=h.document.createText(""),this._.lastNode.insertAfter(s)),h=null),this._.started=1,s=h}for(p=this._.nextNode,h=this._.lastNode,this._.nextNode=null;p;){var f=0,m=p.hasAscendant("pre"),g=p.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)p.type==CKEDITOR.NODE_TEXT&&o.test(p.getText())&&(g=0);else{var b=p.getName();if(CKEDITOR.dtd.$block[b]&&"false"==p.getAttribute("contenteditable")){t=p,n(this,e,t);break}if(p.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if("br"==b)g=1;else if(!s&&!p.getChildCount()&&"hr"!=b){t=p,c=p.equals(h);break}s&&(s.setEndAt(p,CKEDITOR.POSITION_BEFORE_START),"br"!=b&&(this._.nextNode=p)),f=1}else{if(p.getFirst()){s||(s=this.range.clone(),s.setStartAt(p,CKEDITOR.POSITION_BEFORE_START)),p=p.getFirst();continue}g=1}}if(g&&!s&&(s=this.range.clone(),s.setStartAt(p,CKEDITOR.POSITION_BEFORE_START)),c=(!f||g)&&p.equals(h),s&&!f)for(;!p.getNext(a)&&!c;){if(b=p.getParent(),b.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){f=1,g=0,c||b.equals(h),s.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);break}p=b,g=1,c=p.equals(h),v=1}if(g&&s.setEndAt(p,CKEDITOR.POSITION_AFTER_END),p=this._getNextSourceNode(p,v,h),(c=!p)||f&&s)break}if(!t){if(!s)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;t=new CKEDITOR.dom.elementPath(s.startContainer,s.root),p=t.blockLimit,f={div:1,th:1,td:1},t=t.block,!t&&p&&!this.enforceRealBlocks&&f[p.getName()]&&s.checkStartOfBlock()&&s.checkEndOfBlock()&&!p.equals(s.root)?t=p:!t||this.enforceRealBlocks&&t.is(l)?(t=this.range.document.createElement(e),s.extractContents().appendTo(t),t.trim(),s.insertNode(t),u=d=!0):"li"!=t.getName()?s.checkStartOfBlock()&&s.checkEndOfBlock()||(t=t.clone(!1),s.extractContents().appendTo(t),t.trim(),d=s.splitBlock(),u=!d.wasStartOfBlock,d=!d.wasEndOfBlock,s.insertNode(t)):c||(this._.nextNode=t.equals(h)?null:this._getNextSourceNode(s.getBoundaryNodes().endNode,1,h))}return u&&(u=t.getPrevious())&&u.type==CKEDITOR.NODE_ELEMENT&&("br"==u.getName()?u.remove():u.getLast()&&"br"==u.getLast().$.nodeName.toLowerCase()&&u.getLast().remove()),d&&(u=t.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&"br"==u.getName()&&(!CKEDITOR.env.needsBrFiller||u.getPrevious(r)||u.getNext(r))&&u.remove(),this._.nextNode||(this._.nextNode=c||t.equals(h)||!h?null:this._getNextSourceNode(t,1,h)),t},_getNextSourceNode:function(e,t,n){function i(e){return!(e.equals(n)||e.equals(o))}for(var o=this.range.root,e=e.getNextSourceNode(t,null,i);!r(e);)e=e.getNextSourceNode(t,null,i);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){this.uiItems=[],this.exec=function(n){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),this.fire("exec")===!1||t.exec.call(this,e,n)!==!1)},this.refresh=function(e,n){return!(this.readOnly||!e.readOnly)||(this.context&&!n.isContextFor(this.context)?(this.disable(),!0):this.checkAllowed(!0)?(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),this.fire("refresh",{editor:e,path:n})===!1||t.refresh&&t.refresh.apply(this,arguments)!==!1):(this.disable(),!0))};var n;this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return!(this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=e,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,n,i,o){var r,a,e=[];for(r in t){a=t[r],a="boolean"==typeof a?{}:"function"==typeof a?{
match:a}:D(a),"$"!=r.charAt(0)&&(a.elements=r),n&&(a.featureName=n.toLowerCase());var l=a;l.elements=s(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||l.elements===!0;var c=/\s*,\s*/,u=void 0;for(u in P){l[u]=s(l[u],c)||null;var d=l,h=A[u],p=s(l[A[u]],c),f=l[u],m=[],g=!0,b=void 0;p?g=!1:p={};for(b in f)"!"==b.charAt(0)&&(b=b.slice(1),m.push(b),p[b]=!0,g=!1);for(;b=m.pop();)f[b]=f["!"+b],delete f["!"+b];d[h]=!g&&p||null}l.match=l.match||null,i.push(a),e.push(a)}for(var t=o.elements,o=o.generic,w,n=0,i=e.length;n<i;++n){r=D(e[n]),a=r.classes===!0||r.styles===!0||r.attributes===!0,l=r,u=h=c=void 0;for(c in P)l[c]=v(l[c]);d=!0;for(u in A){c=A[u],h=l[c],p=[],f=void 0;for(f in h)f.indexOf("*")>-1?p.push(RegExp("^"+f.replace(/\*/g,".*")+"$")):p.push(f);h=p,h.length&&(l[c]=h,d=!1)}if(l.nothingRequired=d,l.noProperties=!(l.attributes||l.classes||l.styles),r.elements===!0||null===r.elements)o[a?"unshift":"push"](r);else{l=r.elements,delete r.elements;for(w in l)t[w]?t[w][a?"unshift":"push"](r):t[w]=[r]}}}function t(e,t,i,o){if((!e.match||e.match(t))&&(o||a(e,t))&&(e.propertiesOnly||(i.valid=!0),i.allAttributes||(i.allAttributes=n(e.attributes,t.attributes,i.validAttributes)),i.allStyles||(i.allStyles=n(e.styles,t.styles,i.validStyles)),!i.allClasses)){if(e=e.classes,t=t.classes,o=i.validClasses,e)if(e===!0)e=!0;else{for(var r=0,s=t.length,l;r<s;++r)l=t[r],o[l]||(o[l]=e(l));e=!1}else e=!1;i.allClasses=e}}function n(e,t,n){if(!e)return!1;if(e===!0)return!0;for(var i in t)n[i]||(n[i]=e(i));return!1}function i(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=o(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=o(e.styles,t.styles)||n.hadInvalidStyle,e=e.classes,t=t.classes,e){for(var i=!1,r=e===!0,s=t.length;s--;)(r||e(t[s]))&&(t.splice(s,1),i=!0);e=i}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function o(e,t){if(!e)return!1;var n=!1,i=e===!0,o;for(o in t)(i||e(o))&&(delete t[o],n=!0);return n}function r(e,t,n){return!(e.disabled||e.customConfig&&!n||!t)&&(e._.cachedChecks={},!0)}function s(e,t){if(!e)return!1;if(e===!0)return e;if("string"==typeof e)return e=x(e),"*"==e||CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return!!e.length&&CKEDITOR.tools.convertArrayToObject(e);var n={},i=0,o;for(o in e)n[o]=e[o],i++;return!!i&&n}function a(e,t){if(e.nothingRequired)return!0;var n,i,o,r;if(o=e.requiredClasses)for(r=t.classes,n=0;n<o.length;++n)if(i=o[n],"string"==typeof i){if(CKEDITOR.tools.indexOf(r,i)==-1)return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return l(t.styles,e.requiredStyles)&&l(t.attributes,e.requiredAttributes)}function l(e,t){if(!t)return!0;for(var n=0,i;n<t.length;++n)if(i=t[n],"string"==typeof i){if(!(i in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,i))return!1;return!0}function c(e){if(!e)return{};for(var e=e.split(/\s*,\s*/).sort(),t={};e.length;)t[e.shift()]=k;return t}function u(e){for(var t,n,i,o,r={},s=1,e=x(e);t=e.match(N);)(n=t[2])?(i=d(n,"styles"),o=d(n,"attrs"),n=d(n,"classes")):i=o=n=null,r["$"+s++]={elements:t[1],classes:n,styles:i,attributes:o},e=e.slice(t[0].length);return r}function d(e,t){var n=e.match(M[t]);return n?x(n[1]):null}function h(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes.class;e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function p(e,n,o,r){var s=0,a;if(r.toHtml&&(n.name=n.name.replace(L,"$1")),r.doCallbacks&&e.elementCallbacks){e:for(var l=e.elementCallbacks,c=0,u=l.length,d;c<u;++c)if(d=l[c](n)){a=d;break e}if(a)return a}if(r.doTransform&&(a=e._.transformations[n.name])){for(h(n),l=0;l<a.length;++l)_(e,n,a[l]);m(n)}if(r.doFilter){e:{l=n.name,c=e._,e=c.allowedRules.elements[l],a=c.allowedRules.generic,l=c.disallowedRules.elements[l],c=c.disallowedRules.generic,u=r.skipRequired,d={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};var p,f;if(e||a){if(h(n),l)for(p=0,f=l.length;p<f;++p)if(i(l[p],n,d)===!1){e=null;break e}if(c)for(p=0,f=c.length;p<f;++p)i(c[p],n,d);if(e)for(p=0,f=e.length;p<f;++p)t(e[p],n,d,u);if(a)for(p=0,f=a.length;p<f;++p)t(a[p],n,d,u);e=d}else e=null}if(!e)return o.push(n),O;if(!e.valid)return o.push(n),O;f=e.validAttributes;var v=e.validStyles;a=e.validClasses;var l=n.attributes,b=n.styles,c=n.classes,u=n.classBackup,w=n.styleBackup,y,E,T=[];d=[];var C=/^data-cke-/;if(p=!1,delete l.style,delete l.class,delete n.classBackup,delete n.styleBackup,!e.allAttributes)for(y in l)f[y]||(C.test(y)?y==(E=y.replace(/^data-cke-saved-/,""))||f[E]||(delete l[y],p=!0):(delete l[y],p=!0));if(!e.allStyles||e.hadInvalidStyle){for(y in b)e.allStyles||v[y]?T.push(y+":"+b[y]):p=!0;T.length&&(l.style=T.sort().join("; "))}else w&&(l.style=w);if(!e.allClasses||e.hadInvalidClass){for(y=0;y<c.length;++y)(e.allClasses||a[c[y]])&&d.push(c[y]);d.length&&(l.class=d.sort().join(" ")),u&&d.length<u.split(/\s+/).length&&(p=!0)}else u&&(l.class=u);if(p&&(s=O),!r.skipFinalValidation&&!g(n))return o.push(n),O}return r.toHtml&&(n.name=n.name.replace(B,"cke:$1")),s}function f(e){var t=[],n;for(n in e)n.indexOf("*")>-1&&t.push(n.replace(/\*/g,".*"));return t.length?RegExp("^(?:"+t.join("|")+")$"):null}function m(e){var t=e.attributes,n;delete t.style,delete t.class,(n=CKEDITOR.tools.writeCssText(e.styles,!0))&&(t.style=n),e.classes.length&&(t.class=e.classes.sort().join(" "))}function g(e){switch(e.name){case"a":if(!e.children.length&&!e.attributes.name)return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function v(e){if(!e)return!1;if(e===!0)return!0;var t=f(e);return function(n){return n in e||t&&n.match(t)}}function b(){return new CKEDITOR.htmlParser.element("br")}function w(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||I.$block[e.name])}function y(e,t,n){var i=e.name;if(I.$empty[i]||!e.children.length)"hr"==i&&"br"==t?e.replaceWith(b()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(I.$block[i]||"tr"==i)if("br"==t)e.previous&&!w(e.previous)&&(t=b(),t.insertBefore(e)),e.next&&!w(e.next)&&(t=b(),t.insertAfter(e)),e.replaceWithChildren();else{var i=e.children,o;e:{o=I[t];for(var r=0,s=i.length,a;r<s;++r)if(a=i[r],a.type==CKEDITOR.NODE_ELEMENT&&!o[a.name]){o=!1;break e}o=!0}if(o)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{o=e.parent;for(var r=o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,l,c,s=i.length;s>0;)a=i[--s],r&&(a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&I.$inline[a.name])?(l||(l=new CKEDITOR.htmlParser.element(t),l.insertAfter(e),n.push({check:"parent-down",el:l})),l.add(a,0)):(l=null,c=I[o.name]||I.span,a.insertAfter(e),o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&a.type==CKEDITOR.NODE_ELEMENT&&!c[a.name]&&n.push({check:"el-up",el:a}));e.remove()}}else i in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function _(e,t,n){var i,o;for(i=0;i<n.length;++i)if(o=n[i],(!o.check||e.check(o.check,!1))&&(!o.left||o.left(t))){o.right(t,K);break}}function E(e,t){var n=t.getDefinition(),i=n.attributes,o=n.styles,r,s,a,l;if(e.name!=n.element)return!1;for(r in i)if("class"==r){for(n=i[r].split(/\s+/),a=e.classes.join("|");l=n.pop();)if(a.indexOf(l)==-1)return!1}else if(e.attributes[r]!=i[r])return!1;for(s in o)if(e.styles[s]!=o[s])return!1;return!0}function T(e,t){var n,i;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?i=e:(n=e[0],i=e[1]),[{element:n,left:i,right:function(e,n){n.transform(e,t)}}]}function C(e){return function(t){return E(t,e)}}function S(e){return function(t,n){n[e](t)}}var I=CKEDITOR.dtd,O=1,D=CKEDITOR.tools.copy,x=CKEDITOR.tools.trim,k="cke-test",R=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}},CKEDITOR.filter.instances[this.id]=this,e instanceof CKEDITOR.editor){e=this.editor=e,this.customConfig=!0;var t=e.config.allowedContent;t===!0?this.disabled=!0:(t||(this.customConfig=!1),this.allow(t,"config",1),this.allow(e.config.extraAllowedContent,"extra",1),this.allow(R[e.enterMode]+" "+R[e.shiftEnterMode],"default",1),this.disallow(e.config.disallowedContent))}else this.customConfig=!1,this.allow(e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,i){if(!r(this,t,i))return!1;var o,s;if("string"==typeof t)t=u(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,i);o=t.getDefinition(),t={},i=o.attributes,t[o.element]=o={styles:o.styles,requiredStyles:o.styles&&CKEDITOR.tools.objectKeys(o.styles)},i&&(i=D(i),o.classes=i.class?i.class.split(/\s+/):null,o.requiredClasses=o.classes,delete i.class,o.attributes=i,o.requiredAttributes=i&&CKEDITOR.tools.objectKeys(i))}else if(CKEDITOR.tools.isArray(t)){for(o=0;o<t.length;++o)s=this.allow(t[o],n,i);return s}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,i){if(this.disabled)return!1;var o=this,r=[],s=this.editor&&this.editor.config.protectedSource,a,l=!1,c={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!t||"span"!=e.name||!~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))if(a=p(o,e,r,c),a&O)l=!0;else if(2&a)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;e:{var i=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));n=[];var u,d,h;if(s)for(d=0;d<s.length;++d)if((h=i.match(s[d]))&&h[0].length==i.length){n=!0;break e}i=CKEDITOR.htmlParser.fragment.fromHtml(i),1==i.children.length&&(u=i.children[0]).type==CKEDITOR.NODE_ELEMENT&&p(o,u,n,c),n=!n.length}n||r.push(e)}},null,!0),r.length&&(l=!0);for(var u,e=[],i=R[i||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)],d;n=r.pop();)n.type==CKEDITOR.NODE_ELEMENT?y(n,i,e):n.remove();for(;u=e.pop();)if(n=u.el,n.parent)switch(d=I[n.parent.name]||I.span,u.check){case"it":I.$removeEmpty[n.name]&&!n.children.length?y(n,i,e):g(n)||y(n,i,e);break;case"el-up":n.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!d[n.name]&&y(n,i,e);break;case"parent-down":n.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!d[n.name]&&y(n.parent,i,e)}return l},checkFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!r(this,t,!0)&&("string"==typeof t&&(t=u(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(e){if(!this.disabled&&e){var t,n,i=[],o;for(t=0;t<e.length&&!o;++t)n=e[t],("string"==typeof n||n instanceof CKEDITOR.style)&&this.check(n)&&(o=n);if(o){for(t=0;t<e.length;++t)i.push(T(e[t],o));this.addTransformations(i)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),!e.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(e.requiredContent))},addTransformations:function(e){var t,n;if(!this.disabled&&e){var i=this._.transformations,o;for(o=0;o<e.length;++o){t=e[o];var r=void 0,s=void 0,a=void 0,l=void 0,c=void 0,u=void 0;for(n=[],s=0;s<t.length;++s)a=t[s],"string"==typeof a?(a=a.split(/\s*:\s*/),l=a[0],c=null,u=a[1]):(l=a.check,c=a.left,u=a.right),r||(r=a,r=r.element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=C(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof u?S(u):u});t=r,i[t]||(i[t]=[]),i[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var i=e.length;i--;)if(this.check(e[i],t,n))return!0;return!1}var o,r;if("string"==typeof e){if(r=e+"<"+(t===!1?"0":"1")+(n?"1":"0")+">",r in this._.cachedChecks)return this._.cachedChecks[r];i=u(e).$1,o=i.styles;var s=i.classes;i.name=i.elements,i.classes=s=s?s.split(/\s*,\s*/):[],i.styles=c(o),i.attributes=c(i.attributes),i.children=[],s.length&&(i.attributes.class=s.join(" ")),o&&(i.attributes.style=CKEDITOR.tools.writeCssText(i.styles)),o=i}else i=e.getDefinition(),o=i.styles,s=i.attributes||{},o?(o=D(o),s.style=CKEDITOR.tools.writeCssText(o,!0)):o={},o={name:i.element,attributes:s,classes:s.class?s.class.split(/\s+/):[],styles:o,children:[]};var s=CKEDITOR.tools.clone(o),a=[],l;if(t!==!1&&(l=this._.transformations[o.name])){for(i=0;i<l.length;++i)_(this,o,l[i]);m(o)}return p(this,s,a,{doFilter:!0,doTransform:t!==!1,skipRequired:!n,skipFinalValidation:!n}),t=!(a.length>0)&&!!CKEDITOR.tools.objectCompare(o.attributes,s.attributes,!0),"string"==typeof e&&(this._.cachedChecks[r]=t),t},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,i){var o=e.slice(),r;if(this.check(R[n]))return n;for(i||(o=o.reverse());r=o.pop();)if(this.check(r))return t[r];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var P={styles:1,attributes:1,classes:1},A={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},N=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,M={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},L=/^cke:(object|embed|param)$/,B=/^(object|embed|param)$/,K=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(n=n||t,!(n in e.styles)){var i=e.attributes[t];i&&(/^\d+$/.test(i)&&(i+="px"),e.styles[n]=i)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(n=n||t,!(n in e.attributes)){var i=e.styles[t],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?e.attributes[n]=o[1]:i==k&&(e.attributes[n]=k)}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;"left"!=t&&"right"!=t||(e.styles.float=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles.float;"left"!=t&&"right"!=t||(e.attributes.align=t)}delete e.styles.float},matchesStyle:E,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n=t.getDefinition(),i=n.styles,o=n.attributes,r,s,a,l;e.name=n.element;for(r in o)if("class"==r)for(n=e.classes.join("|"),a=o[r].split(/\s+/);l=a.pop();)n.indexOf(l)==-1&&e.classes.push(l);else e.attributes[r]=o[r];for(s in i)e.styles[s]=i[s]}}}}(),function(){CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,t.call(this)},n,this)}},add:function(e,t){var n=e.getCustomData("focusmanager");if(!n||n!=this){n&&n.remove(e);var n="focus",i="blur";t&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,o.focus,this),e.on(i,o.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",o)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}}}(),CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){var t=t.data,n=t.getKeystroke(),i=this.keystrokes[n],o=this._.editor;return e=o.fire("key",{keyCode:n,domEvent:t})===!1,e||(i&&(e=o.execCommand(i,{from:"keystrokeHandler"})!==!1),e||(e=!!this.blockedKeystrokes[n])),e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var i=this,t=function(){i[e].dir=i.rtl[e]?"rtl":"ltr",n(e,i[e])};this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n=this.languages,t=t||navigator.userLanguage||navigator.language||e,i=t.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),o=i[1],i=i[2];return n[o+"-"+i]?o=o+"-"+i:n[o]||(o=null),CKEDITOR.lang.detect=o?function(){return o}:function(e){return e},o||e}}}(),CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,i,o,r){var s="string"==typeof n;s&&(n=[n]),o||(o=CKEDITOR);var a=n.length,l=[],c=[],u=function(e){i&&(s?i.call(o,e):i.call(o,l,c))};if(0===a)u(!0);else{var d=function(e,t){(t?l:c).push(e),--a<=0&&(r&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),u(t))},h=function(n,i){e[n]=1;var o=t[n];delete t[n];for(var r=0;r<o.length;r++)o[r](n,i)},p=function(n){if(e[n])d(n,!0);else{var o=t[n]||(t[n]=[]);if(o.push(d),!(o.length>1)){var r=new CKEDITOR.dom.element("script");r.setAttributes({type:"text/javascript",src:n}),i&&(CKEDITOR.env.ie&&CKEDITOR.env.version<11?r.$.onreadystatechange=function(){"loaded"!=r.$.readyState&&"complete"!=r.$.readyState||(r.$.onreadystatechange=null,h(n,!0))}:(r.$.onload=function(){setTimeout(function(){h(n,!0)},0)},r.$.onerror=function(){h(n,!1)})),r.appendTo(CKEDITOR.document.getHead())}}};r&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var f=0;f<a;f++)p(n[f])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,i){var o=this;t.push({scriptUrl:n,callback:function(){i&&i.apply(this,arguments),t.shift(),e.call(o)}}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw'[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.';var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){for(var e=e.split(","),i=0;i<e.length;i++){var o=e[i];n||(t=t.replace(/[^\/]+$/,function(e){return n=e,""})),this.externals[o]={dir:t,file:n||this.fileName+".js"}}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var i=this.loaded,o=this.registered,r=[],s={},a={},l=0;l<e.length;l++){var c=e[l];if(c)if(i[c]||o[c])a[c]=this.get(c);else{var u=this.getFilePath(c);r.push(u),u in s||(s[u]=[]),s[u].push(c)}}CKEDITOR.scriptLoader.load(r,function(e,o){if(o.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+s[o[0]].join(",")+'" was not found at "'+o[0]+'".';for(var r=0;r<e.length;r++)for(var l=s[e[r]],c=0;c<l.length;c++){var u=l[c];a[u]=this.get(u),i[u]=1}t.call(n,a)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var t={};return function(n,i,o){var r={},s=function(n){e.call(this,n,function(e){CKEDITOR.tools.extend(r,e);var n=[],a;for(a in e){var l=e[a],c=l&&l.requires;if(!t[a]){if(l.icons)for(var u=l.icons.split(","),d=u.length;d--;)CKEDITOR.skin.addIcon(u[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[d]+".png");t[a]=1}if(c)for(c.split&&(c=c.split(",")),l=0;l<c.length;l++)r[c[l]]||n.push(c[l])}if(n.length)s.call(this,n);else{for(a in r)l=r[a],l.onLoad&&!l.onLoad._called&&(l.onLoad()===!1&&delete r[a],l.onLoad._called=1);i&&i.call(o||window,r)}},this)};s.call(this,n)}}),CKEDITOR.plugins.setLang=function(e,t,n){var i=this.get(e),e=i.langEntries||(i.langEntries={}),i=i.lang||(i.lang=[]);i.split&&(i=i.split(",")),CKEDITOR.tools.indexOf(i,t)==-1&&i.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var i=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],i=t&&t.command&&this.editor.getCommand(t.command),n=n&&n.create.apply(this,t.args);return this.instances[e]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,i,r){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==i){if(!(i instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!r)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!(r==CKEDITOR.ELEMENT_MODE_INLINE?i.is(CKEDITOR.dtd.$editable)||i.is("textarea"):r==CKEDITOR.ELEMENT_MODE_REPLACE?!i.is(CKEDITOR.dtd.$nonBodyContent):1))throw Error('The specified element mode is not supported on element: "'+i.getName()+'".');this.element=i,this.elementMode=r,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(i.getId()||i.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||t(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",n),this.on("selectionChange",function(e){o(this,e.data.path)}),this.on("activeFilterChange",function(){o(this,this.elementPath(),!0)}),this.on("mode",n),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){s(this,e)},0,this)}function t(){do var e="editor"+ ++h;while(CKEDITOR.instances[e]);return e}function n(){var e=this.commands,t;for(t in e)i(this,e[t])}function i(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function o(e,t,n){if(t){var i,o,r=e.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(e,t)}}function r(e){var t=e.config.customConfig;if(!t)return!1;var t=CKEDITOR.getUrl(t),n=p[t]||(p[t]={});return n.fn?(n.fn.call(e,e.config),(CKEDITOR.getUrl(e.config.customConfig)==t||!r(e))&&e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(t,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},r(e)}),!0}function s(e,t){e.on("customConfigLoaded",function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}n=e.config,e.readOnly=!(!n.readOnly&&!(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&e.element.hasAttribute("disabled"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:n.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),a(e)}),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),r(e)||e.fireOnce("customConfigLoaded")}function a(e){CKEDITOR.skin.loadPart("editor",function(){l(e)})}function l(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,function(t,n){var i=e.config.title;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof i||i===!1?i:[e.lang.editor,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),c(e)})}function c(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),u(e)})}function u(e){var t=e.config,n=t.plugins,i=t.extraPlugins,o=t.removePlugins;if(i)var r=RegExp("(?:^|,)(?:"+i.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),n=n.replace(r,""),n=n+(","+i);if(o)var s=RegExp("(?:^|,)(?:"+o.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),n=n.replace(s,"");CKEDITOR.env.air&&(n+=",adobeair"),CKEDITOR.plugins.load(n.split(","),function(n){var i=[],o=[],r=[];e.plugins=n;for(var a in n){var l=n[a],c=l.lang,u=null,d=l.requires,h;if(CKEDITOR.tools.isArray(d)&&(d=d.join(",")),d&&(h=d.match(s)))for(;d=h.pop();)CKEDITOR.tools.setTimeout(function(e,t){throw Error('Plugin "'+e.replace(",","")+'" cannot be removed from the plugins list, because it\'s required by "'+t+'" plugin.')},0,null,[d,a]);c&&!e.lang[a]&&(c.split&&(c=c.split(",")),CKEDITOR.tools.indexOf(c,e.langCode)>=0?u=e.langCode:(u=e.langCode.replace(/-.*/,""),u=u!=e.langCode&&CKEDITOR.tools.indexOf(c,u)>=0?u:CKEDITOR.tools.indexOf(c,"en")>=0?"en":c[0]),l.langEntries&&l.langEntries[u]?(e.lang[a]=l.langEntries[u],u=null):r.push(CKEDITOR.getUrl(l.path+"lang/"+u+".js"))),o.push(u),i.push(l)}CKEDITOR.scriptLoader.load(r,function(){for(var n=["beforeInit","init","afterInit"],r=0;r<n.length;r++)for(var s=0;s<i.length;s++){var a=i[s];0===r&&o[s]&&a.lang&&a.langEntries&&(e.lang[a.name]=a.langEntries[o[s]]),a[n[r]]&&a[n[r]](e)}for(e.fireOnce("pluginsLoaded"),t.keystrokes&&e.setKeystroke(e.config.keystrokes),s=0;s<e.config.blockedKeystrokes.length;s++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[s]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)})})}function d(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var h=0,p={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(e,t){t.name=e.toLowerCase();var n=new CKEDITOR.command(this,t);return this.mode&&i(this,n),this.commands[e]=n},_attachToForm:function(){function e(e){t.updateElement(),t._.required&&!n.getValue()&&t.fire("required")===!1&&e.data.preventDefault()}var t=this,n=t.element,i=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&i&&(i.on("submit",e),i.$.submit&&i.$.submit.call&&i.$.submit.apply&&(i.$.submit=CKEDITOR.tools.override(i.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),t.on("destroy",function(){i.removeListener("submit",e)}))},destroy:function(e){this.fire("beforeDestroy"),!e&&d.call(this),this.editable(null),this.filter.destroy(),delete this.filter,delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(e=this.getSelection(),!e)return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),i={name:e,commandData:t,command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||this.fire("beforeCommandExec",i)===!1||(i.returnValue=n.exec(i.commandData),n.async||this.fire("afterCommandExec",i)===!1))&&i.returnValue},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");if("string"!=typeof e){var t=this.element;t&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e=t.is("textarea")?t.getValue():t.getHtml())}return e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var i=!0,o=t;t&&"object"==typeof t&&(n=t.internal,o=t.callback,i=!t.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",function(e){!n&&i&&this.fire("saveSnapshot"),o&&o.call(e.editor)}),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t){this.fire("insertHtml",{dataValue:e,mode:t})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return d.call(this)},setKeystroke:function(){for(var e=this.keystrokeHandler.keystrokes,t=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],n,i,o=t.length;o--;)n=t[o],i=0,CKEDITOR.tools.isArray(n)&&(i=n[1],n=n[0]),i?e[n]=i:delete e[n]},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)));
},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,this.activeEnterMode==e&&this.activeShiftEnterMode==t||(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var i,o,r=0,s;i=this._.htmlPartsRegex.exec(n);)if(o=i.index,o>r&&(r=n.substring(r,o),s?s.push(r):this.onText(r)),r=this._.htmlPartsRegex.lastIndex,!(o=i[1])||(o=o.toLowerCase(),s&&CKEDITOR.dtd.$cdata[o]&&(this.onCDATA(s.join("")),s=null),s))if(s)s.push(i[0]);else if(o=i[3]){if(o=o.toLowerCase(),!/="/.test(o)){var a={},l,c=i[4];if(i=!!i[5],c)for(;l=e.exec(c);){var u=l[1].toLowerCase();l=l[2]||l[3]||l[4]||"",a[u]=!l&&t[u]?u:CKEDITOR.tools.htmlDecodeAttr(l)}this.onTagOpen(o,a,i),!s&&CKEDITOR.dtd.$cdata[o]&&(s=[])}}else(o=i[2])&&this.onComment(o);else this.onTagClose(o);n.length>r&&this.onText(n.substring(r,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){t?this._.output.push(" />"):this._.output.push(">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("<!--",e,"-->")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),function(){CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),i=e.previous=this.previous,o=e.next=this.next;i&&(i.next=e),o&&(o.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),i=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,i&&(i.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t=("function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e}),n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}}}(),CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),function(){CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){if(!(this.value=e.onText(t,this.value,this)))return this.remove(),!1},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}})}(),function(){CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}})}(),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return!e.attributes["data-cke-survive"]&&("a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name])}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},i=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),o={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(r,s,a){function l(e){var t;if(g.length>0)for(var n=0;n<g.length;n++){var i=g[n],o=i.name,r=CKEDITOR.dtd[o],s=b.name&&CKEDITOR.dtd[b.name];s&&!s[o]||e&&r&&!r[e]&&CKEDITOR.dtd[e]?o==b.name&&(d(b,b.parent,1),n--):(t||(c(),t=1),i=i.clone(),i.parent=b,b=i,g.splice(n,1),n--)}}function c(){for(;v.length;)d(v.shift(),b)}function u(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t=e.children.length,n=e.children[t-1],i;n&&n.type==CKEDITOR.NODE_TEXT&&((i=CKEDITOR.tools.rtrim(n.value))?n.value=i:e.children.length=t-1)}}function d(t,n,i){var n=n||b||m,o=b;void 0===t.previous&&(h(n,t)&&(b=n,f.onTagOpen(a,{}),t.returnPoint=n=b),u(t),(!e(t)||t.children.length)&&n.add(t),"pre"==t.name&&(y=!1),"textarea"==t.name&&(w=!1)),t.returnPoint?(b=t.returnPoint,delete t.returnPoint):b=i?n:o}function h(e,t){if((e==m||"body"==e.name)&&a&&(!e.name||CKEDITOR.dtd[e.name][a])){var n,i;return(n=t.attributes&&(i=t.attributes["data-cke-real-element-type"])?i:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}}function p(e,t){return(e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent)&&(e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t)}var f=new CKEDITOR.htmlParser,m=s instanceof CKEDITOR.htmlParser.element?s:"string"==typeof s?new CKEDITOR.htmlParser.element(s):new CKEDITOR.htmlParser.fragment,g=[],v=[],b=m,w="textarea"==m.name,y="pre"==m.name;f.onTagOpen=function(o,r,s,a){if(r=new CKEDITOR.htmlParser.element(o,r),r.isUnknown&&s&&(r.isEmpty=!0),r.isOptionalClose=a,e(r))g.push(r);else{if("pre"==o)y=!0;else{if("br"==o&&y)return void b.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==o&&(w=!0)}if("br"==o)v.push(r);else{for(;a=(s=b.name)?CKEDITOR.dtd[s]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i,!(r.isUnknown||b.isUnknown||a[o]);)if(b.isOptionalClose)f.onTagClose(s);else if(o in n&&s in n)s=b.children,(s=s[s.length-1])&&"li"==s.name||d(s=new CKEDITOR.htmlParser.element("li"),b),!r.returnPoint&&(r.returnPoint=b),b=s;else if(o in CKEDITOR.dtd.$listItem&&!p(o,s))f.onTagOpen("li"==o?"ul":"dl",{},0,1);else if(s in t&&!p(o,s))!r.returnPoint&&(r.returnPoint=b),b=b.parent;else{if(s in CKEDITOR.dtd.$inline&&g.unshift(b),!b.parent){r.isOrphan=1;break}d(b,b.parent,1)}l(o),c(),r.parent=b,r.isEmpty?d(r):b=r}}},f.onTagClose=function(e){for(var t=g.length-1;t>=0;t--)if(e==g[t].name)return void g.splice(t,1);for(var n=[],i=[],o=b;o!=m&&o.name!=e;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=m){for(t=0;t<n.length;t++){var r=n[t];d(r,r.parent)}b=o,o._.isBlockLike&&c(),d(o,o.parent),o==b&&(b=b.parent),g=g.concat(i)}"body"==e&&(a=!1)},f.onText=function(e){if(b._.hasInlineStarted&&!v.length||y||w||(e=CKEDITOR.tools.ltrim(e),0!==e.length)){var n=b.name,r=n?CKEDITOR.dtd[n]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i;!w&&!r["#"]&&n in t?(f.onTagOpen(o[n]||""),f.onText(e)):(c(),l(),!y&&!w&&(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),h(b,e)&&this.onTagOpen(a,{},0,1),b.add(e))}},f.onCDATA=function(e){b.add(new CKEDITOR.htmlParser.cdata(e))},f.onComment=function(e){c(),l(),b.add(new CKEDITOR.htmlParser.comment(e))},f.parse(r);for(c();b!=m;)d(b,b.parent,1);return u(m),m},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=t>0?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)this.children[t].filter(e,n)===!1&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var i=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(i,this),t&&this.filterChildren(t,!1,i),t=0,n=this.children,i=n.length;t<i;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(i!==!1)for(var n=this.children,o=0;o<n.length;o++)i=n[o],i.type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):(!t||i.type==t)&&e(i)},getFilterContext:function(e){return e||{}}}}(),function(){function e(){this.rules=[]}function t(t,n,i,o){var r,s;for(r in n)(s=t[r])||(s=t[r]=new e),s.add(n[r],i,o)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var i;"number"==typeof n?i=n:n&&"priority"in n&&(i=n.priority),"number"!=typeof i&&(i=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,i,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,i,n),e.elements&&t(this.elementsRules,e.elements,i,n),e.attributes&&t(this.attributesRules,e.attributes,i,n),e.text&&this.textRules.add(e.text,i,n),e.comment&&this.commentRules.add(e.comment,i,n),e.root&&this.rootRules.add(e.root,i,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],i,o=0;o<3;o++)if(i=n[o]){if(i=i.exec(e,t,this),i===!1)return null;if(i&&i!=t)return this.onNode(e,i);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,n,i){return(n=this.attributesRules[n])?n.exec(e,i,t,this):i}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var i=[this.findIndex(t),0],o=0,r=e.length;o<r;o++)i.push({value:e[o],priority:t,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(e){for(var t=this.rules,n=t.length-1;n>=0&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,i=Array.prototype.slice.call(arguments,1),o=this.rules,r=o.length,s,a,l,c;for(c=0;c<r;c++)if(n&&(s=t.type,a=t.name),l=o[c],!(e.nonEditable&&!l.options.applyToAll||e.nestedEditable&&l.options.excludeNestedEditable)){if(l=l.value.apply(null,i),l===!1||n&&l&&(l.name!=a||l.type!=s))return l;null!=l&&(i[0]=t=l)}return t},execOnName:function(e,t){for(var n=0,i=this.rules,o=i.length,r;t&&n<o;n++)r=i[n],!(e.nonEditable&&!r.options.applyToAll||e.nestedEditable&&r.options.excludeNestedEditable)&&(t=t.replace(r.value[0],r.value[1]));return t}}}(),function(){function e(e,t){function a(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(""):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(o){if(o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var s=[],l=n(o),u,h;if(l)for(c(l,1)&&s.push(l);l;)r(l)&&(u=i(l))&&c(u)&&((h=i(u))&&!r(h)?s.push(u):(a(d).insertAfter(u),u.remove())),l=l.previous;for(l=0;l<s.length;l++)s[l].remove();(s=!e||("function"==typeof t?t(o):t)!==!1)&&((d||CKEDITOR.env.needsBrFiller||o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(d||CKEDITOR.env.needsBrFiller||!(document.documentMode>7||o.name in CKEDITOR.dtd.tr||o.name in CKEDITOR.dtd.$listItem))?(s=n(o),s=!s||"form"==o.name&&"input"==s.name):s=!1),s&&o.add(a(e))}}}function c(e,t){if((!d||CKEDITOR.env.needsBrFiller)&&e.type==CKEDITOR.NODE_ELEMENT&&"br"==e.name&&!e.attributes["data-cke-eol"])return!0;var n;if(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(g))){if(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&d&&(!t||e.parent.name in h))return!0;if(!d&&((n=e.previous)&&"br"==n.name||!n||r(n)))return!0}return!1}var u={elements:{}},d="html"==t,h=CKEDITOR.tools.extend({},y),p;for(p in h)"#"in b[p]||delete h[p];for(p in h)u.elements[p]=l(d,e.config.fillEmptyBlocks);return u.root=l(d,!1),u.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=t.next;n&&o(n);)n=n.next;var l=i(t);!n&&r(t.parent)?s(t.parent,a(e)):r(n)&&l&&!r(l)&&a(e).insertBefore(n)}}}}(d),u}function t(e,t){return e!=CKEDITOR.ENTER_BR&&t!==!1&&(e==CKEDITOR.ENTER_DIV?"div":"p")}function n(e){for(e=e.children[e.children.length-1];e&&o(e);)e=e.previous;return e}function i(e){for(e=e.previous;e&&o(e);)e=e.previous;return e}function o(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function r(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in y||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function s(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function a(e){e=e.attributes,"false"!=e.contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function l(e){switch(e=e.attributes,e["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function c(e){return e.replace(S,function(e,t,n){return"<"+t+n.replace(I,function(e,t){return O.test(t)&&n.indexOf("data-cke-saved-"+t)==-1?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e})+">"})}function u(e,t){return e.replace(t,function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+p(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function d(e){return e.replace(k,function(e,t){return decodeURIComponent(t)})}function h(e){return e.replace(/<\!--(?!{cke_protected})[\s\S]+?--\>/g,function(e){return"<!--"+v+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"-->"})}function p(e){return e.replace(/<\!--\{cke_protected\}\{C\}([\s\S]+?)--\>/g,function(e,t){return decodeURIComponent(t)})}function f(e,t){var n=t._.dataStore;return e.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return n&&n[t]||""})}function m(e,t){for(var n=[],i=t.config.protectedSource,o=t._.dataStore||(t._.dataStore={id:1}),r=/<\!--\{cke_temp(comment)?\}(\d*?)--\>/g,i=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(i),e=e.replace(/<\!--[\s\S]*?--\>/g,function(e){return"<!--{cke_tempcomment}"+(n.push(e)-1)+"-->"}),s=0;s<i.length;s++)e=e.replace(i[s],function(e){return e=e.replace(r,function(e,t,i){return n[i]}),/cke_temp(comment)?/.test(e)?e:"<!--{cke_temp}"+(n.push(e)-1)+"-->"});return e=e.replace(r,function(e,t,i){return"<!--"+v+(t?"{C}":"")+encodeURIComponent(n[i]).replace(/--/g,"%2D%2D")+"-->"}),e=e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(e){return e.replace(/<\!--\{cke_protected\}([^>]*)--\>/g,function(e,t){return o[o.id]=decodeURIComponent(t),"{cke_protected_"+o.id++ +"}"})}),e=e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,n,i,o){return"<"+n+i+">"+f(p(o),t)+"</"+n+">"})}CKEDITOR.htmlDataProcessor=function(n){var i,o,r=this;this.editor=n,this.dataFilter=i=new CKEDITOR.htmlParser.filter,this.htmlFilter=o=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,i.addRules(_),i.addRules(E,{applyToAll:!0}),i.addRules(e(n,"data"),{applyToAll:!0}),o.addRules(T),o.addRules(C,{applyToAll:!0}),o.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",function(e){var e=e.data,i=e.dataValue,o,i=m(i,n),i=u(i,x),i=c(i),i=u(i,D),i=i.replace(R,"$1cke:$2"),i=i.replace(A,"<cke:$1$2></cke:$1>"),i=i.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),i=i.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");o=e.context||n.editable().getName();var r;CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==o&&(o="div",i="<pre>"+i+"</pre>",r=1),o=n.document.createElement(o),o.setHtml("a"+i),i=o.getHtml().substr(1),i=i.replace(RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),r&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=i.replace(P,"$1$2"),i=d(i),i=p(i),o=e.fixForBody!==!1&&t(e.enterMode,n.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,e.context,o),o&&(r=i,!r.children.length&&CKEDITOR.dtd[r.name][o]&&(o=new CKEDITOR.htmlParser.element(o),r.add(o))),e.dataValue=i},null,null,5),n.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")},null,null,6),n.on("toHtml",function(e){e.data.dataValue.filterChildren(r.dataFilter,!0)},null,null,10),n.on("toHtml",function(e){var e=e.data,t=e.dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=h(t)},null,null,15),n.on("toDataFormat",function(e){var i=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(i,e.data.context,t(e.data.enterMode,n.config.autoParagraph))},null,null,5),n.on("toDataFormat",function(e){e.data.dataValue.filterChildren(r.htmlFilter,!0)},null,null,10),n.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)},null,null,11),n.on("toDataFormat",function(e){var t=e.data.dataValue,i=r.writer;i.reset(),t.writeChildrenHtml(i),t=i.getHtml(!0),t=p(t),t=f(t,n),e.data.dataValue=t},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,i){var o=this.editor,r,s,a;return t&&"object"==typeof t?(r=t.context,n=t.fixForBody,i=t.dontFilter,s=t.filter,a=t.enterMode):r=t,!r&&null!==r&&(r=o.editable().getName()),o.fire("toHtml",{dataValue:e,context:r,fixForBody:n,dontFilter:i,filter:s||o.filter,enterMode:a||o.enterMode}).dataValue},toDataFormat:function(e,t){var n,i,o;return t&&(n=t.context,i=t.filter,o=t.enterMode),!n&&null!==n&&(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,v="{cke_protected}",b=CKEDITOR.dtd,w=["caption","colgroup","col","thead","tfoot","tbody"],y=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),_={elements:{input:a,textarea:a}},E={attributeNames:[[/^on/,"data-cke-pa-on"],[/^data-cke-expando$/,""]]},T={elements:{embed:function(e){var t=e.parent;if(t&&"object"==t.name){var n=t.attributes.width,t=t.attributes.height;n&&(e.attributes.width=n),t&&(e.attributes.height=t)}},a:function(e){if(!e.children.length&&!e.attributes.name&&!e.attributes["data-cke-saved-name"])return!1}}},C={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n=["name","href","src"],i,o=0;o<n.length;o++)i="data-cke-saved-"+n[o],i in t&&delete t[n[o]]}return e},table:function(e){e.children.slice(0).sort(function(e,t){var n,i;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(w,e.name),i=CKEDITOR.tools.indexOf(w,t.name)),n>-1&&i>-1&&n!=i||(n=e.parent?e.getIndex():-1,i=t.parent?t.getIndex():-1),n>i?1:-1})},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes.class&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes.class},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&s(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(C.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})});var S=/<(a|area|img|input|source)\b([^>]*)>/gi,I=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,O=/^(href|src|name)$/i,D=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,x=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,k=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,R=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,P=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,A=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,i){"font-family"==n&&(i=i.replace(/["']/g,"")),t[n.toLowerCase()]=i}),{rules:t,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e=[],n;for(n in t)t[n]&&e.push(n,":",t[n],";");return e.join("")}}},function(){function e(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var t=function(e,t){return e=e[0],t=t[0],e<t?-1:e>t?1:0},n=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:n.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n=this,i,o,t=n.getFilterContext(t);if(t.off)return!0;for(n.parent||e.onRoot(t,n);;){if(i=n.name,!(o=e.onElementName(t,i)))return this.remove(),!1;if(n.name=o,!(n=e.onElement(t,n)))return this.remove(),!1;if(n!==this)return this.replaceWith(n),!1;if(n.name==i)break;if(n.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(n),!1;if(!n.name)return this.replaceWithChildren(),!1}i=n.attributes;var r,s;for(r in i){for(s=r,o=i[r];;){if(!(s=e.onAttributeName(t,r))){delete i[r];break}if(s==r)break;delete i[r],r=s}s&&((o=e.onAttribute(t,n,s,o))===!1?delete i[s]:i[s]=o)}return n.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:n.filterChildren,writeHtml:function(e,n){n&&this.filter(n);var i=this.name,o=[],r=this.attributes,s,a;e.openTag(i,r);for(s in r)o.push([s,r[s]]);for(e.sortAttributes&&o.sort(t),s=0,a=o.length;s<a;s++)r=o[s],e.attribute(r[0],r[1]);e.openTagClose(i,this.isEmpty),this.writeChildrenHtml(e),this.isEmpty||e.closeTag(i)},writeChildrenHtml:n.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:n.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=e(t));for(var n=0,i=this.children.length;n<i;++n)if(t(this.children[n]))return this.children[n];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children,t=0,n=e.length;t<n;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),i=0;i<t.length;++i)t[i].parent=n;return n.children=t,t[0]&&(t[0].previous=null),e>0&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes.class||"";this.attributes.class=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes.class;t&&((t=CKEDITOR.tools.trim(t.replace(RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes.class=t:delete this.attributes.class)},hasClass:function(e){var t=this.attributes.class;return!!t&&RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t)},getFilterContext:function(e){var t=[];if(e||(e={off:!1,nonEditable:!1,nestedEditable:!1}),!e.off&&"off"==this.attributes["data-cke-processor"]&&t.push("off",!0),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length)for(var e=CKEDITOR.tools.copy(e),n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}},!0)}(),function(){var e={},t=/{([^}]+)}/g,n=/([\\'])/g,i=/\n/g,o=/\r/g;CKEDITOR.template=function(r){if(e[r])this.output=e[r];else{var s=r.replace(n,"\\$1").replace(i,"\\n").replace(o,"\\r").replace(t,function(e,t){return"',data['"+t+"']==undefined?'{"+t+"}':data['"+t+"'],'"});this.output=e[r]=Function("data","buffer","return buffer?buffer.push('"+s+"'):['"+s+"'].join('');")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){CKEDITOR.instances[e.name]=e,e.on("focus",function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))}),e.on("blur",function(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var i=e[t];return i?i:(i={name:t,source:n},CKEDITOR.fire("template",i),e[t]=new CKEDITOR.template(i.source))},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(e,t){if(!CKEDITOR.env.isCompatible)return null;if(e=CKEDITOR.dom.element.get(e),e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),i=e.is("textarea")?e:null;return i?(n.setData(i.getValue(),null,!0),e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document),e.insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(e.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(e),n.container=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){i&&(n.container.clearCustomData(),n.container.remove(),i.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)e=i.getItem(o),"true"==e.getAttribute("contenteditable")&&(t={element:e,config:{}},CKEDITOR.fire("inline",t)!==!1&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function e(e,i,o,r){if(!CKEDITOR.env.isCompatible)return null;if(e=CKEDITOR.dom.element.get(e),e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var s=new CKEDITOR.editor(i,e,r);return r==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),s._.required=e.hasAttribute("required"),e.removeAttribute("required")),o&&s.setData(o,null,!0),s.on("loaded",function(){n(s),r==CKEDITOR.ELEMENT_MODE_REPLACE&&s.config.autoUpdateElement&&e.$.form&&s._attachToForm(),s.setMode(s.config.startupMode,function(){s.resetDirty(),s.status="ready",s.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,s)})}),s.on("destroy",t),s}function t(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}function n(e){var t=e.name,n=e.element,i=e.elementMode,o=e.fire("uiSpace",{space:"top",html:""}).html,r=e.fire("uiSpace",{space:"bottom",html:""}).html,s=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),t=CKEDITOR.dom.element.createFromHtml(s.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:o?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:r?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,o&&e.ui.space("top").unselectable(),r&&e.ui.space("bottom").unselectable(),n=e.config.width,i=e.config.height,n&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",function(){
e.focus()}),e.fireOnce("uiReady")}CKEDITOR.replace=function(t,n){return e(t,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,n,i){return e(t,n,i,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,i=e[t];if(i.name||i.id){if("string"==typeof arguments[0]){if(!RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(i.className))continue}else if("function"==typeof arguments[0]&&(n={},arguments[0](i,n)===!1))continue;this.replace(i,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,i=this._.modes;if(e!=n.mode&&i&&i[e]){if(n.fire("beforeSetMode",e),n.mode){var o=n.checkDirty(),i=n._.previousModeData,r,s=0;n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=r=n.getData(1),"source"==n.mode&&i==r&&(n.fire("lockSnapshot",{forceUpdate:!0}),s=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e](function(){n.mode=e,void 0!==o&&!o&&n.resetDirty(),s?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),t&&t.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(e,t,n,i){var o=this.container,r=this.ui.space("contents"),s=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement,i=i?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):o;i.setSize("width",e,!0),s&&(s.style.width="1%"),r.setStyle("height",Math.max(t-(n?0:(i.$.offsetHeight||0)-(r.$.clientHeight||0)),0)+"px"),s&&(s.style.width="100%"),this.fire("resize")},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var n=e.editor,o=e.data.path,r=o.blockLimit,a=e.data.selection,l=a.getRanges()[0],c;(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(a=t(a,o))&&(a.appendBogus(),c=CKEDITOR.env.ie),s(n,o.block,r)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&(o=l.clone(),o.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),r=new CKEDITOR.dom.walker(o),r.guard=function(e){return!i(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},(!r.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(n=l.fixBlock(!0,n.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(n=n.getFirst(i))&&n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)&&n.remove(),c=1,e.cancel())),c&&l.select()}function t(e,t){if(e.isFake)return 0;var n=t.block||t.blockLimit,o=n&&n.getLast(i);return!n||!n.isBlockBoundary()||o&&o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function n(e){var t=e.data.getTarget();t.is("input")&&(t=t.getAttribute("type"),("submit"==t||"reset"==t)&&e.data.preventDefault())}function i(e){return h(e)&&p(e)}function o(e,t){return function(n){var i=CKEDITOR.dom.element.get(n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget);(!i||!t.equals(i)&&!t.contains(i))&&e.call(this,n)}}function r(e){function t(e){return function(t,o){if(o&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(r)&&(n=t),!o&&i(t)&&(!e||!u(t)))return!1}}var n,o=e.getRanges()[0],e=e.root,r={table:1,ul:1,ol:1,dl:1};if(o.startPath().contains(r)){var s=o.clone();if(s.collapse(1),s.setStartAt(e,CKEDITOR.POSITION_AFTER_START),e=new CKEDITOR.dom.walker(s),e.guard=t(),e.checkBackward(),n)return s=o.clone(),s.collapse(),s.setEndAt(n,CKEDITOR.POSITION_AFTER_END),e=new CKEDITOR.dom.walker(s),e.guard=t(!0),n=!1,e.checkForward(),n}return null}function s(e,t,n){return e.config.autoParagraph!==!1&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable")}function a(e){e.editor.focus(),e.editor.fire("saveSnapshot")}function l(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout(function(){t.fire("saveSnapshot")},0)}function c(e,t,n){for(var i=e.getCommonAncestor(t),t=e=n?t:e;(e=e.getParent())&&!i.equals(e)&&1==e.getChildCount();)t=e;t.remove()}CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))return void e.focus();try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]()}catch(e){if(!CKEDITOR.env.ie)throw e}CKEDITOR.env.safari&&!this.isInline()&&(e=CKEDITOR.document.getActive(),e.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=o(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1),t=e.on.apply(e,t);return this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(e){}},restoreAttrs:function(){var e=this._.attrChanges,t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],null!==t?this.setAttribute(n,t):this.removeAttribute(n))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertHtml:function(e,t){a(this),f(this,t||"html",e)},insertText:function(e){a(this);var t=this.editor,n=t.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:t.activeEnterMode,t=n==CKEDITOR.ENTER_BR,i=CKEDITOR.tools,e=i.htmlEncode(e.replace(/\r\n/g,"\n")),e=e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),n=n==CKEDITOR.ENTER_P?"p":"div";if(!t){var o=/\n{2}/g;if(o.test(e))var r="<"+n+">",s="</"+n+">",e=r+e.replace(o,function(){return s+r})+s}e=e.replace(/\n/g,"<br>"),t||(e=e.replace(RegExp("<br>(?=</"+n+">)"),function(e){return i.repeat(e,2)})),e=e.replace(/^ | $/g,"&nbsp;"),e=e.replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;"),f(this,"text",e)},insertElement:function(e,t){t?this.insertElementIntoRange(e,t):this.insertElementIntoSelection(e)},insertElementIntoRange:function(e,t){var n=this.editor,i=n.config.enterMode,o=e.getName(),r=CKEDITOR.dtd.$block[o];if(t.checkReadOnly())return!1;t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&m(t);var s,a;if(r)for(;(s=t.getCommonAncestor(0,1))&&(a=CKEDITOR.dtd[s.getName()])&&(!a||!a[o]);)s.getName()in CKEDITOR.dtd.span?t.splitElement(s):t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(s),t.collapse(!0),s.remove()):t.splitBlock(i==CKEDITOR.ENTER_DIV?"div":"p",n.editable());return t.insertNode(e),!0},insertElementIntoSelection:function(e){a(this);var t=this.editor,n=t.activeEnterMode,t=t.getSelection(),o=t.getRanges()[0],r=e.getName(),r=CKEDITOR.dtd.$block[r];this.insertElementIntoRange(e,o)&&(o.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),r&&((r=e.getNext(function(e){return i(e)&&!u(e)}))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)?r.getDtd()["#"]?o.moveToElementEditStart(r):o.moveToElementEditEnd(e):r||n==CKEDITOR.ENTER_BR||(r=o.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),o.moveToElementEditStart(r)))),t.selectRanges([o]),l(this)},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var e=this.editor;this._.detach(),delete e.document,delete e.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e=n.getDocument().$,t=e.getSelection(),i;if(t.anchorNode&&t.anchorNode==n.$)i=!0;else if(CKEDITOR.env.webkit){var o=n.getDocument().getActive();o&&o.equals(n)&&!t.anchorNode&&(i=!0)}i&&(i=new CKEDITOR.dom.range(n),i.moveToElementEditStart(n),e=e.createRange(),e.setStart(i.startContainer.$,i.startOffset),e.collapse(!0),t.removeAllRanges(),t.addRange(e))}function t(){var e=n.getDocument().$,t=e.selection,i=n.getDocument().getActive();"None"==t.type&&i.equals(n)&&(t=new CKEDITOR.dom.range(n),e=e.body.createTextRange(),t.moveToElementEditStart(n),t=t.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),e.moveToElementText(t.$),e.collapse(!0),e.select())}var n=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),t()):this.hasFocus?(this.focus(),e()):this.once("focus",function(){e()},null,null,-999)},setup:function(){var e=this.editor;if(this.attachListener(e,"beforeGetData",function(){var t=this.getData();this.is("textarea")||e.config.ignoreEmptyParagraph!==!1&&(t=t.replace(d,function(e,t){return t})),e.setData(t,null,1)},this),this.attachListener(e,"getSnapshot",function(e){e.data=this.getData(1)},this),this.attachListener(e,"afterSetData",function(){this.setData(e.getData(1))},this),this.attachListener(e,"loadSnapshot",function(e){this.setData(e.data,1)},this),this.attachListener(e,"beforeFocus",function(){var t=e.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(e,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode)},this),this.attachListener(e,"insertElement",function(e){this.insertElement(e.data)},this),this.attachListener(e,"insertText",function(e){this.insertText(e.data)},this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),this.attachClass(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"cke_editable_inline":e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||e.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO?"cke_editable_themed":""),this.attachClass("cke_contents_"+e.config.contentsLangDirection),e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",function(){e.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var t=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var o=e.config.contentsLangDirection;this.getDirection(1)!=o&&this.changeAttr("dir",o);var s=CKEDITOR.getCss();s&&(o=t.getHead(),o.getCustomData("stylesheet")||(s=t.appendStyleText(s),s=new CKEDITOR.dom.element(s.ownerNode||s.owningElement),o.setCustomData("stylesheet",s),s.data("cke-temp",1))),o=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",o+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",function(e){var e=e.data,t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()});var a={8:1,46:1};this.attachListener(e,"key",function(t){if(e.readOnly)return!0;var n=t.data.domEvent.getKey(),i;if(n in a){var t=e.getSelection(),o,s=t.getRanges()[0],l=s.startPath(),c,u,d,n=8==n;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(o=t.getSelectedElement())||(o=r(t))?(e.fire("saveSnapshot"),s.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove(),s.select(),e.fire("saveSnapshot"),i=1):s.collapsed&&((c=l.block)&&(d=c[n?"getPrevious":"getNext"](h))&&d.type==CKEDITOR.NODE_ELEMENT&&d.is("table")&&s[n?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),s[n?"checkEndOfBlock":"checkStartOfBlock"]()&&c.remove(),s["moveToElementEdit"+(n?"End":"Start")](d),s.select(),e.fire("saveSnapshot"),i=1):l.blockLimit&&l.blockLimit.is("td")&&(u=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(u,n?CKEDITOR.START:CKEDITOR.END)&&(d=u[n?"getPrevious":"getNext"](h))?(e.fire("saveSnapshot"),s["moveToElementEdit"+(n?"End":"Start")](d),s.checkStartOfBlock()&&s.checkEndOfBlock()?d.remove():s.select(),e.fire("saveSnapshot"),i=1):(u=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(u,n?CKEDITOR.START:CKEDITOR.END)&&(i=1))}return!i}),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in a&&!this.getFirst(i)&&(this.appendBogus(),t=e.createRange(),t.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){return!e.readOnly&&(t={element:t.data.getTarget()},void e.fire("doubleclick",t))}),CKEDITOR.env.ie&&this.attachListener(this,"click",n),CKEDITOR.env.ie||this.attachListener(this,"mousedown",function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&(t=t.data.getTarget(),!t.getOuterHtml().replace(d,""))){var n=e.createRange();n.moveToElementEditStart(t),n.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()}),this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(e,"key",function(t){if(e.readOnly)return!0;if(t=t.data.domEvent.getKey(),t in a){var n=8==t,i=e.getSelection().getRanges()[0],t=i.startPath();if(i.collapsed){var o;e:{var r=t.block;if(r)if(i[n?"checkStartOfBlock":"checkEndOfBlock"]())if(i.moveToClosestEditablePosition(r,!n)&&i.collapsed){if(i.startContainer.type==CKEDITOR.NODE_ELEMENT){var s=i.startContainer.getChild(i.startOffset-(n?1:0));if(s&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("hr")){e.fire("saveSnapshot"),s.remove(),o=!0;break e}}if((i=i.startPath().block)&&(!i||!i.contains(r))){e.fire("saveSnapshot");var l;(l=(n?i:r).getBogus())&&l.remove(),o=e.getSelection(),l=o.createBookmarks(),(n?r:i).moveChildren(n?i:r,!1),t.lastElement.mergeSiblings(),c(r,i,!n),o.selectBookmarks(l),o=!0}}else o=!1;else o=!1;else o=!1}if(!o)return}else if(n=i,o=t.block,l=n.endPath().block,o&&l&&!o.equals(l)?(e.fire("saveSnapshot"),(r=o.getBogus())&&r.remove(),n.deleteContents(),l.getParent()&&(l.moveChildren(o,!1),t.lastElement.mergeSiblings(),c(o,l,!0)),n=e.getSelection().getRanges()[0],n.collapse(1),n.select(),t=!0):t=!1,!t)return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs();var e;if(e=this.removeCustomData("classes"))for(;e.length;)this.removeClass(e.pop());if(!this.is("textarea")){e=this.getDocument();var t=e.getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:(arguments.length&&(t=this._.editable=e?e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),null)),t)};var u=CKEDITOR.dom.walker.bogus(),d=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,h=CKEDITOR.dom.walker.whitespaces(!0),p=CKEDITOR.dom.walker.bookmark(!1,!0);CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(e){e=e.data,e.type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var i=n.getSelection();i&&!i.isLocked&&(i=n.checkDirty(),n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!i&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(e){var t=e.editor;t.on("mode",function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;e.changeAttr("role","textbox"),e.changeAttr("aria-label",n),n&&e.changeAttr("title",n);var i=t.fire("ariaEditorHelpLabel",{}).label;if(i&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var o=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id="'+o+'" class="cke_voice_label">'+i+"</span>");n.append(i),e.changeAttr("aria-describedby",o)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");var f=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(n,i){var o,r,s,a,l=[],u=i.range.startContainer;o=i.range.startPath();for(var u=c[u.getName()],d=0,h=n.getChildren(),p=h.count(),f=-1,m=-1,g=0,v=o.contains(c.$list);d<p;++d)o=h.getItem(d),e(o)?(s=o.getName(),v&&s in CKEDITOR.dtd.$list?l=l.concat(t(o,i)):(a=!!u[s],"br"!=s||!o.data("cke-eol")||d&&d!=p-1||(g=(r=d?l[d-1].node:h.getItem(d+1))&&(!e(r)||!r.is("br")),r=r&&e(r)&&c.$block[r.getName()]),f==-1&&!a&&(f=d),a||(m=d),l.push({isElement:1,isLineBreak:g,isBlock:o.isBlockBoundary(),hasBlockSibling:r,node:o,name:s,allowed:a}),r=g=0)):l.push({isElement:0,node:o,allowed:1});return f>-1&&(l[f].firstNotAllowed=1),m>-1&&(l[m].lastNotAllowed=1),l}function n(t,i){var o=[],r=t.getChildren(),s=r.count(),a,l=0,u=c[i],d=!t.is(c.$inline)||t.is("br");for(d&&o.push(" ");l<s;l++)a=r.getItem(l),e(a)&&!a.is(u)?o=o.concat(n(a,i)):o.push(a);return d&&o.push(" "),o}function o(t){return t&&e(t)&&(t.is(c.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function r(t,n,i,o){var s=t.clone(),a,l;s.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(a=new CKEDITOR.dom.walker(s).next())&&e(a)&&u[a.getName()]&&(l=a.getPrevious())&&e(l)&&!l.getParent().equals(t.startContainer)&&i.contains(l)&&o.contains(a)&&a.isIdentical(l)&&(a.moveChildren(l),a.remove(),r(t,n,i,o))}function a(t,n){function i(t,n){if(n.isBlock&&n.isElement&&!n.node.is("br")&&e(t)&&t.is("br"))return t.remove(),1}var o=n.endContainer.getChild(n.endOffset),r=n.endContainer.getChild(n.endOffset-1);o&&i(o,t[t.length-1]),r&&i(r,t[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}var c=CKEDITOR.dtd,u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},h=CKEDITOR.tools.extend({},c.$inline);return delete h.br,function(u,p,f){var m=u.editor,g=m.getSelection().getRanges()[0],v=!1;if("unfiltered_html"==p&&(p="html",v=!0),!g.checkReadOnly()){var b=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root,p={type:p,dontFilter:v,editable:u,editor:m,range:g,blockLimit:b,mergeCandidates:[],zombies:[]},m=p.range,v=p.mergeCandidates,w,y,_,E;if("text"==p.type&&m.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(w=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",m.document),m.insertNode(w),m.setStartAfter(w)),y=new CKEDITOR.dom.elementPath(m.startContainer),p.endPath=_=new CKEDITOR.dom.elementPath(m.endContainer),!m.collapsed){var b=_.block||_.blockLimit,T=m.getCommonAncestor();b&&!b.equals(T)&&!b.contains(T)&&m.checkEndOfBlock()&&p.zombies.push(b),m.deleteContents()}for(;(E=e(m.startContainer)&&m.startContainer.getChild(m.startOffset-1))&&e(E)&&E.isBlockBoundary()&&y.contains(E);)m.moveToPosition(E,CKEDITOR.POSITION_BEFORE_END);for(r(m,p.blockLimit,y,_),w&&(m.setEndBefore(w),m.collapse(),w.remove()),w=m.startPath(),(b=w.contains(o,!1,1))&&(m.splitElement(b),p.inlineStylesRoot=b,p.inlineStylesPeak=w.lastElement),w=m.createBookmark(),(b=w.startNode.getPrevious(i))&&e(b)&&o(b)&&v.push(b),(b=w.startNode.getNext(i))&&e(b)&&o(b)&&v.push(b),b=w.startNode;(b=b.getParent())&&o(b);)v.push(b);if(m.moveToBookmark(w),w=f){if(w=p.range,"text"==p.type&&p.inlineStylesRoot){for(E=p.inlineStylesPeak,m=E.getDocument().createText("{cke-peak}"),v=p.inlineStylesRoot.getParent();!E.equals(v);)m=m.appendTo(E.clone()),E=E.getParent();f=m.getOuterHtml().split("{cke-peak}").join(f)}if(E=p.blockLimit.getName(),/^\s+|\s+$/.test(f)&&"span"in CKEDITOR.dtd[E])var C='<span data-cke-marker="1">&nbsp;</span>',f=C+f+C;if(f=p.editor.dataProcessor.toHtml(f,{context:null,fixForBody:!1,dontFilter:p.dontFilter,filter:p.editor.activeFilter,enterMode:p.editor.activeEnterMode}),E=w.document.createElement("body"),E.setHtml(f),C&&(E.getFirst().remove(),E.getLast().remove()),(C=w.startPath().block)&&(1!=C.getChildCount()||!C.getBogus()))e:{var S;if(1==E.getChildCount()&&e(S=E.getFirst())&&S.is(d)){for(C=S.getElementsByTag("*"),w=0,v=C.count();w<v;w++)if(m=C.getItem(w),!m.is(h))break e;S.moveChildren(S.getParent(1)),S.remove()}}p.dataWrapper=E,w=f}if(w){S=p.range;var C=S.document,I,f=p.blockLimit;w=0;var O;E=[];var D,x,v=m=0,k,R;y=S.startContainer;var b=p.endPath.elements[0],P;for(_=b.getPosition(y),T=!(!b.getCommonAncestor(y)||_==CKEDITOR.POSITION_IDENTICAL||_&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),y=t(p.dataWrapper,p),a(y,S);w<y.length;w++){if(_=y[w],I=_.isLineBreak){I=S,k=f;var A=void 0,N=void 0;_.hasBlockSibling?I=1:(A=I.startContainer.getAscendant(c.$block,1),A&&A.is({div:1,p:1})?(N=A.getPosition(k),N==CKEDITOR.POSITION_IDENTICAL||N==CKEDITOR.POSITION_CONTAINS?I=0:(k=I.splitElement(A),I.moveToPosition(k,CKEDITOR.POSITION_AFTER_START),I=1)):I=0)}if(I)v=w>0;else{if(I=S.startPath(),!_.isBlock&&s(p.editor,I.block,I.blockLimit)&&(x=p.editor.activeEnterMode!=CKEDITOR.ENTER_BR&&p.editor.config.autoParagraph!==!1&&(p.editor.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"))&&(x=C.createElement(x),x.appendBogus(),S.insertNode(x),CKEDITOR.env.needsBrFiller&&(O=x.getBogus())&&O.remove(),S.moveToPosition(x,CKEDITOR.POSITION_BEFORE_END)),(I=S.startPath().block)&&!I.equals(D)&&((O=I.getBogus())&&(O.remove(),E.push(I)),D=I),_.firstNotAllowed&&(m=1),m&&_.isElement){for(I=S.startContainer,k=null;I&&!c[I.getName()][_.name];){if(I.equals(f)){I=null;break}k=I,I=I.getParent()}if(I)k&&(R=S.splitElement(k),p.zombies.push(R),p.zombies.push(k));else{k=f.getName(),P=!w,I=w==y.length-1,k=n(_.node,k);for(var A=[],N=k.length,M=0,L=void 0,B=0,K=-1;M<N;M++)L=k[M]," "==L?(B||P&&!M||(A.push(new CKEDITOR.dom.text(" ")),K=A.length),B=1):(A.push(L),B=0);I&&K==A.length&&A.pop(),P=A}}if(P){for(;I=P.pop();)S.insertNode(I);P=0}else S.insertNode(_.node);_.lastNotAllowed&&w<y.length-1&&((R=T?b:R)&&S.setEndAt(R,CKEDITOR.POSITION_AFTER_START),m=0),S.collapse()}}p.dontMoveCaret=v,p.bogusNeededBlocks=E}O=p.range;var F;for(R=p.bogusNeededBlocks,P=O.createBookmark();D=p.zombies.pop();)D.getParent()&&(x=O.clone(),x.moveToElementEditStart(D),x.removeEmptyBlocksAtEnd());if(R)for(;D=R.pop();)CKEDITOR.env.needsBrFiller?D.appendBogus():D.append(O.document.createText(""));for(;D=p.mergeCandidates.pop();)D.mergeSiblings();if(O.moveToBookmark(P),!p.dontMoveCaret){for(D=e(O.startContainer)&&O.startContainer.getChild(O.startOffset-1);D&&e(D)&&!D.is(c.$empty);){if(D.isBlockBoundary())O.moveToPosition(D,CKEDITOR.POSITION_BEFORE_END);else{if(o(D)&&D.getHtml().match(/(\s|&nbsp;)$/g)){F=null;break}F=O.clone(),F.moveToPosition(D,CKEDITOR.POSITION_BEFORE_END)}D=D.getLast(i)}F&&O.moveToRange(F)}g.select(),l(u)}}}(),m=function(){function e(e){return e=new CKEDITOR.dom.walker(e),e.guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function t(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function n(e){var t=e.count(),n;for(t;t-- >0;)n=e.getItem(t),CKEDITOR.tools.trim(n.getHtml())||(n.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&n.getChildCount()&&n.getFirst().remove())}return function(i){var o=i.startContainer,r=o.getAscendant("table",1),s=!1;n(r.getElementsByTag("td")),n(r.getElementsByTag("th")),r=i.clone(),r.setStart(o,0),r=e(r).lastBackward(),r||(r=i.clone(),r.setEndAt(o,CKEDITOR.POSITION_BEFORE_END),r=e(r).lastForward(),s=!0),r||(r=o),r.is("table")?(i.setStartAt(r,CKEDITOR.POSITION_BEFORE_START),i.collapse(!0),r.remove()):(r.is({tbody:1,thead:1,tfoot:1})&&(r=t(r,"tr",s)),r.is("tr")&&(r=t(r,r.getParent().is("thead")?"th":"td",s)),(o=r.getBogus())&&o.remove(),i.moveToPosition(r,s?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}()}(),function(){function e(){var e=this._.fakeSelection,t;e&&(t=this.getSelection(1),t&&t.isHidden()||(e.reset(),e=0)),(e||(e=t||this.getSelection(1),e&&e.getType()!=CKEDITOR.SELECTION_NONE))&&(this.fire("selectionCheck",e),t=this.elementPath(),t.compare(this._.selectionPreviousPath)||(CKEDITOR.env.webkit&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=t,this.fire("selectionChange",{selection:e,path:t})))}function t(){f=!0,p||(n.call(this),p=CKEDITOR.tools.setTimeout(n,200,this))}function n(){p=null,f&&(CKEDITOR.tools.setTimeout(e,0,this),f=!1)}function i(e){return!(!m(e)&&(e.type!=CKEDITOR.NODE_ELEMENT||e.is(CKEDITOR.dtd.$empty)))}function o(e){function t(t,n){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&e.clone()["moveToElementEdit"+(n?"End":"Start")](t)}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,o=e.getPreviousNode(i,null,n),r=e.getNextNode(i,null,n);return!(!t(o)&&!t(r,1)&&(o||r||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()))}function r(e){return e.getCustomData("cke-fillingChar")}function s(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(t!==!1){var i,o=e.getDocument().getSelection().getNative(),r=o&&"None"!=o.type&&o.getRangeAt(0);n.getLength()>1&&r&&r.intersectsNode(n.$)&&(i=l(o),r=o.focusNode==n.$&&o.focusOffset>0,o.anchorNode==n.$&&o.anchorOffset>0&&i[0].offset--,r&&i[1].offset--)}n.setText(a(n.getText())),i&&c(e.getDocument().$,i)}}function a(e){return e.replace(/\u200B( )?/g,function(e){return e[1]?"":""})}function l(e){return[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}]}function c(e,t){var n=e.getSelection(),i=e.createRange();i.setStart(t[0].node,t[0].offset),i.collapse(!0),n.removeAllRanges(),n.addRange(i),n.extend(t[1].node,t[1].offset)}function u(e){var t=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie?"display:none":"position:fixed;top:0;left:-1000px")+'">&nbsp;</div>',e.document);e.fire("lockSnapshot"),e.editable().append(t);var n=e.getSelection(1),i=e.createRange(),o=n.root.on("selectionchange",function(e){e.cancel()},null,null,0);i.setStartAt(t,CKEDITOR.POSITION_AFTER_START),i.setEndAt(t,CKEDITOR.POSITION_BEFORE_END),n.selectRanges([i]),o.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=t}function d(e){var t={37:1,39:1,8:1,46:1};return function(n){var i=n.data.getKeystroke();if(t[i]){var o=e.getSelection().getRanges(),r=o[0];1==o.length&&r.collapsed&&(i=r[i<38?"getPreviousEditableNode":"getNextEditableNode"]())&&i.type==CKEDITOR.NODE_ELEMENT&&"false"==i.getAttribute("contenteditable")&&(e.getSelection().fake(i),n.data.preventDefault(),n.cancel())}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.getCommonAncestor().isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var i=n.startContainer,o;i&&!((o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is("body")||!i.isReadOnly());)o&&"false"==i.getAttribute("contentEditable")&&n.setStartAfter(i),i=i.getParent();i=n.startContainer,o=n.endContainer;var r=n.startOffset,s=n.endOffset,a=n.clone();i&&i.type==CKEDITOR.NODE_TEXT&&(r>=i.getLength()?a.setStartAfter(i):a.setStartBefore(i)),o&&o.type==CKEDITOR.NODE_TEXT&&(s?a.setEndAfter(o):a.setEndBefore(o)),i=new CKEDITOR.dom.walker(a),i.evaluator=function(i){if(i.type==CKEDITOR.NODE_ELEMENT&&i.isReadOnly()){var o=n.clone();return n.setEndBefore(i),n.collapsed&&e.splice(t--,1),i.getPosition(a.endContainer)&CKEDITOR.POSITION_CONTAINS||(o.setStartAfter(i),o.collapsed||e.splice(t+1,0,o)),!0}return!1},i.next()}}return e}var p,f,m=CKEDITOR.dom.walker.invisible(1),g=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n=t.editor,i=n.createRange(),o;return(o=i.moveToClosestEditablePosition(t.selected,e))||(o=i.moveToClosestEditablePosition(t.selected,!e)),o&&n.getSelection().selectRanges([i]),n.fire("saveSnapshot"),t.selected.remove(),o||(i.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([i])),n.fire("saveSnapshot"),!1}}var n=e(),i=e(1);return{37:n,38:n,39:i,40:i,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(n){function i(){var e=o.getSelection();e&&e.removeAllRanges()}var o=n.editor;o.on("contentDom",function(){function n(){f=new CKEDITOR.dom.selection(o.getSelection()),f.lock()}function i(){a.removeListener("mouseup",i),u.removeListener("mouseup",i);var e=CKEDITOR.document.$.selection,t=e.createRange();"None"!=e.type&&t.parentElement().ownerDocument==r.$&&t.select()}var r=o.document,a=CKEDITOR.document,l=o.editable(),c=r.getBody(),u=r.getDocumentElement(),h=l.isInline(),p,f;if(CKEDITOR.env.gecko&&l.attachListener(l,"focus",function(e){e.removeListener(),0!==p&&(e=o.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==l.$&&(e=o.createRange(),e.moveToElementEditStart(l),e.select())},null,null,-2),l.attachListener(l,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){p&&CKEDITOR.env.webkit&&(p=o._.previousActive&&o._.previousActive.equals(r.getActive())),o.unlockSelection(p),p=0},null,null,-1),l.attachListener(l,"mousedown",function(){p=0}),(CKEDITOR.env.ie||h)&&(v?l.attachListener(l,"beforedeactivate",n,null,null,-1):l.attachListener(o,"selectionCheck",n,null,null,-1),l.attachListener(l,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){o.lockSelection(f),p=1},null,null,-1),l.attachListener(l,"mousedown",function(){p=0})),CKEDITOR.env.ie&&!h){var m;l.attachListener(l,"mousedown",function(e){2==e.data.$.button&&(e=o.document.getSelection(),e&&e.getType()!=CKEDITOR.SELECTION_NONE||(m=o.window.getScrollPosition()))}),l.attachListener(l,"mouseup",function(e){2==e.data.$.button&&m&&(o.document.$.documentElement.scrollLeft=m.x,o.document.$.documentElement.scrollTop=m.y),m=null}),"BackCompat"!=r.$.compatMode&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&u.on("mousedown",function(e){function t(e){if(e=e.data.$,i){var t=c.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(e){}i.setEndPoint(o.compareEndPoints("StartToStart",t)<0?"EndToEnd":"StartToStart",t),i.select()}}function n(){u.removeListener("mousemove",t),a.removeListener("mouseup",n),u.removeListener("mouseup",n),i.select()}if(e=e.data,e.getTarget().is("html")&&e.$.y<u.$.clientHeight&&e.$.x<u.$.clientWidth){var i=c.$.createTextRange();try{i.moveToPoint(e.$.clientX,e.$.clientY)}catch(e){}var o=i.duplicate();u.on("mousemove",t),a.on("mouseup",n),u.on("mouseup",n)}}),CKEDITOR.env.version>7&&CKEDITOR.env.version<11&&u.on("mousedown",function(e){e.data.getTarget().is("html")&&(a.on("mouseup",i),u.on("mouseup",i))}))}if(l.attachListener(l,"selectionchange",e,o),l.attachListener(l,"keyup",t,o),l.attachListener(l,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){o.forceNextSelectionCheck(),o.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var g;l.attachListener(l,"mousedown",function(){g=1}),l.attachListener(r.getDocumentElement(),"mouseup",function(){
g&&t.call(o),g=0})}else l.attachListener(CKEDITOR.env.ie?l:r.getDocumentElement(),"mouseup",t,o);CKEDITOR.env.webkit&&l.attachListener(r,"keydown",function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:s(l)}},null,null,-1),l.attachListener(l,"keydown",d(o),null,null,-1)}),o.on("setData",function(){o.unlockSelection(),CKEDITOR.env.webkit&&i()}),o.on("contentDomUnload",function(){o.unlockSelection()}),CKEDITOR.env.ie9Compat&&o.on("beforeDestroy",i,null,null,9),o.on("dataReady",function(){delete o._.fakeSelection,delete o._.hiddenSelectionContainer,o.selectionChange(1)}),o.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=o.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=o.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())},null,null,100),o.on("key",function(e){if("wysiwyg"==o.mode){var t=o.getSelection();if(t.isFake){var n=g[e.data.keyCode];if(n)return n({editor:o,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}})}),CKEDITOR.on("instanceReady",function(e){function t(){var e=i.editable();if(e&&(e=r(e))){var t=i.document.$.getSelection();"None"==t.type||t.anchorNode!=e.$&&t.focusNode!=e.$||(u=l(t)),o=e.getText(),e.setText(a(o))}}function n(){var e=i.editable();e&&(e=r(e))&&(e.setText(o),u&&(c(i.document.$,u),u=null))}var i=e.editor,o,u;CKEDITOR.env.webkit&&(i.on("selectionChange",function(){var e=i.editable(),t=r(e);t&&(t.getCustomData("ready")?s(e):t.setCustomData("ready",1))},null,null,-1),i.on("beforeSetMode",function(){s(i.editable())},null,null,-1),i.on("beforeUndoImage",t),i.on("afterUndoImage",n),i.on("beforeGetData",t,null,null,0),i.on("getData",n))}),CKEDITOR.editor.prototype.selectionChange=function(n){(n?e:t).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(e){return e=e||this.getSelection(1),e.getType()!=CKEDITOR.SELECTION_NONE&&(!e.isLocked&&e.lock(),this._.savedSelection=e,!0)},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return!!t&&(t.unlock(e),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3;var v="function"!=typeof window.getSelection,b=1;CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection)var t=e,e=e.root;var n=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:b++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=n?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;var e=this.getNative(),i,o;if(e)if(e.getRangeAt)i=(o=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(o.commonAncestorContainer);else{try{o=e.createRange()}catch(e){}i=o&&CKEDITOR.dom.element.get(o.item&&o.item(0)||o.parentElement())}return(!i||i.type!=CKEDITOR.NODE_ELEMENT&&i.type!=CKEDITOR.NODE_TEXT||!this.root.equals(i)&&!this.root.contains(i))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var w={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=v?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:v?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(t=CKEDITOR.SELECTION_TEXT),"Control"==i&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(e){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT,n=this.getNative();if(n&&n.rangeCount){if(1==n.rangeCount){var n=n.getRangeAt(0),i=n.startContainer;i==n.endContainer&&1==i.nodeType&&n.endOffset-n.startOffset==1&&w[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=v?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){t=t.duplicate(),t.collapse(n);var i=t.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var o=i.children,r,s,a=t.duplicate(),l=0,c=o.length-1,u=-1,d,h;l<=c;)if(u=Math.floor((l+c)/2),r=o[u],a.moveToElementText(r),d=a.compareEndPoints("StartToStart",t),d>0)c=u-1;else{if(!(d<0))return{container:i,offset:e(r)};l=u+1}if(u==-1||u==o.length-1&&d<0){if(a.moveToElementText(i),a.setEndPoint("StartToStart",t),a=a.text.replace(/(\r\n|\r)/g,"\n").length,o=i.childNodes,!a)return r=o[o.length-1],r.nodeType!=CKEDITOR.NODE_TEXT?{container:i,offset:o.length}:{container:r,offset:r.nodeValue.length};for(i=o.length;a>0&&i>0;)s=o[--i],s.nodeType==CKEDITOR.NODE_TEXT&&(h=s,a-=s.nodeValue.length);return{container:h,offset:-a}}if(a.collapse(d>0),a.setEndPoint(d>0?"StartToStart":"EndToStart",t),a=a.text.replace(/(\r\n|\r)/g,"\n").length,!a)return{container:i,offset:e(r)+(d>0?0:1)};for(;a>0;)try{s=r[d>0?"previousSibling":"nextSibling"],s.nodeType==CKEDITOR.NODE_TEXT&&(a-=s.nodeValue.length,h=s),r=s}catch(t){return{container:i,offset:e(r)}}return{container:h,offset:d>0?-a:h.nodeValue.length+a}};return function(){var e=this.getNative(),n=e&&e.createRange(),i=this.getType();if(!e)return[];if(i==CKEDITOR.SELECTION_TEXT)return e=new CKEDITOR.dom.range(this.root),i=t(n,!0),e.setStart(new CKEDITOR.dom.node(i.container),i.offset),i=t(n),e.setEnd(new CKEDITOR.dom.node(i.container),i.offset),e.endContainer.getPosition(e.startContainer)&CKEDITOR.POSITION_PRECEDING&&e.endOffset<=e.startContainer.getIndex()&&e.collapse(),[e];if(i==CKEDITOR.SELECTION_ELEMENT){for(var i=[],o=0;o<n.length;o++){for(var r=n.item(o),s=r.parentNode,a=0,e=new CKEDITOR.dom.range(this.root);a<s.childNodes.length&&s.childNodes[a]!=r;a++);e.setStart(new CKEDITOR.dom.node(s),a),e.setEnd(new CKEDITOR.dom.node(s),a+1),i.push(e)}return i}return[]}}():function(){var e=[],t,n=this.getNative();if(!n)return e;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);t=new CKEDITOR.dom.range(this.root),t.setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e};return function(t){var n=this._.cache,i=n.ranges;return i||(n.ranges=i=new CKEDITOR.dom.rangeList(e.call(this))),t?h(new CKEDITOR.dom.rangeList(i.slice())):i}}(),getStartElement:function(){var e=this._.cache;if(void 0!==e.startElement)return e.startElement;var t;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if(t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if(t=t.getChild(n.startOffset),t&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)t=n,n=n.getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese(function(){return t.getNative().createRange().item(0)},function(){for(var e=t.getRanges()[0].clone(),n,i,o=2;o&&(!(n=e.getEnclosedNode())||n.type!=CKEDITOR.NODE_ELEMENT||!w[n.getName()]||!(i=n));o--)e.shrink(CKEDITOR.SHRINK_ELEMENT);return i&&i.$});return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative(),t=v?"Control"==t.type?"":t.createRange().text:t.toString();return e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var t=this.getSelectedElement(),n=!t&&this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),e&&(e=t||n[0]&&n[0].getCommonAncestor())&&e.getAscendant("body",1)&&(i?this.fake(t):t?this.selectElement(t):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection&&this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}this.rev=b++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var t=this.root.editor,t=t&&t._.hiddenSelectionContainer;if(this.reset(),t)for(var t=this.root,n,i=0;i<e.length;++i)n=e[i],n.endContainer.equals(t)&&(n.endOffset=Math.min(n.endOffset,t.getChildCount()));if(e.length)if(this.isLocked){var r=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),r&&!r.equals(this.root)&&r.focus()}else{var a,l,c;if(1==e.length&&!(c=e[0]).collapsed&&(a=c.getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(l=c.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(a=l),"false"==a.getAttribute("contenteditable"))||(a=void 0),a)this.fake(a);else{if(v){c=CKEDITOR.dom.walker.whitespaces(!0),l=/\ufeff|\u00a0/,t={table:1,tbody:1,tr:1},e.length>1&&(a=e[e.length-1],e[0].setEnd(a.endContainer,a.endOffset)),a=e[0];var e=a.collapsed,u,d,h;if((n=a.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in w&&(!n.is("a")||!n.getText()))try{return h=n.$.createControlRange(),h.addElement(n.$),void h.select()}catch(e){}(a.startContainer.type==CKEDITOR.NODE_ELEMENT&&a.startContainer.getName()in t||a.endContainer.type==CKEDITOR.NODE_ELEMENT&&a.endContainer.getName()in t)&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),e=a.collapsed),h=a.createBookmark(),t=h.startNode,e||(r=h.endNode),h=a.document.$.body.createTextRange(),h.moveToElementText(t.$),h.moveStart("character",1),r?(l=a.document.$.body.createTextRange(),l.moveToElementText(r.$),h.setEndPoint("EndToEnd",l),h.moveEnd("character",-1)):(u=t.getNext(c),d=t.hasAscendant("pre"),u=!(u&&u.getText&&u.getText().match(l))&&(d||!t.hasPrevious()||t.getPrevious().is&&t.getPrevious().is("br")),d=a.document.createElement("span"),d.setHtml("&#65279;"),d.insertBefore(t),u&&a.document.createText("\ufeff").insertBefore(t)),a.setStartBefore(t),t.remove(),e?(u?(h.moveStart("character",-1),h.select(),a.document.$.selection.clear()):h.select(),a.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove()):(a.setEndBefore(r),r.remove(),h.select())}else{if(r=this.getNative(),!r)return;for(this.removeAllRanges(),h=0;h<e.length;h++)if(h<e.length-1&&(u=e[h],d=e[h+1],l=u.clone(),l.setStart(u.endContainer,u.endOffset),l.setEnd(d.startContainer,d.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),a=l.getCommonAncestor(),l=l.getEnclosedNode(),a.isReadOnly()||l&&l.isReadOnly())))d.setStart(u.startContainer,u.startOffset),e.splice(h--,1);else{a=e[h],d=this.document.$.createRange(),a.collapsed&&CKEDITOR.env.webkit&&o(a)&&(u=this.root,s(u,!1),l=u.getDocument().createText(""),u.setCustomData("cke-fillingChar",l),a.insertNode(l),(u=l.getNext())&&!l.getPrevious()&&u.type==CKEDITOR.NODE_ELEMENT&&"br"==u.getName()?(s(this.root),a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START)):a.moveToPosition(l,CKEDITOR.POSITION_AFTER_END)),d.setStart(a.startContainer.$,a.startOffset);try{d.setEnd(a.endContainer.$,a.endOffset)}catch(e){if(!(e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0))throw e;a.collapse(1),d.setEnd(a.endContainer.$,a.endOffset)}r.addRange(d)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e){var t=this.root.editor;this.reset(),u(t);var n=this._.cache,i=new CKEDITOR.dom.range(this.root);i.setStartBefore(e),i.setEndAfter(e),n.ranges=new CKEDITOR.dom.rangeList(i),n.selectedElement=n.startElement=e,n.type=CKEDITOR.SELECTION_ELEMENT,n.selectedText=n.nativeSel=null,this.isFake=1,this.rev=b++,t._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var t=[],n=0;n<e.length;n++){var i=new CKEDITOR.dom.range(this.root);i.moveToBookmark(e[n]),t.push(i)}return e.isFake?this.fake(t[0].getEnclosedNode()):this.selectRanges(t),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[v?"empty":"removeAllRanges"]()}catch(e){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,i;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!i){var o=e.getAttribute("contentEditable");"false"==o?n=e:"true"==o&&(i=1)}return n}function t(n){var o=n.document;if(n.collapsed)o=g(this,o),n.insertNode(o),n.moveToPosition(o,CKEDITOR.POSITION_BEFORE_END);else{var r=this.element,s=this._.definition,a,l=s.ignoreReadonly,c=l||s.includeReadonly;null==c&&(c=n.root.getCustomData("cke_includeReadonly"));var u=CKEDITOR.dtd[r];u||(a=!0,u=CKEDITOR.dtd.span),n.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.trim();var d=n.createBookmark(),h=d.startNode,f=d.endNode,m=h,v;if(!l){var b=n.getCommonAncestor(),l=e(h,b),b=e(f,b);l&&(m=l.getNextSourceNode(!0)),b&&(f=b)}for(m.getPosition(f)==CKEDITOR.POSITION_FOLLOWING&&(m=0);m;){if(l=!1,m.equals(f))m=null,l=!0;else{var w=m.type==CKEDITOR.NODE_ELEMENT?m.getName():null,b=w&&"false"==m.getAttribute("contentEditable"),y=w&&m.getAttribute("data-nostyle");if(w&&m.data("cke-bookmark")){m=m.getNextSourceNode(!0);continue}if(b&&c&&CKEDITOR.dtd.$block[w])for(var _=m,E=i(_),T=void 0,C=E.length,S=0,_=C&&new CKEDITOR.dom.range(_.getDocument());S<C;++S){var T=E[S],O=CKEDITOR.filter.instances[T.data("cke-filter")];(O?O.check(this):1)&&(_.selectNodeContents(T),t.call(this,_))}if(E=w?!u[w]||y?0:b&&!c?0:(m.getPosition(f)|D)==D&&(!s.childRule||s.childRule(m)):1){if(!(E=m.getParent())||!(E.getDtd()||CKEDITOR.dtd.span)[r]&&!a||s.parentRule&&!s.parentRule(E))l=!0;else if(v||w&&CKEDITOR.dtd.$removeEmpty[w]&&(m.getPosition(f)|D)!=D||(v=n.clone(),v.setStartBefore(m)),w=m.type,w==CKEDITOR.NODE_TEXT||b||w==CKEDITOR.NODE_ELEMENT&&!m.getChildCount()){for(var w=m,k;(l=!w.getNext(I))&&(k=w.getParent(),u[k.getName()])&&(k.getPosition(h)|x)==x&&(!s.childRule||s.childRule(k));)w=k;v.setEndAfter(w)}}else l=!0;m=m.getNextSourceNode(y||b)}if(l&&v&&!v.collapsed){for(var l=g(this,o),b=l.hasAttributes(),y=v.getCommonAncestor(),w={},E={},T={},C={},R,P,A;l&&y;){if(y.getName()==r){for(R in s.attributes)!C[R]&&(A=y.getAttribute(P))&&(l.getAttribute(R)==A?E[R]=1:C[R]=1);for(P in s.styles)!T[P]&&(A=y.getStyle(P))&&(l.getStyle(P)==A?w[P]=1:T[P]=1)}y=y.getParent()}for(R in E)l.removeAttribute(R);for(P in w)l.removeStyle(P);b&&!l.hasAttributes()&&(l=null),l?(v.extractContents().appendTo(l),v.insertNode(l),p.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element("span"),v.extractContents().appendTo(l),v.insertNode(l),p.call(this,l),l.remove(!0)),v=null}}n.moveToBookmark(d),n.shrink(CKEDITOR.SHRINK_TEXT),n.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function n(e){function t(){for(var e=new CKEDITOR.dom.elementPath(i.getParent()),t=new CKEDITOR.dom.elementPath(c.getParent()),n=null,o=null,r=0;r<e.elements.length;r++){var s=e.elements[r];if(s==e.block||s==e.blockLimit)break;u.checkElementRemovable(s,!0)&&(n=s)}for(r=0;r<t.elements.length&&(s=t.elements[r],s!=t.block&&s!=t.blockLimit);r++)u.checkElementRemovable(s,!0)&&(o=s);o&&c.breakParent(o),n&&i.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),i=n.startNode;if(e.collapsed){for(var o=new CKEDITOR.dom.elementPath(i.getParent(),e.root),r,s=0,a;s<o.elements.length&&(a=o.elements[s])&&(a!=o.block&&a!=o.blockLimit);s++)if(this.checkElementRemovable(a)){var l;e.collapsed&&(e.checkBoundaryOfElement(a,CKEDITOR.END)||(l=e.checkBoundaryOfElement(a,CKEDITOR.START)))?(r=a,r.match=l?"start":"end"):(a.mergeSiblings(),a.is(this.element)?h.call(this,a):f(a,w(this)[a.getName()]))}if(r){for(a=i,s=0;l=o.elements[s],!l.equals(r);s++)l.match||(l=l.clone(),l.append(a),a=l);a["start"==r.match?"insertBefore":"insertAfter"](r)}}else{var c=n.endNode,u=this;for(t(),o=i;!o.equals(c);)r=o.getNextSourceNode(),o.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(o)&&(o.getName()==this.element?h.call(this,o):f(o,w(this)[o.getName()]),r.type==CKEDITOR.NODE_ELEMENT&&r.contains(i)&&(t(),r=i.getNext())),o=r}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function i(e){var t=[];return e.forEach(function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1},CKEDITOR.NODE_ELEMENT,!0),t}function o(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&v(e,this)}function r(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var t=this._.definition,n=t.attributes;if(n)for(var i in n)e.removeAttribute(i,n[i]);if(t.styles)for(var o in t.styles)t.styles.hasOwnProperty(o)&&e.removeStyle(o)}}function s(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=e.document,r;i=n.getNextParagraph();)!i.isReadOnly()&&(n.activeFilter?n.activeFilter.check(this):1)&&(r=g(this,o,i),l(i,r));e.moveToBookmark(t)}function a(e){var t=e.createBookmark(1),n=e.createIterator();n.enforceRealBlocks=!0,n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var i,o;i=n.getNextParagraph();)this.checkElementRemovable(i)&&(i.is("pre")?((o=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&i.copyAttributes(o),l(i,o)):h.call(this,i));e.moveToBookmark(t)}function l(e,t){var n=!t;n&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var i=t&&t.is("pre"),o=e.is("pre"),r=!i&&o;if(i&&!o){if(o=t,(r=e.getBogus())&&r.remove(),r=e.getHtml(),r=u(r,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),r=r.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),r=r.replace(/([ \t\n\r]+|&nbsp;)/g," "),r=r.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(o),o.$.outerHTML="<pre>"+r+"</pre>",o.copyAttributes(s.getFirst()),o=s.getFirst().remove()}else o.setHtml(r);t=o}else r?t=d(n?[e.getHtml()]:c(e),t):e.moveChildren(t);if(t.replace(e),i){var n=t,a;(a=n.getPrevious(O))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("pre")&&(i=u(a.getHtml(),/\n$/,"")+"\n\n"+u(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+i+"</pre>":n.setHtml(i),a.remove())}else n&&m(t)}function c(e){var t=[];return u(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(e,t,n){return t+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,n){t.push(n)}),t}function u(e,t,n){var i="",o="",e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,n){return t&&(i=t),n&&(o=n),""});return i+e.replace(t,n)+o}function d(e,t){var n;e.length>1&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var i=0;i<e.length;i++){var o=e[i],o=o.replace(/(\r\n|\r)/g,"\n"),o=u(o,/^[ \t]*\n/,""),o=u(o,/\n$/,""),o=u(o,/^[ \t]+|[ \t]+$/g,function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}),o=o.replace(/\n/g,"<br>"),o=o.replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "});if(n){var r=t.clone();r.setHtml(o),n.append(r)}else t.setHtml(o)}return n||t}function h(e,t){var n=this._.definition,i=n.attributes,n=n.styles,o=w(this)[e.getName()],r=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(n),s;for(s in i)("class"==s||this._.definition.fullMatch)&&e.getAttribute(s)!=y(s,i[s])||t&&"data-"==s.slice(0,5)||(r=e.hasAttribute(s),e.removeAttribute(s));for(var a in n)this._.definition.fullMatch&&e.getStyle(a)!=y(a,n[a],!0)||(r=r||!!e.getStyle(a),e.removeStyle(a));f(e,o,E[e.getName()]),r&&(this._.definition.alwaysRemoveElement?m(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?m(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function p(e){for(var t=w(this),n=e.getElementsByTag(this.element),i,o=n.count();--o>=0;)i=n.getItem(o),i.isReadOnly()||h.call(this,i,!0);for(var r in t)if(r!=this.element)for(n=e.getElementsByTag(r),o=n.count()-1;o>=0;o--)i=n.getItem(o),i.isReadOnly()||f(i,t[r])}function f(e,t,n){if(t=t&&t.attributes)for(var i=0;i<t.length;i++){var o=t[i][0],r;if(r=e.getAttribute(o)){var s=t[i][1];(null===s||s.test&&s.test(r)||"string"==typeof s&&r==s)&&e.removeAttribute(o)}}n||m(e)}function m(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(O),i=e.getNext(O);n&&(n.type==CKEDITOR.NODE_TEXT||!n.isBlockBoundary({br:1}))&&e.append("br",1),i&&(i.type==CKEDITOR.NODE_TEXT||!i.isBlockBoundary({br:1}))&&e.append("br"),e.remove(!0)}else n=e.getFirst(),i=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function g(e,t,n){var i;return i=e.element,"*"==i&&(i="span"),i=new CKEDITOR.dom.element(i,t),n&&n.copyAttributes(i),i=v(i,e),t.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):t.setCustomData("doc_processing_style",1),i}function v(e,t){var n=t._.definition,i=n.attributes,n=CKEDITOR.style.getStyleText(n);if(i)for(var o in i)e.setAttribute(o,i[o]);return n&&e.setAttribute("style",n),e}function b(e,t){for(var n in e)e[n]=e[n].replace(S,function(e,n){return t[n]})}function w(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o=n[i],r,s;if("string"==typeof o?r=o.toLowerCase():(r=o.element?o.element.toLowerCase():e.element,s=o.attributes),o=t[r]||(t[r]={}),s){var o=o.attributes=o.attributes||[],a;for(a in s)o.push([a.toLowerCase(),s[a]])}}}return t}function y(e,t,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](e,t),i[n?"getStyle":"getAttribute"](e)}function _(e,t,n){for(var i=e.document,o=e.getRanges(),t=t?this.removeFromRange:this.applyToRange,r,s=o.createIterator();r=s.getNextRange();)t.call(this,r,n);e.selectRanges(o),i.removeCustomData("doc_processing_style")}var E={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},T={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},C=/\s*(?:;\s*|$)/,S=/#\((.+?)\)/g,I=CKEDITOR.dom.walker.bookmark(0,1),O=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(e=CKEDITOR.tools.clone(e),b(e.attributes,t),b(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(E[n]?CKEDITOR.STYLE_BLOCK:T[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return _.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),_.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return _.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),_.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?t:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?o:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?a:this.type==CKEDITOR.STYLE_OBJECT?r:null,this.removeFromRange(e)},applyToObject:function(e){v(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n=e.elements,i=0,o;i<n.length;i++)if(o=n[i],this.type!=CKEDITOR.STYLE_INLINE||o!=e.block&&o!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=o.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(o,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var i=e.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!t&&!e.hasAttributes())return!0;if(i=n._AC)n=i;else{var i={},o=0,r=n.attributes;if(r)for(var s in r)o++,i[s]=r[s];(s=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=s),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var a in n)if("_length"!=a){if(o=e.getAttribute(a)||"","style"==a)e:{i=n[a],"string"==typeof i&&(i=CKEDITOR.tools.parseCssText(i)),"string"==typeof o&&(o=CKEDITOR.tools.parseCssText(o,!0)),s=void 0;for(s in i)if(!(s in o)||o[s]!=i[s]&&"inherit"!=i[s]&&"inherit"!=o[s]){i=!1;break e}i=!0}else i=n[a]==o;if(i){if(!t)return!0}else if(t)return!1}if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=w(this)[e.getName()]){var i;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(i=t[n][0],i=e.getAttribute(i)){var o=t[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],i=t.element;"bdo"==i&&(i="span");var n=["<",i],o=t.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(t))&&n.push(' style="',o,'"'),n.push(">",e||t.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){var t=e._ST;if(t)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",i="";n.length&&(n=n.replace(C,";"));for(var o in t){var r=t[o],s=(o+":"+r).replace(C,";");"inherit"==r?i+=s:n+=s}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var D=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,x=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(e){for(var t=0;t<n.length;t++){var i=n[t],o=i.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;i.fn.call(this,o)}})),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this,n=t.config.stylesCombo_stylesSet||t.config.stylesSet;if(n===!1)e(null);else if(n instanceof Array)t._.stylesDefinitions=n,e(n);else{n||(n="default");var n=n.split(":"),i=n[0];CKEDITOR.stylesSet.addExternal(i,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(n){t._.stylesDefinitions=n[i],e(t._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var e={},t={},n;for(n in CKEDITOR.dtd.$blockLimit)n in CKEDITOR.dtd.$list||(e[n]=1);for(n in CKEDITOR.dtd.$block)n in CKEDITOR.dtd.$blockLimit||n in CKEDITOR.dtd.$empty||(t[n]=1);CKEDITOR.dom.elementPath=function(n,i){var o=null,r=null,s=[],a=n,l,i=i||n.getDocument().getBody();do if(a.type==CKEDITOR.NODE_ELEMENT){if(s.push(a),!this.lastElement&&(this.lastElement=a,a.is(CKEDITOR.dtd.$object)||"false"==a.getAttribute("contenteditable")))continue;if(a.equals(i))break;if(!r&&(l=a.getName(),"true"==a.getAttribute("contenteditable")?r=a:!o&&t[l]&&(o=a),e[l])){var c;if(c=!o){if(l="div"==l){e:{l=a.getChildren(),c=0;for(var u=l.count();c<u;c++){var d=l.getItem(c);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){l=!0;break e}}l=!1}l=!l}c=l}c?o=a:r=a}}while(a=a.getParent());r||(r=i),this.block=o,this.blockLimit=r,this.root=i,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements,e=e&&e.elements;if(!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(e,t,n){var i;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e);
}:CKEDITOR.tools.isArray(e)?i=function(t){return CKEDITOR.tools.indexOf(e,t.getName())>-1}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var o=this.elements,r=o.length;for(t&&r--,n&&(o=Array.prototype.slice.call(o,0),o.reverse()),t=0;t<r;t++)if(i(o[t]))return o[t];return null},isContextFor:function(e){var t;return!(e in CKEDITOR.dtd.$block)||(t=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!t.getDtd()[e])},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(e),o);return t.childNodes.length==n&&(e>=i?(r=o.createText(""),r.insertAfter(this)):(e=o.createText(""),e.insertAfter(r),e.remove())),r},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var i=e.serializable,o=t[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",s=i?t.document.getById(e.startNode):e.startNode,e=i?t.document.getById(e.endNode):e.endNode;return o.equals(s.getPrevious())?(t.startOffset=t.startOffset-o.getLength()-e.getPrevious().getLength(),o=e.getNext()):o.equals(e.getPrevious())&&(t.startOffset=t.startOffset-o.getLength(),o=e.getNext()),o.equals(s.getParent())&&t[r]++,o.equals(e.getParent())&&t[r]++,t[n?"endContainer":"startContainer"]=o,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e=this,t=CKEDITOR.dom.walker.bookmark(),n=[],i;return{getNextRange:function(o){i=void 0===i?0:i+1;var r=e[i];if(r&&e.length>1){if(!i)for(var s=e.length-1;s>=0;s--)n.unshift(e[s].createBookmark(!0));if(o)for(var a=0;e[i+a+1];){for(var l=r.document,o=0,s=l.getById(n[a].endNode),l=l.getById(n[a+1].startNode);;){if(s=s.getNextSourceNode(!1),l.equals(s))o=1;else if(t(s)||s.type==CKEDITOR.NODE_ELEMENT&&s.isBlockBoundary())continue;break}if(!o)break;a++}for(r.moveToBookmark(n.shift());a--;)s=e[++i],s.moveToBookmark(n.shift()),r.setEnd(s.endContainer,s.endOffset)}return r}}},createBookmarks:function(t){for(var n=[],i,o=0;o<this.length;o++){n.push(i=this[o].createBookmark(t,!0));for(var r=o+1;r<this.length;r++)this[r]=e(i,this[r]),this[r]=e(i,this[r],!0)}return n},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var n=CKEDITOR.skin["ua_"+t],i=CKEDITOR.env;if(n)for(var n=n.split(",").sort(function(e,t){return e>t?-1:1}),o=0,r;o<n.length;o++)if(r=n[o],i.ie&&(r.replace(/^ie/,"")==i.version||i.quirks&&"iequirks"==r)&&(r="ie"),i[r]){t+="_"+n[o];break}return CKEDITOR.getUrl(e()+t+".css")}function n(e,n){r[e]||(CKEDITOR.document.appendStyleSheet(t(e)),r[e]=1),n&&n()}function i(e){var t=e.getById(s);return t||(t=e.getHead().append("style"),t.setAttribute("id",s),t.setAttribute("type","text/css")),t}function o(e,t,n){var i,o,r;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),o=0;o<t.length;o++)t[o]=t[o].split("{");for(var s=0;s<e.length;s++)if(CKEDITOR.env.webkit)for(o=0;o<t.length;o++){for(r=t[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);e[s].$.sheet.addRule(t[o][0],r)}else{for(r=t,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?e[s].$.styleSheet.cssText=e[s].$.styleSheet.cssText+r:e[s].$.innerHTML=e[s].$.innerHTML+r}}var r={};CKEDITOR.skin={path:e,loadPart:function(t,i){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),function(){n(t,i)}):n(t,i)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,n,i){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(e,t,n,i,o){var r;return e&&(e=e.toLowerCase(),t&&(r=this.icons[e+"-rtl"]),r||(r=this.icons[e])),e=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",e&&"background-image:url("+CKEDITOR.getUrl(e)+");background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=i(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,i="",r="";"function"==typeof n&&(i=n(this,"editor"),r=n(this,"panel")),e=[[l,e]],o([t],i,e),o(a,r,e)}).call(this,e)}});var s="cke_ui_color",a=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor,e=function(e){if(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(),!e.getById("cke_ui_color")){e=i(e),a.push(e);var n=t.getUiColor();n&&o([e],CKEDITOR.skin.chameleon(t,"panel"),[[l,n]])}};t.on("panelShow",e),t.on("menuShow",e),t.config.uiColor&&t.setUiColor(t.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(e){CKEDITOR.env.hc=!1}e.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass=CKEDITOR.env.cssClass+" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="moono",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8",CKEDITOR.skin.chameleon=function(){var e=function(){return function(e,t){for(var n=e.match(/[^#]./g),i=0;i<3;i++){var o=n,r=i,s;s=parseInt(n[i],16),s=("0"+(t<0?0|s*(1+t):0|s+(255-s)*t).toString(16)).slice(-2),o[r]=s}return"#"+n.join("")}}(),t=function(){var e=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(t,n){return e.output({from:t,to:n})}}(),n={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(i,o){var r=i.uiColor,r={id:"."+i.id,defaultBorder:e(r,-.1),defaultGradient:t(e(r,.9),r),lightGradient:t(e(r,1),e(r,.7)),mediumGradient:t(e(r,.8),e(r,.5)),ckeButtonOn:t(e(r,.6),e(r,.7)),ckeResizer:e(r,-.4),ckeToolbarSeparator:e(r,.5),ckeColorauto:e(r,.8),dialogBody:e(r,.7),dialogTabSelected:t("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:e(r,-.6),elementsPathBg:r,menubuttonIcon:e(r,.5),menubuttonIconHover:e(r,.3)};return n[o].output(r).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={}),this._.default=this._.initValue=e.default||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},t={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},n={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},i={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",function(){this.getInputElement().on("change",function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),r=/^on([A-Z]\w+)/,s=function(e){for(var t in e)(r.test(t)||"title"==t||"type"==t)&&delete e[t];return e};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,n,i,o){if(!(arguments.length<4)){var r=e.call(this,n);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var s={role:n.role||"presentation"};n.includeLabel&&(s["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,t,n,i,"div",null,s,function(){var e=[],i=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+i+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',o.call(this,t,n),"</div>"):(i={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+i+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+o.call(this,t,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,i,e)),e.join("")})}},textInput:function(t,n,i){if(!(arguments.length<3)){e.call(this,n);var o=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",r={class:"cke_dialog_ui_input_"+n.type,id:o,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(r.maxlength=n.maxLength),n.size&&(r.size=n.size),n.inputStyle&&(r.style=n.inputStyle);var s=this,a=!1;t.on("load",function(){s.getInputElement().on("keydown",function(e){13==e.data.getKeystroke()&&(a=!0)}),s.getInputElement().on("keyup",function(e){13==e.data.getKeystroke()&&a&&(t.getButton("ok")&&setTimeout(function(){t.getButton("ok").click()},0),a=!1)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);for(var t in r)e.push(t+'="'+r[t]+'" ');return e.push(" /></div>"),e.join("")})}},textarea:function(t,n,i){if(!(arguments.length<3)){e.call(this,n);var o=this,r=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",s={};n.validate&&(this.validate=n.validate),s.rows=n.rows||5,s.cols=n.cols||20,s.class="cke_dialog_ui_input_textarea "+(n.class||""),"undefined"!=typeof n.inputStyle&&(s.style=n.inputStyle),n.dir&&(s.dir=n.dir),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,function(){s["aria-labelledby"]=this._.labelId,this._.required&&(s["aria-required"]=this._.required);var e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',r,'" '],t;for(t in s)e.push(t+'="'+CKEDITOR.tools.htmlEncode(s[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(o._.default),"</textarea></div>"),e.join("")})}},checkbox:function(t,n,i){if(!(arguments.length<3)){var o=e.call(this,n,{default:!!n.default});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,t,n,i,"span",null,null,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),i=[],r=CKEDITOR.tools.getNextId()+"_label",a={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":r};return s(e),n.default&&(a.checked="checked"),"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),o.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,i,"input",null,a),i.push(' <label id="',r,'" for="',a.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),i.join("")})}},radio:function(t,n,i){if(!(arguments.length<3)){e.call(this,n),this._.default||(this._.default=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var o=[],r=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,function(){for(var e=[],i=[],a=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var c=n.items[l],u=void 0!==c[2]?c[2]:c[0],d=void 0!==c[1]?c[1]:c[0],h=CKEDITOR.tools.getNextId()+"_radio_input",p=h+"_label",h=CKEDITOR.tools.extend({},n,{id:h,title:null,type:null},!0),u=CKEDITOR.tools.extend({},h,{title:u},!0),f={type:"radio",class:"cke_dialog_ui_radio_input",name:a,value:d,"aria-labelledby":p},m=[];r._.default==d&&(f.checked="checked"),s(h),s(u),"undefined"!=typeof h.inputStyle&&(h.style=h.inputStyle),h.keyboardFocusable=!0,o.push(new CKEDITOR.ui.dialog.uiElement(t,h,m,"input",null,f)),m.push(" "),new CKEDITOR.ui.dialog.uiElement(t,u,m,"label",null,{id:p,for:f.id},c[0]),e.push(m.join(""))}return new CKEDITOR.ui.dialog.hbox(t,o,e,i),i.join("")}),this._.children=o}},button:function(t,n,i){if(arguments.length){"function"==typeof n&&(n=n(t.getParentEditor())),e.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var o=this;t.on("load",function(){var e=this.getElement();!function(){e.on("click",function(e){o.click(),e.data.preventDefault()}),e.on("keydown",function(e){e.data.getKeystroke()in{32:1}&&(o.click(),e.data.preventDefault())})}(),e.unselectable()},this);var r=CKEDITOR.tools.extend({},n);delete r.style;var s=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,r,i,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true",class:n.class,role:"button","aria-labelledby":s},'<span id="'+s+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(t,n,i){if(!(arguments.length<3)){var o=e.call(this,n);n.validate&&(this.validate=n.validate),o.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),i=[],r=[],a={id:o.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};i.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&i.push('style="width:'+n.width+'" '),i.push(">"),void 0!==n.size&&(a.size=n.size),void 0!==n.multiple&&(a.multiple=n.multiple),s(e);for(var l=0,c;l<n.items.length&&(c=n.items[l]);l++)r.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==c[1]?c[1]:c[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(c[0]));return"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),o.select=new CKEDITOR.ui.dialog.uiElement(t,e,i,"select",null,a,r.join("")),i.push("</div>"),i.join("")})}},file:function(t,n,i){if(!(arguments.length<3)){void 0===n.default&&(n.default="");var o=CKEDITOR.tools.extend(e.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),t.on("load",function(){CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,function(){o.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',o.frameId,'" title="',n.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")})}},fileButton:function(t,n,i){var o=this;if(!(arguments.length<3)){e.call(this,n),n.validate&&(this.validate=n.validate);var r=CKEDITOR.tools.extend({},n),s=r.onClick;r.className=(r.className?r.className+" ":"")+"cke_dialog_ui_button",r.onClick=function(e){var i=n.for;s&&s.call(this,e)===!1||(t.getContentElement(i[0],i[1]).submit(),this.disable())},t.on("load",function(){t.getContentElement(n.for[0],n.for[1])._.buttons.push(o)}),CKEDITOR.ui.dialog.button.call(this,t,r,i)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(i,o,r){if(!(arguments.length<3)){var s=[],a=o.html;"<"!=a.charAt(0)&&(a="<span>"+a+"</span>");var l=o.focus;if(l){var c=this.focus;this.focus=function(){("function"==typeof l?l:c).call(this),this.fire("focus")},o.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,i,o,s,"span",null,null,""),s=s.join("").match(e),a=a.match(t)||["","",""],n.test(a[1])&&(a[1]=a[1].slice(0,-1),a[2]="/"+a[2]),r.push([a[1]," ",s[1]||"",a[2]].join(""))}}}(),fieldset:function(e,t,n,i,o){var r=o.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,o,i,"fieldset",null,null,function(){var e=[];r&&e.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return t.getChildCount()<1?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||e.getChildCount()<1?"":e.getChild(0).getText()},eventProcessors:o},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",function(){t.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(e){return!e&&(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=e,i.$.value=void 0===t||null===t?e:t,void 0===n||null===n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;e.length>0;)e.remove(0);return this},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||CKEDITOR.env.version>8?o.onChange.apply(this,arguments):(e.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){t=t.data.$,"checked"==t.propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",t),null)}},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n=this._.children,i,o=0;o<n.length&&(i=n[o]);o++)i.getElement().$.checked=i.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e=this._.children,t;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return CKEDITOR.env.ie?(e.on("load",function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",function(e){e=e.data.$,"checked"==e.propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",t),null):o.onChange.apply(this,arguments)}}},i,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,i,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return e.$.forms.length>0?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t=/^on([A-Z]\w+)/,n,i=function(e,t,n,i){e.on("formLoaded",function(){e.getInputElement().on(n,i,e)})},o;for(o in e)(n=o.match(t))&&(this.eventProcessors[o]?this.eventProcessors[o].call(this,this._.dialog,e[o]):i(this,this._.dialog,n[1].toLowerCase(),e[o]));return this},reset:function(){function e(){n.$.open();var e="";i.size&&(e=i.size-(CKEDITOR.env.ie?7:0));var c=t.frameId+"_input";for(n.$.write(['<html dir="'+a+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+a+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(i.action),'"><label id="',t.labelId,'" for="',c,'" style="display:none">',CKEDITOR.tools.htmlEncode(i.label),'</label><input style="width:100%" id="',c,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(i.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(e>0?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+r+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join("")),n.$.close(),e=0;e<o.length;e++)o[e].enable()}var t=this._,n=CKEDITOR.document.getById(t.frameId).getFrameDocument(),i=t.definition,o=t.buttons,r=this.formLoadedNumber,s=this.formUnloadNumber,a=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;r||(r=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(r),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var i=t.children,o,r=[],s=[],a=0;a<i.length&&(o=i[a]);a++){var l=[];r.push(l),s.push(CKEDITOR.dialog._.uiElementBuilders[o.type].build(e,o,l))}return new CKEDITOR.ui.dialog[t.type](e,s,r,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,function(){function e(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;n>t-e;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function t(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;n<t+e;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function n(e,t){for(var n=e.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(t?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function i(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}function o(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function r(e){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",m).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),t=e.getChild([0,0,0,0,0]),n=t.getChild(0),i=t.getChild(1);if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var o="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())";CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+o+'" tabIndex="-1"></iframe>').appendTo(t.getParent())}return n.unselectable(),i.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:n,close:i,tabs:t.getChild(2),contents:t.getChild([3,0,0,0]),footer:t.getChild([3,0,1,0])}}}function s(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),t.on("focus",function(){this.fire("mouseover")}),t.on("blur",function(){this.fire("mouseout")})}function a(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",function(){n.removeListener("resize",t)})}function l(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function c(e){function t(t){var n=e.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),c=t.data.$.screenX,u=t.data.$.screenY,d=c-i.x,h=u-i.y;i={x:c,y:u},o.x=o.x+d,o.y=o.y+h,e.move(o.x+a[3]<s?-a[3]:o.x-a[1]>l.width-n.width-s?l.width-n.width+("rtl"==r.lang.dir?0:a[1]):o.x,o.y+a[0]<s?-a[0]:o.y-a[2]>l.height-n.height-s?l.height-n.height+a[2]:o.y,1),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mousemove",t),e.removeListener("mouseup",n)}}var i=null,o=null,r=e.getParentEditor(),s=r.config.dialog_magnetDistance,a=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof s&&(s=20),e.parts.title.on("mousedown",function(r){if(i={x:r.data.$.screenX,y:r.data.$.screenY},CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),o=e.getPosition(),CKEDITOR.env.ie6Compat){var s=T.getChild(0).getFrameDocument();s.on("mousemove",t),s.on("mouseup",n)}r.data.preventDefault()},e)}function u(e){function t(t){var n="rtl"==a.lang.dir,h=d.width,p=d.height,f=h+(t.data.$.screenX-i)*(n?-1:1)*(e._.moved?1:2),m=p+(t.data.$.screenY-o)*(e._.moved?1:2),g=e._.element.getFirst(),g=n&&g.getComputedStyle("right"),v=e.getPosition();v.y+m>u.height&&(m=u.height-v.y),(n?g:v.x)+f>u.width&&(f=u.width-(n?g:v.x)),s!=CKEDITOR.DIALOG_RESIZE_WIDTH&&s!=CKEDITOR.DIALOG_RESIZE_BOTH||(h=Math.max(r.minWidth||0,f-l)),s!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&s!=CKEDITOR.DIALOG_RESIZE_BOTH||(p=Math.max(r.minHeight||0,m-c)),e.resize(h,p),
e._.moved||e.layout(),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",t),h&&(h.remove(),h=null),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mouseup",n),e.removeListener("mousemove",t)}}var i,o,r=e.definition,s=r.resizable;if(s!=CKEDITOR.DIALOG_RESIZE_NONE){var a=e.getParentEditor(),l,c,u,d,h,p=CKEDITOR.tools.addFunction(function(r){d=e.getSize();var s=e.parts.contents;s.$.getElementsByTagName("iframe").length&&(h=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),s.append(h)),c=d.height-e.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),l=d.width-e.parts.contents.getSize("width",1),i=r.screenX,o=r.screenY,u=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&(s=T.getChild(0).getFrameDocument(),s.on("mousemove",t),s.on("mouseup",n)),r.preventDefault&&r.preventDefault()});e.on("load",function(){var t="";s==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":s==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+a.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+p+', event )">'+("ltr"==a.lang.dir?"":"")+"</div>"),e.parts.footer.append(t,1)}),a.on("destroy",function(){CKEDITOR.tools.removeFunction(p)})}}function d(e){e.data.preventDefault(1)}function h(e){var t=CKEDITOR.document.getWindow(),n=e.config,i=n.dialog_backgroundCoverColor||"white",o=n.dialog_backgroundCoverOpacity,r=n.baseFloatZIndex,n=CKEDITOR.tools.genKey(i,o,r),s=E[n];s?s.show():(r=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",r,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+i,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(i="<html><body style=\\'background-color:"+i+";\\'></body></html>",r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),r.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+i+"' );document.close();")+"})())"),r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),r.push("</div>"),s=CKEDITOR.dom.element.createFromHtml(r.join("")),s.setOpacity(void 0!==o?o:.5),s.on("keydown",d),s.on("keypress",d),s.on("keyup",d),s.appendTo(CKEDITOR.document.getBody()),E[n]=s),e.focusManager.add(s),T=s;var e=function(){var e=t.getViewPaneSize();s.setStyles({width:e.width+"px",height:e.height+"px"})},a=function(){var e=t.getScrollPosition(),n=CKEDITOR.dialog._.currentTop;if(s.setStyles({left:e.x+"px",top:e.y+"px"}),n)do e=n.getPosition(),n.move(e.x,e.y);while(n=n._.parentDialog)};if(_=e,t.on("resize",e),e(),(!CKEDITOR.env.mac||!CKEDITOR.env.webkit)&&s.focus(),CKEDITOR.env.ie6Compat){var l=function(){a(),arguments.callee.prevScrollHandler.apply(this,arguments)};t.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),a()}}function p(e){T&&(e.focusManager.remove(T),e=CKEDITOR.document.getWindow(),T.hide(),e.removeListener("resize",_),CKEDITOR.env.ie6Compat&&e.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),_=null)}var f=CKEDITOR.tools.cssLength,m='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(n,s){function a(){var e=T._.focusList;e.sort(function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex});for(var t=e.length,n=0;n<t;n++)e[n].focusIndex=n}function l(e){var t=T._.focusList,e=e||0;if(!(t.length<1)){var n=T._.currentFocusIndex;T._.tabBarMode&&e<0&&(n=0);try{t[n].getInputElement().$.blur()}catch(e){}var i=n,o=T._.pageCount>1;do{if(i+=e,o&&!T._.tabBarMode&&(i==t.length||i==-1))return T._.tabBarMode=!0,T._.tabs[T._.currentTabId][0].focus(),void(T._.currentFocusIndex=-1);if(i=(i+t.length)%t.length,i==n)break}while(e&&!t[i].isFocusable());t[i].focus(),"text"==t[i].type&&t[i].select()}}function d(i){if(T==CKEDITOR.dialog._.currentTop){var o=i.data.getKeystroke(),r="rtl"==n.lang.dir,s=[37,38,39,40];if(w=_=0,9==o||o==CKEDITOR.SHIFT+9)l(o==CKEDITOR.SHIFT+9?-1:1),w=1;else if(o==CKEDITOR.ALT+121&&!T._.tabBarMode&&T.getPageCount()>1)T._.tabBarMode=!0,T._.tabs[T._.currentTabId][0].focus(),T._.currentFocusIndex=-1,w=1;else if(CKEDITOR.tools.indexOf(s,o)!=-1&&T._.tabBarMode)o=CKEDITOR.tools.indexOf([r?39:37,38],o)!=-1?e.call(T):t.call(T),T.selectPage(o),T._.tabs[o][0].focus(),w=1;else if(13!=o&&32!=o||!T._.tabBarMode)if(13==o)o=i.data.getTarget(),o.is("a","button","select","textarea")||o.is("input")&&"button"==o.$.type||((o=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(o.click,0,o),w=1),_=1;else{if(27!=o)return;(o=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(o.click,0,o):this.fire("cancel",{hide:!0}).hide!==!1&&this.hide(),_=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),w=1;h(i)}}function h(e){w?e.data.preventDefault(1):_&&e.data.stopPropagation()}var p=CKEDITOR.dialog._.dialogDefinitions[s],f=CKEDITOR.tools.clone(g),m=n.config.dialog_buttonsOrder||"OS",v=n.lang.dir,b={},w,_;if(("OS"==m&&CKEDITOR.env.mac||"rtl"==m&&"ltr"==v||"ltr"==m&&"rtl"==v)&&f.buttons.reverse(),p=CKEDITOR.tools.extend(p(n),f),p=CKEDITOR.tools.clone(p),p=new y(this,p),f=r(n),this._={editor:n,element:f.element,name:s,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=f.parts,CKEDITOR.tools.setTimeout(function(){n.fire("ariaWidget",this.parts.contents)},0,this),f={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"},f["rtl"==v?"right":"left"]=0,this.parts.dialog.setStyles(f),CKEDITOR.event.call(this),this.definition=p=CKEDITOR.fire("dialogDefinition",{name:s,definition:p},n).definition,!("removeDialogTabs"in n._)&&n.config.removeDialogTabs){for(f=n.config.removeDialogTabs.split(";"),v=0;v<f.length;v++)if(m=f[v].split(":"),2==m.length){var E=m[0];b[E]||(b[E]=[]),b[E].push(m[1])}n._.removeDialogTabs=b}if(n._.removeDialogTabs&&(b=n._.removeDialogTabs[s]))for(v=0;v<b.length;v++)p.removeContents(b[v]);p.onLoad&&this.on("load",p.onLoad),p.onShow&&this.on("show",p.onShow),p.onHide&&this.on("hide",p.onHide),p.onOk&&this.on("ok",function(e){n.fire("saveSnapshot"),setTimeout(function(){n.fire("saveSnapshot")},0),p.onOk.call(this,e)===!1&&(e.data.hide=!1)}),p.onCancel&&this.on("cancel",function(e){p.onCancel.call(this,e)===!1&&(e.data.hide=!1)});var T=this,C=function(e){var t=T._.contents,n=!1,i;for(i in t)for(var o in t[i])if(n=e.call(this,t[i][o]))return};this.on("ok",function(e){C(function(t){if(t.validate){var n=t.validate(this),o="string"==typeof n||n===!1;return o&&(e.data.hide=!1,e.stop()),i.call(t,!o,"string"==typeof n?n:void 0),o}})},this,null,0),this.on("cancel",function(e){C(function(t){if(t.isChanged())return n.config.dialog_noConfirmCancel||confirm(n.lang.common.confirmCancel)||(e.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(e){this.fire("cancel",{hide:!0}).hide!==!1&&this.hide(),e.data.preventDefault()},this),this.changeFocus=l;var S=this._.element;for(n.focusManager.add(S,1),this.on("show",function(){S.on("keydown",d,this),CKEDITOR.env.gecko&&S.on("keypress",h,this)}),this.on("hide",function(){S.removeListener("keydown",d),CKEDITOR.env.gecko&&S.removeListener("keypress",h),C(function(e){o.apply(e)})}),this.on("iframeAdded",function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",d,this,null,0)}),this.on("show",function(){a();var e=T._.pageCount>1;n.config.dialog_startupFocusTab&&e?(T._.tabBarMode=!0,T._.tabs[T._.currentTabId][0].focus(),T._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=e?-1:this._.focusList.length-1,p.onFocus?(e=p.onFocus.call(this))&&e.focus():l(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)},this),c(this),u(this),new CKEDITOR.dom.text(p.title,CKEDITOR.document).appendTo(this.parts.title),v=0;v<p.contents.length;v++)(b=p.contents[v])&&this.addPage(b);for(this.parts.tabs.on("click",function(e){var t=e.data.getTarget();t.hasClass("cke_dialog_tab")&&(t=t.$.id,this.selectPage(t.substring(4,t.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),e.data.preventDefault())},this),v=[],b=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:p.buttons},v).getChild(),this.parts.footer.setHtml(v.join("")),v=0;v<b.length;v++)this._.buttons[b[v].id]=b[v]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(){return function(e,t){this._.contentSize&&this._.contentSize.width==e&&this._.contentSize.height==t||(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:e,height:t})}}(),getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,r="fixed"==i.getComputedStyle("position");CKEDITOR.env.ie&&i.setStyle("zoom","100%"),r&&this._.position&&this._.position.x==e&&this._.position.y==t||(this._.position={x:e,y:t},r||(r=CKEDITOR.document.getWindow().getScrollPosition(),e+=r.x,t+=r.y),o&&(r=this.getSize(),e=CKEDITOR.document.getWindow().getViewPaneSize().width-r.width-e),t={top:(t>0?t:0)+"px"},t[o?"right":"left"]=(e>0?e:0)+"px",i.setStyles(t),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;e.getParent()&&e.getParent().equals(CKEDITOR.document.getBody())?e.setStyle("display","block"):e.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex=CKEDITOR.dialog._.currentZIndex+10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,h(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),e.on("keydown",S),e.on("keyup",I),this._.hasFocus=!1;for(var n in t.contents)if(t.contents[n]){var e=t.contents[n],i=this._.tabs[e.id],o=e.requiredContent,r=0;if(i){for(var s in this._.contents[e.id]){var l=this._.contents[e.id][s];"hbox"!=l.type&&"vbox"!=l.type&&l.getInputElement()&&(l.requiredContent&&!this._.editor.activeFilter.check(l.requiredContent)?l.disable():(l.enable(),r++))}!r||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),a(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(e){e.setInitValue&&e.setInitValue()})},100,this)},layout:function(){var e=this.parts.dialog,t=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=(n.width-t.width)/2,o=(n.height-t.height)/2;CKEDITOR.env.ie6Compat||(t.height+(o>0?o:0)>n.height||t.width+(i>0?i:0)>n.width?e.setStyle("position","absolute"):e.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:i,this._.moved?this._.position.y:o)},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){return this.foreach(e),this}}(),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),D(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else p(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex=CKEDITOR.dialog._.currentZIndex-10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",S),e.removeListener("keyup",I);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(e){e.resetInitValue&&e.resetInitValue()})}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),o=this._.contents[e.id]={},r=i.getChild(),s=0;i=r.shift();)!i.notAllowed&&"hbox"!=i.type&&"vbox"!=i.type&&s++,o[i.id]=i,"function"==typeof i.getChild&&r.push.apply(r,i.getChild());s||(e.hidden=!0),t=CKEDITOR.dom.element.createFromHtml(t.join("")),t.setAttribute("role","tabpanel"),i=CKEDITOR.env,o="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',this._.pageCount>0?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",o),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(O(this,this,"CTRL+"+e.accessKey,k,x),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&this.fire("selectPage",{page:e,currentPage:this._.currentTabId})!==!1){for(var t in this._.tabs){var i=this._.tabs[t][0],o=this._.tabs[t][1];t!=e&&(i.removeClass("cke_dialog_tab_selected"),o.hide()),o.setAttribute("aria-hidden",t!=e)}var r=this._.tabs[e];r[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(n(r[1]),r[1].show(),setTimeout(function(){n(r[1],1)},0)):r[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if("undefined"==typeof t)t=this._.focusList.length,this._.focusList.push(new s(this,e,t));else{this._.focusList.splice(t,0,new s(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return e=e.config.removeDialogTabs,!(e&&e.match(RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(e){e=e.data.dialog,e.fire("ok",{hide:!0}).hide!==!1&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),cancelButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(e){e=e.data.dialog,e.fire("cancel",{hide:!0}).hide!==!1&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var g={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},v=function(e,t,n){for(var i=0,o;o=e[i];i++){if(o.id==t)return o;if(n&&o[n]&&(o=v(o[n],t,n)))return o}return null},b=function(e,t,n,i,o){if(n){for(var r=0,s;s=e[r];r++){if(s.id==n)return e.splice(r,0,t),t;if(i&&s[i]&&(s=b(s[i],t,n,i,!0)))return s}if(o)return null}return e.push(t),t},w=function(e,t,n){for(var i=0,o;o=e[i];i++){if(o.id==t)return e.splice(i,1);if(n&&o[n]&&(o=w(o[n],t,n)))return o}return null},y=function(e,t){this.dialog=e;for(var n=t.contents,i=0,o;o=n[i];i++)n[i]=o&&new l(e,o);CKEDITOR.tools.extend(this,t)};y.prototype={getContents:function(e){return v(this.contents,e)},getButton:function(e){return v(this.buttons,e)},addContents:function(e,t){return b(this.contents,e,t)},addButton:function(e,t){return b(this.buttons,e,t)},removeContents:function(e){w(this.contents,e)},removeButton:function(e){w(this.buttons,e)}},l.prototype={get:function(e){return v(this.elements,e,"children")},add:function(e,t){return b(this.elements,e,t,"children")},remove:function(e){w(this.elements,e,"children")}};var _,E={},T,C={},S=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=C[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&(t=t[t.length-1],t.keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},I=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=C[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&(t=t[t.length-1],t.keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault()))},O=function(e,t,n,i,o){(C[n]||(C[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:o||e.accessKeyUp,keydown:i||e.accessKeyDown})},D=function(e){for(var t in C){for(var n=C[t],i=n.length-1;i>=0;i--)(n[i].dialog==e||n[i].uiElement==e)&&n.splice(i,1);0===n.length&&delete C[t]}},x=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},k=function(){};!function(){CKEDITOR.ui.dialog={uiElement:function(e,t,n,i,o,r,s){if(!(arguments.length<4)){var a=(i.call?i(t):i)||"div",l=["<",a," "],c=(o&&o.call?o(t):o)||{},u=(r&&r.call?r(t):r)||{},d=(s&&s.call?s.call(this,e,t):s)||"",h=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=h;var p={};t.type&&(p["cke_dialog_ui_"+t.type]=1),t.className&&(p[t.className]=1),t.disabled&&(p.cke_disabled=1);for(var f=u.class&&u.class.split?u.class.split(" "):[],h=0;h<f.length;h++)f[h]&&(p[f[h]]=1);f=[];for(h in p)f.push(h);u.class=f.join(" "),t.title&&(u.title=t.title),p=(t.style||"").split(";"),t.align&&(f=t.align,c["margin-left"]="left"==f?0:"auto",c["margin-right"]="right"==f?0:"auto");for(h in c)p.push(h+":"+c[h]);for(t.hidden&&p.push("display:none"),h=p.length-1;h>=0;h--)""===p[h]&&p.splice(h,1);p.length>0&&(u.style=(u.style?u.style+"; ":"")+p.join("; "));for(h in u)l.push(h+'="'+CKEDITOR.tools.htmlEncode(u[h])+'" ');l.push(">",d,"</",a,">"),n.push(l.join("")),(this._||(this._={})).dialog=e,"boolean"==typeof t.isChanged&&(this.isChanged=function(){return t.isChanged}),"function"==typeof t.isChanged&&(this.isChanged=t.isChanged),"function"==typeof t.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(n){e.call(this,t.setValue.call(this,n))}})),"function"==typeof t.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(e){return function(){return t.getValue.call(this,e.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(t),this.accessKeyUp&&this.accessKeyDown&&t.accessKey&&O(this,e,"CTRL+"+t.accessKey);var m=this;e.on("load",function(){var t=m.getInputElement();if(t){var n=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){e._.tabBarMode=!1,e._.hasFocus=!0,m.fire("focus"),n&&this.addClass(n)}),t.on("blur",function(){m.fire("blur"),n&&this.removeClass(n)})}}),CKEDITOR.tools.extend(this,t),this.keyboardFocusable&&(this.tabIndex=t.tabIndex||0,this.focusIndex=e._.focusList.push(this)-1,this.on("focus",function(){e._.currentFocusIndex=m.focusIndex}))}},hbox:function(e,t,n,i,o){if(!(arguments.length<4)){this._||(this._={});var r=this._.children=t,s=o&&o.widths||null,a=o&&o.height||null,l,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"hbox"},i,"table",{},c,function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(l=0;l<n.length;l++){var t="cke_dialog_ui_hbox_child",i=[];0===l&&(t="cke_dialog_ui_hbox_first"),l==n.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),s?s[l]&&i.push("width:"+f(s[l])):i.push("width:"+Math.floor(100/n.length)+"%"),a&&i.push("height:"+f(a)),o&&void 0!==o.padding&&i.push("padding:"+f(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[l].align&&i.push("text-align:"+r[l].align),i.length>0&&e.push('style="'+i.join("; ")+'" '),e.push(">",n[l],"</td>")}return e.push("</tr></tbody>"),e.join("")})}},vbox:function(e,t,n,i,o){if(!(arguments.length<3)){this._||(this._={});var r=this._.children=t,s=o&&o.width||null,a=o&&o.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"vbox"},i,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),o&&o.expand&&t.push("height:100%;"),t.push("width:"+f(s||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(o&&o.align||("ltr"==e.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var i=0;i<n.length;i++){var l=[];t.push('<tr><td role="presentation" '),s&&l.push("width:"+f(s||"100%")),a?l.push("height:"+f(a[i])):o&&o.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),o&&void 0!==o.padding&&l.push("padding:"+f(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[i].align&&l.push("text-align:"+r[i].align),l.length>0&&t.push('style="',l.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',n[i],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}}}(),CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&e.$.className.search("cke_dialog_page_contents")==-1;);return e?(e=e.getAttribute("name"),this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t=/^on([A-Z]\w+)/,n,i=function(e,t,n,i){t.on("load",function(){e.getInputElement().on(n,i,e)})},o;for(o in e)(n=o.match(t))&&(this.eventProcessors[o]?this.eventProcessors[o].call(this,this._.dialog,e[o]):i(this,this._.dialog,n[1].toLowerCase(),e[o]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return arguments.length<1?this._.children.concat():(e.splice||(e=[e]),e.length<2?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var e={build:function(e,t,n){for(var i=t.children,o,r=[],s=[],a=0;a<i.length&&(o=i[a]);a++){var l=[];r.push(l),s.push(CKEDITOR.dialog._.uiElementBuilders[o.type].build(e,o,l))}return new CKEDITOR.ui.dialog[t.type](e,s,r,n,t)}};CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e)}(),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){e.openDialog(this.dialogName)},canUndo:!1,editorFocus:1},function(){var e=/^([a]|[^a])+$/,t=/^\d*$/,n=/^\d*(?:\.\d+)?$/,i=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,o=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,r=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(){var t=this&&this.getValue?this.getValue():e[0],n,i=CKEDITOR.VALIDATE_AND,o=[],r;for(r=0;r<e.length&&"function"==typeof e[r];r++)o.push(e[r]);r<e.length&&"string"==typeof e[r]&&(n=e[r],r++),r<e.length&&"number"==typeof e[r]&&(i=e[r]);var s=i==CKEDITOR.VALIDATE_AND;for(r=0;r<o.length;r++)s=i==CKEDITOR.VALIDATE_AND?s&&o[r](t):s||o[r](t);return!!s||n}},regex:function(e,t){return function(n){return n=this&&this.getValue?this.getValue():n,!!e.test(n)||t}},notEmpty:function(t){return this.regex(e,t)},integer:function(e){return this.regex(t,e)},number:function(e){return this.regex(n,e)},cssLength:function(e){return this.functions(function(e){return o.test(CKEDITOR.tools.trim(e))},e)},htmlLength:function(e){return this.functions(function(e){return i.test(CKEDITOR.tools.trim(e))},e)},inlineStyle:function(e){return this.functions(function(e){return r.test(CKEDITOR.tools.trim(e))},e)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in E)E[n].remove();E={}}var e=e.editor._.storedDialogs,i;for(i in e)e[i].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t){var n=null,i=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&h(this),"function"==typeof i)n=this._.storedDialogs||(this._.storedDialogs={}),n=n[e]||(n[e]=new CKEDITOR.dialog(this,e)),t&&t.call(n,n),n.show();else{if("failed"==i)throw p(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof i&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var n=e.langCode,n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){e.lang.a11yhelp=t.langEntries[n],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){
t.data.label=e.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1},t.canUndo=!1,t.readOnly=1,e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.title,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,n=function(n,o,r,s){if(s){var s=new CKEDITOR.style(s),a=i[r];a.unshift(s),e.attachStyleStateChange(s,function(t){!e.readOnly&&e.getCommand(r).setState(t)}),e.addCommand(r,new CKEDITOR.styleCommand(s,{contentForms:a})),e.ui.addButton&&e.ui.addButton(n,{label:o,command:r,toolbar:"basicstyles,"+(t+=10)})}},i={bold:["strong","b",["span",function(e){return e=e.styles["font-weight"],"bold"==e||+e>=700}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},o=e.config,r=e.lang.basicstyles;n("Bold",r.bold,"bold",o.coreStyles_bold),n("Italic",r.italic,"italic",o.coreStyles_italic),n("Underline",r.underline,"underline",o.coreStyles_underline),n("Strike",r.strike,"strike",o.coreStyles_strike),n("Subscript",r.subscript,"subscript",o.coreStyles_subscript),n("Superscript",r.superscript,"superscript",o.coreStyles_superscript),e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var e={exec:function(e){var t=e.getCommand("blockquote").state,n=e.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var r=o[0].startNode,s=o[0].endNode,a;if(r&&"blockquote"==r.getParent().getName())for(a=r;a=a.getNext();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){r.move(a,!0);break}if(s&&"blockquote"==s.getParent().getName())for(a=s;a=a.getPrevious();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){s.move(a);break}}var l=i.createIterator();if(l.enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR,t==CKEDITOR.TRISTATE_OFF){for(r=[];t=l.getNextParagraph();)r.push(t);for(r.length<1&&(t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(t),t.append(new CKEDITOR.dom.text("\ufeff",e.document)),i.moveToBookmark(s),i.selectNodeContents(t),i.collapse(!0),s=i.createBookmark(),r.push(t),o.unshift(s)),a=r[0].getParent(),i=[],s=0;s<r.length;s++)t=r[s],a=a.getCommonAncestor(t.getParent());for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[a.getName()];)a=a.getParent();for(s=null;r.length>0;){for(t=r.shift();!t.getParent().equals(a);)t=t.getParent();t.equals(s)||i.push(t),s=t}for(;i.length>0;)if(t=i.shift(),"blockquote"==t.getName()){for(s=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();)s.append(t.getFirst().remove()),r.push(s.getLast());s.replace(t)}else r.push(t);for(i=e.document.createElement("blockquote"),i.insertBefore(r[0]);r.length>0;)t=r.shift(),i.append(t)}else if(t==CKEDITOR.TRISTATE_ON){for(s=[],a={};t=l.getNextParagraph();){for(r=i=null;t.getParent();){if("blockquote"==t.getParent().getName()){i=t.getParent(),r=t;break}t=t.getParent()}i&&r&&!r.getCustomData("blockquote_moveout")&&(s.push(r),CKEDITOR.dom.element.setMarker(a,r,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(a),t=[],r=[],a={};s.length>0;)l=s.shift(),i=l.getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),r.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(r.push(i),CKEDITOR.dom.element.setMarker(a,i,"blockquote_processed",!0)),t.push(l);for(CKEDITOR.dom.element.clearAllMarkers(a),s=r.length-1;s>=0;s--){i=r[s];e:{a=i;for(var l=0,c=a.getChildCount(),u=void 0;l<c&&(u=a.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){a=!1;break e}a=!0}a&&i.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;t.length;)if(l=t.shift(),"div"==l.getName()){for(s=new CKEDITOR.dom.documentFragment(e.document),i&&l.getPrevious()&&!(l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary())&&s.append(e.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(e.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",e),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function e(e){function t(){var t=e.editable();t.on(b,function(e){(!CKEDITOR.env.ie||!m)&&h(e)}),CKEDITOR.env.ie&&t.on("paste",function(t){g||(o(),t.data.preventDefault(),h(t),s("paste")||e.openDialog("paste"))}),CKEDITOR.env.ie&&(t.on("contextmenu",r,null,null,0),t.on("beforepaste",function(e){e.data&&!e.data.$.ctrlKey&&!e.data.$.shiftKey&&r()},null,null,0)),t.on("beforecut",function(){!m&&l(e)});var n;t.attachListener(CKEDITOR.env.ie?t:e.document.getDocumentElement(),"mouseup",function(){n=setTimeout(function(){p()},0)}),e.on("destroy",function(){clearTimeout(n)}),t.on("keyup",p)}function n(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,exec:function(){"cut"==this.type&&l();var t,n=this.type;if(CKEDITOR.env.ie)t=s(n);else try{t=e.document.$.execCommand(n,!1,null)}catch(e){t=!1}return t||alert(e.lang.clipboard[this.type+"Error"]),t}}}function i(){return{canUndo:!1,async:!0,exec:function(e,t){var n=function(t,n){t&&a(t.type,t.dataValue,!!n),e.fire("afterCommandExec",{name:"paste",command:i,returnValue:!!t})},i=this;"string"==typeof t?n({type:"auto",dataValue:t},1):e.getClipboardData(n)}}}function o(){g=1,setTimeout(function(){g=0},100)}function r(){m=1,setTimeout(function(){m=0},10)}function s(t){var n=e.document,i=n.getBody(),o=!1,r=function(){o=!0};return i.on(t,r),(CKEDITOR.env.version>7?n.$:n.$.selection.createRange()).execCommand(t),i.removeListener(t,r),o}function a(t,n,i){return t={type:t},!(i&&e.fire("beforePaste",t)===!1||!n)&&(t.dataValue=n,e.fire("paste",t))}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t=e.getSelection(),n,i,o;t.getType()==CKEDITOR.SELECTION_ELEMENT&&(n=t.getSelectedElement())&&(i=t.getRanges()[0],o=e.document.createText(""),o.insertBefore(n),i.setStartBefore(o),i.setEndAfter(n),t.selectRanges([i]),setTimeout(function(){n.getParent()&&(o.remove(),t.selectElement(n))},0))}}function c(t,n){var i=e.document,o=e.editable(),r=function(e){e.cancel()},s;if(!i.getById("cke_pastebin")){var a=e.getSelection(),l=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var c=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);c.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var u=0,i=i.getWindow();CKEDITOR.env.webkit?(o.append(c),c.addClass("cke_editable"),o.is("body")||(u="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent),u=u.getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(c),c.setStyles({position:"absolute",top:i.getScrollPosition().y-u+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(u=c.getParent().isReadOnly())?(c.setOpacity(0),c.setAttribute("contenteditable",!0)):c.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-1000px"),e.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(s=o.once("blur",r,null,null,-100)),u&&c.focus(),u=new CKEDITOR.dom.range(c),u.selectNodeContents(c);var d=u.select();CKEDITOR.env.ie&&(s=o.once("blur",function(){e.lockSelection(d)}));var h=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=h),s&&s.removeListener(),CKEDITOR.env.ie&&o.focus(),a.selectBookmarks(l),c.remove();var t;CKEDITOR.env.webkit&&(t=c.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(c=t),e.removeListener("selectionChange",r),n(c.getHtml())},0)}}function u(){if(CKEDITOR.env.ie){e.focus(),o();var t=e.focusManager;if(t.lock(),e.editable().fire(b)&&!s("paste"))return t.unlock(),!1;t.unlock()}else try{if(e.editable().fire(b)&&!e.document.$.execCommand("Paste",!1,null))throw 0}catch(e){return!1}return!0}function d(t){if("wysiwyg"==e.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=e.editable(),o(),!CKEDITOR.env.ie&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:e.fire("saveSnapshot"),setTimeout(function(){e.fire("saveSnapshot")},50)}}function h(t){var n={type:"auto"},i=e.fire("beforePaste",n);c(t,function(e){e=e.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),i&&a(n.type,e,0,1)})}function p(){if("wysiwyg"==e.mode){var t=f("paste");e.getCommand("cut").setState(f("cut")),e.getCommand("copy").setState(f("copy")),e.getCommand("paste").setState(t),e.fire("pasteState",t)}}function f(t){if(v&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;var t=e.getSelection(),n=t.getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var m=0,g=0,v=0,b=CKEDITOR.env.ie?"beforepaste":"paste";!function(){e.on("key",d),e.on("contentDom",t),e.on("selectionChange",function(e){v=e.data.selection.getRanges()[0].checkReadOnly(),p()}),e.contextMenu&&e.contextMenu.addListener(function(e,t){return v=t.getRanges()[0].checkReadOnly(),{cut:f("cut"),copy:f("copy"),paste:f("paste")}})}(),function(){function t(t,n,i,o,r){var s=e.lang.clipboard[n];e.addCommand(n,i),e.ui.addButton&&e.ui.addButton(t,{label:s,command:n,toolbar:"clipboard,"+o}),e.addMenuItems&&e.addMenuItem(n,{label:s,command:n,group:"clipboard",order:r})}t("Cut","cut",n("cut"),10,1),t("Copy","copy",n("copy"),20,4),t("Paste","paste",i(),30,8)}(),e.getClipboardData=function(t,n){function i(e){e.removeListener(),e.cancel(),n(e.data)}function o(e){e.removeListener(),e.cancel(),l=!0,n({type:a,dataValue:e.data})}function r(){this.customTitle=t&&t.title}var s=!1,a="auto",l=!1;n||(n=t,t=null),e.on("paste",i,null,null,0),e.on("beforePaste",function(e){e.removeListener(),s=!0,a=e.data.type},null,null,1e3),u()===!1&&(e.removeListener("paste",i),s&&e.fire("pasteDialog",r)?(e.on("pasteDialogCommit",o),e.on("dialogHide",function(e){e.removeListener(),e.data.removeListener("pasteDialogCommit",o),setTimeout(function(){l||n(null)},10)})):n(null))}}function t(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function n(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(e%2==1?"<br>":"")}return t=t.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>"),t=t.replace(/<\/?[A-Z]+>/g,function(e){return e.toLowerCase()}),t.match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&t.indexOf("<div>")>-1&&(t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),t.match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,function(e){return n(e.split("</div><div>").length+1)})+"</p>"),t=t.replace(/<\/div><div>/g,"<br>"),t=t.replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),t.indexOf("<br><br>")>-1&&(t="<p>"+t.replace(/(<br>){2,}/g,function(e){return n(e.length/4)})+"</p>")),r(e,t))}function i(){var e=new CKEDITOR.htmlParser.filter,t={blockquote:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,p:1,table:1,ul:1},n=CKEDITOR.tools.extend({br:0},CKEDITOR.dtd.$inline),i={p:1,br:1,"cke:br":1},o=CKEDITOR.dtd,r=CKEDITOR.tools.extend({area:1,basefont:1,embed:1,iframe:1,map:1,object:1,param:1},CKEDITOR.dtd.$nonBodyContent,CKEDITOR.dtd.$cdata),s=function(e){delete e.name,e.add(new CKEDITOR.htmlParser.text(" "))},a=function(e){for(var t=e,n;(t=t.next)&&t.name&&t.name.match(/^h\d$/);)for(n=new CKEDITOR.htmlParser.element("cke:br"),n.isEmpty=!0,e.add(n);n=t.children.shift();)e.add(n)};return e.addRules({elements:{h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,img:function(e){var e=CKEDITOR.tools.trim(e.attributes.alt||""),t=" ";return e&&!e.match(/(^http|\.(jpe?g|gif|png))/i)&&(t=" ["+e+"] "),new CKEDITOR.htmlParser.text(t)},td:s,th:s,$:function(e){var s=e.name,a;if(r[s])return!1;if(e.attributes={},"br"==s)return e;if(t[s])e.name="p";else if(n[s])delete e.name;else if(o[s]){if(a=new CKEDITOR.htmlParser.element("cke:br"),a.isEmpty=!0,CKEDITOR.dtd.$empty[s])return a;e.add(a,0),a=a.clone(),a.isEmpty=!0,e.add(a),delete e.name}return i[e.name]||delete e.name,e}}},{applyToAll:!0}),e}function o(e,t,n){var t=new CKEDITOR.htmlParser.fragment.fromHtml(t),i=new CKEDITOR.htmlParser.basicWriter;t.writeHtml(i,n);var t=i.getHtml(),t=t.replace(/\s*(<\/?[a-z:]+ ?\/?>)\s*/g,"$1").replace(/(<cke:br \/>){2,}/g,"<cke:br />").replace(/(<cke:br \/>)(<\/?p>|<br \/>)/g,"$2").replace(/(<\/?p>|<br \/>)(<cke:br \/>)/g,"$1").replace(/<(cke:)?br( \/)?>/g,"<br>").replace(/<p><\/p>/g,""),o=0,t=t.replace(/<\/?p>/g,function(e){if("<p>"==e){if(++o>1)return"</p><p>"}else if(--o>0)return"</p><p>";return e}).replace(/<p><\/p>/g,"");return r(e,t)}function r(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)}).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(r){var s;e(r),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),r.on("paste",function(e){var t=e.data.dataValue,n=CKEDITOR.dtd.$block;if(t.indexOf("Apple-")>-1&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=e.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),t.indexOf('<br class="Apple-interchange-newline">')>-1&&(e.data.startsWithEOL=1,e.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var i,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(t);1==r.getChildCount()&&(i=r.getFirst())&&i.type==CKEDITOR.NODE_ELEMENT&&(i.hasClass("cke_editable")||i.hasClass("cke_contents"));)r=o=i;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,i){return i.toLowerCase()in n?(e.data.preSniffing="html","<"+i):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,i){return i in n?(e.data.endsWithEOL=1,"</"+i+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),e.data.dataValue=t},null,null,3),r.on("paste",function(e){var e=e.data,a=e.type,l=e.dataValue,c,u=r.config.clipboard_defaultContentType||"html";c="html"==a||"html"==e.preSniffing?"html":t(l),"htmlifiedtext"==c?l=n(r.config,l):"text"==a&&"html"==c&&(l=o(r.config,l,s||(s=i(r)))),e.startsWithEOL&&(l='<br data-cke-eol="1">'+l),e.endsWithEOL&&(l+='<br data-cke-eol="1">'),"auto"==a&&(a="html"==c||"html"==u?"html":"text"),e.type=a,e.dataValue=l,delete e.preSniffing,delete e.startsWithEOL,delete e.endsWithEOL},null,null,6),r.on("paste",function(e){e=e.data,r.insertHtml(e.dataValue,e.type),setTimeout(function(){r.fire("afterPaste")},0)},null,null,1e3),r.on("pasteDialog",function(e){setTimeout(function(){r.openDialog("paste",e.data)},0)})}})}(),function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(i,o){this.getHolderElement=function(){var e=this._.holder;if(!e){if(this.isFramed){var e=this.document.getById(this.id+"_frame"),t=e.getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},r))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&this._.onKeyDown(t)===!1?e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&this.onEscape(t)===!1&&e.data.preventDefault()},this),e=e.getBody(),e.unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e};var r={editorId:i.id,id:this.id,langCode:i.langCode,dir:i.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":i.config.baseFloatZIndex+1};if(this.isFramed){var s=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";r.frame=t.output({id:this.id+"_frame",src:s})}return s=e.output(r),o&&o.push(s),s},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){var e=this._.blocks[e],t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){e!=-1&&(e=this.element.getElementsByTag("a").getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){(!this.onHide||this.onHide.call(this)!==!0)&&this.element.setStyle("display","none")},onKeyDown:function(e,t){var n=this.keys[e];switch(n){case"next":for(var i=this._.focusIndex,n=this.element.getElementsByTag("a"),o;o=n.getItem(++i);)if(o.getAttribute("_cke_focus")&&o.$.offsetWidth){this._.focusIndex=i,o.focus();break}return!o&&!t&&(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(i=this._.focusIndex,n=this.element.getElementsByTag("a");i>0&&(o=n.getItem(--i));){if(o.getAttribute("_cke_focus")&&o.$.offsetWidth){this._.focusIndex=i,o.focus();break}o=null}return!o&&!t&&(this._.focusIndex=n.count(),this.onKeyDown(e,1));case"click":case"mouseup":return i=this._.focusIndex,(o=i>=0&&this.element.getElementsByTag("a").getItem(i))&&(o.$[n]?o.$[n]():o.$["on"+n]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function e(e,n,i,o,r){var r=CKEDITOR.tools.genKey(n.getUniqueId(),i.getUniqueId(),e.lang.dir,e.uiColor||"",o.css||"",r||""),s=t[r];return s||(s=t[r]=new CKEDITOR.ui.panel(n,o),s.element=i.append(CKEDITOR.dom.element.createFromHtml(s.render(e),n)),s.element.setStyles({display:"none",position:"absolute"})),s}var t={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,n,i,o){function r(){c.hide()}i.forceIFrame=1,i.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+t.name));var s=n.getDocument(),o=e(t,s,n,i,o||0),a=o.element,l=a.getFirst(),c=this;a.disableContextMenu(),this.element=a,this._={editor:t,panel:o,parentElement:n,definition:i,document:s,iframe:l,children:[],dir:t.lang.dir},t.on("mode",r),t.on("resize",r),CKEDITOR.env.iOS||s.getWindow().on("resize",r)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,i,o,r){var s=this._.panel,a=s.showBlock(e);this.allowBlur(!1),e=this._.editor.editable(),this._.returnFocus=e.hasFocus?e:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var l=this.element,e=this._.iframe,e=CKEDITOR.env.ie?e:new CKEDITOR.dom.window(e.$.contentWindow),c=l.getDocument(),u=this._.parentElement.getPositionedAncestor(),d=t.getDocumentPosition(c),c=u?u.getDocumentPosition(c):{x:0,y:0},h="rtl"==this._.dir,p=d.x+(i||0)-c.x,f=d.y+(o||0)-c.y;!h||1!=n&&4!=n?h||2!=n&&3!=n||(p+=t.$.offsetWidth-1):p+=t.$.offsetWidth,3!=n&&4!=n||(f+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),l.setStyles({top:f+"px",left:0,display:""}),l.setOpacity(0),l.getFirst().removeStyle("width"),this._.editor.focusManager.add(e),this._.blurSet||(CKEDITOR.event.useCapture=!0,e.on("blur",function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))},this),e.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(e.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),e.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),s.onEscape=CKEDITOR.tools.bind(function(e){if(this.onEscape&&this.onEscape(e)===!1)return!1},this),CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.tools.bind(function(){if(l.removeStyle("width"),a.autoSize){var e=a.element.getDocument(),e=(CKEDITOR.env.webkit?a.element:e.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e>0&&(e+=(l.$.offsetWidth||0)-(l.$.clientWidth||0)+3),l.setStyle("width",e+10+"px"),e=a.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e>0&&(e+=(l.$.offsetHeight||0)-(l.$.clientHeight||0)+3),l.setStyle("height",e+"px"),s._.currentBlock.element.setStyle("display","none").removeStyle("display")}else l.removeStyle("height");h&&(p-=l.$.offsetWidth),l.setStyle("left",p+"px");var t=s.element.getWindow(),e=l.$.getBoundingClientRect(),t=t.getViewPaneSize(),n=e.width||e.right-e.left,i=e.height||e.bottom-e.top,o=h?e.right:t.width-e.left,c=h?t.width-e.right:e.left;h?o<n&&(p=c>n?p+n:t.width>n?p-e.left:p-e.right+t.width):o<n&&(p=c>n?p-n:t.width>n?p-e.right+t.width:p-e.left),n=e.top,t.height-e.top<i&&(f=n>i?f-i:t.height>i?f-e.bottom+t.height:f-e.top),CKEDITOR.env.ie&&(t=e=new CKEDITOR.dom.element(l.$.offsetParent),"html"==t.getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*l.getDocument().getDocumentElement().$.scrollLeft:p-(e.$.scrollWidth-e.$.clientWidth)));var e=l.getFirst(),u;(u=e.getCustomData("activePanel"))&&u.onHide&&u.onHide.call(this,1),e.setCustomData("activePanel",this),l.setStyles({top:f+"px",left:p+"px"}),l.setOpacity(1),r&&r()},this);s.isLoaded?e():s.onLoad=e,CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),a.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&this.onHide.call(this)===!0||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,i,o,r){this._.activeChild==e&&e._.panel._.offsetParentId==n.getId()||(this.hideChild(),e.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){e.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var e=CKEDITOR.tools.isEmpty(CKEDITOR.instances),n;for(n in t){var i=t[n];e?i.destroy():i.element.hide()}e&&(t={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},i=e._.menuItems={},o=0;o<t.length;o++)n[t[o]]=o+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(i[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return i[e]},e.removeMenuItem=function(e){delete i[e]}}}),function(){function e(e){e.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),n=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),i=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](t,e,n);if(r)for(var s in r){var a=this.editor.getMenuItem(s);!a||a.command&&!this.editor.getCommand(a.command).state||(a.state=r[s],this.add(a))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){t?t.removeAll():(t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),t.parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var i in n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],t.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+(""+e));setTimeout(function(){t.show(r,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(t,n,i,o){if(this.parent||(this._.onShow(),this.items.length)){var n=n||("rtl"==this.editor.lang.dir?2:1),r=this.items,s=this.editor,a=this._.panel,l=this._.element;if(!a){a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level),a.onEscape=CKEDITOR.tools.bind(function(e){if(this._.onEscape(e)===!1)return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),l=a.addBlock(this.id,this._.panelDefinition.block),l.autoSize=!0;var c=l.keys;c[40]="next",c[9]="next",c[38]="prev",c[CKEDITOR.SHIFT+9]="prev",c["rtl"==s.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",c[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(c[13]="mouseup"),l=this._.element=l.element,c=l.getDocument(),c.getBody().setStyle("overflow","hidden"),c.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,s.config.menu_subMenuDelay||400,this,[e])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)},this)}e(r);for(var c=s.elementPath(),c=['<div class="cke_menu'+(c&&c.direction()!=s.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],u=r.length,d=u&&r[0].group,h=0;h<u;h++){
var p=r[h];d!=p.group&&(c.push('<div class="cke_menuseparator" role="separator"></div>'),d=p.group),p.render(this,h,c)}c.push("</div>"),l.setHtml(c.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,t,n,i,o):a.showBlock(this.id,t,n,i,o),s.fire("menuShow",[a])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,t,o){var r=e.id+(""+t),s="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,a="",l=s==CKEDITOR.TRISTATE_ON?"on":s==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(a=' aria-checked="'+(s==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var c=this.getItems,u="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",d=this.name;this.icon&&!/\./.test(this.icon)&&(d=this.icon),e={id:r,name:this.name,iconName:d,label:this.label,cls:this.className||"",state:l,hasPopup:c?"true":"false",disabled:s==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(d,"rtl"==this.editor.lang.dir,d==this.icon?null:this.icon,this.iconOffset),arrowHtml:c?i.output({label:u}):"",role:this.role?this.role:"menuitem",ariaChecked:a},n.output(e,o)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){if(e.on("contextmenu",function(e){var e=e.data,i=CKEDITOR.env.webkit?n:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!t||!i){if(e.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){var i=this.editor,o=new CKEDITOR.dom.elementPath(e.getTarget(),i.editable()).contains(function(e){return e.hasAttribute("contenteditable")},!0);o&&"false"==o.getAttribute("contenteditable")&&i.getSelection().fake(o)}var o=e.getTarget().getDocument(),r=e.getTarget().getDocument().getDocumentElement(),i=!o.equals(CKEDITOR.document),o=o.getWindow().getScrollPosition(),s=i?e.$.clientX:e.$.pageX||o.x+e.$.clientX,a=i?e.$.clientY:e.$.pageY||o.y+e.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(r,null,s,a)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var n,i=function(){n=0};e.on("keydown",function(e){n=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey}),e.on("keyup",i),e.on("contextmenu",i)}},open:function(e,t,n,i){this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,i)}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",function(){t.addTarget(e.editable(),e.config.browserContextMenuOnCtrl!==!1)}),e.addCommand("contextMenu",{exec:function(){e.contextMenu.open(e.document.getBody())}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function e(e,i){function r(t){if(t=c.list[t],t.equals(e.editable())||"true"==t.getAttribute("contenteditable")){var n=e.createRange();n.selectNodeContents(t),n.select()}else e.getSelection().selectElement(t);e.focus()}function s(){l&&l.setHtml(n),delete c.list}var a=e.ui.spaceId("path"),l,c=e._.elementsPath,u=c.idBase;i.html=i.html+('<span id="'+a+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+a+'" class="cke_path" role="group" aria-labelledby="'+a+'_label">'+n+"</span>"),e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)}),c.onClick=r;var d=CKEDITOR.tools.addFunction(r),h=CKEDITOR.tools.addFunction(function(t,n){var i=c.idBase,o,n=new CKEDITOR.dom.event(n);switch(o="rtl"==e.lang.dir,n.getKeystroke()){case o?39:37:case 9:return(o=CKEDITOR.document.getById(i+(t+1)))||(o=CKEDITOR.document.getById(i+"0")),o.focus(),!1;case o?37:39:case CKEDITOR.SHIFT+9:return(o=CKEDITOR.document.getById(i+(t-1)))||(o=CKEDITOR.document.getById(i+(c.list.length-1))),o.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return r(t),!1}return!0});e.on("selectionChange",function(){for(var t=[],i=c.list=[],r=[],s=c.filters,p=!0,f=e.elementPath().elements,m,g=f.length;g--;){var v=f[g],b=0;m=v.data("cke-display-name")?v.data("cke-display-name"):v.data("cke-real-element-type")?v.data("cke-real-element-type"):v.getName(),p=v.hasAttribute("contenteditable")?"true"==v.getAttribute("contenteditable"):p,!p&&!v.hasAttribute("contenteditable")&&(b=1);for(var w=0;w<s.length;w++){var y=s[w](v,m);if(y===!1){b=1;break}m=y||m}b||(i.unshift(v),r.unshift(m))}for(i=i.length,s=0;s<i;s++)m=r[s],p=e.lang.elementspath.eleTitle.replace(/%1/,m),m=o.output({id:u+s,label:p,text:m,jsTitle:"javascript:void('"+m+"')",index:s,keyDownFn:h,clickFn:d}),t.unshift(m);l||(l=CKEDITOR.document.getById(a)),r=l,r.setHtml(t.join("")+n),e.fire("elementsPathUpdate",{space:r})}),e.on("readOnly",s),e.on("contentDomUnload",s),e.addCommand("elementsPathFocus",t),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t;t={editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}};var n='<span class="cke_path_empty">&nbsp;</span>',i="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(i+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(i+=' onblur="this.style.cssText = this.style.cssText;"');var o=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+i+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(n){"bottom"==n.data.space&&e(t,n.data)})}})}(),function(){function e(e,i){var o,r;i.on("refresh",function(e){var i=[t],o;for(o in e.data.states)i.push(e.data.states[o]);this.setState(CKEDITOR.tools.search(i,n)?n:t)},i,null,100),i.on("exec",function(t){o=e.getSelection(),r=o.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},i,null,0),i.on("exec",function(){e.forceNextSelectionCheck(),o.selectBookmarks(r)},i,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var n=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new n(!0))),e(t,t.addCommand("outdent",new n)),t.ui.addButton&&(t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),t.on("dirChanged",function(e){var n=t.createRange(),i=e.data.node;n.setStartBefore(i),n.setEndAfter(i);for(var o=new CKEDITOR.dom.walker(n),r;r=o.next();)if(r.type==CKEDITOR.NODE_ELEMENT)if(!r.equals(i)&&r.getDirection())n.setStartAfter(r),o=new CKEDITOR.dom.walker(n);else{var s=t.config.indentClasses;if(s)for(var a="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],l=0;l<s.length;l++)r.hasClass(s[l]+a[0])&&(r.removeClass(s[l]+a[0]),r.addClass(s[l]+a[1]));s=r.getStyle("margin-right"),a=r.getStyle("margin-left"),s?r.setStyle("margin-left",s):r.removeStyle("margin-left"),a?r.setStyle("margin-right",a):r.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",function(){for(var e in t)(function(e,t){var n=e.getCommand(t.relatedGlobal),i;for(i in t.jobs)n.on("exec",function(n){n.data.done||(e.fire("lockSnapshot"),t.execJob(e,i)&&(n.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(t.database))},this,null,i),n.on("refresh",function(n){n.data.states||(n.data.states={}),n.data.states[t.name+"@"+i]=t.refreshJob(e,i,n.data.path)},this,null,i);e.addFeature(t)})(this,t[e])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,n){var i=this.jobs[n];if(i.state!=t)return i.exec.call(this,e)},refreshJob:function(e,n,i){return n=this.jobs[n],n.state=e.activeFilter.checkFeature(this)?n.refresh.call(this,e,i):t,n.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function i(t){for(var i=l.startContainer,a=l.endContainer;i&&!i.getParent().equals(t);)i=i.getParent();for(;a&&!a.getParent().equals(t);)a=a.getParent();if(!i||!a)return!1;for(var c=i,i=[],u=!1;!u;)c.equals(a)&&(u=!0),i.push(c),c=c.getNext();if(i.length<1)return!1;for(c=t.getParents(!0),a=0;a<c.length;a++)if(c[a].getName&&s[c[a].getName()]){t=c[a];break}for(var c=o.isIndent?1:-1,a=i[0],i=i[i.length-1],u=CKEDITOR.plugins.list.listToArray(t,r),d=u[i.getCustomData("listarray_index")].indent,a=a.getCustomData("listarray_index");a<=i.getCustomData("listarray_index");a++)if(u[a].indent=u[a].indent+c,c>0){var h=u[a].parent;u[a].parent=new CKEDITOR.dom.element(h.getName(),h.getDocument())}for(a=i.getCustomData("listarray_index")+1;a<u.length&&u[a].indent>d;a++)u[a].indent=u[a].indent+c;if(i=CKEDITOR.plugins.list.arrayToList(u,r,null,e.config.enterMode,t.getDirection()),!o.isIndent){var p;if((p=t.getParent())&&p.is("li"))for(var c=i.listNode.getChildren(),f=[],m,a=c.count()-1;a>=0;a--)(m=c.getItem(a))&&m.is&&m.is("li")&&f.push(m)}if(i&&i.listNode.replace(t),f&&f.length)for(a=0;a<f.length;a++){for(m=t=f[a];(m=m.getNext())&&m.is&&m.getName()in s;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(n)&&t.append(l.document.createText("")),t.append(m);t.insertAfter(p)}return i&&e.fire("contentDomInvalidated"),!0}for(var o=this,r=this.database,s=this.context,a=e.getSelection(),a=(a&&a.getRanges()).createIterator(),l;l=a.getNextRange();){for(var c=l.getCommonAncestor();c&&(c.type!=CKEDITOR.NODE_ELEMENT||!s[c.getName()]);){if(e.editable().equals(c)){c=!1;break}c=c.getParent()}if(c||(c=l.startPath().contains(s))&&l.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),!c){var u=l.getEnclosedNode();u&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in s&&(l.setStartAt(u,CKEDITOR.POSITION_AFTER_START),l.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),c=u)}if(c&&l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in s&&(u=new CKEDITOR.dom.walker(l),u.evaluator=t,l.startContainer=u.next()),c&&l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in s&&(u=new CKEDITOR.dom.walker(l),u.evaluator=t,l.endContainer=u.previous()),c)return i(c)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function n(e){return i(e)&&o(e)}var i=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function n(t){i.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],t.on("key",function(e){if("wysiwyg"==t.mode&&e.data.keyCode==this.indentKey){var n=this.getContext(t.elementPath());!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,t.elementPath(),n)||(t.execCommand(this.relatedGlobal),e.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!i?s:r}:function(e,t){return!this.getContext(t)||this.isIndent?r:s},exec:CKEDITOR.tools.bind(e,this)}}var i=CKEDITOR.plugins.indent;i.registerCommands(t,{indentlist:new n(t,"indentlist",!0),outdentlist:new n(t,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,i.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,n,i){var o=n.contains(t);return i||(i=n.contains(e)),i&&o&&o.equals(i.getFirst(t))}}(),function(){function e(e,t,n){function i(n){!(c=l[n?"getFirst":"getLast"]())||c.is&&c.isBlockBoundary()||!(u=t.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||u.is&&u.isBlockBoundary({br:1})||e.document.createElement("br")[n?"insertBefore":"insertAfter"](c)}for(var o=CKEDITOR.plugins.list.listToArray(t.root,n),r=[],s=0;s<t.contents.length;s++){var a=t.contents[s];(a=a.getAscendant("li",!0))&&!a.getCustomData("list_item_processed")&&(r.push(a),CKEDITOR.dom.element.setMarker(n,a,"list_item_processed",!0))}for(a=null,s=0;s<r.length;s++)a=r[s].getCustomData("listarray_index"),o[a].indent=-1;for(s=a+1;s<o.length;s++)if(o[s].indent>o[s-1].indent+1){for(r=o[s-1].indent+1-o[s].indent,a=o[s].indent;o[s]&&o[s].indent>=a;)o[s].indent=o[s].indent+r,s++;s--}var l=CKEDITOR.plugins.list.arrayToList(o,n,null,e.config.enterMode,t.root.getAttribute("dir")).listNode,c,u;i(!0),i(),l.replace(t.root),e.fire("contentDomInvalidated")}function t(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function n(e,t,n,i){for(var o,r;o=e[i?"getLast":"getFirst"](p);)(r=o.getDirection(1))!==t.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):t.append(o,i)}function i(e){function t(t){var i=e[t?"getPrevious":"getNext"](u);i&&i.type==CKEDITOR.NODE_ELEMENT&&i.is(e.getName())&&(n(e,i,null,!t),e.remove(),e=i)}t(),t(1)}function o(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function r(e,t,o){e.fire("saveSnapshot"),o.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var r=o.extractContents();t.trim(!1,!0);var a=t.createBookmark(),l=new CKEDITOR.dom.elementPath(t.startContainer),c=l.block,l=l.lastElement.getAscendant("li",1)||c,h=new CKEDITOR.dom.elementPath(o.startContainer),p=h.contains(CKEDITOR.dtd.$listItem),h=h.contains(CKEDITOR.dtd.$list);for(c?(c=c.getBogus())&&c.remove():h&&(c=h.getPrevious(u))&&d(c)&&c.remove(),(c=r.getLast())&&c.type==CKEDITOR.NODE_ELEMENT&&c.is("br")&&c.remove(),(c=t.startContainer.getChild(t.startOffset))?r.insertBefore(c):t.startContainer.append(r),p&&(r=s(p))&&(l.contains(p)?(n(r,p.getParent(),p),r.remove()):l.append(r));o.checkStartOfBlock()&&o.checkEndOfBlock()&&(h=o.startPath(),r=h.block,r);)r.is("li")&&(l=r.getParent(),r.equals(l.getLast(u))&&r.equals(l.getFirst(u))&&(r=l)),o.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),r.remove();o=o.clone(),r=e.editable(),o.setEndAt(r,CKEDITOR.POSITION_BEFORE_END),o=new CKEDITOR.dom.walker(o),o.evaluator=function(e){return u(e)&&!d(e)},(o=o.next())&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in CKEDITOR.dtd.$list&&i(o),t.moveToBookmark(a),t.select(),e.fire("saveSnapshot")}function s(e){return(e=e.getLast(u))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in a?e:null}var a={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(),u=function(e){return!(l(e)||c(e))},d=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,i,o){if(!a[e.getName()])return[];i||(i=0),n||(n=[]);for(var r=0,s=e.getChildCount();r<s;r++){var l=e.getChild(r);if(l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,t,n,i+1),"li"==l.$.nodeName.toLowerCase()){var c={parent:e,indent:i,element:l,contents:[]};o?c.grandparent=o:(c.grandparent=e.getParent(),c.grandparent&&"li"==c.grandparent.$.nodeName.toLowerCase()&&(c.grandparent=c.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,l,"listarray_index",n.length),n.push(c);for(var u=0,d=l.getChildCount(),h;u<d;u++)h=l.getChild(u),h.type==CKEDITOR.NODE_ELEMENT&&a[h.getName()]?CKEDITOR.plugins.list.listToArray(h,t,n,i+1,c.grandparent):c.contents.push(h)}}return n},arrayToList:function(e,t,n,i,o){if(n||(n=0),!e||e.length<n+1)return null;for(var r,s=e[n].parent.getDocument(),l=new CKEDITOR.dom.documentFragment(s),d=null,h=n,p=Math.max(e[n].indent,0),f=null,m,g,v=i==CKEDITOR.ENTER_P?"p":"div";;){var b=e[h];if(r=b.grandparent,m=b.element.getDirection(1),b.indent==p){for(d&&e[h].parent.getName()==d.getName()||(d=e[h].parent.clone(!1,1),o&&d.setAttribute("dir",o),l.append(d)),f=d.append(b.element.clone(0,1)),m!=d.getDirection(1)&&f.setAttribute("dir",m),r=0;r<b.contents.length;r++)f.append(b.contents[r].clone(1,1));h++}else if(b.indent==Math.max(p,0)+1)b=e[h-1].element.getDirection(1),h=CKEDITOR.plugins.list.arrayToList(e,null,h,i,b!=m?m:null),!f.getChildCount()&&CKEDITOR.env.needsNbspFiller&&s.$.documentMode<=7&&f.append(s.createText("")),f.append(h.listNode),h=h.nextIndex;else{if(b.indent!=-1||n||!r)return null;a[r.getName()]?(f=b.element.clone(!1,!0),m!=r.getDirection(1)&&f.setAttribute("dir",m)):f=new CKEDITOR.dom.documentFragment(s);var d=r.getDirection(1)!=m,w=b.element,y=w.getAttribute("class"),_=w.getAttribute("style"),E=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||d||_||y),T,C=b.contents.length,S;for(r=0;r<C;r++)if(T=b.contents[r],c(T)&&C>1)E?S=T.clone(1,1):f.append(T.clone(1,1));else if(T.type==CKEDITOR.NODE_ELEMENT&&T.isBlockBoundary()){d&&!T.getDirection()&&T.setAttribute("dir",m),g=T;var I=w.getAttribute("style");I&&g.setAttribute("style",I.replace(/([^;])$/,"$1;")+(g.getAttribute("style")||"")),y&&T.addClass(y),g=null,S&&(f.append(S),S=null),f.append(T.clone(1,1))}else E?(g||(g=s.createElement(v),f.append(g),d&&g.setAttribute("dir",m)),_&&g.setAttribute("style",_),y&&g.setAttribute("class",y),S&&(g.append(S),S=null),g.append(T.clone(1,1))):f.append(T.clone(1,1));S&&((g||f).append(S),S=null),f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&h!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(m=f.getLast())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is("br")&&m.remove(),m=f.getLast(u),(!m||!(m.type==CKEDITOR.NODE_ELEMENT&&m.is(CKEDITOR.dtd.$block)))&&f.append(s.createElement("br"))),m=f.$.nodeName.toLowerCase(),("div"==m||"p"==m)&&f.appendBogus(),l.append(f),d=null,h++}if(g=null,e.length<=h||Math.max(e[h].indent,0)<p)break}if(t)for(e=l.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(n=e,s=o=i=void 0,i=n.getDirection()))){for(o=n.getParent();o&&!(s=o.getDirection());)o=o.getParent();i==s&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:l,nextIndex:h}}};var h=/^h[1-6]$/,p=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var n=t.config,o=t.getSelection(),r=o&&o.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var s=t.editable();if(s.getFirst(u)){var l=1==r.length&&r[0];(n=l&&l.getEnclosedNode())&&n.is&&this.type==n.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else n.enterMode==CKEDITOR.ENTER_BR?s.appendBogus():r[0].fixBlock(1,n.enterMode==CKEDITOR.ENTER_P?"p":"div"),o.selectRanges(r)}for(var n=o.createBookmarks(!0),s=[],c={},r=r.createIterator(),d=0;(l=r.getNextRange())&&++d;){var p=l.getBoundaryNodes(),f=p.startNode,m=p.endNode;for(f.type==CKEDITOR.NODE_ELEMENT&&"td"==f.getName()&&l.setStartAt(p.startNode,CKEDITOR.POSITION_AFTER_START),m.type==CKEDITOR.NODE_ELEMENT&&"td"==m.getName()&&l.setEndAt(p.endNode,CKEDITOR.POSITION_BEFORE_END),l=l.createIterator(),l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;p=l.getNextParagraph();)if(!p.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(c,p,"list_block",1);for(var g=t.elementPath(p),f=g.elements,m=0,g=g.blockLimit,v,b=f.length-1;b>=0&&(v=f[b]);b--)if(a[v.getName()]&&g.contains(v)){g.removeCustomData("list_group_object_"+d),(f=v.getCustomData("list_group_object"))?f.contents.push(p):(f={root:v,contents:[p]},s.push(f),CKEDITOR.dom.element.setMarker(c,v,"list_group_object",f)),m=1;break}m||(m=g,m.getCustomData("list_group_object_"+d)?m.getCustomData("list_group_object_"+d).contents.push(p):(f={root:m,contents:[p]},CKEDITOR.dom.element.setMarker(c,m,"list_group_object_"+d,f),s.push(f)))}}for(v=[];s.length>0;)if(f=s.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(a[f.root.getName()]){for(r=t,d=f,f=c,l=v,m=CKEDITOR.plugins.list.listToArray(d.root,f),g=[],p=0;p<d.contents.length;p++)b=d.contents[p],(b=b.getAscendant("li",!0))&&!b.getCustomData("list_item_processed")&&(g.push(b),CKEDITOR.dom.element.setMarker(f,b,"list_item_processed",!0));for(var b=d.root.getDocument(),w=void 0,y=void 0,p=0;p<g.length;p++){var _=g[p].getCustomData("listarray_index"),w=m[_].parent;w.is(this.type)||(y=b.createElement(this.type),w.copyAttributes(y,{start:1,type:1}),y.removeStyle("list-style-type"),m[_].parent=y)}for(f=CKEDITOR.plugins.list.arrayToList(m,f,null,r.config.enterMode),m=void 0,g=f.listNode.getChildCount(),p=0;p<g&&(m=f.listNode.getChild(p));p++)m.getName()==this.type&&l.push(m);f.listNode.replace(d.root),r.fire("contentDomInvalidated")}else{for(m=t,p=f,l=v,g=p.contents,r=p.root.getDocument(),d=[],1==g.length&&g[0].equals(p.root)&&(f=r.createElement("div"),g[0].moveChildren&&g[0].moveChildren(f),g[0].append(f),g[0]=f),p=p.contents[0].getParent(),b=0;b<g.length;b++)p=p.getCommonAncestor(g[b].getParent());for(w=m.config.useComputedState,m=f=void 0,w=void 0===w||w,b=0;b<g.length;b++)for(y=g[b];_=y.getParent();){if(_.equals(p)){d.push(y),!m&&y.getDirection()&&(m=1),y=y.getDirection(w),null!==f&&(f=f&&f!=y?null:y);break}y=_}if(!(d.length<1)){for(g=d[d.length-1].getNext(),b=r.createElement(this.type),l.push(b),w=l=void 0;d.length;)l=d.shift(),w=r.createElement("li"),l.is("pre")||h.test(l.getName())||"false"==l.getAttribute("contenteditable")?l.appendTo(w):(l.copyAttributes(w),f&&l.getDirection()&&(w.removeStyle("direction"),w.removeAttribute("dir")),l.moveChildren(w),l.remove()),w.appendTo(b);f&&m&&b.setAttribute("dir",f),g?b.insertBefore(g):b.appendTo(p)}}else this.state==CKEDITOR.TRISTATE_ON&&a[f.root.getName()]&&e.call(this,t,f,c);for(b=0;b<v.length;b++)i(v[b]);CKEDITOR.dom.element.clearAllMarkers(c),o.selectBookmarks(n),t.focus()},refresh:function(e,t){var n=t.contains(a,1),i=t.blockLimit||t.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){e.blockless||(e.addCommand("numberedlist",new t("numberedlist","ol")),e.addCommand("bulletedlist",new t("bulletedlist","ul")),e.ui.addButton&&(e.ui.addButton("NumberedList",{label:e.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),e.ui.addButton("BulletedList",{label:e.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),e.on("key",function(t){var n=t.data.domEvent.getKey(),i;if("wysiwyg"==e.mode&&n in{8:1,46:1}){var l=e.getSelection().getRanges()[0],c=l&&l.startPath();if(l&&l.collapsed){var h=8==n,p=e.editable(),f=new CKEDITOR.dom.walker(l.clone());if(f.evaluator=function(e){return u(e)&&!d(e)},f.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},n=l.clone(),h){var m;(m=c.contains(a))&&l.checkBoundaryOfElement(m,CKEDITOR.START)&&(m=m.getParent())&&m.is("li")&&(m=s(m))?(i=m,m=m.getPrevious(u),n.moveToPosition(m&&d(m)?m:i,CKEDITOR.POSITION_BEFORE_START)):(f.range.setStartAt(p,CKEDITOR.POSITION_AFTER_START),f.range.setEnd(l.startContainer,l.startOffset),(m=f.previous())&&m.type==CKEDITOR.NODE_ELEMENT&&(m.getName()in a||m.is("li"))&&(m.is("li")||(f.range.selectNodeContents(m),f.reset(),f.evaluator=o,m=f.previous()),i=m,n.moveToElementEditEnd(i),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),i?(r(e,n,l),t.cancel()):(n=c.contains(a))&&l.checkBoundaryOfElement(n,CKEDITOR.START)&&(i=n.getFirst(u),l.checkBoundaryOfElement(i,CKEDITOR.START)&&(m=n.getPrevious(u),s(i)?m&&(l.moveToElementEditEnd(m),l.select()):e.execCommand("outdent"),t.cancel()))}else(i=c.contains("li"))?(f.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),p=(c=i.getLast(u))&&o(c)?c:i,i=0,(m=f.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.getName()in a&&m.equals(c)?(i=1,m=f.next()):l.checkBoundaryOfElement(p,CKEDITOR.END)&&(i=2),i&&m&&(l=l.clone(),l.moveToElementEditStart(m),2==i&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),l.endPath().block&&l.moveToPosition(l.endPath().block,CKEDITOR.POSITION_AFTER_START)),r(e,n,l),t.cancel())):(f.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(m=f.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(a)&&(m=m.getFirst(u),c.block&&l.checkStartOfBlock()&&l.checkEndOfBlock()?(c.block.remove(),l.moveToElementEditStart(m),l.select()):s(m)?(l.moveToElementEditStart(m),l.select()):(l=l.clone(),l.moveToElementEditStart(m),r(e,n,l)),t.cancel()));setTimeout(function(){e.selectionChange(1)})}}}))}})}(),function(){function e(e,t,n){n=e.config.forceEnterMode||n,"wysiwyg"==e.mode&&(t||(t=e.activeEnterMode),e.elementPath().isContextFor("p")||(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?s(e,t,null,n):a(e,t,null,n),e.fire("saveSnapshot"))}function t(e){for(var e=e.getSelection().getRanges(!0),t=e.length-1;t>0;t--)e[t].deleteContents();return e[0]}function n(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")},!0);return e.root.equals(t)?e:(t=new CKEDITOR.dom.range(t),t.moveToRange(e),t)}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var i=CKEDITOR.dom.walker.whitespaces(),o=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,r,a,c){if(a=a||t(e)){var a=n(a),u=a.document,d=a.checkStartOfBlock(),h=a.checkEndOfBlock(),p=e.elementPath(a.startContainer),f=p.block,m=r==CKEDITOR.ENTER_DIV?"div":"p",g;if(d&&h){if(f&&(f.is("li")||f.getParent().is("li"))){f.is("li")||(f=f.getParent()),a=f.getParent(),g=a.getParent();var c=!f.hasPrevious(),v=!f.hasNext(),m=e.getSelection(),b=m.createBookmarks(),d=f.getDirection(1),h=f.getAttribute("class"),w=f.getAttribute("style"),y=g.getDirection(1)!=d,e=e.enterMode!=CKEDITOR.ENTER_BR||y||w||h;if(g.is("li"))c||v?(c&&v&&a.remove(),f[v?"insertAfter":"insertBefore"](g)):f.breakParent(g);else{if(e)p.block.is("li")?(g=u.createElement(r==CKEDITOR.ENTER_P?"p":"div"),y&&g.setAttribute("dir",d),w&&g.setAttribute("style",w),h&&g.setAttribute("class",h),f.moveChildren(g)):g=p.block,c||v?g[c?"insertBefore":"insertAfter"](a):(f.breakParent(a),g.insertAfter(a));else if(f.appendBogus(!0),c||v)for(;u=f[c?"getFirst":"getLast"]();)u[c?"insertBefore":"insertAfter"](a);else for(f.breakParent(a);u=f.getLast();)u.insertAfter(a);f.remove()}return void m.selectBookmarks(b)}if(f&&f.getParent().is("blockquote"))return f.breakParent(f.getParent()),f.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||f.getPrevious().remove(),f.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||f.getNext().remove(),a.moveToElementEditStart(f),void a.select()}else if(f&&f.is("pre")&&!h)return void s(e,r,a,c);if(d=a.splitBlock(m)){if(r=d.previousBlock,f=d.nextBlock,p=d.wasStartOfBlock,e=d.wasEndOfBlock,f?(b=f.getParent(),b.is("li")&&(f.breakParent(b),f.move(f.getNext(),1))):r&&(b=r.getParent())&&b.is("li")&&(r.breakParent(b),b=r.getNext(),a.moveToElementEditStart(b),r.move(r.getPrevious())),p||e){if(r?(r.is("li")||!l.test(r.getName())&&!r.is("pre"))&&(g=r.clone()):f&&(g=f.clone()),g?c&&!g.is("li")&&g.renameNode(m):b&&b.is("li")?g=b:(g=u.createElement(m),r&&(v=r.getDirection())&&g.setAttribute("dir",v)),u=d.elementPath)for(c=0,m=u.elements.length;c<m&&(b=u.elements[c],!b.equals(u.block)&&!b.equals(u.blockLimit));c++)CKEDITOR.dtd.$removeEmpty[b.getName()]&&(b=b.clone(),g.moveChildren(b),g.append(b));g.appendBogus(),g.getParent()||a.insertNode(g),g.is("li")&&g.removeAttribute("value"),!CKEDITOR.env.ie||!p||e&&r.getChildCount()||(a.moveToElementEditStart(e?r:g),a.select()),a.moveToElementEditStart(p&&!e?f:g)}else f.is("li")&&(g=a.clone(),g.selectNodeContents(f),g=new CKEDITOR.dom.walker(g),g.evaluator=function(e){return!(o(e)||i(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(b=g.next())&&b.type==CKEDITOR.NODE_ELEMENT&&b.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?u.createElement("br"):u.createText("")).insertBefore(b)),f&&a.moveToElementEditStart(f);a.select(),a.scrollIntoView()}}},enterBr:function(e,n,i,o){if(i=i||t(e)){var r=i.document,s=i.checkEndOfBlock(),c=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),u=c.block,d=u&&c.block.getName();o||"li"!=d?(!o&&s&&l.test(d)?(s=u.getDirection())?(r=r.createElement("div"),r.setAttribute("dir",s),r.insertAfter(u),i.setStart(r,0)):(r.createElement("br").insertAfter(u),CKEDITOR.env.gecko&&r.createText("").insertAfter(u),i.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==d&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?r.createText("\r"):r.createElement("br"),i.deleteContents(),i.insertNode(e),CKEDITOR.env.needsBrFiller?(r.createText("\ufeff").insertAfter(e),s&&(u||c.blockLimit).appendBogus(),e.getNext().$.nodeValue="",i.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):i.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),i.collapse(!0),i.select(),i.scrollIntoView()):a(e,n,i,o)}}};var r=CKEDITOR.plugins.enterkey,s=r.enterBr,a=r.enterBlock,l=/^h[1-6]$/}(),function(){function e(e,t){var n={},i=[],o={nbsp:"",shy:"",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(e,r){var s=t?"&"+r+";":o[r];return n[s]=t?o[r]:"&"+r+";",i.push(s),""});if(!t&&e){var e=e.split(","),r=document.createElement("div"),s;for(r.innerHTML="&"+e.join(";&")+";",s=r.innerHTML,r=null,r=0;r<s.length;r++){var a=s.charAt(r);n[a]="&"+e[r]+";",i.push(a)}}return n.regex=i.join(t?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(t){function n(e){return l[e]}function i(e){return"force"!=o.entities_processNumerical&&s[e]?s[e]:"&#"+e.charCodeAt(0)+";"}var o=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var r=[];o.basicEntities!==!1&&r.push("nbsp,gt,lt,amp"),o.entities&&(r.length&&r.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),o.entities_latin&&r.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),
o.entities_greek&&r.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),o.entities_additional&&r.push(o.entities_additional));var s=e(r.join(",")),a=s.regex?"["+s.regex+"]":"a^";delete s.regex,o.entities&&o.entities_processNumerical&&(a="[^ -~]|"+a);var a=RegExp(a,"g"),l=e("nbsp,gt,lt,amp,shy",!0),c=RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(c,n).replace(a,i)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,i){t=t||"80%",n=n||"70%","string"==typeof t&&t.length>1&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&n.length>1&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),t<640&&(t=640),n<420&&(n=420);var o=parseInt((window.screen.height-n)/2,10),r=parseInt((window.screen.width-t)/2,10),i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+o+",left="+r,s=window.open("",null,i,!0);if(!s)return!1;try{navigator.userAgent.toLowerCase().indexOf(" chrome/")==-1&&(s.moveTo(r,o),s.resizeTo(t,n)),s.focus(),s.location.href=e}catch(t){window.open(e,null,i,!0)}return!0}}),function(){function e(e,t){var n=[];if(!t)return e;for(var i in t)n.push(i+"="+encodeURIComponent(t[i]));return e+(e.indexOf("?")!=-1?"&":"?")+n.join("&")}function t(e){return e+="",e.charAt(0).toUpperCase()+e.substr(1)}function n(){var n=this.getDialog(),i=n.getParentEditor();i._.filebrowserSe=this;var o=i.config["filebrowser"+t(n.getName())+"WindowWidth"]||i.config.filebrowserWindowWidth||"80%",n=i.config["filebrowser"+t(n.getName())+"WindowHeight"]||i.config.filebrowserWindowHeight||"70%",r=this.filebrowser.params||{};r.CKEditor=i.name,r.CKEditorFuncNum=i._.filebrowserFn,r.langCode||(r.langCode=i.langCode),r=e(this.filebrowser.url,r),i.popup(r,o,n,i.config.filebrowserWindowFeatures||i.config.fileBrowserWindowFeatures)}function i(){var e=this.getDialog();return e.getParentEditor()._.filebrowserSe=this,!(!e.getContentElement(this.for[0],this.for[1]).getInputElement().$.value||!e.getContentElement(this.for[0],this.for[1]).getAction())}function o(t,n,i){var o=i.params||{};o.CKEditor=t.name,o.CKEditorFuncNum=t._.filebrowserFn,o.langCode||(o.langCode=t.langCode),n.action=e(i.url,o),n.filebrowser=i}function r(e,s,a,l){if(l&&l.length)for(var c,u=l.length;u--;)if(c=l[u],("hbox"==c.type||"vbox"==c.type||"fieldset"==c.type)&&r(e,s,a,c.children),c.filebrowser)if("string"==typeof c.filebrowser&&(c.filebrowser={action:"fileButton"==c.type?"QuickUpload":"Browse",target:c.filebrowser}),"Browse"==c.filebrowser.action){var d=c.filebrowser.url;void 0===d&&(d=e.config["filebrowser"+t(s)+"BrowseUrl"],void 0===d&&(d=e.config.filebrowserBrowseUrl)),d&&(c.onClick=n,c.filebrowser.url=d,c.hidden=!1)}else if("QuickUpload"==c.filebrowser.action&&c.for&&(d=c.filebrowser.url,void 0===d&&(d=e.config["filebrowser"+t(s)+"UploadUrl"],void 0===d&&(d=e.config.filebrowserUploadUrl)),d)){var h=c.onClick;c.onClick=function(e){var t=e.sender;return(!h||h.call(t,e)!==!1)&&i.call(t,e)},c.filebrowser.url=d,c.hidden=!1,o(e,a.getContents(c.for[0]).get(c.for[1]),c.filebrowser)}}function s(e,t,n){if(n.indexOf(";")!==-1){for(var n=n.split(";"),i=0;i<n.length;i++)if(s(e,t,n[i]))return!0;return!1}return(e=e.getContents(t).get(n).filebrowser)&&e.url}function a(e,t){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe.for,o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof t&&t.call(this._.filebrowserSe)===!1||o&&o.call(this._.filebrowserSe,e,t)===!1||("string"==typeof t&&t&&alert(t),e&&(i=this._.filebrowserSe,n=i.getDialog(),(i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(e),n.selectPage(i[0])))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(a,e),e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(e){if(e.editor.plugins.filebrowser)for(var t=e.data.definition,n,i=0;i<t.contents.length;++i)(n=t.contents[i])&&(r(e.editor,e.data.name,t,n.elements),n.hidden&&n.filebrowser&&(n.hidden=!s(t,n.id,n.filebrowser)))})}(),function(){function e(e){var i=e.config,o=e.fire("uiSpace",{space:"top",html:""}).html,r=function(){function o(e,t,i){a.setStyle(t,n(i)),a.setStyle("position",e)}function s(e){var t=c.getDocumentPosition();switch(e){case"top":o("absolute","top",t.y-p-g);break;case"pin":o("fixed","top",b);break;case"bottom":o("absolute","top",t.y+(d.height||d.bottom-d.top)+g)}l=e}var l,c,u,d,h,p,f,m=i.floatSpaceDockedOffsetX||0,g=i.floatSpaceDockedOffsetY||0,v=i.floatSpacePinnedOffsetX||0,b=i.floatSpacePinnedOffsetY||0;return function(i){if(c=e.editable())if(i&&"focus"==i.name&&a.show(),a.removeStyle("left"),a.removeStyle("right"),u=a.getClientRect(),d=c.getClientRect(),h=t.getViewPaneSize(),p=u.height,f="pageXOffset"in t.$?t.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l){s(p+g<=d.top?"top":p+g>h.height-d.bottom?"pin":"bottom");var i=h.width/2,i=d.left>0&&d.right<h.width&&d.width>u.width?"rtl"==e.config.contentsLangDirection?"right":"left":i-d.left>d.right-i?"left":"right",o;u.width>h.width?(i="left",o=0):(o="left"==i?d.left>0?d.left:0:d.right<h.width?h.width-d.right:0,o+u.width>h.width&&(i="left"==i?"right":"left",o=0)),a.setStyle(i,n(("pin"==l?v:m)+o+("pin"==l?0:"left"==i?f:-f)))}else l="pin",s("pin"),r(i)}}();if(o){var s=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),a=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(s.output({content:o,id:e.id,langDir:e.lang.dir,langCode:e.langCode,name:e.name,style:"display:none;z-index:"+(i.baseFloatZIndex-1),topId:e.ui.spaceId("top"),voiceLabel:e.title}))),l=CKEDITOR.tools.eventsBuffer(500,r),c=CKEDITOR.tools.eventsBuffer(100,r);a.unselectable(),a.on("mousedown",function(e){e=e.data,e.getTarget().hasAscendant("a",1)||e.preventDefault()}),e.on("focus",function(n){r(n),e.on("change",l.input),t.on("scroll",c.input),t.on("resize",c.input)}),e.on("blur",function(){a.hide(),e.removeListener("change",l.input),t.removeListener("scroll",c.input),t.removeListener("resize",c.input)}),e.on("destroy",function(){t.removeListener("scroll",c.input),t.removeListener("resize",c.input),a.clearCustomData(),a.remove()}),e.focusManager.hasFocus&&a.show(),e.focusManager.add(a,1)}}var t=CKEDITOR.document.getWindow(),n=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),i=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var t=t||{},n=t.attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),n=this.keys,n[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)},this)),this._.click}},proto:{add:function(e,n,o){var r=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[e]=r;var s;s=CKEDITOR.tools.htmlEncodeAttr(e).replace(i,"\\'"),e={id:r,val:s,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(o||e),text:n||e},this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e=this._.items,t=this._.groups,n=this.element.getDocument(),i;for(i in e)n.getById(e[i]).setStyle("display","");for(var o in t)e=n.getById(t[o]),i=e.getNext(),e.setStyle("display",""),i&&"ul"==i.getName()&&i.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll();var e=this._.items[e],t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},unmark:function(e){var t=this.element.getDocument(),e=this._.items[e],n=t.getById(e);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e=this._.items,t=this.element.getDocument(),n;for(n in e){var i=e[n];t.getById(i).removeClass("cke_selected"),t.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t=this.element.getElementsByTag("a"),n,i=-1;if(e){for(n=this.element.getDocument().getById(this._.items[e]).getFirst();e=t.getItem(++i);)if(e.equals(n)){this._.focusIndex=i;break}}else this.element.focus();n&&setTimeout(function(){n.focus()},0)}}})}}),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),e=e+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>',t=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),n=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(e,i){function o(){var t=e.mode;t&&(t=this.modes[t]?void 0!==f[t]?f[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var r=CKEDITOR.env,s=this._.id=CKEDITOR.tools.getNextId(),a="",l=this.command,c;this._.editor=e;var u={id:s,button:this,editor:e,focus:function(){CKEDITOR.document.getById(s).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},d=CKEDITOR.tools.addFunction(function(e){if(u.onkey)return e=new CKEDITOR.dom.event(e),u.onkey(u,e.getKeystroke())!==!1}),h=CKEDITOR.tools.addFunction(function(e){var t;return u.onfocus&&(t=u.onfocus(u,new CKEDITOR.dom.event(e))!==!1),t}),p=0;if(u.clickFn=c=CKEDITOR.tools.addFunction(function(){p&&(e.unlockSelection(1),p=0),u.execute(),r.iOS&&e.focus()}),this.modes){var f={};e.on("beforeModeUnload",function(){e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(f[e.mode]=this._.state)},this),e.on("activeFilterChange",o,this),e.on("mode",o,this),!this.readOnly&&e.on("readOnly",o,this)}else l&&(l=e.getCommand(l))&&(l.on("state",function(){this.setState(l.state)},this),a+=l.state==CKEDITOR.TRISTATE_ON?"on":l.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&e.on("contentDirChanged",function(t){var n=CKEDITOR.document.getById(this._.id),i=n.getFirst(),t=t.data;t!=e.lang.dir?n.addClass("cke_"+t):n.removeClass("cke_ltr").removeClass("cke_rtl"),i.setAttribute("style",CKEDITOR.skin.getIconStyle(g,"rtl"==t,this.icon,this.iconOffset))},this),l||(a+="off");var m=this.name||this.command,g=m;return this.icon&&!/\./.test(this.icon)&&(g=this.icon,this.icon=null),a={id:s,name:m,iconName:g,label:this.label,cls:this.className||"",state:a,ariaDisabled:"disabled"==a?"true":"false",title:this.title,titleJs:r.gecko&&!r.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:d,focusFn:h,clickFn:c,style:CKEDITOR.skin.getIconStyle(g,"rtl"==e.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?t.output():""},n.output(a,i),this.onRender&&this.onRender(),u},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return!!t&&(t.setState(e,"cke_button"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this.hasArrow?(e=e==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(e)):e==CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",!0):t.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return!this.allowedContent&&!this.requiredContent&&this.command&&(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),t=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{}}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(e,n){function i(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;e.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var o=CKEDITOR.env,r="cke_"+this.id,s=CKEDITOR.tools.addFunction(function(t){d&&(e.unlockSelection(1),d=0),l.execute(t)},this),a=this,l={id:r,combo:this,focus:function(){CKEDITOR.document.getById(r).getChild(1).focus()},execute:function(t){var n=a._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(a.createPanel(e),n.on)n.panel.hide();else{a.commit();var i=a.getValue();i?n.list.mark(i):n.list.unmarkAll(),n.panel.showBlock(a.id,new CKEDITOR.dom.element(t),4)}},clickFn:s};e.on("activeFilterChange",i,this),e.on("mode",i,this),e.on("selectionChange",i,this),!this.readOnly&&e.on("readOnly",i,this);var c=CKEDITOR.tools.addFunction(function(t,n){var t=new CKEDITOR.dom.event(t),i=t.getKeystroke();switch(40==i&&e.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)}),i){case 13:case 32:case 40:CKEDITOR.tools.callFunction(s,n);break;default:l.onkey(l,i)}t.preventDefault()}),u=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),d=0;return l.keyDownFn=c,o={id:r,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:o.gecko&&!o.hc?"":(this.title||"").replace("'",""),keydownFn:c,focusFn:u,clickFn:s},t.output(o,n),this.onRender&&this.onRender(),l},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,i,t),s=r.addListBlock(this.id,n),a=this;r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen(),e.once("panelShow",function(){s.focus(!s.multiSelect&&a.getValue())})},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},s.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t),r.hide()},this._.panel=r,this._.list=s,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e;var n=this.document.getById("cke_"+this.id+"_text");n&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText("undefined"!=typeof t?t:e))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,n=e.lang.format,i=t.format_tags.split(";"),o={},r=0,s=[],a=0;a<i.length;a++){var l=i[a],c=new CKEDITOR.style(t["format_"+l]);e.filter.customConfig&&!e.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=e.config.enterMode,s.push(c))}0!==r&&e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:s,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){this.startGroup(n.panelTitle);for(var e in o){var t=n["tag_"+e];this.add(e,o[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot");var t=o[t],n=e.elementPath();e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),setTimeout(function(){e.fire("saveSnapshot")},0)},onRender:function(){e.on("selectionChange",function(t){var n=this.getValue(),t=t.data.path;this.refresh();for(var i in o)if(o[i].checkActive(t,e))return void(i!=n&&this.setValue(i,e.lang.format["tag_"+i]));this.setValue("")},this)},onOpen:function(){this.showAll();for(var t in o)e.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var n in o)if(e.activeFilter.check(o[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",e),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars=e.config.dataIndentationChars||"\t",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e=CKEDITOR.dtd,t;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation=this._.indentation+this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&")),t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("<!--",e,"-->")},lineBreak:function(){!this._.inPre&&this._.output.length>0&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),function(){function e(e,t){if(t||(t=e.getSelection().getSelectedElement()),t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())return t}function t(e){var t=e.getStyle("float");return"inherit"!=t&&"none"!=t||(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var n="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(n="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:n,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"}),t.on("doubleclick",function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")}),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(n){if(e(t,n))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(n){function i(i){var o=n.getCommand("justify"+i);o&&("left"!=i&&"right"!=i||o.on("exec",function(o){var r=e(n),s;r&&(s=t(r),s==i?(r.removeStyle("float"),i==t(r)&&r.removeAttribute("align")):r.setStyle("float",i),o.cancel())}),o.on("refresh",function(o){var r=e(n);r&&(r=t(r),this.setState(r==i?CKEDITOR.TRISTATE_ON:"right"==i||"left"==i?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),o.cancel())}))}n.plugins.image2||(i("left"),i("right"),i("center"),i("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n=i.exec(e),o=i.exec(t);if(n){if(!n[2]&&"px"==o[2])return o[1];if("px"==n[2]&&!o[2])return o[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,n=CKEDITOR.tools.cssLength,i=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,o={elements:{$:function(n){var i=n.attributes;if((i=(i=(i=i&&i["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(i)))&&i.children[0])&&n.attributes["data-cke-resizable"]){var o=new t(n).rules,n=i.attributes,r=o.width,o=o.height;r&&(n.width=e(n.width,r)),o&&(n.height=e(n.height,o))}return i}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(o,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,i,o,r){var s=this.lang.fakeobjects,s=s[o]||s.unknown,i={class:i,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.getAttribute("align")||""};return CKEDITOR.env.hc||(i.src=CKEDITOR.tools.transparentImageData),o&&(i["data-cke-real-element-type"]=o),r&&(i["data-cke-resizable"]=r,o=new t,r=e.getAttribute("width"),e=e.getAttribute("height"),r&&(o.rules.width=n(r)),e&&(o.rules.height=n(e)),o.populate(i)),this.document.createElement("img",{attributes:i})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,i,o,r){var s=this.lang.fakeobjects,s=s[o]||s.unknown,a;return a=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(a),a=a.getHtml(),i={class:i,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.attributes.align||""},CKEDITOR.env.hc||(i.src=CKEDITOR.tools.transparentImageData),o&&(i["data-cke-real-element-type"]=o),r&&(i["data-cke-resizable"]=r,r=e.attributes,e=new t,o=r.width,r=r.height,void 0!==o&&(e.rules.width=n(o)),void 0!==r&&(e.rules.height=n(r)),e.populate(i)),new CKEDITOR.htmlParser.element("img",i)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var n=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var i=t.getStyle("width"),t=t.getStyle("height");i&&n.setAttribute("width",e(n.getAttribute("width"),i)),t&&n.setAttribute("height",e(n.getAttribute("height"),t))}return n}}(),function(){function e(e){return e.replace(/'/g,"\\$&")}function t(e){for(var t,n=e.length,i=[],o=0;o<n;o++)t=e.charCodeAt(o),i.push(t);return"String.fromCharCode("+i.join(",")+")"}function n(t,n){var i=t.plugins.link,o=i.compiledProtectionFunction.params,r,s;s=[i.compiledProtectionFunction.name,"("];for(var a=0;a<o.length;a++)i=o[a].toLowerCase(),r=n[i],a>0&&s.push(","),s.push("'",r?e(encodeURIComponent(n[i])):"","'");return s.push(")"),s.join("")}function i(e){var e=e.config.emailProtection||"",t;return e&&"encode"!=e&&(t={},e.replace(/^([^(]+)\(([^)]+)\)$/,function(e,n,i){t.name=n,t.params=[],i.replace(/[^,\s]+/g,function(e){t.params.push(e)})})),t}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";
CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)")),CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]")),e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),e.addCommand("unlink",new CKEDITOR.unlinkCommand),e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),e.setKeystroke(CKEDITOR.CTRL+76,"link"),e.ui.addButton&&(e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"}),e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"}),e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),e.on("doubleclick",function(t){var n=CKEDITOR.plugins.link.getSelectedLink(e)||t.data.element;n.isReadOnly()||(n.is("a")?(t.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",t.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n)&&(t.data.dialog="anchor"))},null,null,0),e.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)},null,null,20),e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t),!t&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var n={};return t.getAttribute("href")&&t.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n}),this.compiledProtectionFunction=i(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push(function(t,n){if("a"==n&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var o=/^javascript:/,r=/^mailto:([^?]+)(?:\?(.+))?$/,s=/subject=([^;?:@&=$,\/]*)/,a=/body=([^;?:@&=$,\/]*)/,l=/^#(.*)$/,c=/^((?:http|https|ftp|news):\/\/)?(.*)$/,u=/^(_(?:self|top|parent|blank))$/,d=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,h=/^javascript:([^(]+)\(([^)]+)\)$/,p=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,f=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e){var t=e.getSelection(),n=t.getSelectedElement();return n&&n.is("a")?n:(t=t.getRanges()[0])?(t.shrink(CKEDITOR.SHRINK_TEXT),e.elementPath(t.getCommonAncestor()).contains("a",1)):null},getEditorAnchors:function(e){for(var t=e.editable(),n=t.isInline()&&!e.plugins.divarea?e.document:t,t=n.getElementsByTag("a"),n=n.getElementsByTag("img"),i=[],o=0,r;r=t.getItem(o++);)(r.data("cke-saved-name")||r.hasAttribute("name"))&&i.push({name:r.data("cke-saved-name")||r.getAttribute("name"),id:r.getAttribute("id")});for(o=0;r=n.getItem(o++);)(r=this.tryRestoreFakeAnchor(e,r))&&i.push({name:r.getAttribute("name"),id:r.getAttribute("id")});return i},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,t){var n=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",i=e.plugins.link.compiledProtectionFunction,g=e.config.emailProtection,v,b={};if(n.match(o)&&("encode"==g?n=n.replace(d,function(e,t,n){return"mailto:"+String.fromCharCode.apply(String,t.split(","))+(n&&n.replace(/\\'/g,"'"))}):g&&n.replace(h,function(e,t,n){if(t==i.name){b.type="email";for(var e=b.email={},t=/(^')|('$)/g,n=n.match(/[^,\s]+/g),o=n.length,r,s,a=0;a<o;a++)r=decodeURIComponent,s=n[a].replace(t,"").replace(/\\'/g,"'"),s=r(s),r=i.params[a].toLowerCase(),e[r]=s;e.address=[e.name,e.domain].join("@")}})),!b.type)if(g=n.match(l))b.type="anchor",b.anchor={},b.anchor.name=b.anchor.id=g[1];else if(g=n.match(r)){v=n.match(s),n=n.match(a),b.type="email";var w=b.email={};w.address=g[1],v&&(w.subject=decodeURIComponent(v[1])),n&&(w.body=decodeURIComponent(n[1]))}else n&&(v=n.match(c))&&(b.type="url",b.url={},b.url.protocol=v[1],b.url.url=v[2]);if(t){if(n=t.getAttribute("target"))b.target={type:n.match(u)?n:"frame",name:n};else if(n=(n=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&n.match(p))for(b.target={type:"popup",name:n[1]};g=f.exec(n[2]);)"yes"!=g[2]&&"1"!=g[2]||g[1]in{height:1,width:1,top:1,left:1}?isFinite(g[2])&&(b.target[g[1]]=g[2]):b.target[g[1]]=!0;var n={},y;for(y in m)(g=t.getAttribute(y))&&(n[m[y]]=g);(y=t.data("cke-saved-name")||n.advName)&&(n.advName=y),CKEDITOR.tools.isEmpty(n)||(b.advanced=n)}return b},getLinkAttributes:function(i,o){var r=i.config.emailProtection||"",s={};switch(o.type){case"url":var r=o.url&&void 0!==o.url.protocol?o.url.protocol:"http://",a=o.url&&CKEDITOR.tools.trim(o.url.url)||"";s["data-cke-saved-href"]=0===a.indexOf("/")?a:r+a;break;case"anchor":r=o.anchor&&o.anchor.id,s["data-cke-saved-href"]="#"+(o.anchor&&o.anchor.name||r||"");break;case"email":var l=o.email,a=l.address;switch(r){case"":case"encode":var c=encodeURIComponent(l.subject||""),u=encodeURIComponent(l.body||""),l=[];c&&l.push("subject="+c),u&&l.push("body="+u),l=l.length?"?"+l.join("&"):"","encode"==r?(r=["javascript:void(location.href='mailto:'+",t(a)],l&&r.push("+'",e(l),"'"),r.push(")")):r=["mailto:",a,l];break;default:r=a.split("@",2),l.name=r[0],l.domain=r[1],r=["javascript:",n(i,l)]}s["data-cke-saved-href"]=r.join("")}if(o.target)if("popup"==o.target.type){for(var r=["window.open(this.href, '",o.target.name||"","', '"],d=["resizable","status","location","toolbar","menubar","fullscreen","scrollbars","dependent"],a=d.length,c=function(e){o.target[e]&&d.push(e+"="+o.target[e])},l=0;l<a;l++)d[l]=d[l]+(o.target[d[l]]?"=yes":"=no");c("width"),c("left"),c("height"),c("top"),r.push(d.join(","),"'); return false;"),s["data-cke-pa-onclick"]=r.join("")}else"notSet"!=o.target.type&&o.target.name&&(s.target=o.target.name);if(o.advanced){for(var h in m)(r=o.advanced[m[h]])&&(s[h]=r);s.name&&(s["data-cke-saved-name"]=s.name)}s["data-cke-saved-href"]&&(s.href=s["data-cke-saved-href"]),h={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1},o.advanced&&CKEDITOR.tools.extend(h,m);for(var p in s)delete h[p];return{set:s,removed:CKEDITOR.tools.objectKeys(h)}}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){var t=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});e.removeStyle(t)},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]"},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t=e.getSelection(),n=t.createBookmarks(),i;t&&(i=t.getSelectedElement())&&(i.getChildCount()?i.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,i))?i.remove(1):(i=CKEDITOR.plugins.link.getSelectedLink(e))&&(i.hasAttribute("href")?(i.removeAttributes({name:1,"data-cke-saved-name":1}),i.removeClass("cke_anchor")):i.remove(1)),t.selectBookmarks(n)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function e(e,t,n){return u(t)&&u(n)&&n.equals(t.getNext(function(e){return!(q(e)||Y(e)||d(e))}))}function t(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function n(e){var t=e.element;if(t&&u(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=r(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function i(e,t,n){return w(e,t),w(e,n),e=t.size.bottom,n=n.size.top,e&&n?0|(e+n)/2:e||n}function o(e,t,n){return t=t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!q(t)||u(t)&&!d(t)&&!c(e,t)})}function r(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,n=S('<span contenteditable="false" style="'+z+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),i=CKEDITOR.getUrl(this.path+"images/"+(I.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");for(T(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(e.editable,!0),this},lineChildren:[T(S('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:z+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+i+") center no-repeat "+e.boxColor+";cursor:pointer;"+(I.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(I.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px",1),"top:-17px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px 2px 0px 0px",1),"top:-1px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","0px 0px 2px 2px",1)]}),T(S(U,t),{base:V+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),T(S(U,t),{base:V+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){w(e,this);var t=e.holdDistance,n=this.size;return!!(n&&e.mouse.y>n.top-t&&e.mouse.y<n.bottom+t&&e.mouse.x>n.left-t&&e.mouse.x<n.right+t)},place:function(){var t=e.view,n=e.editable,i=e.trigger,o=i.upper,r=i.lower,s=o||r,a=s.getParent(),l={};this.trigger=i,o&&w(e,o,!0),r&&w(e,r,!0),w(e,a,!0),e.inInlineMode&&y(e,!0),a.equals(n)?(l.left=t.scroll.x,l.right=-t.scroll.x,l.width=""):(l.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0),l.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x,l.right=""),o&&r?l.top=o.size.margin.bottom===r.size.margin.top?0|o.size.bottom+o.size.margin.bottom/2:o.size.margin.bottom<r.size.margin.top?o.size.bottom+o.size.margin.bottom:o.size.bottom+o.size.margin.bottom-r.size.margin.top:o?r||(l.top=o.size.bottom+o.size.margin.bottom):l.top=r.size.top-r.size.margin.top,i.is(M)||l.top>t.scroll.y-15&&l.top<t.scroll.y+5?(l.top=e.inInlineMode?0:t.scroll.y,this.look(M)):i.is(L)||l.top>t.pane.bottom-5&&l.top<t.pane.bottom+15?(l.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(L)):(e.inInlineMode&&(l.top=l.top-(t.editable.top+t.editable.border.top)),this.look(B)),e.inInlineMode&&(l.top--,l.top=l.top+t.editable.scroll.top,l.left=l.left+t.editable.scroll.left);for(var c in l)l[c]=CKEDITOR.tools.cssLength(l[c]);this.setStyles(l)},look:function(e){if(this.oldLook!=e){for(var t=this.lineChildren.length,n;t--;)(n=this.lineChildren[t]).setAttribute("style",n.base+n.looks[0|e/2]);this.oldLook=e}},wrap:new C("span",e.doc)}),t=n.lineChildren.length;t--;)n.lineChildren[t].appendTo(n);n.look(B),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",function(t){n.detach(),a(e,function(t){var n=e.line.trigger;t[n.is(k)?"insertBefore":"insertAfter"](n.is(k)?n.lower:n.upper)},!0),e.editor.focus(),!I.ie&&e.enterMode!=CKEDITOR.ENTER_BR&&e.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),n.on("mousedown",function(e){e.data.preventDefault(!0)}),e.line=n}function a(e,t,n){var i=new CKEDITOR.dom.range(e.doc),o=e.editor,s;I.ie&&e.enterMode==CKEDITOR.ENTER_BR?s=e.doc.createText(K):(s=(s=r(e.element,!0))&&s.data("cke-enter-mode")||e.enterMode,s=new C(x[s],e.doc),s.is("br")||e.doc.createText(K).appendTo(s)),n&&o.fire("saveSnapshot"),t(s),i.moveToPosition(s,CKEDITOR.POSITION_AFTER_START),o.getSelection().selectRanges([i]),e.hotNode=s,n&&o.fire("saveSnapshot")}function l(e,t){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(n){var i=I.ie&&I.version<9?" ":K,o=e.hotNode&&e.hotNode.getText()==i&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;a(e,function(i){o&&e.hotNode&&e.hotNode.remove(),i[t?"insertAfter":"insertBefore"](n),i.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t}),e.lastCmdDirection=!!t}),!I.ie&&e.enterMode!=CKEDITOR.ENTER_BR&&e.hotNode.scrollIntoView(),e.line.detach()}return function(s){var s=s.getSelection().getStartElement(),a,s=s.getAscendant(W,1);if(!f(e,s)&&s&&!s.equals(e.editable)&&!s.contains(e.editable)){(a=r(s))&&"false"==a.getAttribute("contenteditable")&&(s=a),e.element=s,a=o(e,s,!t);var l;u(a)&&a.is(e.triggers)&&a.is(j)&&(!o(e,a,!t)||(l=o(e,a,!t))&&u(l)&&l.is(e.triggers))?i(a):(l=n(e,s),u(l)&&(o(e,l,!t)?(s=o(e,l,!t))&&u(s)&&s.is(e.triggers)&&i(l):i(l)))}}}()}}function c(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function u(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function d(e){if(!u(e))return!1;var t;return(t=h(e))||(u(e)?(t={left:1,right:1,center:1},t=!(!t[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])):t=!1),t}function h(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function p(e,t){return u(t)?t.is(e.triggers):null}function f(e,t){if(!t)return!1;for(var n=t.getParents(1),i=n.length;i--;)for(var o=e.tabuList.length;o--;)if(n[i].hasAttribute(e.tabuList[o]))return!0;return!1}function m(e,t,n){return!!(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(H)}))&&(w(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}function g(e){var n=e.editable,i=e.mouse,o=e.view,r=e.triggerOffset;y(e);var s=i.y>(e.inInlineMode?o.editable.top+o.editable.height/2:Math.min(o.editable.height,o.pane.height)/2),n=n[s?"getLast":"getFirst"](function(e){return!(q(e)||Y(e))});return n?(c(e,n)&&(n=e.line.wrap[s?"getPrevious":"getNext"](function(e){return!(q(e)||Y(e))})),u(n)&&!d(n)&&p(e,n)?(w(e,n),!s&&n.size.top>=0&&i.y>0&&i.y<n.size.top+r?(e=e.inInlineMode||0===o.scroll.y?M:B,new t([null,n,k,A,e])):s&&n.size.bottom<=o.pane.height&&i.y>n.size.bottom-r&&i.y<o.pane.height?(e=e.inInlineMode||n.size.bottom>o.pane.height-r&&n.size.bottom<o.pane.height?L:B,new t([n,null,R,A,e])):null):null):null}function v(e){var i=e.mouse,r=e.view,s=e.triggerOffset,a=n(e);if(!a)return null;w(e,a);var s=Math.min(s,0|a.size.outerHeight/2),l=[],c,h;if(i.y>a.size.top-1&&i.y<a.size.top+s)h=!1;else{if(!(i.y>a.size.bottom-s&&i.y<a.size.bottom+1))return null;h=!0}if(d(a)||m(e,a,h)||a.getParent().is(F))return null;var f=o(e,a,!h);if(f){if(f&&f.type==CKEDITOR.NODE_TEXT)return null;if(u(f)){if(d(f)||!p(e,f)||f.getParent().is(F))return null;l=[f,a][h?"reverse":"concat"]().concat([P,A])}}else a.equals(e.editable[h?"getLast":"getFirst"](e.isRelevant))?(y(e),h&&i.y>a.size.bottom-s&&i.y<r.pane.height&&a.size.bottom>r.pane.height-s&&a.size.bottom<r.pane.height?c=L:i.y>0&&i.y<a.size.top+s&&(c=M)):c=B,l=[null,a][h?"reverse":"concat"]().concat([h?R:k,A,c,a.equals(e.editable[h?"getLast":"getFirst"](e.isRelevant))?h?L:M:B]);return 0 in l?new t(l):null}function b(e,t,n,i){for(var o=function(){var n=I.ie?t.$.currentStyle:e.win.$.getComputedStyle(t.$,"");return I.ie?function(e){return n[CKEDITOR.tools.cssStyleToDomStyle(e)]}:function(e){return n.getPropertyValue(e)}}(),r=t.getDocumentPosition(),s={},a={},l={},c={},u=J.length;u--;)s[J[u]]=parseInt(o("border-"+J[u]+"-width"),10)||0,l[J[u]]=parseInt(o("padding-"+J[u]),10)||0,a[J[u]]=parseInt(o("margin-"+J[u]),10)||0;return(!n||i)&&_(e,i),c.top=r.y-(n?0:e.view.scroll.y),c.left=r.x-(n?0:e.view.scroll.x),c.outerWidth=t.$.offsetWidth,c.outerHeight=t.$.offsetHeight,c.height=c.outerHeight-(l.top+l.bottom+s.top+s.bottom),c.width=c.outerWidth-(l.left+l.right+s.left+s.right),c.bottom=c.top+c.outerHeight,c.right=c.left+c.outerWidth,e.inInlineMode&&(c.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),T({border:s,padding:l,margin:a,ignoreScroll:n},c,!0)}function w(e,t,n){if(!u(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-$)return null}else t.size={};return T(t.size,b(e,t,n),{date:+new Date},!0)}function y(e,t){e.view.editable=b(e,e.editable,t,!0)}function _(e,t){e.view||(e.view={});var n=e.view;if(t||!(n&&n.date>new Date-$)){var i=e.win,n=i.getScrollPosition(),i=i.getViewPaneSize();T(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-i.width,height:e.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function E(e,n,i,o){for(var r=o,s=o,a=0,l=!1,c=!1,u=e.view.pane.height,d=e.mouse;d.y+a<u&&d.y-a>0&&(l||(l=n(r,o)),c||(c=n(s,o)),!l&&d.y-a>0&&(r=i(e,{x:d.x,y:d.y-a})),!c&&d.y+a<u&&(s=i(e,{x:d.x,y:d.y+a})),!l||!c);)a+=2;return new t([r,s,null,null])}CKEDITOR.plugins.add("magicline",{init:function(e){var i=e.config,r=i.magicline_triggerOffset||30,p={editor:e,enterMode:i.enterMode,triggerOffset:r,holdDistance:0|r*(i.magicline_holdDistance||.5),boxColor:i.magicline_color||"#ff0000",rtl:"rtl"==i.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(i.magicline_tabuList||[]),triggers:i.magicline_everywhere?W:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},m,w,E;p.isRelevant=function(e){return u(e)&&!c(p,e)&&!d(e)},e.on("contentDom",function(){var r=e.editable(),u=e.document,d=e.window;T(p,{editable:r,inInlineMode:r.isInline(),doc:u,win:d,hotNode:null},!0),p.boundary=p.inInlineMode?p.editable:p.doc.getDocumentElement(),r.is(D.$inline)||(p.inInlineMode&&!h(r)&&r.setStyles({position:"relative",top:null,left:null}),s.call(this,p),_(p),r.attachListener(e,"beforeUndoImage",function(){p.line.detach()}),r.attachListener(e,"beforeGetData",function(){p.line.wrap.getParent()&&(p.line.detach(),e.once("getData",function(){p.line.attach()},null,null,1e3))},null,null,0),r.attachListener(p.inInlineMode?u:u.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==e.mode)if(p.inInlineMode){var n=t.data.$.clientX,t=t.data.$.clientY;_(p),y(p,!0);var i=p.view.editable,o=p.view.scroll;n>i.left-o.x&&n<i.right-o.x&&t>i.top-o.y&&t<i.bottom-o.y||(clearTimeout(E),E=null,p.line.detach())}else clearTimeout(E),E=null,p.line.detach()}),r.attachListener(r,"keyup",function(){p.hiddenMode=0}),r.attachListener(r,"keydown",function(t){if("wysiwyg"==e.mode)switch(t.data.getKeystroke()){case 2228240:case 16:p.hiddenMode=1,p.line.detach()}}),r.attachListener(p.inInlineMode?r:u,"mousemove",function(t){if(w=!0,"wysiwyg"==e.mode&&!e.readOnly&&!E){var n={x:t.data.$.clientX,y:t.data.$.clientY};E=setTimeout(function(){p.mouse=n,E=p.trigger=null,_(p),w&&!p.hiddenMode&&e.focusManager.hasFocus&&!p.line.mouseNear()&&(p.element=G(p,!0))&&((p.trigger=g(p)||v(p)||X(p))&&!f(p,p.trigger.upper||p.trigger.lower)?p.line.attach().place():(p.trigger=null,p.line.detach()),w=!1)},30)}}),r.attachListener(d,"scroll",function(){"wysiwyg"==e.mode&&(p.line.detach(),I.webkit&&(p.hiddenMode=1,clearTimeout(m),m=setTimeout(function(){p.mouseDown||(p.hiddenMode=0)},50)))}),r.attachListener(O?u:d,"mousedown",function(){"wysiwyg"==e.mode&&(p.line.detach(),p.hiddenMode=1,p.mouseDown=1)}),r.attachListener(O?u:d,"mouseup",function(){p.hiddenMode=0,p.mouseDown=0}),e.addCommand("accessPreviousSpace",l(p)),e.addCommand("accessNextSpace",l(p,!0)),e.setKeystroke([[i.magicline_keystrokePrevious,"accessPreviousSpace"],[i.magicline_keystrokeNext,"accessNextSpace"]]),e.on("loadSnapshot",function(){var t,n,i,o;for(o in{p:1,br:1,div:1})for(t=e.document.getElementsByTag(o),i=t.count();i--;)if((n=t.getItem(i)).data("cke-magicline-hot"))return p.hotNode=n,void(p.lastCmdDirection="true"===n.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:a,boxTrigger:t,isLine:c,getAscendantTrigger:n,getNonEmptyNeighbour:o,getSize:b,that:p,triggerEdge:v,triggerEditable:g,triggerExpand:X})},this)}});var T=CKEDITOR.tools.extend,C=CKEDITOR.dom.element,S=C.createFromHtml,I=CKEDITOR.env,O=CKEDITOR.env.ie&&CKEDITOR.env.version<9,D=CKEDITOR.dtd,x={},k=128,R=64,P=32,A=16,N=8,M=4,L=2,B=1,K="",F=D.$listItem,H=D.$tableContent,j=T({},D.$nonEditable,D.$empty),W=D.$block,$=100,z="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",V=z+"border-color:transparent;display:block;border-style:solid;",U="<span>"+K+"</span>";x[CKEDITOR.ENTER_BR]="br",x[CKEDITOR.ENTER_P]="p",x[CKEDITOR.ENTER_DIV]="div",t.prototype={set:function(e,t,n){return this.properties=e+t+(n||B),this},is:function(e){return(this.properties&e)==e}};var G=function(){function e(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,n,i){if(!t.mouse)return null;var o=t.doc,r=t.line.wrap,i=i||t.mouse,s=e(o,i);return n&&c(t,s)&&(r.hide(),s=e(o,i),r.show()),!s||s.type!=CKEDITOR.NODE_ELEMENT||!s.$||I.ie&&I.version<9&&!t.boundary.equals(s)&&!t.boundary.contains(s)?null:s}}(),q=CKEDITOR.dom.walker.whitespaces(),Y=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function t(t){var o=t.element,r,s,a;if(!u(o)||o.contains(t.editable)||o.isReadOnly())return null;if(a=E(t,function(e,t){return!t.equals(e)},function(e,t){return G(e,!0,t)},o),r=a.upper,s=a.lower,e(t,r,s))return a.set(P,N);if(r&&o.contains(r))for(;!r.getParent().equals(o);)r=r.getParent();else r=o.getFirst(function(e){return n(t,e)});if(s&&o.contains(s))for(;!s.getParent().equals(o);)s=s.getParent();else s=o.getLast(function(e){return n(t,e)});if(!r||!s)return null;if(w(t,r),w(t,s),!(t.mouse.y>r.size.top&&t.mouse.y<s.size.bottom))return null;for(var o=Number.MAX_VALUE,l,c,d,h;s&&!s.equals(r)&&(c=r.getNext(t.isRelevant));)l=Math.abs(i(t,r,c)-t.mouse.y),l<o&&(o=l,d=r,h=c),r=c,w(t,r);return d&&h&&t.mouse.y>d.size.top&&t.mouse.y<h.size.bottom?(a.upper=d,a.lower=h,a.set(P,N)):null}function n(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||Y(t)||d(t)||c(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(n){var i=t(n),o;if(o=i){o=i.upper;var r=i.lower;o=!(!o||!r||d(r)||d(o)||r.equals(o)||o.equals(r)||r.contains(o)||o.contains(r))&&!!(p(n,o)&&p(n,r)&&e(n,o,r))}return o?i:null}}(),J=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],i=0;i<n.length;i++){var o=e.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),t.push([o,o.nextSibling]),o.remove())}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&t.length>0)for(var n=t.length-1;n>=0;n--){var i=t[n][0],o=t[n][1];o?i.insertBefore(o):i.appendTo(e)}}function n(n,i){var o=e(n),r={},s=n.$;return i||(r.class=s.className||"",s.className=""),r.inline=s.style.cssText||"",i||(s.style.cssText="position: static; overflow: visible"),t(o),r}function i(n,i){var o=e(n),r=n.$;"class"in i&&(r.className=i.class),"inline"in i&&(r.style.cssText=i.inline),t(o)}function o(e){if(!e.editable().isInline()){var t=CKEDITOR.instances,n;for(n in t){var i=t[n];"wysiwyg"!=i.mode||i.readOnly||(i=i.document.getBody(),i.setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=a.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var r=e.lang,s=CKEDITOR.document,a=s.getWindow(),l,c,u,d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=e.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),p=e.ui.space("contents");if("wysiwyg"==e.mode){var f=e.getSelection();l=f&&f.getRanges(),c=a.getScrollPosition()}else{var m=e.editable().$;l=!CKEDITOR.env.ie&&[m.selectionStart,m.selectionEnd],c=[m.scrollLeft,m.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(a.on("resize",t),u=a.getScrollPosition(),f=e.container;f=f.getParent();)f.setCustomData("maximize_saved_styles",n(f)),f.setStyle("z-index",e.config.baseFloatZIndex-5);p.setCustomData("maximize_saved_styles",n(p,!0)),h.setCustomData("maximize_saved_styles",n(h,!0)),p={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},s.getDocumentElement().setStyles(p),!CKEDITOR.env.gecko&&s.getDocumentElement().setStyle("position","fixed"),(!CKEDITOR.env.gecko||!CKEDITOR.env.quirks)&&s.getBody().setStyles(p),CKEDITOR.env.ie?setTimeout(function(){a.$.scrollTo(0,0)},0):a.$.scrollTo(0,0),h.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),h.$.offsetLeft,h.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),h.addClass("cke_maximized"),t(),p=h.getDocumentPosition(),h.setStyles({left:-1*p.x+"px",top:-1*p.y+"px"}),CKEDITOR.env.gecko&&o(e)}else if(this.state==CKEDITOR.TRISTATE_ON){for(a.removeListener("resize",t),p=[p,h],f=0;f<p.length;f++)i(p[f],p[f].getCustomData("maximize_saved_styles")),p[f].removeCustomData("maximize_saved_styles");for(f=e.container;f=f.getParent();)i(f,f.getCustomData("maximize_saved_styles")),f.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){a.$.scrollTo(u.x,u.y)},0):a.$.scrollTo(u.x,u.y),h.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(h.setStyle("display","inline"),setTimeout(function(){h.setStyle("display","block")},0)),e.fire("resize")}this.toggleState(),(f=this.uiItems[0])&&(p=this.state==CKEDITOR.TRISTATE_OFF?r.maximize.maximize:r.maximize.minimize,f=CKEDITOR.document.getById(f._.id),f.getChild(1).setHtml(p),f.setAttribute("title",p),f.setAttribute("href",'javascript:void("'+p+'");')),"wysiwyg"==e.mode?l?(CKEDITOR.env.gecko&&o(e),e.getSelection().selectRanges(l),(m=e.getSelection().getStartElement())&&m.scrollIntoView(!0)):a.$.scrollTo(c.x,c.y):(l&&(m.selectionStart=l[0],m.selectionEnd=l[1]),m.scrollLeft=c[0],m.scrollTop=c[1]),l=c=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{label:r.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}(),function(){function e(e,t,n){var i=CKEDITOR.cleanWord;return i?n():(e=CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile||t+"filter/default.js"),CKEDITOR.scriptLoader.load(e,n,null,!0)),!i}function t(e){e.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(n){var i=0,o=this.path;n.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e){var n=this;i=1,e.once("beforePaste",t),e.getClipboardData({title:e.lang.pastefromword.title},function(t){t&&e.fire("paste",{type:"html",dataValue:t.dataValue}),e.fire("afterCommandExec",{name:"pastefromword",command:n,returnValue:!!t})})}}),n.ui.addButton&&n.ui.addButton("PasteFromWord",{label:n.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),n.on("pasteState",function(e){n.getCommand("pastefromword").setState(e.data)}),n.on("paste",function(t){var r=t.data,s=r.dataValue;if(s&&(i||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(s))){var a=e(n,o,function(){a?n.fire("paste",r):(!n.config.pasteFromWordPromptCleanup||i||confirm(n.lang.pastefromword.confirmCleanup))&&(r.dataValue=CKEDITOR.cleanWord(s,n)),i=0});a&&t.cancel()}},null,null,3)}})}(),function(){var e={canUndo:!1,async:!0,exec:function(t){t.getClipboardData({title:t.lang.pastetext.title},function(n){n&&t.fire("paste",{type:"text",dataValue:n.dataValue}),t.fire("afterCommandExec",{name:"pastetext",command:e,returnValue:!!n})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){t.addCommand("pastetext",e),t.ui.addButton&&t.ui.addButton("PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",function(e){"html"!=e.data.type&&(e.data.type="text")}),t.on("pasteState",function(e){t.getCommand("pastetext").setState(e.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t=e._.removeFormatRegex||(e._.removeFormatRegex=RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),n=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),i=CKEDITOR.plugins.removeformat.filter,o=e.getSelection().getRanges(),r=o.createIterator(),s=function(e){return e.type==CKEDITOR.NODE_ELEMENT},a;a=r.getNextRange();){a.collapsed||a.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=a.createBookmark(),c=l.startNode,u=l.endNode,d=function(n){for(var o=e.elementPath(n),r=o.elements,s=1,a;(a=r[s])&&(!a.equals(o.block)&&!a.equals(o.blockLimit));s++)t.test(a.getName())&&i(e,a)&&n.breakParent(a)};if(d(c),u)for(d(u),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(u);)if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(s)}else d=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!i(e,c)||(t.test(c.getName())?c.remove(1):(c.removeAttributes(n),e.fire("removeFormatCleanup",c))),c=d;a.moveToBookmark(l)}e.forceNextSelectionCheck(),e.getSelection().selectRanges(o)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],i=0;i<n.length;i++)if(n[i](t)===!1)return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){function t(t){var n=i,l=o,u=n+(t.data.$.screenX-r)*("rtl"==c?-1:1),t=l+(t.data.$.screenY-s);d&&(n=Math.max(a.resize_minWidth,Math.min(u,a.resize_maxWidth))),h&&(l=Math.max(a.resize_minHeight,Math.min(t,a.resize_maxHeight))),e.resize(d?n:null,l)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),e.document&&(e.document.removeListener("mousemove",t),e.document.removeListener("mouseup",n))}var i,o,r,s,a=e.config,l=e.ui.spaceId("resizer"),c=e.element?e.element.getDirection(1):"ltr";if(!a.resize_dir&&(a.resize_dir="vertical"),void 0===a.resize_maxWidth&&(a.resize_maxWidth=3e3),void 0===a.resize_maxHeight&&(a.resize_maxHeight=3e3),
void 0===a.resize_minWidth&&(a.resize_minWidth=750),void 0===a.resize_minHeight&&(a.resize_minHeight=250),a.resize_enabled!==!1){var u=null,d=("both"==a.resize_dir||"horizontal"==a.resize_dir)&&a.resize_minWidth!=a.resize_maxWidth,h=("both"==a.resize_dir||"vertical"==a.resize_dir)&&a.resize_minHeight!=a.resize_maxHeight,p=CKEDITOR.tools.addFunction(function(l){u||(u=e.getResizable()),i=u.$.offsetWidth||0,o=u.$.offsetHeight||0,r=l.screenX,s=l.screenY,a.resize_minWidth>i&&(a.resize_minWidth=i),a.resize_minHeight>o&&(a.resize_minHeight=o),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),e.document&&(e.document.on("mousemove",t),e.document.on("mouseup",n)),l.preventDefault&&l.preventDefault()});e.on("destroy",function(){CKEDITOR.tools.removeFunction(p)}),e.on("uiSpace",function(t){if("bottom"==t.data.space){var n="";d&&!h&&(n=" cke_resizer_horizontal"),!d&&h&&(n=" cke_resizer_vertical");var i='<span id="'+l+'" class="cke_resizer'+n+" cke_resizer_"+c+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+p+', event)">'+("ltr"==c?"":"")+"</span>";"ltr"==c&&"ltr"==n?t.data.html=t.data.html+i:t.data.html=i+t.data.html}},e,null,100),e.on("maximize",function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,n=t.menu;t.state!==CKEDITOR.TRISTATE_DISABLED&&(t.on&&n?n.hide():(t.previousState=t.state,n||(n=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}}),n.onHide=CKEDITOR.tools.bind(function(){var n=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!n||n[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED),t.on=0},this),this.onMenu&&n.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),t.on=1,setTimeout(function(){n.show(CKEDITOR.document.getById(t.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow=!0,this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",init:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.bindEvents(e),this.parseConfig(e),this.addRule(e),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(e);var i=e.lang.scayt,o=CKEDITOR.env;e.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:i.text_title,title:e.plugins.wsc?e.lang.wsc.title:i.text_title,modes:{wysiwyg:!(o.ie&&(o.version<8||o.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=e.ui.instances.Scayt.getState();e.scayt&&(t=n.state[e.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.fire("scaytButtonState",t)},onRender:function(){var t=this;e.on("scaytButtonState",function(e){void 0!==typeof e.data&&t.setState(e.data)})},onMenu:function(){var t=e.scayt;return e.getMenuItem("scaytToggle").label=e.lang.scayt[t&&n.state[e.name]?"btn_disable":"btn_enable"],t={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:e.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED},e.config.scayt_uiTabs[0]||delete t.scaytOptions,e.config.scayt_uiTabs[1]||delete t.scaytLangs,e.config.scayt_uiTabs[2]||delete t.scaytDict,t}}),e.contextMenu&&e.addMenuItems&&(e.contextMenu.addListener(function(){var n=e.scayt,i;if(n){var o=n.getSelectionNode();(o=o?o.getAttribute(n.getNodeAttribute()):o)&&(i=t.menuGenerator(e,o,t),n.showBanner("."+e.contextMenu._.definition.panel.className.split(" ").join(" .")))}return i}),e.contextMenu._.onHide=CKEDITOR.tools.override(e.contextMenu._.onHide,function(t){return function(){var n=e.scayt;return n&&n.hideBanner(),t.apply(this)}}))},addMenuItems:function(e){var t=this,n=CKEDITOR.plugins.scayt;e.addMenuGroup("scaytButton");var i=e.config.scayt_contextMenuItemsOrder.split("|");if(i&&i.length)for(var o=0;o<i.length;o++)e.addMenuGroup("scayt_"+i[o],o-10);e.addCommand("scaytToggle",{exec:function(e){var t=e.scayt;n.state[e.name]=!n.state[e.name],n.state[e.name]===!0?t||n.createScayt(e):t&&n.destroy(e)}}),e.addCommand("scaytAbout",{exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytOptions",{exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytLangs",{exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytDict",{exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)}}),i={scaytToggle:{label:e.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:e.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:e.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:e.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:e.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},e.plugins.wsc&&(i.WSC={label:e.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,n=e.scayt,i=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(i=i.replace(/\s/g,""))?(n&&t.state[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0),e.lockSelection(),e.execCommand("checkspell")):alert("Nothing to check!")}}),e.addMenuItems(i)},bindEvents:function(e){function t(){var t=e.scayt;t&&(t.removeMarkupInSelectionNode(),t.fire("startSpellCheck"))}var n=CKEDITOR.plugins.scayt,i=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,o=function(){n.destroy(e)},r=function(){n.state[e.name]&&!e.readOnly&&!e.scayt&&n.createScayt(e)},s=function(){var t=e.editable();t.attachListener(t,"focus",function(){CKEDITOR.plugins.scayt&&!e.scayt&&setTimeout(r,0);var t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[e.name]&&e.scayt,n,o;if((i||t)&&e._.savedSelection)for(var t=e._.savedSelection.getSelectedElement(),t=!t&&e._.savedSelection.getRanges(),s=0;s<t.length;s++)o=t[s],"string"==typeof o.startContainer.$.nodeValue&&(n=o.startContainer.getText().length,(n<o.startOffset||n<o.endOffset)&&e.unlockSelection(!1))},this,null,-10)},a=function(){i?(e.on("blur",o),e.on("focus",r),e.focusManager.hasFocus&&r()):r(),s()};e.on("contentDom",a),e.on("beforeCommandExec",function(t){var i;t.data.name in n.options.disablingCommandExec&&"wysiwyg"==e.mode?(i=e.scayt)&&(n.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==t.data.name&&"italic"!==t.data.name&&"underline"!==t.data.name&&"strike"!==t.data.name&&"subscript"!==t.data.name&&"superscript"!==t.data.name&&"enter"!==t.data.name||(i=e.scayt)&&(i.removeMarkupInSelectionNode(),setTimeout(function(){i.fire("startSpellCheck")},0))}),e.on("beforeSetMode",function(t){"source"==t.data&&((t=e.scayt)&&(n.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),e.document&&e.document.getBody().removeAttribute("_jquid"))}),e.on("afterCommandExec",function(t){var n;"wysiwyg"!=e.mode||"undo"!=t.data.name&&"redo"!=t.data.name||(n=e.scayt)&&setTimeout(function(){n.fire("startSpellCheck")},250)}),e.on("readOnly",function(t){var i;t&&(i=e.scayt,t.editor.readOnly===!0?i&&i.fire("removeMarkupInDocument",{}):i?i.fire("startSpellCheck"):"wysiwyg"==t.editor.mode&&n.state[t.editor.name]===!0&&(n.createScayt(e),t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),e.on("beforeDestroy",o),e.on("setData",function(){o(),(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||e.plugins.divarea)&&a()},this,null,50),e.on("insertElement",function(){CKEDITOR.env.ie?setTimeout(function(){t()},50):t()},this,null,50),e.on("insertHtml",function(){t()},this,null,50),e.on("insertText",function(){t()},this,null,50),e.on("scaytDialogShown",function(t){t.data.selectPage(e.scayt.tabToOpen)}),e.on("paste",function(){var t=e.scayt;t&&t.removeMarkupInSelectionNode()},null,null,0)},parseConfig:function(e){var t=CKEDITOR.plugins.scayt;if(t.replaceOldOptionsNames(e.config),"boolean"!=typeof e.config.scayt_autoStartup&&(e.config.scayt_autoStartup=!1),t.state[e.name]=e.config.scayt_autoStartup,e.config.scayt_contextCommands||(e.config.scayt_contextCommands="ignore|ignoreall|add"),e.config.scayt_contextMenuItemsOrder||(e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),e.config.scayt_sLang||(e.config.scayt_sLang="en_US"),(void 0===e.config.scayt_maxSuggestions||"number"!=typeof e.config.scayt_maxSuggestions||e.config.scayt_maxSuggestions<0)&&(e.config.scayt_maxSuggestions=5),(void 0===e.config.scayt_minWordLength||"number"!=typeof e.config.scayt_minWordLength||e.config.scayt_minWordLength<1)&&(e.config.scayt_minWordLength=4),void 0!==e.config.scayt_customDictionaryIds&&"string"==typeof e.config.scayt_customDictionaryIds||(e.config.scayt_customDictionaryIds=""),void 0!==e.config.scayt_userDictionaryName&&"string"==typeof e.config.scayt_userDictionaryName||(e.config.scayt_userDictionaryName=null),"string"==typeof e.config.scayt_uiTabs&&3===e.config.scayt_uiTabs.split(",").length){var n=[],i=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(e.config.scayt_uiTabs,function(e){1===Number(e)||0===Number(e)?(i.push(!0),n.push(Number(e))):i.push(!1)}),e.config.scayt_uiTabs=null===CKEDITOR.tools.search(i,!1)?n:[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if("string"!=typeof e.config.scayt_serviceProtocol&&(e.config.scayt_serviceProtocol=null),"string"!=typeof e.config.scayt_serviceHost&&(e.config.scayt_serviceHost=null),"string"!=typeof e.config.scayt_servicePort&&(e.config.scayt_servicePort=null),"string"!=typeof e.config.scayt_servicePath&&(e.config.scayt_servicePath=null),e.config.scayt_moreSuggestions||(e.config.scayt_moreSuggestions="on"),"string"!=typeof e.config.scayt_customerId&&(e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof e.config.scayt_srcUrl&&(t=document.location.protocol,t=t.search(/https?:/)!=-1?t:"http:",e.config.scayt_srcUrl=t+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),e.config.scayt_disableOptionsStorage){var t=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:"string"==typeof e.config.scayt_disableOptionsStorage?[e.config.scayt_disableOptionsStorage]:void 0,o=["all","options","lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],r=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,a=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],l=!!s(e,"options");if(!s(o,i)||l&&s(r,function(e){if("lang"===e)return!1}))return;if(s(r,i)&&r.splice(a(r,i),1),"all"===i||l&&s(e,"lang"))return[];"options"===i&&(r=["lang"])}return t=t.concat(r)}(t)}},addRule:function(e){var t=e.dataProcessor,n=t&&t.htmlFilter,i=e._.elementsPath&&e._.elementsPath.filters,t=t&&t.dataFilter,o=e.addRemoveFormatFilter,r=function(t){var n=CKEDITOR.plugins.scayt;if(e.scayt&&t.hasAttribute(n.options.data_attribute_name))return!1},s=function(t){var n=CKEDITOR.plugins.scayt,i=!0;return e.scayt&&t.hasAttribute(n.options.data_attribute_name)&&(i=!1),i};i&&i.push(r),t&&t.addRules({elements:{span:function(t){var n=CKEDITOR.plugins.scayt;return n&&n.state[e.name]&&t.classes&&CKEDITOR.tools.search(t.classes,n.options.misspelled_word_class)&&(t.classes&&t.parent.type===CKEDITOR.NODE_DOCUMENT_FRAGMENT?(delete t.attributes.style,delete t.name):delete t.classes[CKEDITOR.tools.indexOf(t.classes,n.options.misspelled_word_class)]),t}}}),n&&n.addRules({elements:{span:function(t){var n=CKEDITOR.plugins.scayt;return n&&n.state[e.name]&&t.hasClass(n.options.misspelled_word_class)&&t.attributes[n.options.data_attribute_name]&&(t.removeClass(n.options.misspelled_word_class),delete t.attributes[n.options.data_attribute_name],delete t.name),t}}}),o&&o.call(e,s)},scaytMenuDefinition:function(e){var t=this,e=e.scayt;return{scayt_ignore:{label:e.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout(function(){t.addWordToUserDictionary()},10)}},option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[0]}},language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[1]}},dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[2]}},about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}}},buildSuggestionMenuItems:function(e,t){var n={},i={},o=e.scayt;if(t.length>0&&"no_any_suggestions"!==t[0])for(var r=0;r<t.length;r++){var s="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[r].replace(" ","_");e.addCommand(s,this.createCommand(CKEDITOR.plugins.scayt.suggestions[r])),r<e.config.scayt_maxSuggestions?(e.addMenuItem(s,{label:t[r],command:s,group:"scayt_suggest",order:r+1}),n[s]=CKEDITOR.TRISTATE_OFF):(e.addMenuItem(s,{label:t[r],command:s,group:"scayt_moresuggest",order:r+1}),i[s]=CKEDITOR.TRISTATE_OFF,"on"===e.config.scayt_moreSuggestions&&(e.addMenuItem("scayt_moresuggest",{label:o.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return i}}),n.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else n.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,e.addCommand("no_scayt_suggest",{exec:function(){}}),e.addMenuItem("no_scayt_suggest",{label:o.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return n},menuGenerator:function(e,t){var n=e.scayt,i=this.scaytMenuDefinition(e),o={},r=e.config.scayt_contextCommands.split("|");if(n.fire("getSuggestionsList",{lang:n.getLang(),word:t}),o=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions),"off"==e.config.scayt_contextCommands)return o;for(var s in i)CKEDITOR.tools.indexOf(r,s.replace("scayt_",""))==-1&&"all"!=e.config.scayt_contextCommands||(o[s]=CKEDITOR.TRISTATE_OFF,"function"==typeof i[s].verification&&!i[s].verification(e)&&delete o[s],e.addCommand(s,{exec:i[s].exec}),e.addMenuItem(s,{label:e.lang.scayt[i[s].label]||i[s].label,command:s,group:i[s].group,order:i[s].order}));return o},createCommand:function(e){return{exec:function(t){t.scayt.replaceSelectionNode({word:e})}}}}),CKEDITOR.plugins.scayt={state:{},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},replaceOldOptionsNames:function(e){for(var t in e)t in this.backCompatibilityMap&&(e[this.backCompatibilityMap[t]]=e[t],delete e[t])},createScayt:function(e){var t=this;this.loadScaytLibrary(e,function(e){var n={lang:e.config.scayt_sLang,container:"BODY"==e.editable().$.nodeName?e.document.getWindow().$.frameElement:e.editable().$,customDictionary:e.config.scayt_customDictionaryIds,userDictionaryName:e.config.scayt_userDictionaryName,localization:e.langCode,customer_id:e.config.scayt_customerId,debug:e.config.scayt_debug,data_attribute_name:t.options.data_attribute_name,misspelled_word_class:t.options.misspelled_word_class,"options-to-restore":e.config.scayt_disableOptionsStorage,focused:e.editable().hasFocus,ignoreElementsRegex:e.config.scayt_elementsToIgnore,minWordLength:e.config.scayt_minWordLength};e.config.scayt_serviceProtocol&&(n.service_protocol=e.config.scayt_serviceProtocol),e.config.scayt_serviceHost&&(n.service_host=e.config.scayt_serviceHost),e.config.scayt_servicePort&&(n.service_port=e.config.scayt_servicePort),e.config.scayt_servicePath&&(n.service_path=e.config.scayt_servicePath),n=new SCAYT.CKSCAYT(n,function(){},function(){}),n.subscribe("suggestionListSend",function(e){for(var t={},n=[],i=0;i<e.suggestionList.length;i++)t["word_"+e.suggestionList[i]]||(t["word_"+e.suggestionList[i]]=e.suggestionList[i],n.push(e.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),n.subscribe("selectionIsChanged",function(){e.getSelection().isLocked&&e.lockSelection()}),e.scayt=n,e.fire("scaytButtonState",e.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)})},destroy:function(e){e.scayt&&e.scayt.destroy(),delete e.scayt,e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var n=this,i;"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?this.loadingHelper[e.name]||(this.loadingHelper[e.name]=t,this.loadingHelper.loadOrder.push(e.name),i=new Date,i=i.getTime(),i=e.config.scayt_srcUrl+"?"+i,CKEDITOR.scriptLoader.load(i,function(){var e;CKEDITOR.fireOnce("scaytReady");for(var t=0;t<n.loadingHelper.loadOrder.length;t++)e=n.loadingHelper.loadOrder[t],"function"==typeof n.loadingHelper[e]&&n.loadingHelper[e](CKEDITOR.instances[e]),delete n.loadingHelper[e];n.loadingHelper.loadOrder=[]})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&(CKEDITOR.fireOnce("scaytReady"),e.scayt||"function"==typeof t&&t(e))}},CKEDITOR.on("dialogDefinition",function(e){"scaytDialog"===e.data.name&&e.data.definition.dialog.on("cancel",function(){return!1},this,null,-1)}),CKEDITOR.on("scaytReady",function(){if(CKEDITOR.config.scayt_handleCheckDirty===!0){var e=CKEDITOR.editor.prototype;e.checkDirty=CKEDITOR.tools.override(e.checkDirty,function(e){return function(){var t=null,n=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[this.name]&&this.scayt){if(t="ready"==this.status)var i=n.removeMarkupFromString(this.getSnapshot()),n=n.removeMarkupFromString(this._.previousValue),t=t&&n!==i}else t=e.call(this);return t}}),e.resetDirty=CKEDITOR.tools.override(e.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}})}if(CKEDITOR.config.scayt_handleUndoRedo===!0){var e=CKEDITOR.plugins.undo.Image.prototype,t="function"==typeof e.equalsContent?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],function(e){return function(t){var n=t.editor.scayt,i=this.contents,o=t.contents,r=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[t.editor.name]&&t.editor.scayt&&(this.contents=n.removeMarkupFromString(i)||"",t.contents=n.removeMarkupFromString(o)||""),r=e.apply(this,arguments),this.contents=i,t.contents=o,r}})}}),function(){var e={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:[".%1 table.%2,",".%1 table.%2 > tr > td, .%1 table.%2 > tr > th,",".%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,",".%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,",".%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th","{","border : #d3d3d3 1px dotted","}"]).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(e)},init:function(t){var n=t.addCommand("showborders",e);n.canUndo=!1,t.config.startupShowBorders!==!1&&n.setState(CKEDITOR.TRISTATE_ON),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)},null,null,100),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.on("removeFormatCleanup",function(e){e=e.data,t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&e.is("table")&&(!e.hasAttribute("border")||parseInt(e.getAttribute("border"),10)<=0)&&e.addClass("cke_show_border")})},afterInit:function(e){var t=e.dataProcessor,e=t&&t.dataFilter,t=t&&t.htmlFilter;e&&e.addRules({elements:{table:function(e){var e=e.attributes,t=e.class,n=parseInt(e.border,10);n&&!(n<=0)||t&&t.indexOf("cke_show_border")!=-1||(e.class=(t||"")+" cke_show_border")}}}),t&&t.addRules({elements:{table:function(e){var e=e.attributes,t=e.class;t&&(e.class=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;"table"!=t&&"tableProperties"!=t||(e=e.data.definition,t=e.getContents("info").get("txtBorder"),t.commit=CKEDITOR.tools.override(t.commit,function(e){return function(t,n){e.apply(this,arguments);var i=parseInt(this.getValue(),10);n[!i||i<=0?"addClass":"removeClass"]("cke_show_border")}}),(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses"))&&(e.setup=CKEDITOR.tools.override(e.setup,function(e){return function(){e.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),e.commit=CKEDITOR.tools.override(e.commit,function(e){return function(t,n){e.apply(this,arguments),parseInt(n.getAttribute("border"),10)||n.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(t){function n(){var e=o&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),e&&this.focus()}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var i=CKEDITOR.plugins.sourcearea;t.addMode("source",function(i){var o=t.ui.space("contents").getDocument().createElement("textarea");o.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",t.config.sourceAreaTabSize||4))),o.setAttribute("dir","ltr"),o.addClass("cke_source cke_reset cke_enable_context_menu"),t.ui.space("contents").append(o),o=t.editable(new e(t,o)),o.setData(t.getData(1)),CKEDITOR.env.ie&&(o.attachListener(t,"resize",n,o),o.attachListener(CKEDITOR.document.getWindow(),"resize",n,o),CKEDITOR.tools.setTimeout(n,0,o)),t.fire("ariaWidget",this),i()}),t.addCommand("source",i.commands.source),t.ui.addButton&&t.ui.addButton("Source",{label:t.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),t.on("mode",function(){t.getCommand("source").setState("source"==t.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var o=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var e=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){e.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){"wysiwyg"==e.mode&&e.fire("saveSnapshot"),e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),e.setMode("source"==e.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var n=e.langCode,n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[n]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,n=e.lang.stylescombo,i={},o=[],r=[];e.on("stylesSet",function(n){if(n=n.data.styles){for(var s,a,l,c=0,u=n.length;c<u;c++)s=n[c],e.blockless&&s.element in CKEDITOR.dtd.$block||(a=s.name,s=new CKEDITOR.style(s),e.filter.customConfig&&!e.filter.check(s)||(s._name=a,s._.enterMode=t.enterMode,s._.type=l=s.assignedTo||s.type,s._.weight=c+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),i[a]=s,o.push(s),r.push(s)));o.sort(function(e,t){return e._.weight-t._.weight})}}),e.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:r,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var e,t,i,r,s,a;for(s=0,a=o.length;s<a;s++)e=o[s],t=e._name,r=e._.type,r!=i&&(this.startGroup(n["panelTitle"+r]),i=r),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot");var t=i[t],n=e.elementPath();e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",function(t){for(var n=this.getValue(),t=t.data.path.elements,o=0,r=t.length,s;o<r;o++){s=t[o];for(var a in i)if(i[a].checkElementRemovable(s,!0,e))return void(a!=n&&this.setValue(a))}this.setValue("")},this)},onOpen:function(){var t=e.getSelection().getSelectedElement(),t=e.elementPath(t),o=[0,0,0,0];this.showAll(),this.unmarkAll();for(var r in i){var s=i[r],a=s._.type;s.checkApplicable(t,e,e.activeFilter)?o[a]++:this.hideItem(r),s.checkActive(t,e)&&this.mark(r)}o[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+CKEDITOR.STYLE_BLOCK]),o[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+CKEDITOR.STYLE_INLINE]),o[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+CKEDITOR.STYLE_OBJECT])},refresh:function(){var t=e.elementPath();if(t){for(var n in i)if(i[n].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){i={},o=[]}})}})}(),function(){function e(e){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var n=t.getSelection(),i;if(i=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){var n=t.createRange(),o=CKEDITOR.tools.tryThese(function(){var t=i.getParent().$.cells[i.$.cellIndex+(e?-1:1)];return t.parentNode.parentNode,t},function(){var t=i.getParent(),t=t.getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)];return t.cells[e?t.cells.length-1:0]});if(o||e){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),(!n.checkStartOfBlock()||!n.checkEndOfBlock())&&n.selectNodeContents(o)}else{for(var r=i.getAscendant("table").$,o=i.getParent().$.cells,r=new CKEDITOR.dom.element(r.insertRow(-1),t.document),s=0,a=o.length;s<a;s++)r.append(new CKEDITOR.dom.element(o[s],t.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(r)}return n.select(!0),!0}}return!1}}}var t={editorFocus:!1,modes:{wysiwyg:1,source:1}},n={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},i={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(o){for(var r=o.config.enableTabKeyTools!==!1,s=o.config.tabSpaces||0,a="";s--;)a+="";a&&o.on("key",function(e){9==e.data.keyCode&&(o.insertText(a),e.cancel())}),r&&o.on("key",function(e){(9==e.data.keyCode&&o.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&o.execCommand("selectPreviousCell"))&&e.cancel()}),o.addCommand("blur",CKEDITOR.tools.extend(n,t)),o.addCommand("blurBack",CKEDITOR.tools.extend(i,t)),o.addCommand("selectNextCell",e()),o.addCommand("selectPreviousCell",e(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var n=void 0===t?this.getTabIndex():t,i,o,r,s,a,l;if(n<=0)for(a=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){r=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!i)if(!o&&a.equals(this)){if(o=!0,e){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;i=1}}else o&&!this.contains(a)&&(i=1);if(a.isVisible()&&!((l=a.getTabIndex())<0)){if(i&&l==n){r=a;break}l>n&&(!r||!s||l<s)?(r=a,s=l):r||0!==l||(r=a,s=l)}}r&&r.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var n=void 0===t?this.getTabIndex():t,i,o,r,s=0,a,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!i)if(!o&&l.equals(this)){if(o=!0,e){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;i=1}}else o&&!this.contains(l)&&(i=1);if(l.isVisible()&&!((a=l.getTabIndex())<0))if(n<=0){if(i&&0===a){r=l;break}a>s&&(r=l,s=a)}else{if(i&&a==n){r=l;break}a<n&&(!r||a>s)&&(r=l,s=a)}}r&&r.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{
context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),i=e.editable();1==n.getChildCount()&&!n.is("td","th")&&!n.equals(i)&&(t=n),e=e.createRange(),e.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")}),e.contextMenu&&e.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function e(e){function t(e){n.length>0||e.type!=CKEDITOR.NODE_ELEMENT||!h.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(i,e,"selected_cell",!0),n.push(e))}for(var e=e.getRanges(),n=[],i={},o=0;o<e.length;o++){var r=e[o];if(r.collapsed)r=r.getCommonAncestor(),(r=r.getAscendant("td",!0)||r.getAscendant("th",!0))&&n.push(r);else{var r=new CKEDITOR.dom.walker(r),s;for(r.guard=t;s=r.next();)s.type==CKEDITOR.NODE_ELEMENT&&s.is(CKEDITOR.dtd.table)||(s=s.getAscendant("td",!0)||s.getAscendant("th",!0))&&!s.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(i,s,"selected_cell",!0),n.push(s))}}return CKEDITOR.dom.element.clearAllMarkers(i),n}function t(t,n){for(var i=e(t),o=i[0],r=o.getAscendant("table"),o=o.getDocument(),s=i[0].getParent(),a=s.$.rowIndex,i=i[i.length-1],l=i.getParent().$.rowIndex+i.$.rowSpan-1,i=new CKEDITOR.dom.element(r.$.rows[l]),a=n?a:l,s=n?s:i,i=CKEDITOR.tools.buildTableMap(r),r=i[a],a=n?i[a-1]:i[a+1],i=i[0].length,o=o.createElement("tr"),l=0;r[l]&&l<i;l++){var c;r[l].rowSpan>1&&a&&r[l]==a[l]?(c=r[l],c.rowSpan=c.rowSpan+1):(c=new CKEDITOR.dom.element(r[l]).clone(),c.removeAttribute("rowSpan"),c.appendBogus(),o.append(c),c=c.$),l+=c.colSpan-1}n?o.insertBefore(s):o.insertAfter(s)}function n(t){if(t instanceof CKEDITOR.dom.selection){for(var i=e(t),o=i[0].getAscendant("table"),r=CKEDITOR.tools.buildTableMap(o),t=i[0].getParent().$.rowIndex,i=i[i.length-1],s=i.getParent().$.rowIndex+i.$.rowSpan-1,i=[],a=t;a<=s;a++){for(var l=r[a],c=new CKEDITOR.dom.element(o.$.rows[a]),u=0;u<l.length;u++){var d=new CKEDITOR.dom.element(l[u]),h=d.getParent().$.rowIndex;1==d.$.rowSpan?d.remove():(d.$.rowSpan=d.$.rowSpan-1,h==a&&(h=r[a+1],h[u-1]?d.insertAfter(new CKEDITOR.dom.element(h[u-1])):new CKEDITOR.dom.element(o.$.rows[a+1]).append(d,1))),u+=d.$.colSpan-1}i.push(c)}for(r=o.$.rows,o=new CKEDITOR.dom.element(r[s+1]||(t>0?r[t-1]:null)||o.$.parentNode),a=i.length;a>=0;a--)n(i[a]);return o}return t instanceof CKEDITOR.dom.element&&(o=t.getAscendant("table"),1==o.$.rows.length?o.remove():t.remove()),null}function i(e,t){for(var n=t?1/0:0,i=0;i<e.length;i++){var o;o=e[i];for(var r=t,s=o.getParent().$.cells,a=0,l=0;l<s.length;l++){var c=s[l],a=a+(r?1:c.colSpan);if(c==o.$)break}o=a-1,(t?o<n:o>n)&&(n=o)}return n}function o(t,n){for(var o=e(t),r=o[0].getAscendant("table"),s=i(o,1),o=i(o),s=n?s:o,a=CKEDITOR.tools.buildTableMap(r),r=[],o=[],l=a.length,c=0;c<l;c++)r.push(a[c][s]),o.push(n?a[c][s-1]:a[c][s+1]);for(c=0;c<l;c++)r[c]&&(r[c].colSpan>1&&o[c]==r[c]?(s=r[c],s.colSpan=s.colSpan+1):(s=new CKEDITOR.dom.element(r[c]).clone(),s.removeAttribute("colSpan"),s.appendBogus(),s[n?"insertBefore":"insertAfter"].call(s,new CKEDITOR.dom.element(r[c])),s=s.$),c+=s.rowSpan-1)}function r(e,t){var n=e.getStartElement();if(n=n.getAscendant("td",1)||n.getAscendant("th",1)){var i=n.clone();i.appendBogus(),t?i.insertBefore(n):i.insertAfter(n)}}function s(t){if(t instanceof CKEDITOR.dom.selection){var t=e(t),n=t[0]&&t[0].getAscendant("table"),i;e:{var o=0;i=t.length-1;for(var r={},l,c;l=t[o++];)CKEDITOR.dom.element.setMarker(r,l,"delete_cell",!0);for(o=0;l=t[o++];)if((c=l.getPrevious())&&!c.getCustomData("delete_cell")||(c=l.getNext())&&!c.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(r),i=c;break e}CKEDITOR.dom.element.clearAllMarkers(r),c=t[0].getParent(),(c=c.getPrevious())?i=c.getLast():(c=t[i].getParent(),i=(c=c.getNext())?c.getChild(0):null)}for(c=t.length-1;c>=0;c--)s(t[c]);i?a(i,!0):n&&n.remove()}else t instanceof CKEDITOR.dom.element&&(n=t.getParent(),1==n.getChildCount()?n.remove():t.remove())}function a(e,t){var n=e.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),n=new CKEDITOR.dom.range(n),n["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(!t)),n.select(!0)}function l(e,t,n){if(e=e[t],"undefined"==typeof n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function c(t,n,i){var o=e(t),r;if((n?1!=o.length:o.length<2)||(r=t.getCommonAncestor())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("table"))return!1;var s,t=o[0];r=t.getAscendant("table");var a=CKEDITOR.tools.buildTableMap(r),c=a.length,u=a[0].length,d=t.getParent().$.rowIndex,h=l(a,d,t);if(n){var p;try{var f=parseInt(t.getAttribute("rowspan"),10)||1;s=parseInt(t.getAttribute("colspan"),10)||1,p=a["up"==n?d-f:"down"==n?d+f:d]["left"==n?h-s:"right"==n?h+s:h]}catch(e){return!1}if(!p||t.$==p)return!1;o["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(p))}for(var n=t.getDocument(),m=d,f=p=0,g=!i&&new CKEDITOR.dom.documentFragment(n),v=0,n=0;n<o.length;n++){s=o[n];var b=s.getParent(),w=s.getFirst(),y=s.$.colSpan,_=s.$.rowSpan,b=b.$.rowIndex,E=l(a,b,s),v=v+y*_,f=Math.max(f,E-h+y);p=Math.max(p,b-d+_),i||(y=s,(_=y.getBogus())&&_.remove(),y.trim(),s.getChildren().count()&&(b==m||!w||w.isBlockBoundary&&w.isBlockBoundary({br:1})||(m=g.getLast(CKEDITOR.dom.walker.whitespaces(!0)))&&(!m.is||!m.is("br"))&&g.append("br"),s.moveChildren(g)),n?s.remove():s.setHtml("")),m=b}if(i)return p*f==v;for(g.moveChildren(t),t.appendBogus(),f>=u?t.removeAttribute("rowSpan"):t.$.rowSpan=p,p>=c?t.removeAttribute("colSpan"):t.$.colSpan=f,i=new CKEDITOR.dom.nodeList(r.$.rows),o=i.count(),n=o-1;n>=0;n--)r=i.getItem(n),r.$.cells.length||(r.remove(),o++);return t}function u(t,n){var i=e(t);if(i.length>1)return!1;if(n)return!0;var i=i[0],o=i.getParent(),r=o.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(r),a=o.$.rowIndex,c=l(s,a,i),u=i.$.rowSpan,d;if(u>1){d=Math.ceil(u/2);for(var u=Math.floor(u/2),o=a+d,r=new CKEDITOR.dom.element(r.$.rows[o]),s=l(s,o),h,o=i.clone(),a=0;a<s.length;a++){if(h=s[a],h.parentNode==r.$&&a>c){o.insertBefore(new CKEDITOR.dom.element(h));break}h=null}h||r.append(o)}else for(u=d=1,r=o.clone(),r.insertAfter(o),r.append(o=i.clone()),h=l(s,a),c=0;c<h.length;c++)h[c].rowSpan++;return o.appendBogus(),i.$.rowSpan=d,o.$.rowSpan=u,1==d&&i.removeAttribute("rowSpan"),1==u&&o.removeAttribute("rowSpan"),o}function d(t,n){var i=e(t);if(i.length>1)return!1;if(n)return!0;var i=i[0],o=i.getParent(),r=o.getAscendant("table"),r=CKEDITOR.tools.buildTableMap(r),s=l(r,o.$.rowIndex,i),a=i.$.colSpan;if(a>1)o=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=o=1,c=[],u=0;u<r.length;u++){var d=r[u];c.push(d[s]),d[s].rowSpan>1&&(u+=d[s].rowSpan-1)}for(r=0;r<c.length;r++)c[r].colSpan++}return r=i.clone(),r.insertAfter(i),r.appendBogus(),i.$.colSpan=o,r.$.colSpan=a,1==o&&i.removeAttribute("colSpan"),1==a&&r.removeAttribute("colSpan"),r}var h=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function l(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function h(e,t){var n=i.addCommand(e,t);i.addFeature(n)}var p=i.lang.table;h("cellProperties",new CKEDITOR.dialogCommand("cellProperties",l({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),h("rowDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection(),a(n(e))}})),h("rowInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),t(e,!0)}})),h("rowInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),t(e)}})),h("columnDelete",l({requiredContent:"table",exec:function(t){for(var t=t.getSelection(),t=e(t),n=t[0],i=t[t.length-1],t=n.getAscendant("table"),o=CKEDITOR.tools.buildTableMap(t),r,s,l=[],c=0,u=o.length;c<u;c++)for(var d=0,h=o[c].length;d<h;d++)o[c][d]==n.$&&(r=d),o[c][d]==i.$&&(s=d);for(c=r;c<=s;c++)for(d=0;d<o.length;d++)i=o[d],n=new CKEDITOR.dom.element(t.$.rows[d]),i=new CKEDITOR.dom.element(i[c]),i.$&&(1==i.$.colSpan?i.remove():i.$.colSpan=i.$.colSpan-1,d+=i.$.rowSpan-1,n.$.cells.length||l.push(n));s=t.$.rows[0]&&t.$.rows[0].cells,r=new CKEDITOR.dom.element(s[r]||(r?s[r-1]:t.$.parentNode)),l.length==u&&t.remove(),r&&a(r,!0)}})),h("columnInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),o(e,!0)}})),h("columnInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),o(e)}})),h("cellDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection(),s(e)}})),h("cellMerge",l({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e){a(c(e.getSelection()),!0)}})),h("cellMergeRight",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(c(e.getSelection(),"right"),!0)}})),h("cellMergeDown",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(c(e.getSelection(),"down"),!0)}})),h("cellVerticalSplit",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(u(e.getSelection()))}})),h("cellHorizontalSplit",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(d(e.getSelection()))}})),h("cellInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),r(e,!0)}})),h("cellInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),r(e)}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:p.cell.menu,group:"tablecell",order:1,getItems:function(){var t=i.getSelection(),n=e(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:c(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:c(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:c(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:u(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:d(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:n.length>0?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:p.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:p.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:p.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:p.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:p.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:p.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:p.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:p.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:p.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:p.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:p.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:p.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:p.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:p.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:p.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:p.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:p.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e){for(var e=e.$.rows,t=-1,n=[],i=0;i<e.length;i++){t++,!n[t]&&(n[t]=[]);for(var o=-1,r=0;r<e[i].cells.length;r++){var s=e[i].cells[r];for(o++;n[t][o];)o++;for(var a=isNaN(s.colSpan)?1:s.colSpan,s=isNaN(s.rowSpan)?1:s.rowSpan,l=0;l<s;l++){n[t+l]||(n[t+l]=[]);for(var c=0;c<a;c++)n[t+l][o+c]=e[i].cells[r]}o+=a-1}}return n},function(){function e(e){function n(){for(var n=i(),r=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),s=0;s<r.length;s++){var a=r[s];if("/"!=a){"string"==typeof a&&(a=r[s]={name:a});var l,c=a.groups;if(c)for(var u=0;u<c.length;u++)l=c[u],(l=n[l])&&o(a,l);(l=n[a.name])&&o(a,l)}}return r}function i(){var t={},n,i,o;for(n in e.ui.items)i=e.ui.items[n],o=i.toolbar||"others",o=o.split(","),i=o[0],o=parseInt(o[1]||-1,10),t[i]||(t[i]=[]),t[i].push({name:n,order:o});for(i in t)t[i]=t[i].sort(function(e,t){return e.order==t.order?0:t.order<0?-1:e.order<0?1:e.order<t.order?-1:1});return t}function o(t,n){if(n.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var i;i=n.shift();)i="string"==typeof i?i:i.name,s&&CKEDITOR.tools.indexOf(s,i)!=-1||(i=e.ui.create(i))&&e.addFeature(i)&&t.items.push(i)}}function r(e){var t=[],n,i,r;for(n=0;n<e.length;++n)i=e[n],r={},"/"==i?t.push(i):CKEDITOR.tools.isArray(i)?(o(r,CKEDITOR.tools.clone(i)),t.push(r)):i.items&&(o(r,CKEDITOR.tools.clone(i.items)),r.name=i.name,t.push(r));return t}var s=e.config.removeButtons,s=s&&s.split(","),a=e.config.toolbar;return"string"==typeof a&&(a=e.config["toolbar_"+a]),e.toolbar=a?r(a):n()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[],this.focusCommandExecuted=!1};n.prototype.focus=function(){for(var e=0,t;t=this.toolbars[e++];)for(var n=0,i;i=t.items[n++];)if(i.focus)return void i.focus()};var i={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(e.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){e.toolbox.focus()},100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var o,r=function(e,n){var i,s="rtl"==t.lang.dir,a=t.config.toolbarGroupCycling,l=s?37:39,s=s?39:37,a=void 0===a||a;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!i||!i.items.length;)if(i=9==n?(i?i.next:e.toolbar.next)||t.toolbox.toolbars[0]:(i?i.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1],i.items.length)for(e=i.items[o?i.items.length-1:0];e&&!e.focus;)(e=o?e.previous:e.next)||(i=0);return e&&e.focus(),!1;case l:i=e;do i=i.next,!i&&a&&(i=e.toolbar.items[0]);while(i&&!i.focus);return i?i.focus():r(e,9),!1;case 40:return e.button&&e.button.hasArrow?(t.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)}),e.execute()):r(e,40==n?l:s),!1;case s:case 38:i=e;do i=i.previous,!i&&a&&(i=e.toolbar.items[e.toolbar.items.length-1]);while(i&&!i.focus);return i?i.focus():(o=1,r(e,CKEDITOR.SHIFT+9),o=0),!1;case 27:return t.focus(),!1;case 13:case 32:return e.execute(),!1}return!0};t.on("uiSpace",function(i){if(i.data.space==t.config.toolbarLocation){i.removeListener(),t.toolbox=new n;var o=CKEDITOR.tools.getNextId(),s=['<span id="',o,'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',o,'" onmousedown="return false;">'],o=t.config.toolbarStartupExpanded!==!1,a,l;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(o?">":' style="display:none">'));for(var c=t.toolbox.toolbars,u=e(t),d=0;d<u.length;d++){var h,p=0,f,m=u[d],g;if(m)if(a&&(s.push("</span>"),l=a=0),"/"===m)s.push('<span class="cke_toolbar_break"></span>');else{g=m.items||m;for(var v=0;v<g.length;v++){var b=g[v],w;if(b)if(b.type==CKEDITOR.UI_SEPARATOR)l=a&&b;else{if(w=b.canGroup!==!1,!p){h=CKEDITOR.tools.getNextId(),p={id:h,items:[]},f=m.name&&(t.lang.toolbar.toolbarGroups[m.name]||m.name),s.push('<span id="',h,'" class="cke_toolbar"',f?' aria-labelledby="'+h+'_label"':"",' role="toolbar">'),f&&s.push('<span id="',h,'_label" class="cke_voice_label">',f,"</span>"),s.push('<span class="cke_toolbar_start"></span>');var y=c.push(p)-1;y>0&&(p.previous=c[y-1],p.previous.next=p)}w?a||(s.push('<span class="cke_toolgroup" role="presentation">'),a=1):a&&(s.push("</span>"),a=0),h=function(e){e=e.render(t,s),y=p.items.push(e)-1,y>0&&(e.previous=p.items[y-1],e.previous.next=e),e.toolbar=p,e.onkey=r,e.onfocus=function(){t.toolbox.focusCommandExecuted||t.focus()}},l&&(h(l),l=0),h(b)}}a&&(s.push("</span>"),l=a=0),p&&s.push('<span class="cke_toolbar_end"></span></span>')}}if(t.config.toolbarCanCollapse&&s.push("</span>"),t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var _=CKEDITOR.tools.addFunction(function(){t.execCommand("toolbarCollapse")});t.on("destroy",function(){CKEDITOR.tools.removeFunction(_)}),t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),i=e.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),s=o.$.offsetHeight,a=t.hasClass("cke_toolbox_collapser_min");a?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(a?"":""),i.setStyle("height",r-(o.$.offsetHeight-s)+"px"),e.fire("resize")},modes:{wysiwyg:1,source:1}}),t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),s.push('<a title="'+(o?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),o||s.push(" cke_toolbox_collapser_min"),s.push('" onclick="CKEDITOR.tools.callFunction('+_+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>"),i.data.html=i.data.html+s.join("")}}),t.on("destroy",function(){if(this.toolbox){var e,t=0,n,i,o;for(e=this.toolbox.toolbars;t<e.length;t++)for(i=e[t].items,n=0;n<i.length;n++)o=i[n],o.clickFn&&CKEDITOR.tools.removeFunction(o.clickFn),o.keyDownFn&&CKEDITOR.tools.removeFunction(o.keyDownFn)}}),t.on("uiReady",function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)}),t.addCommand("toolbarFocus",i),t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),t.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,n,i){var o=t(this.editor),r=0===n,s={name:e};if(i){if(i=CKEDITOR.tools.search(o,function(e){return e.name==i}))return!i.groups&&(i.groups=[]),n&&(n=CKEDITOR.tools.indexOf(i.groups,n),n>=0)?void i.groups.splice(n+1,0,e):void(r?i.groups.splice(0,0,e):i.groups.push(e));n=null}n&&(n=CKEDITOR.tools.indexOf(o,function(e){return e.name==n})),r?o.splice(0,0,e):"number"==typeof n?o.splice(n+1,0,s):o.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function i(e){s.enabled&&e.data.command.canUndo!==!1&&s.save()}function o(){s.enabled=!t.readOnly&&"wysiwyg"==t.mode,s.onChange()}var s=t.undoManager=new n(t),a=s.editingHandler=new r(s),l=t.addCommand("undo",{exec:function(){s.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),c=t.addCommand("redo",{exec:function(){s.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]),s.onChange=function(){l.setState(s.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),c.setState(s.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",i),t.on("afterCommandExec",i),t.on("saveSnapshot",function(e){s.save(e.data&&e.data.contentOnly)}),t.on("contentDom",a.attachListeners,a),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&s.save(!0)}),t.on("mode",o),t.on("readOnly",o),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){s.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){s.currentImage&&s.update()}),t.on("lockSnapshot",function(e){e=e.data,s.lock(e&&e.dontUpdate,e&&e.forceUpdate)}),t.on("unlockSnapshot",s.unlock,s)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this.editor=e,this.reset()};n.prototype={type:function(e,t){var i=n.getKeyGroup(e),o=this.strokesRecorded[i]+1,t=t||o>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(o=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[i]=o,this.previousKeyGroup=i},keyGroupChanged:function(e){return n.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var o=this.editor;if(this.locked||"ready"!=o.status||"wysiwyg"!=o.mode)return!1;var r=o.editable();if(!r||"ready"!=r.status)return!1;if(r=this.snapshots,t||(t=new i(o)),t.contents===!1)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else n!==!1&&o.fire("change");return r.splice(this.index+1,r.length-this.index-1),r.length==this.limit&&r.shift(),this.index=r.push(t)-1,this.currentImage=t,n!==!1&&this.refreshState(),!0},restoreImage:function(e){var t=this.editor,n;e.bookmarks&&(t.focus(),n=t.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?n.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&(n=this.editor.document.getBody().$.createTextRange(),n.collapse(!0),n.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),t.fire("change")},getNextImage:function(e){var t=this.snapshots,n=this.currentImage,i;if(n)if(e){for(i=this.index-1;i>=0;i--)if(e=t[i],!n.equalsContent(e))return e.index=i,e}else for(i=this.index+1;i<t.length;i++)if(e=t[i],!n.equalsContent(e))return e.index=i,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new i(this.editor));for(var t=this.index,n=this.snapshots;t>0&&this.currentImage.equalsContent(n[t-1]);)t-=1;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return!(!n.equalsContent(e)||n.equalsSelection(e))&&(this.currentImage=t[t.length-1]=e,!0)},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var o=new i(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(o)&&(n=o)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(this.locked=null,e===!0)this.update();else if(e){var t=new i(this.editor,!0);e.equalsContent(t)||this.update()}}}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(e){return!!n.navigationKeyCodes[e]},n.getKeyGroup=function(e){var i=n.keyGroups;return t[e]?i.FUNCTIONAL:i.PRINTABLE},n.getOppositeKeyGroup=function(e){var t=n.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},n.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&n.getKeyGroup(e)==n.keyGroups.FUNCTIONAL};var i=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e,e.fire("beforeUndoImage");var n=e.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},o=/\b(?:href|src|name)="[^"]*?"/gi;i.prototype={equalsContent:function(e){var t=this.contents,e=e.contents;return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(o,""),e=e.replace(o,"")),t==e},equalsSelection:function(e){var t=this.bookmarks,e=e.bookmarks;if(t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],o=e[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var r=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new s,this.lastKeydownImage=null};r.prototype={onKeydown:function(t){var o=t.data.getKey();229!==o&&(CKEDITOR.tools.indexOf(e,t.data.getKeystroke())>-1?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(o)||this.keyEventsStack.push(o),this.lastKeydownImage=new i(t.editor),(n.isNavigationKey(o)||this.undoManager.keyGroupChanged(o))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager,e=e.data.getKey(),o=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),n.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new i(t.editor,!0))||(o>0?t.type(e):n.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;(e||!t.save(!0,null,!1))&&t.updateSelection(new i(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),i=this;t.attachListener(t,"keydown",function(e){i.onKeydown(e),n.ieFunctionalKeysBug(e.data.getKey())&&i.onInput()},null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",i.onInput,i,null,999),t.attachListener(t,"keyup",i.onKeyup,i,null,999),t.attachListener(t,"paste",i.ignoreInputEventListener,i,null,999),t.attachListener(t,"drop",i.ignoreInputEventListener,i,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",function(){i.onNavigationKey()},null,null,999),t.attachListener(this.undoManager.editor,"blur",function(){i.keyEventsStack.remove(9)},null,null,999)}};var s=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};s.prototype={push:function(e){return this.stack[this.stack.push({keyCode:e,inputs:0})-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return e=this.getLastIndex(e),e!=-1?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){e=this.getLastIndex(e),e!=-1&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){e=e.data.$,!e.ctrlKey&&!e.metaKey&&this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(e){e.config.wsc_onFinish="function"==typeof e.config.wsc_onFinish?e.config.wsc_onFinish:function(){},e.config.wsc_onClose="function"==typeof e.config.wsc_onClose?e.config.wsc_onClose:function(){}},parseConfig:function(e){e.config.wsc_customerId=e.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",e.config.wsc_customDictionaryIds=e.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",e.config.wsc_userDictionaryName=e.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",e.config.wsc_customLoaderScript=e.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,CKEDITOR.config.wsc_cmd=e.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-aa00a1e",CKEDITOR.config.wsc_removeGlobalVariable=!0},init:function(e){var t=CKEDITOR.env;this.parseConfig(e),this.parseApi(e),e.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||t.ie&&(t.version<8||t.quirks))},"undefined"==typeof e.plugins.scayt&&e.ui.addButton&&e.ui.addButton("SpellChecker",{label:e.lang.wsc.toolbar,click:function(e){var t=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(t=t.replace(/\s/g,""))?e.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"));
}}),function(){function e(e){var n=this.editor,i=e.document,o=i.body,r=i.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=i.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=i.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),o.contentEditable=!0,CKEDITOR.env.ie&&(o.hideFocus=!0,o.disabled=!0,o.removeAttribute("disabled")),delete this._.isLoadingData,this.$=o,i=new CKEDITOR.dom.document(i),this.setup(),this.fixInitialSelection(),CKEDITOR.env.ie&&(i.getDocumentElement().addClass(i.$.compatMode),n.config.enterMode!=CKEDITOR.ENTER_P&&this.attachListener(i,"selectionchange",function(){var e=i.getBody(),t=n.getSelection(),o=t&&t.getRanges()[0];o&&e.getHtml().match(/^<p>(?:&nbsp;|<br>)<\/p>$/i)&&o.startContainer.equals(e)&&setTimeout(function(){o=n.getSelection().getRanges()[0],o.startContainer.equals("body")||(e.getFirst().remove(1),o.moveToElementEditEnd(e),o.select())},0)})),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&CKEDITOR.env.version>10)&&i.getDocumentElement().on("mousedown",function(e){e.data.getTarget().is("html")&&setTimeout(function(){n.editable().focus()})}),t(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(e){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout(function(){n.getSelection().scrollIntoView()},0);else if(n.window.$.innerHeight>this.$.offsetHeight){var i=n.createRange();i[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),i.select(),e.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(i,"blur",function(){try{i.$.selection.empty()}catch(e){}}),CKEDITOR.env.iOS&&this.attachListener(i,"touchend",function(){e.focus()}),o=n.document.getElementsByTag("title").getItem(0),o.data("cke-title",o.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout(function(){n.fire("dataReady")},0),CKEDITOR.env.ie&&setTimeout(function(){if(n.document){var e=n.document.$.body;e.runtimeStyle.marginBottom="0px",e.runtimeStyle.marginBottom=""}},1e3)},0,this)}function t(e){function t(){var t;e.editable().attachListener(e,"selectionChange",function(){var i=e.getSelection().getSelectedElement();i&&(t&&(t.detachEvent("onresizestart",n),t=null),i.$.attachEvent("onresizestart",n),t=i.$)})}function n(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var i=e.document.$;i.execCommand("enableObjectResizing",!1,!e.config.disableObjectResizing),i.execCommand("enableInlineTableEditing",!1,!e.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&e.config.disableObjectResizing&&t(e)}function n(){var e=[];if(CKEDITOR.document.$.documentMode>=8){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t=[],n;for(n in CKEDITOR.dtd.$removeEmpty)t.push("html.CSS1Compat "+n+"[contenteditable=false]");e.push(t.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),e.addMode("wysiwyg",function(t){function n(n){n&&n.removeListener(),e.editable(new i(e,r.$.contentWindow.document.body)),e.setData(e.getData(1),t)}var o="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",o=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent(o)+"}())":"",r=CKEDITOR.dom.element.createFromHtml('<iframe src="'+o+'" frameBorder="0"></iframe>');r.setStyles({width:"100%",height:"100%"}),r.addClass("cke_wysiwyg_frame cke_reset");var s=e.ui.space("contents");s.append(r),(o=CKEDITOR.env.ie||CKEDITOR.env.gecko)&&r.on("load",n);var a=e.title,l=e.fire("ariaEditorHelpLabel",{}).label;if(a&&(CKEDITOR.env.ie&&l&&(a+=", "+l),r.setAttribute("title",a)),l){var a=CKEDITOR.tools.getNextId(),c=CKEDITOR.dom.element.createFromHtml('<span id="'+a+'" class="cke_voice_label">'+l+"</span>");s.append(c,1),r.setAttribute("aria-describedby",a)}e.on("beforeModeUnload",function(e){e.removeListener(),c&&c.remove()}),r.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"}),!o&&n(),CKEDITOR.env.webkit&&(o=function(){s.setStyle("width","100%"),r.hide(),r.setSize("width",s.getSize("width")),s.removeStyle("width"),r.show()},r.setCustomData("onResize",o),CKEDITOR.document.getWindow().on("resize",o)),e.fire("ariaWidget",r)})}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)};var i=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var i=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),i.fire("dataReady");else{this._.isLoadingData=!0,i._.dataStore={id:1};var o=i.config,r=o.fullPage,s=o.docType,a=CKEDITOR.tools.buildStyleHtml(n()).replace(/<style>/,'<style data-cke-temp="1">');r||(a+=CKEDITOR.tools.buildStyleHtml(i.config.contentsCss));var l=o.baseHref?'<base href="'+o.baseHref+'" data-cke-temp="1" />':"";r&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(e){return i.docType=s=e,""}).replace(/<\?xml\s[^\?]*\?>/i,function(e){return i.xmlDeclaration=e,""})),e=i.dataProcessor.toHtml(e),r?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),l&&(e=e.replace(/<head[^>]*?>/,"$&"+l)),e=e.replace(/<\/head\s*>/,a+"$&"),e=s+e):e=o.docType+'<html dir="'+o.contentsLangDirection+'" lang="'+(o.contentsLanguage||i.langCode)+'"><head><title>'+this._.docTitle+"</title>"+l+a+"</head><body"+(o.bodyId?' id="'+o.bodyId+'"':"")+(o.bodyClass?' class="'+o.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(e=e.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),o='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(o+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),l&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(o+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,o),this.clearCustomData(),this.clearListeners(),i.fire("contentDomUnload");var c=this.getDocument();try{c.write(e)}catch(t){setTimeout(function(){c.write(e)},0)}}},getData:function(e){if(e)return this.getHtml();var e=this.editor,t=e.config,n=t.fullPage,i=n&&e.docType,o=n&&e.xmlDeclaration,r=this.getDocument(),n=n?r.getDocumentElement().getOuterHtml():r.getBody().getHtml();return CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(n=n.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),n=e.dataProcessor.toDataFormat(n),o&&(n=o+"\n"+n),i&&(n=i+"\n"+n),n},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:i.baseProto.focus.call(this)},detach:function(){var e=this.editor,t=e.document,e=e.window.getFrame();i.baseProto.detach.call(this),this.clearCustomData(),t.getDocumentElement().clearCustomData(),e.clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),(t=e.removeCustomData("onResize"))&&t.removeListener(),e.remove()}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.contentsCss=CKEDITOR.getUrl("contents.css"),CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea",CKEDITOR.config.skin="moono",function(){var e=function(e,t){for(var n=CKEDITOR.getUrl("plugins/"+t),e=e.split(","),i=0;i<e.length;i++)CKEDITOR.skin.icons[e[i]]={path:n,offset:-e[++i],bgsize:e[++i]}};CKEDITOR.env.hidpi?e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,creatediv,456,,docprops-rtl,480,,docprops,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,justifyblock,1080,,justifycenter,1104,,justifyleft,1128,,justifyright,1152,,language,1176,,anchor-rtl,1200,,anchor,1224,,link,1248,,unlink,1272,,bulletedlist-rtl,1296,,bulletedlist,1320,,numberedlist-rtl,1344,,numberedlist,1368,,mathjax,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastefromword-rtl,1536,,pastefromword,1560,,pastetext-rtl,1584,,pastetext,1608,,placeholder,1632,,preview-rtl,1656,,preview,1680,,print,1704,,removeformat,1728,,save,1752,,scayt,1776,,selectall,1800,,showblocks-rtl,1824,,showblocks,1848,,smiley,1872,,source-rtl,1896,,source,1920,,sourcedialog-rtl,1944,,sourcedialog,1968,,specialchar,1992,,table,2016,,templates-rtl,2040,,templates,2064,,uicolor,2088,,redo-rtl,2112,,redo,2136,,undo-rtl,2160,,undo,2184,,simplebox,4416,auto,spellchecker,2232,","icons_hidpi.png"):e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,creatediv,456,auto,docprops-rtl,480,auto,docprops,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,justifyblock,1080,auto,justifycenter,1104,auto,justifyleft,1128,auto,justifyright,1152,auto,language,1176,auto,anchor-rtl,1200,auto,anchor,1224,auto,link,1248,auto,unlink,1272,auto,bulletedlist-rtl,1296,auto,bulletedlist,1320,auto,numberedlist-rtl,1344,auto,numberedlist,1368,auto,mathjax,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastefromword-rtl,1536,auto,pastefromword,1560,auto,pastetext-rtl,1584,auto,pastetext,1608,auto,placeholder,1632,auto,preview-rtl,1656,auto,preview,1680,auto,print,1704,auto,removeformat,1728,auto,save,1752,auto,scayt,1776,auto,selectall,1800,auto,showblocks-rtl,1824,auto,showblocks,1848,auto,smiley,1872,auto,source-rtl,1896,auto,source,1920,auto,sourcedialog-rtl,1944,auto,sourcedialog,1968,auto,specialchar,1992,auto,table,2016,auto,templates-rtl,2040,auto,templates,2064,auto,uicolor,2088,auto,redo-rtl,2112,auto,redo,2136,auto,undo-rtl,2160,auto,undo,2184,auto,simplebox,2208,auto,spellchecker,2232,auto","icons.png")}())}(),e.exports=CKEDITOR},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(55),n(81),n(43)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0||(t[i]=1,o=t[i]>0,t[i]=0,o)},_create:function(){var t,n,i,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),r="ui-resizable-"+i,o=e("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===i&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(o);this._renderAxis=function(t){var n,i,o,r;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,o=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,i,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(n+=e(r.containment).scrollLeft()||0,i+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,o=this.originalMousePosition,r=this.axis,s=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,o,r,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),o=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,r=i?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(o[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,o,r,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:r,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:s,height:a}))},resize:function(t){var n,i,o,r,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,o=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),o=i.options,r=i.originalSize,s=i.originalPosition,a={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};e(o.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},r=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,o=n.size,r=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-r.width)/c)*c,h=Math.round((o.height-r.height)/u)*u,p=r.width+d,f=r.height+h,m=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),b&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-d):((f-u<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=s.top-h):(f=u-t.height,n.size.height=f,n.position.top=s.top+r.height-f),p-c>0?(n.size.width=p,n.position.left=s.left-d):(p=c-t.width,n.size.width=p,n.position.left=s.left+r.width-p))}}),e.ui.resizable})},function(e,t,n){var i,o,r;!function n(s,a){"object"==typeof t&&t&&"string"!=typeof t.nodeName?a(t):(o=[t],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r)))}(this,function e(t){function n(e){return"function"==typeof e}function i(e){return g(e)?"array":typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}function s(e,t){return v.call(e,t)}function a(e){return!s(b,e)}function l(e){return String(e).replace(/[&<>"'\/]/g,function e(t){return w[t]})}function c(e,n){function i(){if(p&&!f)for(;c.length;)delete l[c.pop()];else c=[];p=!1,f=!1}function r(e){if("string"==typeof e&&(e=e.split(_,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);m=new RegExp(o(e[0])+"\\s*"),v=new RegExp("\\s*"+o(e[1])),b=new RegExp("\\s*"+o("}"+e[1]))}if(!e)return[];var s=[],l=[],c=[],p=!1,f=!1,m,v,b;r(n||t.tags);for(var w=new h(e),S,I,O,D,x,k;!w.eos();){if(S=w.pos,O=w.scanUntil(m))for(var R=0,P=O.length;R<P;++R)D=O.charAt(R),a(D)?c.push(l.length):f=!0,l.push(["text",D,S,S+1]),S+=1,"\n"===D&&i();if(!w.scan(m))break;if(p=!0,I=w.scan(C)||"name",w.scan(y),"="===I?(O=w.scanUntil(E),w.scan(E),w.scanUntil(v)):"{"===I?(O=w.scanUntil(b),w.scan(T),w.scanUntil(v),
I="&"):O=w.scanUntil(v),!w.scan(v))throw new Error("Unclosed tag at "+w.pos);if(x=[I,O,S,w.pos],l.push(x),"#"===I||"^"===I)s.push(x);else if("/"===I){if(k=s.pop(),!k)throw new Error('Unopened section "'+O+'" at '+S);if(k[1]!==O)throw new Error('Unclosed section "'+k[1]+'" at '+S)}else"name"===I||"{"===I||"&"===I?f=!0:"="===I&&r(O)}if(k=s.pop())throw new Error('Unclosed section "'+k[1]+'" at '+w.pos);return d(u(l))}function u(e){for(var t=[],n,i,o=0,r=e.length;o<r;++o)n=e[o],n&&("text"===n[0]&&i&&"text"===i[0]?(i[1]+=n[1],i[3]=n[3]):(t.push(n),i=n));return t}function d(e){for(var t=[],n=t,i=[],o,r,s=0,a=e.length;s<a;++s)switch(o=e[s],o[0]){case"#":case"^":n.push(o),i.push(o),n=o[4]=[];break;case"/":r=i.pop(),r[5]=o[2],n=i.length>0?i[i.length-1][4]:t;break;default:n.push(o)}return t}function h(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.cache={}}var m=Object.prototype.toString,g=Array.isArray||function e(t){return"[object Array]"===m.call(t)},v=RegExp.prototype.test,b=/\S/,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=/\s*/,_=/\s+/,E=/\s*=/,T=/\s*\}/,C=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function e(){return""===this.tail},h.prototype.scan=function e(t){var n=this.tail.match(t);if(!n||0!==n.index)return"";var i=n[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},h.prototype.scanUntil=function e(t){var n=this.tail.search(t),i;switch(n){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=i.length,i},p.prototype.push=function e(t){return new p(t,this)},p.prototype.lookup=function e(t){var i=this.cache,o;if(i.hasOwnProperty(t))o=i[t];else{for(var s=this,a,l,c=!1;s;){if(t.indexOf(".")>0)for(o=s.view,a=t.split("."),l=0;null!=o&&l<a.length;)l===a.length-1&&(c=r(o,a[l])),o=o[a[l++]];else o=s.view[t],c=r(s.view,t);if(c)break;s=s.parent}i[t]=o}return n(o)&&(o=o.call(this.view)),o},f.prototype.clearCache=function e(){this.cache={}},f.prototype.parse=function e(t,n){var i=this.cache,o=i[t];return null==o&&(o=i[t]=c(t,n)),o},f.prototype.render=function e(t,n,i){var o=this.parse(t),r=n instanceof p?n:new p(n);return this.renderTokens(o,r,i,t)},f.prototype.renderTokens=function e(t,n,i,o){for(var r="",s,a,l,c=0,u=t.length;c<u;++c)l=void 0,s=t[c],a=s[0],"#"===a?l=this.renderSection(s,n,i,o):"^"===a?l=this.renderInverted(s,n,i,o):">"===a?l=this.renderPartial(s,n,i,o):"&"===a?l=this.unescapedValue(s,n):"name"===a?l=this.escapedValue(s,n):"text"===a&&(l=this.rawValue(s)),void 0!==l&&(r+=l);return r},f.prototype.renderSection=function e(t,i,o,r){function s(e){return a.render(e,i,o)}var a=this,l="",c=i.lookup(t[1]);if(c){if(g(c))for(var u=0,d=c.length;u<d;++u)l+=this.renderTokens(t[4],i.push(c[u]),o,r);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)l+=this.renderTokens(t[4],i.push(c),o,r);else if(n(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");c=c.call(i.view,r.slice(t[3],t[5]),s),null!=c&&(l+=c)}else l+=this.renderTokens(t[4],i,o,r);return l}},f.prototype.renderInverted=function e(t,n,i,o){var r=n.lookup(t[1]);if(!r||g(r)&&0===r.length)return this.renderTokens(t[4],n,i,o)},f.prototype.renderPartial=function e(t,i,o){if(o){var r=n(o)?o(t[1]):o[t[1]];return null!=r?this.renderTokens(this.parse(r),i,o,r):void 0}},f.prototype.unescapedValue=function e(t,n){var i=n.lookup(t[1]);if(null!=i)return i},f.prototype.escapedValue=function e(n,i){var o=i.lookup(n[1]);if(null!=o)return t.escape(o)},f.prototype.rawValue=function e(t){return t[1]},t.name="mustache.js",t.version="2.1.3",t.tags=["{{","}}"];var S=new f;t.clearCache=function e(){return S.clearCache()},t.parse=function e(t,n){return S.parse(t,n)},t.render=function e(t,n,o){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return S.render(t,n,o)},t.to_html=function e(i,o,r,s){var a=t.render(i,o,r);return n(s)?void s(a):a},t.escape=l,t.Scanner=h,t.Context=p,t.Writer=f})},function(e,t,n){var i,o;i=[n(1),n(2),n(50)],o=function(e,t,n){var i=n.extend({className:"topbar",template:'{{#hasContainer}}<div class="topbar__container">{{/hasContainer}}\n\t<h1 class="topbar__title">{{title}}</h1>\n\t{{#backLink}}\n\t\t<div class="topbar__left">\n\t\t\t<a class="{{backClassNames}}">\n\t\t\t\t{{#html}}\n\t\t\t\t\t{{{html}}}\n\t\t\t\t{{/html}}\n\t\t\t\t{{^html}}\n\t\t\t\t\t{{#isClose}}\n\t\t\t\t\t\t<span class="icon">xlarge</span>\n\t\t\t\t\t{{/isClose}}\n\t\t\t\t\t{{#isDirectional}}\n\t\t\t\t\t\t<span class="icon">leftarrowlarge</span>\n\t\t\t\t\t{{/isDirectional}}\n\t\t\t\t\t{{#icon}}\n\t\t\t\t\t\t<span class="icon">{{icon}}</span>\n\t\t\t\t\t{{/icon}}\n\t\t\t\t\t{{#text}}\n\t\t\t\t\t\t{{text}}\n\t\t\t\t\t{{/text}}\n\t\t\t\t{{/html}}\n\t\t\t</a>\n\t\t</div>\n\t{{/backLink}}\n\t{{#forwardLink}}\n\t\t<div class="topbar__right">\n\t\t\t<a class="{{forwardClassNames}}">\n\t\t\t\t{{#html}}\n\t\t\t\t\t{{{html}}}\n\t\t\t\t{{/html}}\n\t\t\t\t{{^html}}\n\t\t\t\t\t{{#text}}\n\t\t\t\t\t\t{{text}}\n\t\t\t\t\t{{/text}}\n\t\t\t\t\t{{#icon}}\n\t\t\t\t\t\t<span class="icon">{{icon}}</span>\n\t\t\t\t\t{{/icon}}\n\t\t\t\t\t{{#isDirectional}}\n\t\t\t\t\t\t<span class="icon">rightarrowlarge</span>\n\t\t\t\t\t{{/isDirectional}}\n\t\t\t\t{{/html}}\n\t\t\t</a>\n\t\t</div>\n\t{{/forwardLink}}\n{{#hasContainer}}</div>{{/hasContainer}}',title:"Topbar",isDark:!1,isEditMode:!1,hasContainer:!1,hasTopbarBorder:!0,backLink:null,forwardLink:null,isBackEnabled:!0,isForwardEnabled:!0,events:{"click .topbar__close":"onBackClick","click .topbar__back":"onBackClick","click .topbar__forward":"onForwardClick"},_initialize:function(){this.title=this.queryOption("title"),this.isEditMode=this.queryOption("isEditMode"),this.setBackLink(this.queryOption("backLink")),this.setForwardLink(this.queryOption("forwardLink"))},getRenderData:function(){var e=[this.backLink.isClose?"topbar__close":"topbar__action topbar__back",this.isBackEnabled?"":"is-inactive",this.backLink.className||""].join(" "),t=["topbar__action topbar__forward",this.isForwardEnabled?"":"is-inactive",this.forwardLink.className||""].join(" ");return this.backLink.isClose&&"xlarge"===this.backLink.icon&&(this.backLink.icon=null),{title:this.title,backLink:this.backLink,forwardLink:this.forwardLink,backClassNames:e,forwardClassNames:t,hasContainer:this.queryOption("hasContainer")}},render:function(){return this.$el.toggleClass("topbar--dark",this.queryOption("isDark")).toggleClass("topbar--editmode",this.queryOption("isEditMode")).toggleClass("dialog__topbar--borderless",!this.queryOption("hasTopbarBorder")),n.prototype.render.call(this)},onBackClick:function(){this.isBackEnabled&&this._trigger("back")},onForwardClick:function(){this.isForwardEnabled&&this._trigger("forward")},setTitle:function(e){this.title=e,this.rerender()},setBackLink:function(e){this.backLink=this.getNormalizedLink(e),this.extendEvents(e),void 0!==this.backLink.isEnabled&&(this.isBackEnabled=this.backLink.isEnabled,delete this.backLink.isEnabled),this.rerender()},setForwardLink:function(e){this.forwardLink=this.getNormalizedLink(e),this.extendEvents(e),void 0!==this.forwardLink.isEnabled&&(this.isForwardEnabled=this.forwardLink.isEnabled,delete this.forwardLink.isEnabled),this.rerender()},setBackEnabled:function(e){e!=this.isBackEnabled&&(this.isBackEnabled=e,this.rerender())},setForwardEnabled:function(e){e!=this.isForwardEnabled&&(this.isForwardEnabled=e,this.rerender())},rerender:function(){this.getIsRendered()&&this.render()},getIsRendered:function(){return Boolean(this.$el&&this.$el.find(".topbar__title").length)},getNormalizedLink:function(e){return"string"==typeof e?{text:e}:e||!1}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(){function n(e){function t(t,n,i,o,r,s){for(;r>=0&&r<s;r+=e){var a=o?o[r]:r;i=n(i,t[a],a,t)}return i}return function(n,i,o,r){i=T(i,r,4);var s=!k(n)&&E.keys(n),a=(s||n).length,l=e>0?0:a-1;return arguments.length<3&&(o=n[s?s[l]:l],l+=e),t(n,i,o,s,l,a)}}function r(e){return function(t,n,i){n=C(n,i);for(var o=x(t),r=e>0?0:o-1;r>=0&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}}function s(e,t,n){return function(i,o,r){var s=0,a=x(i);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=t(f.call(i,s,a),E.isNaN),r>=0?r+s:-1;for(r=e>0?s:a-1;r>=0&&r<a;r+=e)if(i[r]===o)return r;return-1}}function a(e,t){var n=M.length,i=e.constructor,o=E.isFunction(i)&&i.prototype||d,r="constructor";for(E.has(e,r)&&!E.contains(t,r)&&t.push(r);n--;)r=M[n],r in e&&e[r]!==o[r]&&!E.contains(t,r)&&t.push(r)}var l=this,c=l._,u=Array.prototype,d=Object.prototype,h=Function.prototype,p=u.push,f=u.slice,m=d.toString,g=d.hasOwnProperty,v=Array.isArray,b=Object.keys,w=h.bind,y=Object.create,_=function(){},E=function(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=E),t._=E,E.VERSION="1.8.3";var T=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){return null==e?E.identity:E.isFunction(e)?T(e,t,n):E.isObject(e)?E.matcher(e):E.property(e)};E.iteratee=function(e,t){return C(e,t,1/0)};var S=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],s=e(r),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=r[c])}return n}},I=function(e){if(!E.isObject(e))return{};if(y)return y(e);_.prototype=e;var t=new _;return _.prototype=null,t},O=function(e){return function(t){return null==t?void 0:t[e]}},D=Math.pow(2,53)-1,x=O("length"),k=function(e){var t=x(e);return"number"==typeof t&&t>=0&&t<=D};E.each=E.forEach=function(e,t,n){t=T(t,n);var i,o;if(k(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=E.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},E.map=E.collect=function(e,t,n){t=C(t,n);for(var i=!k(e)&&E.keys(e),o=(i||e).length,r=Array(o),s=0;s<o;s++){var a=i?i[s]:s;r[s]=t(e[a],a,e)}return r},E.reduce=E.foldl=E.inject=n(1),E.reduceRight=E.foldr=n(-1),E.find=E.detect=function(e,t,n){var i;if(i=k(e)?E.findIndex(e,t,n):E.findKey(e,t,n),void 0!==i&&i!==-1)return e[i]},E.filter=E.select=function(e,t,n){var i=[];return t=C(t,n),E.each(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i},E.reject=function(e,t,n){return E.filter(e,E.negate(C(t)),n)},E.every=E.all=function(e,t,n){t=C(t,n);for(var i=!k(e)&&E.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return!1}return!0},E.some=E.any=function(e,t,n){t=C(t,n);for(var i=!k(e)&&E.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(t(e[s],s,e))return!0}return!1},E.contains=E.includes=E.include=function(e,t,n,i){return k(e)||(e=E.values(e)),("number"!=typeof n||i)&&(n=0),E.indexOf(e,t,n)>=0},E.invoke=function(e,t){var n=f.call(arguments,2),i=E.isFunction(t);return E.map(e,function(e){var o=i?t:e[t];return null==o?o:o.apply(e,n)})},E.pluck=function(e,t){return E.map(e,E.property(t))},E.where=function(e,t){return E.filter(e,E.matcher(t))},E.findWhere=function(e,t){return E.find(e,E.matcher(t))},E.max=function(e,t,n){var i=-(1/0),o=-(1/0),r,s;if(null==t&&null!=e){e=k(e)?e:E.values(e);for(var a=0,l=e.length;a<l;a++)r=e[a],r>i&&(i=r)}else t=C(t,n),E.each(e,function(e,n,r){s=t(e,n,r),(s>o||s===-(1/0)&&i===-(1/0))&&(i=e,o=s)});return i},E.min=function(e,t,n){var i=1/0,o=1/0,r,s;if(null==t&&null!=e){e=k(e)?e:E.values(e);for(var a=0,l=e.length;a<l;a++)r=e[a],r<i&&(i=r)}else t=C(t,n),E.each(e,function(e,n,r){s=t(e,n,r),(s<o||s===1/0&&i===1/0)&&(i=e,o=s)});return i},E.shuffle=function(e){for(var t=k(e)?e:E.values(e),n=t.length,i=Array(n),o=0,r;o<n;o++)r=E.random(0,o),r!==o&&(i[o]=i[r]),i[r]=t[o];return i},E.sample=function(e,t,n){return null==t||n?(k(e)||(e=E.values(e)),e[E.random(e.length-1)]):E.shuffle(e).slice(0,Math.max(0,t))},E.sortBy=function(e,t,n){return t=C(t,n),E.pluck(E.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var R=function(e){return function(t,n,i){var o={};return n=C(n,i),E.each(t,function(i,r){var s=n(i,r,t);e(o,i,s)}),o}};E.groupBy=R(function(e,t,n){E.has(e,n)?e[n].push(t):e[n]=[t]}),E.indexBy=R(function(e,t,n){e[n]=t}),E.countBy=R(function(e,t,n){E.has(e,n)?e[n]++:e[n]=1}),E.toArray=function(e){return e?E.isArray(e)?f.call(e):k(e)?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:k(e)?e.length:E.keys(e).length},E.partition=function(e,t,n){t=C(t,n);var i=[],o=[];return E.each(e,function(e,n,r){(t(e,n,r)?i:o).push(e)}),[i,o]},E.first=E.head=E.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:E.initial(e,e.length-t)},E.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},E.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:E.rest(e,Math.max(0,e.length-t))},E.rest=E.tail=E.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var P=function(e,t,n,i){for(var o=[],r=0,s=i||0,a=x(e);s<a;s++){var l=e[s];if(k(l)&&(E.isArray(l)||E.isArguments(l))){t||(l=P(l,t,n));var c=0,u=l.length;for(o.length+=u;c<u;)o[r++]=l[c++]}else n||(o[r++]=l)}return o};E.flatten=function(e,t){return P(e,t,!1)},E.without=function(e){return E.difference(e,f.call(arguments,1))},E.uniq=E.unique=function(e,t,n,i){E.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=C(n,i));for(var o=[],r=[],s=0,a=x(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t?(s&&r===c||o.push(l),r=c):n?E.contains(r,c)||(r.push(c),o.push(l)):E.contains(o,l)||o.push(l)}return o},E.union=function(){return E.uniq(P(arguments,!0,!0))},E.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=x(e);i<o;i++){var r=e[i];if(!E.contains(t,r)){for(var s=1;s<n&&E.contains(arguments[s],r);s++);s===n&&t.push(r)}}return t},E.difference=function(e){var t=P(arguments,!0,!0,1);return E.filter(e,function(e){return!E.contains(t,e)})},E.zip=function(){return E.unzip(arguments)},E.unzip=function(e){for(var t=e&&E.max(e,x).length||0,n=Array(t),i=0;i<t;i++)n[i]=E.pluck(e,i);return n},E.object=function(e,t){for(var n={},i=0,o=x(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},E.findIndex=r(1),E.findLastIndex=r(-1),E.sortedIndex=function(e,t,n,i){n=C(n,i,1);for(var o=n(t),r=0,s=x(e);r<s;){var a=Math.floor((r+s)/2);n(e[a])<o?r=a+1:s=a}return r},E.indexOf=s(1,E.findIndex,E.sortedIndex),E.lastIndexOf=s(-1,E.findLastIndex),E.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o};var A=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=I(e.prototype),s=e.apply(r,o);return E.isObject(s)?s:r};E.bind=function(e,t){if(w&&e.bind===w)return w.apply(e,f.call(arguments,1));if(!E.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),i=function(){return A(e,i,t,this,n.concat(f.call(arguments)))};return i},E.partial=function(e){var t=f.call(arguments,1),n=function(){for(var i=0,o=t.length,r=Array(o),s=0;s<o;s++)r[s]=t[s]===E?arguments[i++]:t[s];for(;i<arguments.length;)r.push(arguments[i++]);return A(e,n,this,this,r)};return n},E.bindAll=function(e){var t,n=arguments.length,i;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)i=arguments[t],e[i]=E.bind(e[i],e);return e},E.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return E.has(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},E.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},E.defer=E.partial(E.delay,E,1),E.throttle=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:E.now(),s=null,r=e.apply(i,o),s||(i=o=null)};return function(){var c=E.now();a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,o=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),a=c,r=e.apply(i,o),s||(i=o=null)):s||n.trailing===!1||(s=setTimeout(l,u)),r}},E.debounce=function(e,t,n){var i,o,r,s,a,l=function(){var c=E.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,s=E.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(r,o),r=o=null),a}},E.wrap=function(e,t){return E.partial(t,e)},E.negate=function(e){return function(){return!e.apply(this,arguments)}},E.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},E.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},E.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},E.once=E.partial(E.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];E.keys=function(e){if(!E.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)E.has(e,n)&&t.push(n);return N&&a(e,t),t},E.allKeys=function(e){if(!E.isObject(e))return[];var t=[];for(var n in e)t.push(n);return N&&a(e,t),t},E.values=function(e){for(var t=E.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},E.mapObject=function(e,t,n){t=C(t,n);for(var i=E.keys(e),o=i.length,r={},s,a=0;a<o;a++)s=i[a],r[s]=t(e[s],s,e);return r},E.pairs=function(e){for(var t=E.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},E.invert=function(e){for(var t={},n=E.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=S(E.allKeys),E.extendOwn=E.assign=S(E.keys),E.findKey=function(e,t,n){t=C(t,n);for(var i=E.keys(e),o,r=0,s=i.length;r<s;r++)if(o=i[r],t(e[o],o,e))return o},E.pick=function(e,t,n){var i={},o=e,r,s;if(null==o)return i;E.isFunction(t)?(s=E.allKeys(o),r=T(t,n)):(s=P(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var a=0,l=s.length;a<l;a++){var c=s[a],u=o[c];r(u,c,o)&&(i[c]=u)}return i},E.omit=function(e,t,n){if(E.isFunction(t))t=E.negate(t);else{var i=E.map(P(arguments,!1,!1,1),String);t=function(e,t){return!E.contains(i,t)}}return E.pick(e,t,n)},E.defaults=S(E.allKeys,!0),E.create=function(e,t){var n=I(e);return t&&E.extendOwn(n,t),n},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e},E.isMatch=function(e,t){var n=E.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var s=n[r];if(t[s]!==o[s]||!(s in o))return!1}return!0};var L=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var o=m.call(e);if(o!==m.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(E.isFunction(s)&&s instanceof s&&E.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),r){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],n,i))return!1}else{var c=E.keys(e),u;if(l=c.length,E.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!E.has(t,u)||!L(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};E.isEqual=function(e,t){return L(e,t)},E.isEmpty=function(e){return null==e||(k(e)&&(E.isArray(e)||E.isString(e)||E.isArguments(e))?0===e.length:0===E.keys(e).length)},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=v||function(e){return"[object Array]"===m.call(e)},E.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},E.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){E["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return E.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(E.isFunction=function(e){return"function"==typeof e||!1}),E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!==+e},E.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===m.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return null!=e&&g.call(e,t)},E.noConflict=function(){return l._=c,this},E.identity=function(e){return e},E.constant=function(e){return function(){return e}},E.noop=function(){},E.property=O,E.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},E.matcher=E.matches=function(e){return e=E.extendOwn({},e),function(t){return E.isMatch(t,e)}},E.times=function(e,t,n){var i=Array(Math.max(0,e));t=T(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},E.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=E.invert(B),F=function(e){var t=function(t){return e[t]},n="(?:"+E.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};E.escape=F(B),E.unescape=F(K),E.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),E.isFunction(i)?i.call(e):i};var H=0;E.uniqueId=function(e){var t=++H+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+W[e]};E.template=function(e,t,n){!t&&n&&(t=n),t=E.defaults({},t,E.templateSettings);var i=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,function(t,n,i,s,a){return r+=e.slice(o,a).replace($,z),o=a+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var a=function(e){return s.call(this,e,E)},l=t.variable||"obj";return a.source="function("+l+"){\n"+r+"}",a},E.chain=function(e){var t=E(e);return t._chain=!0,t};var V=function(e,t){return e._chain?E(t).chain():t};E.mixin=function(e){E.each(E.functions(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),V(this,n.apply(E,e))}})},E.mixin(E),E.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),E.each(["concat","join","slice"],function(e){var t=u[e];E.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return""+this._wrapped},i=[],o=function(){return E}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(this)},,function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(3),n(13),n(7),n(20),n(6),n(14),n(70),n(39),n(23),n(26),n(648),n(647)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f){function m(e,t){e.listenTo(l.vent,{"element:options:dialog:close":function(){this.dialog&&this.dialog.close&&(this.trigger("textarea:cancel"),this.dialog.close(),this.remove())}}),t.submit&&e.once("textarea:submit",t.submit),t.cancel&&e.once("textarea:cancel",t.cancel),t.change&&e.on("textarea:change",t.change)}function g(e){e.addClass("active-sortable-item").parent().addClass("active-sortable-gallery")}function v(){t(".active-sortable-gallery").removeClass("active-sortable-gallery").children().removeClass("active-sortable-item")}function b(e){var n=t(e.target),i=n.closest(".image-gallery-list-item");I||(I=!0),!i.length&&(S.tooltips||S.textAreaDialog)&&S.currentElement&&(v(),y(),u.generateProperties(e.target.parentNode))}function w(n){var r,s,a,c;if(!o.chromeless){y(),r=t(this).find("img").first(),s=r.attr("_link")&&""!==r.attr("_link"),a=r.attr("_caption")&&""!==r.attr("_caption"),c=r.attr("alt")&&""!==r.attr("alt");var u=r.attr("src").match("/weebly/images/")||r.attr("src").match("/images/editor/elements");u||(l.vent.trigger("element:options:dialog:close"),S.tooltips=new p({collection:new i.Collection([{name:"link",label:e.utl("html.weebly.libraries.weebly_image_gallery_13","Attach a hyperlink to image"),callback:"addImageGalleryLink",highlighted:s},{name:"caption",label:e.utl("html.weebly.libraries.weebly_image_gallery_14","Attach a caption to image"),callback:"addImageGalleryCaption",highlighted:a},{name:"alt",label:e.utl("html.weebly.libraries.weebly_image_gallery_19"),callback:"addImageGalleryAltText",highlighted:c},{name:"delete",label:e.utl("html.weebly.libraries.weebly_image_gallery_15","Remove image"),callback:"deleteImageGallery"}]),callbacks:{addImageGalleryLink:function(t){t.stopPropagation(),e.ImageGallery.chooseThumbnailLink(this.options.$targetEl),this.trigger("tooltips:close")},addImageGalleryCaption:function(t){e.ImageGallery.chooseThumbnailCaption(this.options.$targetEl),this.trigger("tooltips:close")},addImageGalleryAltText:function(){e.ImageGallery.chooseThumbnailAltText(this.options.$targetEl),this.trigger("tooltips:close")},deleteImageGallery:function(t){e.ImageGallery.removeNode(this.options.$targetEl),this.trigger("tooltips:close")}},$targetEl:t(this)}),S.tooltips.listenTo(l.vent,{"editor:elements:unselect":function(){this.close()}}),l.elementSettings.show(S.tooltips))}}function y(){S.tooltips&&(l.elementSettings.close(),S.tooltips=null),S.textAreaDialog&&(S.textAreaDialog.close(),S.textAreaDialog=null)}function _(){return"<li class='gallery-loading' style='position:absolute;top:0;left:0;height:100%;width:100%;z-index:5;'></li>"}function E(e){var n=S.currentElement||e;return t("#"+n+"-gallery")}function T(e){return n.escape(e)}function C(e){return n.unescape(e)}var S={currentElement:null,textAreaDialog:null,isSorting:!1,tooltips:null},I=!1,O,D,x,k;l.vent.on({"editor:elements:unselect":function(e){"22397704"!=e&&"18362204"!=e||S.destroy()},"editor:elements:options:show":function(e,t,n){if("22397704"==e&&"34873637"==t){var i=u.getPropertyByReference("<!IMAGESET!>");i.property_result&&!i.property_result.match("'length': '0'")&&(S.setCurrent(n),S.init())}else"18362204"==e&&(S.setCurrent(n),S.init())}}),S.init=function(i){this.currentElement&&(S.textAreaDialog=null,S.isSorting=!1,S.tooltips=null,Sortable.create(this.currentElement+"-gallery",{constraint:!1,starteffect:function(e){v(),g(t(e)),S.tooltips&&S.tooltips.close(),u.hideElementSettings(),S.isSorting=!0},endeffect:function(e){v(),S.isSorting=!1,S.onChange()}}),e.view.isMobileView||(t("#"+this.currentElement+"-gallery .hover-toolbar").show().parent().css({cursor:"move"}),n.result(i,"isLegacyInterface")||(t(".image-gallery-list-item").off("click.galleryItem").on("click.galleryItem",function(e){I?(w.call(this,e),v(),g(t(this))):I||(I=!0)}),t("#"+this.currentElement+".element").off("click.gallery").on("click.gallery",b))),r.execute("dontSave:set",0))},S.destroy=function(){this.currentElement&&(t("#"+this.currentElement+"-gallery").length>0&&Sortable.destroy(this.currentElement+"-gallery"),t("#"+this.currentElement+"-gallery .hover-toolbar").hide().parent().css({cursor:"auto"}),v(),this.currentElement=null,I=!1,P(),R())},S.setCurrent=function(e){S.currentElement=e},S.onChange=function(n){function i(e){e=e.replace(/^.*\/uploads\//,"");var t=e.match(/^\d\/\d\/\d\/\d\/\d+\/[^\/]+/);return t?t[0]:e}if(n)this.currentElement=n;else if(this.currentElement=S.currentElement,!this.currentElement||!S.currentElement)return;var o=[],s=t("#"+this.currentElement+"-gallery img.galleryImage");s.each(function(){var e=t(this),n=i(e.attr("src")),r=e.attr("_width"),s=e.attr("_height"),a=e.attr("_caption"),l=e.attr("_link"),c=e.attr("alt"),u={url:n};r&&(u.width=r),s&&(u.height=s),a&&(u.caption=a),l&&(u.link=l),c&&(u.alt=c),o.push(u)});var a=t("#"+this.currentElement);0===s.length&&a.length&&a.html(S.update());var l=(this.currentElement+"").replace(/[^0-9]/g,""),c=Object.toJSON(o);if(this.currentElement.match(/-manager/)){var h=d.setContentFieldProperty(l,"<!IMAGES!>",c);r.execute("editor:elements:setImageProperty",c),r.execute("editor:elements:saveProperties"),r.execute("slideshow:updatePhotos",l,o)}else{var p=u.getImageProperty();if(!p)return;p.property_result=c,u.saveProperties(),e.Slideshow.updatePhotos(l,o)}},S.update=function(n,i,o,r,s,a,l,d){if("undefined"==typeof d){var h=u.getPropertyByReference("<!IMAGESET!>");h&&(d=h.property_result)}if(d)try{d=d.evalJSON()}catch(e){d=[]}if("undefined"==typeof i){var h=u.getPropertyByReference("<!COLUMNS!>");h&&(i=t("#"+h.ucfpid).val())}if("undefined"==typeof o){var h=u.getPropertyByReference("<!SPACING!>");h&&(o=t("#"+h.ucfpid).val())}if("undefined"==typeof r){var h=u.getPropertyByReference("<!BORDER!>");if(h){var p=t("#"+h.ucfpid).val();r=p?parseInt(p):0}}else r=parseInt(r);if("undefined"==typeof s){var h=u.getPropertyByReference("<!CROPPING!>");if(h){var f=t("#"+h.ucfpid).val();s=f?parseInt(f):0}}else s=parseInt(s);if("undefined"==typeof a){var h=u.getPropertyByReference("<!THUMBCAPTIONTYPE!>");if(h){var m=t("#"+h.ucfpid).val();a=m?m:"none"}}if(e.view.isMobileView&&(a="none"),"undefined"==typeof l){var h=u.getPropertyByReference("<!THUMBCAPTIONHOVER!>");if(h){var g=t("#"+h.ucfpid).val();l=g?parseInt(m):"0"}}var v="https:"===window.location.protocol?"https://":"http://";return d=d&&d.length?t.grep(d,function(e){var t;return!!e&&(t="string"==typeof e?e:e.url||"",!c.isInitialImageSrc(t))}):[{url:v+window.ASSETS_BASE+"/images/editor/elements/placeholders/gallery2.png",width:293,height:222}],n||(n=u.ucfid),S._update(n,i,o,r,s,a,l,d)},S._update=function(t,i,r,s,a,l,c,u,d){this.currentElement=t;var h=s?"border-width:1px;"+(s>1?"padding:"+(s-1)+"px;":""):"",p='<ul id="'+t+'-gallery" class="imageGallery" style="line-height: 0px; margin: 0; padding: 0; list-style: none;">',f=(100/i-.05).toFixed(2),m;m=2==a?4/3:a?1:1.332;var g=(1/m*100).toFixed(2),v,b,w,y,E,C,S,I=!1;this.framePercentWidth=f,this.framePercentHeight=g;for(var O=0;O<u.length;O++)if(u[O]&&("string"==typeof u[O]?(v=u[O],b=null,w=null,E=null,C="",S=""):(v=u[O].url,b=parseInt(u[O].width),w=parseInt(u[O].height),E=u[O].link,C=T(u[O].caption||""),S=T(u[O].alt||"")),v)){y=b&&w?b/w:1.332,I=v.match("/weebly/images/")||v.match("/images/editor/elements"),v&&(v.match("://")||(I=v.match("/weebly/images/")||v.match("/images/editor/elements"),I?o.chromeless&&(v="Gallery@2x.png"):v="/uploads/"+v),o.chromeless&&v.startsWith("/")&&(v="http://"+window.configSiteName+v));var D,x,k;a?y>m?(D=(y/m*100).toFixed(2),x=0,k=-((y/m-1)/2*100).toFixed(2)):(D=100,x=-((m/y-1)/2*100).toFixed(2),k=0):y>m?(D=100,x=((1-m/y)/2*100).toFixed(2),k=0):(D=(y/m*100).toFixed(2),x=0,k=((1-y/m)/2*100).toFixed(2)),I?(p+="<li id='"+t+"-imageContainer"+O+"' class='image-gallery-list-item' style='margin:0;list-style:none;position:relative;z-index:5'>",
p+="<div id='"+t+"-insideImageContainer"+O+"' style='position:relative;margin:"+r+";"+(a||!s?"":"padding:0 "+5*s+"px "+2*s+"px 0;")+"'>",a&&s&&(p+="<div class='galleryImageBorder' style='"+h+"'>"),p+="<div class='galleryImageHolder"+("1"==c?" galleryCaptionHover":"")+"' style='position:relative;width:100%;text-align:center;"+(a?"overflow:hidden;":"")+"'>",p+="<div class='galleryInnerImageHolder' style='display:inline-block;cursor: pointer;'><img src='"+v+"' class='galleryImage"+(a||!s?"":" galleryImageBorder")+"' "+(E?"_link='"+E+"' ":"")+(C?"_caption='"+C+"' ":"")+(b?"_width='"+b+"' _height='"+w+"' ":"")+"/>",p+="<p class='wsite-image-placeholder-text' style='word-break: break-word;padding: 0px 10px;margin: 0px;font-weight: 600;font-variant: initial;text-transform: uppercase;font-size: 20px;color: #C3C5C8;font-family: ProximaNova, \"Open Sans\", Helvetica, Arial, Verdana, sans-serif;'>"+e.utl("html.weebly.libraries.weebly_image_gallery_17")+"</p>"):(p+="<li id='"+t+"-imageContainer"+O+"' class='image-gallery-list-item' style='float:left;width:"+f+"%;margin:0;list-style:none;position:relative;z-index:5'>",p+="<div id='"+t+"-insideImageContainer"+O+"' style='position:relative;margin:"+r+";"+(a||!s?"":"padding:0 "+5*s+"px "+2*s+"px 0;")+"'>",a&&s&&(p+="<div class='galleryImageBorder' style='"+h+"'>"),p+="<div class='galleryImageHolder"+("1"==c?" galleryCaptionHover":"")+"' style='position:relative;width:100%;padding:0 0 "+g+"%;"+(a?"overflow:hidden;":"")+"'>",p+="<div class='galleryInnerImageHolder'><img src='"+v+"' class='galleryImage"+(a||!s?"":" galleryImageBorder")+"' "+(S?"alt='"+S+"' ":"")+(E?"_link='"+E+"' ":"")+(C?"_caption='"+C+"' ":"")+(b?"_width='"+b+"' _height='"+w+"' ":"")+"style='position:absolute;"+(a||!s?"border:0;":h)+"width:"+D+"%;top:"+x+"%;left:"+k+"%' />"),e.view.isMobileView&&o.chromeless||(p+='<div class="galleryCaptionHolder ',"full"===l?p+="fullImageGalleryCaption":"partial"===l&&(p+="partialImageGalleryCaption"),p+='" style="',"none"!==l&&C.length||(p+=" display: none;"),a||(p+="padding-left: "+s+"px; width: "+D+"%;margin-top:"+s+"px; margin-bottom: "+s*-1+"px;",y>m?("full"==l&&(p+="top: "+x+"%;"),p+="bottom: "+x+"%; height: auto;"):p+="left: "+k+"%;"),p+='"><div class="galleryCaptionHolderInnerBg"></div><div class="galleryCaptionHolderInner'+("1"==c?"":" galleryCaptionsVisible")+'"><div class="galleryCaptionInnerTextHolder"><div class="galleryCaptionInnerText">'+n.unescape(C)+"</div></div></div>",p+="</div>"),p+="</div></div>",o.chromeless||!I&&d&&(p+="<div class='w-gallery-toolbar hover-toolbar' style='display:none;"+(a?"top:0;right:0":"top:"+x+"%;right:"+(100-k-D)+"%")+"'><div class='hover-toolbar-inner'><div class='hover-toolbar-invisible-layer'></div>",p+="<span class='w-link w-gallery-button w-icon-text-link"+(E?" pressed":"")+"' onclick='_W.ImageGallery.chooseThumbnailLink(_W.jQuery(this))' title='"+n.escape(e.utl("html.weebly.libraries.weebly_image_gallery_8"))+"'></span>",p+="<span class='w-caption w-gallery-button w-icon-comment"+(C?" pressed":"")+"' onclick='_W.ImageGallery.chooseLegacyThumbnailCaption(_W.jQuery(this))' title='"+n.escape(e.utl("html.weebly.libraries.weebly_image_gallery_9"))+"'></span>",p+="<span class='w-caption w-gallery-button w-icon-title"+(S?" pressed":"")+"' onclick='_W.ImageGallery.chooseLegacyThumbnailAltText(_W.jQuery(this))' title='"+n.escape(e.utl("html.weebly.libraries.weebly_image_gallery_18"))+"'></span>",p+="<span class='w-remove w-gallery-button w-icon-trash' onclick='_W.ImageGallery.removeNode(_W.jQuery(this))' title='"+n.escape(e.utl("html.weebly.libraries.weebly_image_gallery_10"))+"'></span>",p+="</div></div>"),a&&s&&(p+="</div>"),p+="</div>",p+="</li>"}return M&&(p+=_()),p+="<span style='display: block; clear: both; height: 0px; overflow: hidden;'></span>",p+="</ul>"},S.removeNode=function(e){e.closest("li").empty(),S.onChange()},S.chooseThumbnailLink=function(e){var t=S.currentElement.match(/-manager/)?a:r,n,i=S.currentElement;S.currentLinkButton=e,S.currentLinkThumbnail=e.closest("li").find("img"),n=window.parseLinkString(S.currentLinkThumbnail.attr("_link")),t.request("linker:open",{remove:!!n,existing:n,ucfid:S.currentElement.replace("-manager",""),context:S}).done(function(){var e=[].slice.call(arguments,0);e.push(i),S.setLink.apply(this,e)})},S.setLink=function(e,t,n){e?e+=t?"weeblylink_new_window":"":e="",S.currentLinkThumbnail.attr("_link",e),S.onChange(n),S.currentLinkButton.toggleClass("pressed",e)},S.chooseThumbnailAltText=function(t){var i=t.find("img").first(),o=n.unescape(i.attr("alt")||""),r={},a;a=new f({text:o,placeholderText:e.utl("html.weebly.libraries.weebly_image_gallery_21"),title:e.utl("html.weebly.libraries.weebly_image_gallery_18")}),r={submit:function(e){var t=T(e);i.attr("alt",t),o=t,S.onChange()},cancel:function(){var e=T(o);0!==o.length&&i.attr("alt",e)}},m(a,r),S.textAreaDialog=new s(a),S.textAreaDialog.open({pointAt:t,parent:"#elementSettingsWrapper"}),a.$el.find("textarea").focus().val(o)},S.chooseThumbnailCaption=function(t){var i=t.find("img").first(),o=n.unescape(i.attr("_caption")||""),r=t.find(".galleryCaptionInnerText").first(),a=t.find(".galleryCaptionHolder").first(),l={},c;c=new f({text:o,placeholderText:e.utl("html.weebly.libraries.weebly_image_gallery_7"),title:e.utl("html.weebly.libraries.weebly_image_gallery_20")}),l={submit:function(e){var t=T(e);i.attr("_caption",t),S.onChange()},cancel:function(){0===o.length?a.hide():r.text(o)},change:function(e){T(e)?(a.hasClass("fullImageGalleryCaption")||a.hasClass("partialImageGalleryCaption"))&&a.show():a.hide(),r.text(e)}},m(c,l),S.textAreaDialog=new s(c),S.textAreaDialog.open({pointAt:t,parent:"#elementSettingsWrapper"}),c.$el.find("textarea").focus().val(o)},S.chooseLegacyThumbnailAltText=function(i){var o=i.closest("li").find("img").first();N(),R(!1,!o.attr("alt")),O=i,D=i.closest("li");var r=n.unescape(o.attr("alt")||"");D.css({zIndex:6}),O.addClass("pressed");var s=t("<textarea>",{class:r?"":"empty",on:{focus:function(){s.hasClass("empty")&&(s.removeClass("empty"),s.val(""))},blur:function(){s.val().trim()||(s.addClass("empty"),s.val(e.utl("html.weebly.libraries.weebly_image_gallery_21")))}}}),a=t("<form>",{class:"w-caption-form w-ui hover-toolbar-inner",on:{submit:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()}},append:[s,t("<span>",{class:"button-wrap",append:[t("<input>",{type:"submit",value:e.utl("html.weebly.libraries.weebly_image_gallery_12"),class:"btn btn-block btn-info",on:{click:function(){var e="";s.hasClass("empty")||(e=T(s.val())),o.attr("alt",e),e?O.addClass("pressed"):O.removeClass("pressed"),R(!1,!e),A(),S.onChange()}}})]}),t("<span>",{class:"button-wrap",append:[t("<input>",{type:"button",value:e.utl("html.weebly.libraries.weebly_image_gallery_16"),class:"btn btn-block btn-inverse",on:{click:function(){R(!1,!o.attr("alt")),A()}}})]})]}),l=t(document.body),c=t("<div>",{class:"hover-toolbar hover-toolbar-below",style:"z-index:1000"});c.append("<div class='hover-toolbar-arrow hover-toolbar-arrow-centered'></div>").append(a),l.append(c),k=c;var u=l.offset(),d=O.offset(),h=O.outerWidth(),p=O.outerHeight(),f=c.outerWidth();c.css({top:d.top+p-u.top,left:d.left+h/2-f/2-(u.left-l[0].scrollLeft)}),s.val(r?C(r):e.utl("html.weebly.libraries.weebly_image_gallery_21"))},S.chooseLegacyThumbnailCaption=function(i){var o=i.closest("li").find("img").first();N(),P(!1,!o.attr("_caption"));var r=O=i,s=x=i.closest("li"),a=x.find(".galleryCaptionInnerText").first(),l=x.find(".galleryCaptionHolder").first(),c,u,d=n.unescape(o.attr("_caption")||"");s.css({zIndex:6}),r.addClass("pressed"),c=new Element("form",{class:"w-caption-form w-ui hover-toolbar-inner"}).observe("submit",function(e){e.stop()}).observe("click",function(e){e.stop()}).observe("mouseup",function(e){e.stop()}).insert(u=new Element("textarea",{class:d?"":"empty"}).observe("focus",function(){u.hasClassName("empty")&&(u.removeClassName("empty"),u.value="",l.hide())}).observe("blur",function(){u.value.strip()||(u.addClassName("empty"),u.value=e.utl("html.weebly.libraries.weebly_image_gallery_11"),l.hide())}).observe("keyup",function(e){u.value.strip()?(l.hasClass("fullImageGalleryCaption")||l.hasClass("partialImageGalleryCaption"))&&l.show():l.hide(),a.text(u.value)})).insert(new Element("span",{class:"button-wrap"}).insert(new Element("input",{type:"submit",value:e.utl("html.weebly.libraries.weebly_image_gallery_12"),class:"btn btn-block btn-info"}).observe("click",function(){var e;e=u.hasClassName("empty")?"":T(u.value),o.attr("_caption",e),P(!1,!e),A(),S.onChange(),e?r.addClass("pressed"):r.removeClass("pressed")}))).insert(new Element("span",{class:"button-wrap"}).insert(new Element("input",{type:"button",value:e.utl("html.weebly.libraries.weebly_image_gallery_16"),class:"btn btn-block btn-inverse"}).observe("click",function(e){P(!1,!o.attr("_caption")),A(),0==d.length&&l.hide()})));var h=t(document.body),p=new Element("div",{class:"hover-toolbar hover-toolbar-below",style:"z-index:1000"});p.insert("<div class='hover-toolbar-arrow hover-toolbar-arrow-centered'></div>"),p.insert(c),h.append(p),S.currentCaptionForm=p;var f=t(h).offset(),m=t(r).offset(),g=t(r).outerWidth(),v=t(r).outerHeight(),b=t(p).outerWidth();t(p).css({top:m.top+v-f.top,left:m.left+g/2-b/2-(f.left-h[0].scrollLeft)}),u.value=d?C(d):e.utl("html.weebly.libraries.weebly_image_gallery_7")};var R=function(e,t){void 0===t&&D&&(t=!D.find("img").attr("alt")),k&&(k.remove(),k=null),O&&O.length&&(t&&O.removeClass("pressed"),O=null),!e&&D&&(D.css({zIndex:5}),D=null)},P=function(e,t){void 0===t&&x&&(t=!x.find("img").attr("_caption")),S.currentCaptionForm&&(x.find(".galleryCaptionHolderInner .galleryCaptionInnerText").text(n.unescape(x.find("img").attr("_caption"))),S.currentCaptionForm.remove(),S.currentCaptionForm=null),O&&O.length&&(t&&O.removeClass("pressed"),O=null),!e&&x&&(x.css({zIndex:5}),x=null)},A=function(){t(".w-gallery-toolbar.hover-toolbar .hover-toolbar-invisible-layer").hide()},N=function(){t(".w-gallery-toolbar.hover-toolbar .hover-toolbar-invisible-layer").show()};S.uploadComplete=function(e){var t=E(e);M=!1,!t.length&&h.inEditorContext()&&r.execute("uploadComplete",e)},S.uploadCancel=function(e){S.clearGalleryLoading(e)},S.uploadError=function(e){S.clearGalleryLoading(e)};var M=!1;return S.drawGalleryLoading=function(e){M=!0;var t=E(e);if(t.length){var n=_(),i=t.find("li:last").first();i?i.after(n):t.prepend(n)}else h.inEditorContext()&&r.execute("drawGalleryLoading",e)},S.clearGalleryLoading=function(e){M=!1;var t=E(e);t.length?t.find("li.gallery-loading").remove():h.inEditorContext()&&r.execute("clearGalleryLoading",e)},e.ImageGallery={Version:"0.1",Author:"David Rusenko",Company:"Weebly, Inc.",currentElement:S.currentElement,isSorting:S.isSorting,init:S.init,destroy:S.destroy,setCurrent:S.setCurrent,onChange:S.onChange,update:S.update,_update:S._update,removeNode:S.removeNode,chooseThumbnailLink:S.chooseThumbnailLink,setLink:S.setLink,chooseLegacyThumbnailCaption:S.chooseLegacyThumbnailCaption,chooseLegacyThumbnailAltText:S.chooseLegacyThumbnailAltText,chooseThumbnailCaption:S.chooseThumbnailCaption,chooseThumbnailAltText:S.chooseThumbnailAltText,uploadComplete:S.uploadComplete,uploadCancel:S.uploadCancel,uploadError:S.uploadError},window.clearGalleryLoading=S.clearGalleryLoading,window.drawGalleryLoading=S.drawGalleryLoading,r.commands.setHandlers({clearGalleryLoading:S.clearGalleryLoading,drawGalleryLoading:S.drawGalleryLoading,uploadComplete:S.uploadComplete}),S}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i;i=function(){return window.__bootstrap?window.__bootstrap()||{}:{}}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,o;i=[n(2),n(18),n(263)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"ShippingMethod"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(18),n(146)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"TaxRate"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(541),n(166),n(146),n(313)],o=function(e,t,n,i,o){var r=i.extend({relations:[{key:"overrides",type:e.HasMany,relatedModel:o,collectionType:t},{key:"default_rate",type:e.HasOne,relatedModel:n}],getDisplayTaxRate:function(){var e=this.get("actual_percent_rate")||0;return e+"%"}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[],o=function(){var e={};return e.isUsingGlyphIcons=function(e){return e.tmpSocialIconFont||e["glyph-icons"]},e.convertBadgeData=function(e,t){var n;e=e||{};for(n in t)e[n]?"object"!=typeof e[n]&&(e[n]===!0?e[n]={url:!0,active:!0}:e[n]={url:e[n].length?e[n].replace(/^\w+:\/\//,""):void 0,active:!!e[n].length}):e[n]={url:void 0,active:!1};return e.undefined&&delete e.undefined,e},e}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i;i=function(){function e(){this.events={},this.logging=!1}return e.prototype={fireEvent:function(e){var t=this.events[e];if(this.log(e,"firing",[t]),!t)return this;var n=Array.from(arguments);n.shift();for(var i=t.length-1;i>=0;i--){var o=t[i],r=o.$event;this.log(e,"calling",[o,r]),o.apply(r.bind,n.concat(r.args)),r.once&&this.removeListener(e,o)}return this},addListener:function(e,t){if("function"==typeof t&&(t={func:t}),!t||"function"!=typeof t.func)return this;this.log(e,"adding listener",[e,t]);var n={};n.args=Array.isArray(t.args)?Array.from(t.args):[],n.bind=t.bind||null,n.once=t.once||!1;var i=t.func;return i.$event=n,t.removeOn&&(i=this.wrapListenerRemoval(e,i,t.removeOn)),this.events[e]=this.events[e]||[],this.events[e].push(i),this},removeListener:function(e,t){this.log(e,"removing listener",[t]);var n=this.events[e];if(!n)return this;var i=n.indexOf(t);if(i==-1)return this;var t=n[i],o=t.$event;return o.removeOn&&this.removeListener(o.removeOn[0],o.removeOn[1]),n.splice(i,1),this},wrapListenerRemoval:function(e,t,n){this.log(e,"wrapping removal",[t,n]);var i=this,o=function(){i.removeListener(e,t)};return this.addListener(n,o),t.$event.removeOn=[n,o],t},log:function(e,t,n){this.logging&&console.log(e+": "+t,n||[])}},e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,o;i=[n(326)],o=function(e){var t=Class.create(e,{WINDOW_WIDTH:650,WINDOW_HEIGHT:500,CALLBACK_PREFIX:"weebly_twitter_auth_cb_",POPUP_URL:"/editor/twitter_auth.php?cb={callback}&{params}"});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2),n(8),n(35),n(24),n(6),n(126),n(125),n(416),n(7),n(124),n(32),n(17),n(27)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){var h={},p=function(e,n,r,a){new window.Ajax.Request(c.ajax,{parameters:r,onSuccess:function(h){var f;try{f=JSON.parse(h.responseText)}catch(e){return void c.errFunc()}f.switchNoSections?u.confirm({parent:"#orbitDialogContainer",isTop:!1,title:_W.utl("javascript.editor.build.themes.switch_no_sections_title"),message:_W.utl("javascript.editor.build.themes.switch_no_sections_message"),cancelButton:{text:_W.utl("javascript.editor.build.themes.switch_no_sections_cancel")},proceedButton:{text:_W.utl("javascript.editor.build.themes.switch_no_sections_confirm")}}).done(function(){r.is_forced=!0,p(e,n,r,a)}):Weebly.Editor.RPC.Page.getPageHierarchy().done(function(e){var t=e.data;t&&t.length>0&&d.reset(t),l.execute("pages:sync",d.toJSON())}).always(function(){l.trigger("changeTheme"),o.vent.trigger("forceThemeRerender"),o.vent.trigger("clearMobileSettingsCache"),window.currentTheme===e&&n?t.trackEvent("site","change_design_setting","color"):window.currentTheme!==e&&t.trackEvent("site","change_design_setting","theme"),f.mobileSettings&&i.setCurrentTheme(f.mobileSettings.mobile_theme,!0),i.setCurrentTheme(f.theme,!1),i.setCurrentThemeColor(f.themeColor),window.updateList(currentPage,!0),f.designOptions&&s.setDesignOptions(f.designOptions),s.applyDesignOptions(),a&&a()})},onFailure:c.errFunc})};return h.changeTheme=function(e,t,n,i,o,r){var s={pos:"settheme",keys:e,color:t||"",cookie:document.cookie,token:Weebly.RequestToken,merchSiteId:o,verticalId:r};n&&(s.favorite=1),p(e,t,s,i)},h.getAreaSummary=function(e,t){var i=r.getPageType(e,t,n.isMobileView),o=t.page_type_templates[i];return o.area_summary},l.commands.setHandlers({"theme:light:set":function(e){new window.Ajax.Request(c.ajax,{parameters:{pos:"set_theme_light",theme:currentTheme,layout:window.currentPageType,is_light:e,token:Weebly.RequestToken}})},"theme:upgrading":function(e){a.processThemeData(e)}}),e.extend(window,h),h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(6),n(7),n(171),n(17),n(124),n(23),n(27)],o=function(e,t,n,i,o,r,s,a,l){var c={hideTitle:0};return c.updatePageData=function(e){s.reset(e),o.execute("theme:renderTheme")},c.isContentSaving=!1,c.saveContent=function(e,t,n,o){i.vent.trigger("editor:saving"),c.isContentSaving=!0,new window.Ajax.Request(a.ajax,{parameters:{pos:"content",reqid:e,content:t,align:n,cookie:document.cookie,token:Weebly.RequestToken},onSuccess:function(e){if(e.responseText.isJSON()){var t=e.responseText.evalJSON();t.result||c.showDeniedAction(t.error)}e.responseText.indexOf("the following problems")>0&&!o&&(window.showError(e.responseText),window.updateList(window.currentPage)),i.vent.trigger("editor:saved"),r.fireEvent("saveContentSuccess",e)},onFailure:function(e){a.errFunc(e),r.fireEvent("saveContentFailure",e)},onComplete:function(e){c.isContentSaving=!1,r.fireEvent("saveContentComplete",e)},bgRequest:o})},c.updateSiteTitle=function(n){if(t.trim(n.replace(/<br[^>]*>/gi,"")))window.currentSiteTitle=n,e.Editor.RPC.Site.saveSiteTitle(n);else{c.hideTitle=!0;var i=Weebly.siteContext.getArea("title"),o=Weebly.siteContext.getArea("logo");i&&i.rerender(),o&&o.rerender()}},n.extend(window,c),c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(3),n(4),n(776)],o=function(e,t,n,i){"use strict";var o=t.Marionette.ItemView.extend({dialog:{dialogClass:"upload-virus-error",title:e.utl("javascript.editor.dialogs.UploadVirusError_1"),size:"550x250",buttons:[{group:"pull-right",buttons:[{text:e.utl("javascript.editor.dialogs.UploadVirusError_2"),className:"btn-com btn-info"}]}]},triggers:{"click .btn-info":"dialog:close"},template:n.compile(i)});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(7),n(324)],o=function(e,t){var n=t.extend({onChange:function(){e.execute("headerSection:set:properties",this.id,this.toJSON())},clear:function(){var e=this.get("setting"),t=this.getTargetType(window.currentPageKind,window.currentPage),n=this.getTargetId(window.currentPageKind,window.currentPage);return Weebly.Section.RPC.HeaderSection.clear(t,n)},sync:function(e,t,n){return Weebly.Section.RPC.HeaderSection.saveHeaderSection(t.get("target_id"),t.get("target_type"),t.toJSON()).done(function(e){return t.set(e),t.trigger("sync",t),t})}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(14),n(7),n(15),n(112),n(41),n(645),n(644),n(341),n(228),n(343),n(174),n(349),n(340),n(350),n(227),n(347),n(346),n(339),n(342),n(348),n(226),n(345),n(651),n(344)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w,y,_,E,T,C,S,I){var O=n.Marionette.CompositeView.extend({itemView:u,template:!1,initialize:function(){this.listenTo(i.vent,{"element:options:dialog:close":function(){this.container&&this.container.close&&(this.container.close(),this.close())}.bind(this)}),i.reqres.setHandlers({"element:options:dialog:get:current":function(){return this.container}.bind(this),"element:options:dialog:get:element":function(){return t(this.options.element)}.bind(this)})},initGroups:function(){var e=this;e.sublabelTypes=["radio","select","color"],e.actionPanes=[],e.processPropertyData(),e.renderPanes()},processPropertyData:function(){var t=this,n=0;t.collection.models=t.collection.map(function(i){var o=function(i,o){var r,l,O,D={string:d,int:h,checkbox:v,text:f,color:m,toggle:g,select:p,slider:b,radio:w,align:y,hidden:_,group:u,sublabel:E,button:T,social:S,optionItems:C,link:I};i.hidden||(t.hasSettings=!0,o=e.filter(o,function(e){return!e.hidden&&!e.detached}),O=o?o.length:0,("group"===i.type||e.contains(t.sublabelTypes,i.type)&&O>1||"button"===i.type&&"social"===i.action||"optionItems"===i.type)&&(i.actionPaneIndex=n,n++,l=new s(i),r="social"===i.action?D.social:D[i.type],itemView=new r({model:l,collection:t.collection}),t.listenTo(l,"change",function(e){a.setPropertyByKey(t.collection,"actionPaneIndex",e.get("actionPaneIndex"),e.get("value"))}),itemView.dialogOptions={title:_W.utl(i.label),backLink:{isDirectional:!0}},i.forwardLink&&(itemView.dialogOptions.forwardLink=_W.utl(i.forwardLink)),t.actionPanes.push(new c(itemView,{contentCollection:t.collection,actionPanes:t.actionPanes})),i.values&&e.each(i.values,function(e){var i=e.trigger,o,r;i&&(e.actionPaneIndex=n,n++,i.isTrigger=!0,r=D[i.type],o=new r({model:new s(i),collection:t.collection}),o.dialogOptions={title:_W.utl(i.label),backLink:{isDirectional:!0,text:""}},t.actionPanes.push(new c(o,{contentCollection:t.collection,actionPanes:t.actionPanes})))})))};return a.propertyIterator(i,o),i}),t.initialPane=new l({collection:t.collection,description:t.options.description})},renderPanes:function(){var e=this,n,i=t("#"+e.options.element.id);if(e.initialPane.dialogOptions={title:e.options.name||_W.utl("javascript.element.editor.view.settings.BaseElementOptionsView_1"),backLink:!1,hasContentPadding:!1},e.externalView){if(e.displayIframe())return void e.openSettingsIframe();e.initialPane.onRender=function(){e.externalView.delegateEvents(),this.$itemViewContainer.prepend(e.externalView.render().el)}}if(n=new c(e.initialPane,{contentCollection:e.collection,actionPanes:e.actionPanes}),e.collection.models[0]&&"social"===e.collection.models[0].get("action")&&Weebly.Elements.isSingleArea(e.options.element)){var o=e.actionPanes[0];o.options.backLink.isDirectional=!1,n=o,i=i.find(".wsite-social")}e.container=new r({outerClassName:"dialog-option-tip",panels:[n],size:"small",width:350,height:350,pointAt:i,allowLeftRight:!1,preferBottom:!0,isDraggable:!0}),e.container.open({parent:"#elementSettingsWrapper"})},onClose:function(){i.reqres.removeHandlers(["element:options:dialog:get:current","element:options:dialog:get:element"])}},{isElementSettingsOpen:function(){return t("#elementSettingsWrapper").find(".dialog").length>0}});return O}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(4),n(2),n(14),n(7),n(129),n(5),n(40),n(41),n(12),n(97),n(814)],o=function(e,t,n,i,o,r,s,e,a,l,c,u,d){var h=a.extend({template:n.compile(d),events:{"click .js-button":"clickHandler"},templateHelpers:function(){var t=this,i=t.model.get("external"),o=t.model.get("customHTML")||"",r=i?i.label:t.model.get("label");return{isExternal:t.isExternal,label:e.utl(r),showBadge:this.showBadge,badgeLabel:this.showBadge?e.utl(this.badgeLabel):"",customHTML:n.render(o,t.model.toJSON()),actionPaneIndex:"undefined"!=typeof t.model.get("actionPaneIndex")?t.model.get("actionPaneIndex").toString():""}},initialize:function(n){e.Elements.uproperty.eid!==c.PRODUCT_ELEMENT_ID||e.Permissions.store_edit||"editProduct"!==this.model.get("name")||this.$el.hide(),a.prototype.initialize.call(this),this.peid=n.peid,this.isExternal=n.isExternal,this.$currentElement=t(e.Elements.currentElement);var i=this.model.get("badge");this.showBadge=Boolean(i),this.showBadge&&(this.badgeLabel=i.label,i.userEvent&&(this.showBadge=!1,r.request("userEvent:hasDoneUserEvent",i.userEvent).done(function(e){i.userEventValue===e&&(this.showBadge=!0,this._isRendered&&this.render())}.bind(this))))},onRender:function(){a.prototype.onRender.call(this),this.model.get("isFlash")&&this.$el.addClass("uploadLink")},clickHandler:function(e){if("undefined"==typeof this.model.get("actionPaneIndex")&&"social"!==t){if(e.stopPropagation(),this.isExternal)this.openExternalFrame();else{var t=this.model.get("action");if(t){var n=this.parseArguments();this.doAction(t,n)}}this.model.get("closeOnClick")&&o.vent.trigger("element:options:dialog:close")}},parseArguments:function(){var t=[];return i.each(this.model.get("arguments"),function(n){var i=this.model.get(n),o;if("undefined"!=typeof i)o=i;else if("%%ELEMENTID%%"===n)o=this.$currentElement.attr("id");else if(n.toString().match(/<!.*!>\|value$/)){var r=n.split("|")[0],s=e.Elements.getPropertyByReference(r),a=l.getPropertyByKey(this.collection||this.model.collection,"cfpid",s.cfpid)||s.property_result;o=a}else o=n.toString().match(/^<!.*!>$/)?e.Elements.getPropertyByReference(n).ucfpid:n;t.push(o)}.bind(this)),t},openExternalFrame:function(){this.options.parentView&&this.options.parentView.openSettingsIframe()},doAction:function(e,t){var n=window;if("module"===e){var o=this.model.get("module");if(!o)return;var a=this.model.get("moduleFunction"),l="relay"===o?r:window;switch(o){case"relay":r[a].apply(l,t);break;case"beacon":s[a].apply(l,[t.shift(),this.$currentElement,t]);break;case"imageEditor":u[a].apply(l,t)}}else i.isArray(e)?(i.each(e,function(e){n=n[e]}),n.apply(window,t)):window[e].apply(window,t)}});return h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(40),n(815),n(60)],o=function(e,t,n,i){var o=n.extend({template:t.compile(i),events:{"change @ui.input":"saveValue","click @ui.inputContainer":"saveValue"},ui:{input:"input",inputContainer:".w-checkbox-container"},templateHelpers:function(){var e=this,t=e.model.get("label");return{checked:function(){return e.getParsedValueFromModel()?'checked="checked"':""},label:_W.utl(t)}},getParsedValueFromModel:function(){var e=this.model.get("default")||!1,t="undefined"==typeof this.model.get("value")||null===this.model.get("value"),n=t?e:this.model.get("value");return"boolean"==typeof n?n:"true"===n||"false"===n?JSON.parse(n):isNaN(parseInt(n))?"form-required"===n||"form-not-required"===n?"form-required"===n:"yes"===n||"no"===n?"yes"===n:n.indexOf("weebly-image-full")>-1||!(n.indexOf("http")>-1)&&("<a>"!==n&&void 0):JSON.parse(n)},onRender:function(e){var t=n.prototype.onRender.call(this);return e||(this.ui.input.wCheckbox(),this.bindUIElements()),t},getValue:function(){return this.ui.input.is(":checked")}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(2),n(4),n(12),n(96),n(40),n(486),n(828)],o=function(e,t,n,i,o,r,s,a){var l=r.extend({template:n.compile(a),events:{"blur @ui.input":"blurHandler","keyup @ui.input":"handleKeyPress"},ui:{input:"input",remaining:".remaining"},initialize:function(){var e=this;s.initialize()},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("tooltip");return{value:function(){return e.getTextValueFromModel()},remaining:function(){var t=parseInt(e.model.get("max"),10);return!!t&&t-(e.model.get("value")||"").length},show_limits:function(){return!(!e.model.get("min")&&!e.model.get("max"))},label:o.truncateLabel(_W.utl(t)),tooltip:o.formTooltip(_W.utl(t),n)}},onRender:function(){r.prototype.onRender.call(this),this.model.get("legacy")!==!0&&this.ui.input.val()&&"INPUT"===this.ui.input.prop("tagName")&&setTimeout(function(){s.updatePlaceholder(this.ui.input)}.bind(this),500)},blurHandler:function(e){var t=this;t.getTextValueFromModel()!==t.ui.input.val()&&t.saveValue()},handleKeyPress:function(e){this.updateCharacterCount(e),this.$el.removeClass("invalid")},updateCharacterCount:function(e){var t=parseInt(this.model.get("max"),10);if(t){var n=t-this.ui.input.val().length;n<0?this.ui.input.val(this.ui.input.val().slice(0,t)):this.ui.remaining.text(n)}},getValue:function(){var e=this.ui.input.val();return this.isStoredAsHtml()&&(e=t.escape(e)),e},isValid:function(){var e=this.getValue(),t=this.model.get("max"),n=this.model.get("min"),i=!0;return null!=n&&void 0!=n&&e.length<n&&(i=!1),null!=t&&void 0!=t&&e.length>t&&(i=!1),i},isStoredAsHtml:function(){return this.model&&this.model.get("cfpid")===i.BUTTON_ELEMENT_ID},convertLinesToSpaces:function(e){return e.replace(/(\<br\s?\/?\>)/g," ")},getTextValueFromModel:function(){var e=this,n=e.model.get("value"),i;return n&&e.isStoredAsHtml()?i=t.unescape(e.convertLinesToSpaces(n)):n=n||e.model.get("default")||"",i||n}});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(7),n(665),n(32),n(12),n(867)],o=function(e,t,n,i,o,r,s,a){var l=n.Marionette.ItemView.extend({shouldShowNewLabels:!1,className:"section-controller-container",template:a,ui:{edit:".section-edit",delete:".section-delete",clear:".section-clear",move:".section-move",addLayout:".section-add-layout",changeLayout:".section-change-layout"},events:{"click @ui.edit":"edit","click @ui.delete":"delete","click @ui.clear":"clear","click @ui.move":"move","click @ui.addLayout":"addLayout","click @ui.changeLayout":"changeLayout"},templateHelpers:function(){return{prefer_bottom:this.options.preferBottom,show_edit:this.options.showEdit,show_delete:this.options.showDelete,show_clear:this.options.showClear,show_move:this.options.showMove,show_add_layout:this.options.showAddLayout&&!this.options.isHeaderSection,show_add_header_layout:this.options.showAddLayout&&this.options.isHeaderSection,show_change_header_layout:this.options.showChangeLayout&&this.options.isHeaderSection}},initialize:function(e){this.options=t.defaults(e||{},{showEdit:!0,showDelete:!0,showClear:!1,showMove:!0,showAddLayout:!1,showChangeLayout:!0,forceRepositionAbove:!1,forceRepositionBelow:!1,isSectionEmpty:!0}),this.determineIfShouldShowNewLabelsInEditDialog()},hide:function(){this.$el.hide()},show:function(){this.$el.show()},reposition:function(e,n,i){var o=e.offset(),r=e.height(),s=e.outerWidth();if(n=t.isUndefined(n)?this.options.forceRepositionBelow:n,i=t.isUndefined(i)?this.options.forceRepositionAbove:i,!t.isEqual(this.previousOffset,o)||this.previousHeight!==r||this.previousOuterWidth!==s||this.previousForceBelow!==n||this.previousForceAbove!==i){this.previousOffset=o,this.previousHeight=r,this.previousOuterWidth=s,this.previousForceBelow=n,this.previousForceAbove=i;var a=!0;n&&(a=!1);var l=this.$el.offsetParent().offset().top,c=o.top-this.constructor.CONTROL_HEIGHT-l;(!a||!i&&c<0)&&(a=!1,c+=this.constructor.CONTROL_HEIGHT+e.height()+this.constructor.CONTROL_ARROW_HEIGHT),this.options.preferTop=a,this.options.preferBottom=!a,this.render(),this.$el.css({top:c,left:o.left+e.outerWidth()/2})}},onClose:function(){t.result(this.confirm,"close"),t.result(this.editDialog,"close"),t.result(this.moveCopyDialog,"close")},edit:function(){var t=e(this.model.generateSelector()),n=t.closest("."+s.SECTION_WRAP_NAME);this.hide(),this.editDialog=new o({section:this.model,$sectionEl:t,pointAt:n,preferTop:this.options.preferTop,preferBottom:this.options.preferBottom,showAlignment:!this.options.isSectionEmpty,isHeaderSection:this.options.isHeaderSection,showSaveToPages:this.options.isHeaderSection,fallbackAlignment:this.options.fallbackAlignment,baseSetting:this.options.baseSetting,showNewLabels:this.shouldShowNewLabels}),this.shouldShowNewLabels&&i.execute("user:doEvent","seen_edit_background_dialog_tip"),this.listenTo(this.editDialog,{all:function(){this.trigger.apply(this,arguments)},"before:destroy":function(){this.show()}})},determineIfShouldShowNewLabelsInEditDialog:function(){i.request("user:hasDoneEvent","seen_edit_background_dialog_tip").done(function(e){this.shouldShowNewLabels=!e}.bind(this))},shiftUp:function(){this.trigger("section:control:shift",this.model.id,-1)},shiftDown:function(){this.trigger("section:control:shift",this.model.id,1)},delete:function(){this.trigger("section:control:remove",this.model.id)},clear:function(){this.trigger("section:control:clear",this.model.id)},applyStyle:function(){this.trigger("section:control:style:apply",this.model.id),this.trigger("section:applyStyle",this.model.id)},move:function(){this.trigger("section:control:move",this.model.id)},addLayout:function(){this.trigger("section:control:layout:add",this.model.id)},changeLayout:function(){
this.trigger("section:control:layout:change",this.model.id)},move:function(){this.trigger("section:control:move",this.model.id)}},{CONTROL_HEIGHT:50,CONTROL_ARROW_HEIGHT:15});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(4),n(13),n(2),n(17),n(1),n(87),n(295)],o=function(e,t,i,o,r,s){function a(){return!!N()&&(L||(L=n(7),B=n(59)),!0)}function l(e){var t=e.closest("."+U);return t.length?t:e.parent()}function c(e){var t=e.find("."+q);return t.length?t:e.find("a").first()}function u(e){var t=e.find("."+G);return t.length?t:(t=e.find("."+z),t.length?t:e.find("li"))}function d(e){var t=e.closest("."+Y);return t.length?t:e.parent()}function h(e){return e.find("."+Y).first()}function p(e){var t=e.find("."+J);return t.length?t:e.find("li")}function f(e){var t=e.find("."+Q);return t.length?t:e.find("a")}function m(t){if(window.navFlyoutMenu){var n=window.currentPage||H,o=window.navFlyoutMenu.getMainList(),a=o.children(),l=s("body").find("#"+se),d=s("body").find("#"+ie),p=W&&W.hasCustomMembership,m=W&&W.hasCustomMinicart,g=a.filter(function(){return!!s(this).find("#"+ie).length});g.length||(g=void 0);var v=window.getCartCount(),w=window.location.host,y=window.location.pathname,_=window._W.stl("javascript.cartText")+" (<span id='"+re+"'></span>)",E;w.indexOf(".checkout.weebly.com")>-1||w.indexOf(".checkout.editmysite.com")>-1||y.indexOf("store/checkout")>-1||"object"==typeof e&&e.EDITOR&&!e.COMMERCE_ENABLED||"object"!=typeof e||!e.Commerce||"boolean"!=typeof e.Commerce.hasCart||"object"==typeof e&&e.Commerce&&e.Commerce.hasCart===!1?g&&(g.remove(),a=o.children(),window.navFlyoutMenu.writeOrderingClassNames()):(g||(m?(d.html(_),g=void 0):g=D(_),E=m?d:c(g),E.attr("id",ie).css("position","relative"),N()&&(i.chromeless||(E=m?d.parent():b(g),E.attr("data-content",window._W.utl("javascript.editor.cartNotification")).popover({trigger:"hover",placement:"bottom",container:"#_editor-ui",delay:{show:500,hide:100}}))),E=m?d.parent():b(g),E.addClass(oe).css("position","relative"),M=m?d:g,window.reportCartNavElement(),m||(o.append(g),a=o.children(),window.navFlyoutMenu.writeOrderingClassNames())),s("#"+re).text(v));var S;g&&m?S=null:g&&(S=b(g));var I;I=p?s("#"+se):a.filter(function(){return!!s(this).find("#"+se).length}),I.length||(I=void 0);var k=e.allowMemberRegistration?e.stl("html.weebly.libraries.flyout_menus_jq_7"):e.stl("html.weebly.libraries.flyout_menus_jq_8"),P=r.some(function(e){return e.get("membership_required")}),A=N()&&(P||e.allowMemberRegistration||e.memberCount>0||e.groupCount>0)&&e.showMemberLoginLink,L=window._W&&e.showLogin;if(!A&&!L||I?A||L||!I||(I.remove(),a=o.children(),window.navFlyoutMenu.writeOrderingClassNames()):(I=D(k),N()?I.attr("id","pgmember-login"):I.attr("id","member-login"),c(I).attr("id",se),p?s(".wsite-custom-membership-wrapper").html(I):g&&!m?I.insertBefore(g):o.append(I),a=o.children(),window.navFlyoutMenu.writeOrderingClassNames()),N()&&I){var B=c(I);B=l.length?l:B,l.length&&B.text(k),i.chromeless||B.attr("data-content",e.utl("html.weebly.libraries.flyout_menus_jq_5")).popover({trigger:"hover",placement:"bottom",container:"body",delay:{show:500,hide:100}})}if(!window.DISABLE_NAV_MORE){var F=K?K.clone(!0,!0):O(),j=a.filter(function(){return!!s(this).find("#"+te).length});j.length||(j=void 0);var $=!1;j&&(j.hide(),$=!0);var U;if($)if(U=b(j),U[0]._flyoutmenu_destroy)U=U[0]._flyoutmenu_destroy(!0);else{var G=u(U)[0];G._flyoutmenu_destroy&&(U=G._flyoutmenu_destroy(!0))}var q=[],X=[],J=!1,Q,ee,ae=null,le,ce;for(le=0;le<t.length;le++)ce=C(t[le].id,o),ce&&(ce.show(),q.push(ce));for(g&&q.push(g),I&&q.push(I),le=0;le<q.length;le++){ce=q[le];var ue=b(ce),de=T(ue);if(le){if(1==le)Q=Math.abs(de[0].top-X[0][0].top)>Math.abs(de[0].left-X[0][0].left),Q&&(ee=ue.closest(".wsite-nav-vertical"),ee.length&&(ae=ee.offset().top+(parseInt(ee.css("padding-top"),10)||0)+ee.height()));else if(Q){if(null!==ae&&de[1].top>ae){J=!0;break}}else if(Math.abs(de[0].top-X[le-1][0].top)>5){J=!0;break}}else;X.push(de)}var he=[],pe,fe,me;if(s("body").toggleClass("wsite-nav-condensed",!!J),J){j?j.show():(j=F,c(j).attr("id",te).css("position","relative").on("click",!1),I&&!p?j.insertBefore(I):g&&!m?j.insertBefore(g):o.append(j));var ge=b(j).addClass(ne).css("position","relative"),ve=b(q[0]),be=null;I&&!p&&(be=b(I));var we=S||be||ge,ye=q.length-1;for(g&&ye--,I&&ye--,le=ye;le>=0;le--){var _e=T(ve),Ee=T(we);if(!(Q&&Ee[1].top>ae||!Q&&Math.abs(_e[0].top-Ee[0].top)>5))break;q[le].hide(),he.unshift(le)}if(0===he.length)j.remove(),s("body").removeClass("wsite-nav-condensed");else if(he.length==t.length){for(le=0;le<he.length;le++){var Te=C(t[he[le]].id,o);Te&&Te.show()}j.remove(),s("body").removeClass("wsite-nav-condensed")}else{for(var Ce=[],Se,Ie=0;Ie<he.length;Ie++){pe=t[he[Ie]],r.length&&(pe=r.getPage(pe.id).toJSON()),pe=s.extend({},pe),pe.title_html=pe.title,pe.membership_required=pe["membership-required"],N()&&(pe.url="page://"+pe.id);var Oe=C(pe.id,o);Oe&&(Se=b(Oe)[0]._get_sublist()),!Se&&U&&(Se=!!U.find("#"+V+pe.id+" ."+Y).length),Se&&(pe.has_children=!0,pe.children=!1),Ce.push(pe)}var De=s(x(R("navigation/flyout/list")||R("menu/submenu-main"),{children:Ce}));N()&&window.processNavLinks(De),f(De).each(function(){var e=s(this).closest("[id]"),i=e.attr("id");if(i){i=i.replace(/[^\d]/g,"");var r;if(s.each(t,function(){if(this.id===i)return r=this,!1}),r){if(e.is("span."+z)&&(e=e.children(),e.unwrap()),fe=V+r.id,e.attr("id",fe),fe.replace(/[^\d]/g,"")==n&&e.addClass(Z),me=c(e),!r.onclick){var a=r.url;if(window.IS_ARCHIVE||a.match(/^http:\/\//))me.attr("href",a);else{var l=s(s.map(q,function(e){return e.get()})),u=c(l.filter("[id*="+i+"]")),d=u.attr("href"),p=u.data("membership-required");d?me.attr("href",d):r.nonclickable||me.attr("href","/"+a),"number"==typeof p&&me.attr("data-membership-required",""+p)}r.target&&me.attr("target",r.target)}var f,m=C(r.id,o);m&&(f=b(m)[0]._flyoutmenu_destroy()),!f&&U&&(f=h(U.find("#"+V+r.id)),f.length||(f=void 0)),f&&h(e).replaceWith(f)}}}),ge.append(De),window.navFlyoutMenu.addItem(ge)}}if(U)for(le=0;le<he[0];le++){pe=t[le];var xe=C(pe.id,o),ke=U.find("#"+V+pe.id+" ."+Y+":first");ke.length&&(xe[0]._flyoutmenu_destroy&&xe[0]._flyoutmenu_destroy(),xe.append(ke),window.navFlyoutMenu.addItem(xe))}window.navFlyoutMenu.writeOrderingClassNames()}}}function g(e,t,n){var i=e.closest("."+U);i.length||(i=e.parent(),i.hasClass(z)&&(i=i.parent()));var o=v(i,t,n);if(o.length>=2){var r=o.eq(0).offset(),s=o.eq(1).offset(),a=Math.abs(r.left-s.left)-Math.abs(r.top-s.top);if(0!==a)return a<0}return!E(e)}function v(e,t,n){var i=e.find("."+G);if(i.length)return i;var i=e.find("."+z);if(i.length)return i;var o=[];return e.children().each(function(e,i){var r=s(i);if(!t||r.hasClass(z)||r.hasClass(ne)||i.id.match(/^pg/)||n&&i.id==n){var a=b(r);a.length&&o.push(a[0])}}),s(o)}function b(e){if(e.hasClass(z)){var t=e.find("."+G).first();e=t.length?t:e.children().first()}if(!e.hasClass(U))return e}function w(e){return u(e).add(p(e))}function y(e){var t=e.closest("."+z).siblings().find("."+G+":first-child");return t.length?t:e.parent().hasClass(z)?e.parent().siblings().children(":first-child"):e.siblings()}function _(e){var t=e.find("."+X).first();if(t.length)return t;if(t=e.closest("."+J+", ."+G).find("."+X).first(),t.length)return t;if(t=e.find("ul").first(),!t.length){var n=e.next();n.hasClass(U)&&(t=n.children().first())}return t.length?t:void 0}function E(e){return!e.closest("."+X).length}function T(e){var t=e.is("a")?e:e.find("a"),n=e.offset(),i={top:n.top+e[0].offsetHeight,left:n.left+e[0].offsetWidth};if(!t)return[n,i];var o=t.offset(),r={top:o.top+t[0].offsetHeight,left:o.left+t[0].offsetWidth},s,a;return Math.abs(n.left-i.left)<10?(s=o,a=r):(s={top:Math.min(n.top,o.top),left:Math.min(n.left,o.left)},a={top:Math.max(i.top,r.top),left:Math.max(i.left,r.left)}),[s,a]}function C(e,t){var n=s("#pg"+e,t);if(!n.length&&F&&(n=s("#"+F,t)),n.length)return n}function S(){if(N()){for(var e=0;e<document.styleSheets.length;e++)try{if(document.styleSheets[e].title==j+"-theme-css"){var t=document.styleSheets[e],n=t.cssRules||t.rules;return n&&n.length>0}}catch(e){}return!1}return!0}function I(e){if(S())e();else var t=setInterval(function(){S()&&(clearInterval(t),e())},200)}function O(){return D(e.stl("html.weebly.libraries.flyout_menus_jq_6"))}function D(e){return s(x(k(),{title_html:e,url:"#",has_children:!1}))}function x(e,n){return t.render(e,n,P())}function k(){return le||(le=R("navigation/item")||R("menu/item")),le}function R(e){return P()[e]}function P(){return ae||{}}function A(e){ae=o.extend({},objectify(e))}function N(){return window.inEditor&&window.inEditor()}window.getCartCount=function(){var e=N()?0:"-";return e};var M=null;window.getCartNavElement=function(){return M},window.reportCartNavElement=function(){};var L,B,K,F,H,j=window.STYLE_PREFIX||"weebly",W,$=300,z=j+"-nav-handle",V=j+"-nav-",U=j+"-menu-default",G=j+"-menu-item-wrap",q=j+"-menu-item",Y=j+"-menu-wrap",X=j+"-menu",J=j+"-menu-subitem-wrap",Q=j+"-menu-subitem",Z=j+"-nav-current",ee=j+"-menus",te=j+"-nav-more-a",ne=j+"-nav-more",ie=j+"-nav-cart-a",oe=j+"-nav-cart",re=j+"-nav-cart-num",se=j+"-nav-login-a";window.initPublishedFlyoutMenus=function(e,t,n,i,o,r,a){if(H=t,W=a,A(r),K=O(),e.length>0){var c=function(){F=i;var t=s("<div>",{id:ee}).appendTo("body"),n=C(e[0].id);n&&(window.navFlyoutMenu=new window.FlyoutMenu(l(n),{relocate:t,aLiId:i}),m(e))};o?c():I(c)}window.refreshPublishedFlyoutMenus=function(){m(e)},s(".wsite-logo img").on("load",window.refreshPublishedFlyoutMenus),s(window).on("load",window.refreshPublishedFlyoutMenus)},window.flyoutMenusRefreshable=!0,window.initEditorFlyoutMenus=function(e,t){F=e,W=t,A(t.templates),I(function(){function t(){var t=getTopLevelSummary();if(t.length>0){var n=C(t[0].id);if(n){var i=l(n);i.is("table,tbody,thead,tr")?window.navFlyoutMenu=null:(window.navFlyoutMenu=new window.FlyoutMenu(i,{relocate:"#"+ee,aLiId:e}),K=O(),m(t))}else window.navFlyoutMenu=null}}t()})},window.refreshNavCondense=function(t){"object"==typeof t&&o.extend(e,t),!window.navFlyoutMenu||e.view&&e.view.isMobileView||m(getTopLevelSummary())},window.disableFlyouts=!1,window.FlyoutMenu=function(e,t){function n(e){function n(e){r&&w&&e.preventDefault()}function i(){return!window.disableFlyouts&&(o.mouseoverItems.push(e),S++,C=!0,void(E||w||k&&(e.data("hasChildren",!0),y(e).each(function(e,t){t._flyoutmenu_contract&&t._flyoutmenu_contract()}),v(),e.data("isExpanded",!0))))}function h(){if(window.disableFlyouts)return!1;if(C=!1,E){var t=S;setTimeout(function(){S==t&&E&&!w&&(b(),e.data("isExpanded",!1))},l)}}function m(){return!window.disableFlyouts&&void S++}function v(){w=!0;var n={wrapper:x,duration:$,complete:function(){if(w=!1,E=!0,C?(e[0]._flyoutmenu_contract=b,e[0]._flyoutmenu_hide=function(){w=!1,E=!1,C=!1,e[0]._flyoutmenu_contract=null,e[0]._flyoutmenu_hide=null,x.hide()}):b(),a()){var t=s(this),n=t.offset();L.trigger(B.EVENTS.SUBNAV_SHOWN,{top:n.top,left:n.left,width:t.outerWidth(),height:t.outerHeight()})}}},i=T(e);x.css("left",-1e4),x.show();var o=x.offsetParent(),r=o.is("body")?{top:0,left:0}:o.offset();k.show();var l;if(g(e,!0,t.aLiId))I=!1,x.css("top",-r.top+i[0].top),l=x.outerWidth(),i[1].left+l>s("body").outerWidth()?(O=!1,x.css("left",-r.left+i[0].left-l),n.direction="right",k.show("slide",n)):(O=!0,x.css("left",-r.left+i[1].left),n.direction="left",k.show("slide",n));else{I=!0,x.css("top",-r.top+i[1].top),l=x.outerWidth();var c=x.outerHeight();i[0].left+l>s("body").outerWidth()?x.css("left",-r.left+i[1].left-l):x.css("left",-r.left+i[0].left);var u;if(e.parentsUntil("body").filter(function(){return"fixed"===s(this).css("position")}).length>0){var d=s(window);u=d.height()+d.scrollTop()}else u=s(document).height();var h=parseInt(x.css("top"),10)-c-e.outerHeight();i[1].top+c>u&&h>0?(x.css("top",h+"px"),n.direction="down",D=!0):(n.direction="up",D=!1),k.hide(),k.show("slide",n)}}function b(t){if(!window.disableFlyouts&&e.parent().length){t&&(C=!1),w=!0,e[0]._flyoutmenu_contract=null,e[0]._flyoutmenu_hide=null;var n={wrapper:x,duration:$,complete:function(){w=!1,E=!1,C&&v(),a()&&L.trigger(B.EVENTS.SUBNAV_HIDDEN)}};I?(D?n.direction="down":n.direction="up",k.hide("slide",n)):O?(n.direction="left",k.hide("slide",n)):(n.direction="right",k.hide("slide",n))}}e.css("position","relative"),c(e).add(f(e)).css("position","relative");var w=!1,E=!1,C=!1,S=0,I=!1,O=!1,D=!1,x,k;k=_(e),k&&(x=d(k),x.css("position","absolute"),x.hide(),u?(x.on("mouseover",i),x.on("mouseout",h),x.on("click",function(e){n(e)})):(x.on("mouseover",m),x.on("click",function(e){n(e)}))),e.on("mouseover",i),e.on("mouseout",h),e.on("click",function(e){n(e)}),e[0]._flyoutmenu_destroy=function(t){if(e.off("mouseover",i),e.off("mouseout",h),e.off("click",n),x){u?(x.off("mouseover",i),x.off("mouseout",h),x.off("click",n)):(x.off("mouseover",m),x.off("click",n)),p(x).each(function(){this._flyoutmenu_destroy()}),t&&x.detach();var o=x;return x=null,k=null,o}},e[0]._get_sublist=function(){return k}}function i(){var t=1;v(e).each(function(){this.className=this.className.replace(new RegExp(V+"\\d+"),"");var e=s(this);"none"!=e.css("display")&&(e.addClass(V+t),t++)})}var o=this;o.mouseoverItems=[],e=s(e),t=t||{};var r="ontouchstart"in window,l=1e3*(t.delay||.5),u=!!t.relocate&&s(t.relocate),h;this.contract=function(){h.each(function(e,t){t._flyoutmenu_contract&&t._flyoutmenu_contract(!0)})},this.hideSubmenus=function(){h.each(function(e,t){t._flyoutmenu_hide&&t._flyoutmenu_hide()})},this.destroy=function(){h.each(function(e,t){t._flyoutmenu_destroy&&t._flyoutmenu_destroy()})},this.addItem=function(e){e=s(e);var t=b(e);if(t.length){n(t);var o=_(t);o&&p(o).each(function(){n(s(this))}),u&&o&&u.append(d(o)),h=h.add(t),i()}},this.removeItem=function(e){e=s(e);var t=b(e);t.length&&(t[0]._flyoutmenu_destroy&&t[0]._flyoutmenu_destroy(!0),t.remove(),h=h.not(t),i())},this.getMainList=function(){return e},this.writeOrderingClassNames=i,h=w(e),h.each(function(){n(s(this))}),i(),u&&v(e).each(function(e,t){var n=_(s(t));n&&u.append(d(n))})},window.whenThemeCSSLoaded||(window.whenThemeCSSLoaded=I),e.Menus={inVerticalList:g};var ae,le;window.objectify=function(e){return o.isEmpty(e)?{}:e}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(482),n(478)],o=function(e,t,n,i,o){var r='<div class="product-pagination" data-max-page="{{max_page}}">\n<div class="product-grid__paging clearfix">\n<a class="product-grid__paging--link js-products-prev">\n<span class="product-grid__paging--arrow"></span>\n</a>\n<div class="pagination-wrapper">\n<a class="product-grid__paging--count js-page-num wsite-first" data-page="1">1</a>\n{{#show_head_ellipsis}}\n<span class="pagination-ellipsis"></span>\n{{/show_head_ellipsis}}\n{{#pages}}\n<a class="product-grid__paging--count js-page-num" data-page="{{.}}">{{.}}</a>\n{{/pages}}\n{{#show_tail_ellipsis}}\n<span class="pagination-ellipsis"></span>\n{{/show_tail_ellipsis}}\n<a class="product-grid__paging--count js-page-num wsite-last" data-page="{{max_page}}">{{max_page}}</a>\n</div>\n<a class="product-grid__paging--link product-grid--next js-products-next">\n<span class="product-grid__paging--arrow"></span>\n</a>\n</div>\n</div>',s={bindSlideshowListener:function(t){var n,i,o=!1,r=function(e,t,n){var i=e.eq(t%e.length);i.css({marginTop:-1*n,paddingTop:n}).fadeIn(400,function(){e.not(i).hide()})},s=function(t){var s=0,a=e(t.currentTarget),l=a.find(".js-slideshow-img");if(i=a.clone(),o=!0,l.length>1){var c=a.find(".js-default-img"),u=parseFloat(c.css("paddingTop"));r(l,++s,u),clearInterval(n),n=setInterval(function(){r(l,++s,u)},1e3)}},a=function(t){if(o){o=!1;var r=e(t.currentTarget);r.replaceWith(i),clearInterval(n)}};t.off("mouseenter.slideshow",".product-grid__item").on("mouseenter.slideshow",".product-grid__item",s).off("mouseleave.slideshow",".product-grid__item").on("mouseleave.slideshow",".product-grid__item",a)},listenToPagination:function(e,t,n){var i=e.find(".js-products-prev, .js-products-next"),o=e.find(".js-page-num");i.off("click.arrow").on("click.arrow",function(i){this.onArrowClick(i,e,t,n)}.bind(this)),o.off("click.number").on("click.number",function(i){this.onNumberClick(i,e,t,n)}.bind(this))},onArrowClick:function(t,n,i,o){var r=e(t.currentTarget),s=r.hasClass("js-products-prev")?-1:1,a=r.siblings(".pagination-wrapper"),l=parseInt(a.children(".wsite-selected").attr("data-page")),c=l+s;c>=1&&c<=i&&this.gotoPage(n,c,i,o)},onNumberClick:function(t,n,i,o){var r=e(t.currentTarget),s=parseInt(r.attr("data-page"));s>=1&&s<=i&&this.gotoPage(n,s,i,o)},gotoPage:function(e,t,n,i){this.renderPagination(e,t,n,i),this.renderPage(e,t,i)},renderPagination:function(e,t,i,o){var s=e.find(".product-pagination"),a=this.getPaginationData(t,i),l=n.render(r,a);s.replaceWith(l),e.find('a[data-page="'+t+'"]').addClass("wsite-selected"),this.listenToPagination(e,i,o)},assignShowMorePagination:function(t,n,i){t.find(".product-grid__more").on("click",function(o){var r=e(o.currentTarget),s=r.data("current-page");s<n&&!r.hasClass("disabled")&&(r.data("current-page",++s),r.addClass("disabled"),this.renderPage(t,s,i)),s===n&&r.remove()}.bind(this))},assignRowScrollListener:function(e,n,i){var o=e.find(".product-grid__item");if(0!==o.length){var r=o.outerWidth(!0),s=e.find(".js-row-wrapper");this.scrollIntervalFired=!1,this.scrollInterval=null,e.find(".js-scroll-arrow").off("mousedown touchstart mouseup touchend").on("mousedown touchstart",function(e){this.onSingleRowArrowMousedown(e,s)}.bind(this)).on("mouseup touchend",function(e){this.onSingleArrowMouseUp(e,s,r)}.bind(this)),n>1&&(this.singleRowWidth=0,s.off("scroll.singlerow").on("scroll.singlerow",t.throttle(function(t){this.onSingleRowScroll(t,e,n,r,i)}.bind(this),150)))}},onSingleRowArrowMousedown:function(t,n){if(3!==t.which){var i=e(t.currentTarget),o=i.hasClass("js-scroll-left")?-1:1;this.scrollTimeout=setTimeout(function(){this.scrollInterval=setInterval(function(){this.intervalFired=!0,n.animate({scrollLeft:o<0?"-=30":"+=30"},10)}.bind(this),15)}.bind(this),150)}},onSingleArrowMouseUp:function(t,n,i){if(3!==t.which){var o=e(t.currentTarget),r=o.hasClass("js-scroll-left")?-1:1;if(!this.intervalFired){var s=i,a=n.scrollLeft()%i;a>0&&(r<0?s=a:s-=a),s=Math.ceil(s),n.animate({scrollLeft:r<0?"-="+s+"px":"+="+s+"px"},100)}clearTimeout(this.scrollTimeout),clearInterval(this.scrollInterval),this.intervalFired=!1,this.scrollInterval=null}},onSingleRowScroll:function(t,n,i,o,r){var s=e(t.currentTarget);if(0===this.singleRowWidth){var a=n.find(".js-row-wrapper").get(0);this.singleRowWidth=a.scrollWidth}if(s.scrollLeft()>this.singleRowWidth-2*s.width()){var l=s.data("current-page");l<i&&(this.renderPage(n,++l,r),s.data("current-page",l),this.singleRowWidth=0)}},initializeMasonry:function(t){var n=t.find(".product-grid-masonry");if(n.length>0){n.data("masonry")&&n.masonry("destroy"),e.fn.masonry||o("masonry",i,e);var r={itemSelector:".product-grid__item",columnWidth:".product-grid__item",gutter:".product-grid-masonry--gutter",percentPosition:!0},s=n.find("img"),a=[];s.each(function(){var t=e(this),n=this.complete;if(!n){var i=new e.Deferred;a.push(i),t.on("load",function(){i.resolve()})}}),e.when.apply(e,a).done(function(){n.masonry(r)})}},removeListeners:function(t){t.off("mouseenter mouseleave click"),t.find(".js-products-prev, .js-products-next").off("click"),t.find(".js-page-num").off("click"),t.find(".js-row-wrapper").off("scroll.singlerow"),t.find(".js-scroll-arrow").off("mousedown mouseup mouseleave touchstart touchend"),e.fn.masonry&&t.find(".product-grid-masonry").masonry("destroy")},renderPage:function(e,t,n){var i=t-1;n(e,i)},resetPagination:function(e,t){e.replaceWith(t)},getPaginationData:function(e,n){var i,o=t.range(1,e),r=t.range(e+1,n+1);return n>5&&e>2&&o.splice(0,e-3),n>5&&e<n-2&&r.splice(2,r.length),i=o.concat([e],r),i=t.filter(i,function(e){return 1!==e&&e!==n}),{max_page:n,pages:i,show_head_ellipsis:o[0]>2,show_tail_ellipsis:t.last(r)<n-1}}};return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(9)],o=function(e,t,n){n.preventClose=function(i){var o=this;if(!this.defer){if(this.defer=e.Deferred(),n.preventClose.preventer){var r=n.preventClose.preventer();r&&r.promise?this.defer=r:r?this.defer.resolve():this.defer.reject(),this.defer.fail(function(){delete n.preventClose.preventer})}else this.defer.reject();this.defer.always(function(){t.defer(function(){delete o.defer})})}this.defer.fail(function(){i()})},n.preventClose.ifModelChanged=function(n,i){if(!n.hasChangedDeepSinceSavepoint())return!1;var o=e.Deferred();return i?i(function(){o.reject()},function(){o.resolve()}):t.defer(function(){confirm("Are you sure? You'll lose your current changes.")?o.reject():o.resolve()}),o.promise()};var i=n.View.prototype.constructor;n.View.prototype.constructor=function(){i.apply(this,arguments),this.preventClose&&(n.preventClose.preventer=t.bind(this.preventClose,this))}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i;i=function(){var e={mergeOptions:function(e,t){if(!t)return e;var n=function(e){return null===e?"null":Object.isArray(e)?"array":typeof e};for(key in t){var i=e[key],o=t[key],r=n(i),s=n(o);"undefined"!==r&&r!==s&&"null"!==r||(e[key]=o)}return Object.clone(e)},mergeObjects:function(e,t){for(key in t)e[key]=t[key];return Object.clone(e)}};return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,o;i=[n(1),n(5),n(4),n(6),n(12)],o=function(e,t,n,i,o){function r(t){var n=e("#available-elements .outside_top");n.on("mousedown.event-tooltip",function(e){n.off("mousedown.event-tooltip"),a.hide(t).hideOverlay()})}function s(e){for(var t in c)if(!e[t]){var n={};n[t]=c[t],a.set(n)}}var a,l="#"+o.EDITOR_FRAME_ID,c={"x-elements":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_1"),target:"#available-elements .outside_top:eq(1)",position:"left",width:210,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){i.vent.trigger("editor:toolbar:show"),"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-elements",title:"Intro Elements"})},afterShow:r},"x-pages":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_2"),target:"#weebly_tab_pages",position:"top",width:225,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-pages",title:"Intro Pages"})},afterShow:r},"x-pages-subpages":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_12"),target:".pm-page-list.parent-list > li:last-child",position:"left",icon:"w-icon-question",overlayTarget:l,width:250,beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-subpages",title:"Intro Subpages"})},afterShow:function(t){var n=e(".pm-page-list li");n.on("mousedown.event-tooltip",function(e){n.off("mousedown.event-tooltip"),a.hide(t).hideOverlay()})}},"x-platform-elements":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_13"),target:"#available-elements .outside_top:eq(1)",position:"left",width:210,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){i.vent.trigger("editor:toolbar:show")},afterShow:r},"x-platform-settings":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_14"),target:"#weebly_tab_settings",position:"top",width:225,icon:"w-icon-question",overlayTarget:l,afterShow:r},"x-design":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_4"),target:"#weebly_tab_themes",position:"top",appearWait:600,width:200,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-design",title:"Intro Design"})},afterShow:r},"x-publish":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_5"),target:"#publish-button",position:"top-right",width:260,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-publish",title:"Intro Publish"})},afterShow:r},"x-golive":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_6"),target:"#client-go-live-button",position:"top-right",width:260,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-go-live",title:"Intro Go Live"})},afterShow:r},"show-storefront-page":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_7"),target:"#weebly_tab_pages",position:"top",width:220,overlayTarget:"#body",icon:"w-icon-storefront",beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-storefront",title:"Intro Storefront"})}},"blog-first-view-post":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_8"),target:"#blog-post-options .w-icon-chevron-up-light",position:"bottom",width:280,icon:"w-icon-cog",overlayTarget:"#body",beforeShow:function(e){i.vent.trigger("editor:toolbar:show"),"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-blog-post",title:"Intro Blog Post"})}},"additional-support":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_9"),target:"#question-button",position:"top",width:200,icon:"w-icon-question",overlayTarget:l,beforeShow:function(e){"function"==typeof window.ga&&window.ga("send","pageview",{page:"/intro-additional-support",title:"Intro Additional Support"})},afterShow:r},"theme-howto-downgrade":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_10"),target:"#weebly_tab_themes",position:"top",width:280},"theme-howto-upgrade":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_11"),target:"#weebly_tab_themes",position:"top",width:280,overlayTarget:"#body"}};return a={_overlayId:"event-tooltip-overlay",_containerId:"event-tooltip-container",_containerClass:"w-ui",container:void 0,overlay:void 0,events:{},template:function(){return n.compile('<div id={{id}} class="event-tooltip {{classNames}}">{{#icon}}<span class="event-tooltip-icon {{icon}}"></span>{{/icon}}<div class="event-tooltip-body">{{{body}}}</div></div>')},set:function(e){for(var t in e)e[t].id||(e[t].id=t),this.events[t]=e[t];return this},show:function(t){var n=this,i=this.events[t];if(i){var o,r;r=document.getElementById("event-tip-"+i.id)?e("#event-tip-"+i.id):this.buildTooltip(i),this.hideAll(),this.container||(this.container=this.buildContainer()),i.beforeShow&&i.beforeShow(i),setTimeout(function(){n.container.append(r),n.positionTooltip(i),n.positionOverlay(i)},i.appearWait||0),i.afterShow&&i.afterShow(i),e(document.body).on("mousedown.event-tooltip",function(t){e(t.currentTarget).off("mousedown.event-tooltip"),n.hide(i),n.hideOverlay()})}},hide:function(t){var n=this.container.find("#event-tip-"+t.id),i={opacity:0};return"left"===t.position?i.left=n.offset().left-10:e.inArray(t.position,["bottom","top","top-right","top-left"])>=0&&(i.top=n.offset().top-10),n.animate(i,function(){n.hide()}),this},hideAll:function(){return e(document.body).trigger("mousedown.event-tooltip"),this},hideOverlay:function(){return this.overlay&&(this.overlay.remove(),this.overlay=void 0),this},positionOverlay:function(t){if(t.overlayTarget){void 0===this.overlay&&(this.overlay=this.buildOverlay());var n=t.overlayTarget instanceof e?t.overlayTarget:e(t.overlayTarget),i=n.outerWidth(),o=n.outerHeight(),r=n.offset()||{};this.overlay.css({height:o,width:i,left:r.left,top:r.top,opacity:.3})}},positionTooltip:function(t){var n,i,o,r=14;n=t.target instanceof e?t.target:e(t.target);{if(!n.length)throw"Invalid target: "+t.target;var s=n.outerWidth(),a=n.outerHeight(),l=n.offset(),c=l.left,u=l.top,d=this.container.find("#event-tip-"+t.id);t.width&&d.width(t.width);var h=d.outerWidth(),p=d.outerHeight();"left"===t.position?(c+=s,o=c+r,u+=Math.floor((a-p)/2)):"top"===t.position?(c+=Math.floor((s-h)/2),u+=a,i=u+r):"top-right"===t.position?(u+=a,c+=Math.floor(s-h),i=u+r):"top-left"===t.position?(u+=a,i=u+r):"bottom"===t.position&&(u-=a+p,c-=Math.floor(h/2-r/2),i=u+r),t.offsetY&&(u+=t.offsetY),t.offsetX&&(c+=t.offsetX),d.show().css({left:c,top:u,opacity:0}),d.animate({left:o,top:i,opacity:1},500)}},buildContainer:function(){return e(document.createElement("div")).attr({id:this._containerId,class:this._containerClass}).appendTo("body")},buildOverlay:function(){return e(document.createElement("div")).attr({id:this._overlayId}).appendTo("body")},buildTooltip:function(e){var t="event-tip-"+e.position||"top";return this.template()({id:"event-tip-"+e.id,body:e.body,classNames:t,icon:e.icon})}},a.init=s,a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(5)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}function o(t,n){var i=e(t).data(),o={},r,s=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var a in i)n.test(a)&&(r=a.replace(s,function(e,t){return t.toLowerCase()}),o[r]=i[a]);return o}function r(t){var n={};if(h[t]||(t=t.split("-")[0],h[t])){var i=h[t];return e.each(d,function(e,t){t in i&&(n[t]=i[t])}),n}}var s=e(window),a=function(t,n){var i=this;this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(p.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};a.prototype={constructor:a,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),i=n.language;switch(h[i]||(i=i.split("-")[0],h[i]||(i=u.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=p.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=p.parseDate(n.startDate,o,n.language):n.startDate=-(1/0)),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=p.parseDate(n.endDate,o,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var r=String(n.orientation).toLowerCase().split(/\s+/g),s=n.orientation.toLowerCase();if(r=e.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===r.length)switch(r[0]){case"top":case"bottom":n.orientation.y=r[0];break;case"left":case"right":n.orientation.x=r[0]}else s=e.grep(r,function(e){return/^left|right$/.test(e)}),n.orientation.x=s[0]||"auto",s=e.grep(r,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t=0,n,i;t<e.length;t++)n=e[t][0],i=e[t][1],n.on(i)},_unapplyEvents:function(e){for(var t=0,n,i;t<e.length;t++)n=e[t][0],
i=e[t][1],n.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.date,o=this._utc_to_local(i);this.element.trigger({type:t,date:o,format:e.proxy(function(e){var t=e||this.o.format;return p.formatDate(i,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo(this.o.parentElement?this.o.parentElement:"body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(e){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue())},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(this._local_to_utc(e))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),p.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,o=s.width(),r=s.height(),a=s.scrollTop(),l,c=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10;l=this.component?this.component.parent().offset():this.element.parent().hasClass("input-prepend")?this.element.parent().offset():this.element.offset();var u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=l.left-(this.o.parentElement?e(this.o.parentElement).offset().left:0),p=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-d)):(this.picker.addClass("datepicker-orient-left"),l.left<0?h-=l.left-i:l.left+t>o&&(h=o-t-i));var f=this.o.orientation.y,m,g;"auto"===f&&(m=-a+l.top-n,g=a+r-(l.top+u+n),f=Math.max(m,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p+=u:p-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:h,zIndex:c})}},_allow_update:!0,update:function(){if(this._allow_update){var e=new Date(this.date),t,n=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],t instanceof Date&&(t=this._local_to_utc(t)),n=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=p.parseDate(t,this.o.format,this.o.language),n?this.setValue():t?e.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+h[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+h[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=this.date.valueOf(),s=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()==i&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>o)&&n.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==s.getFullYear()&&t.getUTCMonth()==s.getMonth()&&t.getUTCDate()==s.getDate()&&n.push("today"),r&&t.valueOf()==r&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!=-1&&n.push("selected")),n},fill:function(){var t=new Date(this.viewDate),i=t.getUTCFullYear(),o=t.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=this.date&&this.date.valueOf(),u;this.picker.find(".datepicker-days thead th.datepicker-switch").text(h[this.o.language].months[o]+" "+i),this.picker.find("tfoot th.today").text(h[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=n(i,o-1,28,0,0,0,0),f=p.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(f),d.setUTCDate(f-(d.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(d);m.setUTCDate(m.getUTCDate()+42),m=m.valueOf();for(var g=[],v;d.valueOf()<m;){if(d.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+d+(this.o.weekStart-d.getUTCDay()-7)%7*864e5),w=new Date(+b+(11-b.getUTCDay())%7*864e5),y=new Date(+(y=n(w.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),_=(w-y)/864e5/7+1;g.push('<td class="cw">'+_+"</td>")}if(v=this.getClassNames(d),v.push("day"),this.o.beforeShowDay!==e.noop){var E=this.o.beforeShowDay(this._utc_to_local(d));void 0===E?E={}:"boolean"==typeof E?E={enabled:E}:"string"==typeof E&&(E={classes:E}),E.enabled===!1&&v.push("disabled"),E.classes&&(v=v.concat(E.classes.split(/\s+/))),E.tooltip&&(u=E.tooltip)}v=e.unique(v),g.push('<td class="'+v.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var T=this.date&&this.date.getUTCFullYear(),C=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");T&&T==i&&C.eq(this.date.getUTCMonth()).addClass("active"),(i<r||i>a)&&C.addClass("disabled"),i==r&&C.slice(0,s).addClass("disabled"),i==a&&C.slice(l+1).addClass("disabled"),g="",i=10*parseInt(i/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;for(var I=-1;I<11;I++)g+='<span class="year'+(I==-1?" old":10==I?" new":"")+(T==i?" active":"")+(i<r||i>a?" disabled":"")+'">'+i+"</span>",i+=1;S.html(g)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i=e(t.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=p.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var r=new Date;r=n(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var s="linked"==this.o.todayBtn?null:"view";this._setDate(r,s);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,c=i.parent().find("span").index(i),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(u,c,l,0,0,0,0))}else{var u=parseInt(i.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(u,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();i.is(".old")?0===c?(c=11,u-=1):c-=1:i.is(".new")&&(11==c?(c=0,u+=1):c+=1),this._setDate(n(u,c,l,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!=t||this.hide()},moveMonth:function(e,t){if(!t)return e;var n=new Date(e.valueOf()),i=n.getUTCDate(),o=n.getUTCMonth(),r=Math.abs(t),s,a;if(t=t>0?1:-1,1==r)a=t==-1?function(){return n.getUTCMonth()==o}:function(){return n.getUTCMonth()!=s},s=o+t,n.setUTCMonth(s),(s<0||s>11)&&(s=(s+12)%12);else{for(var l=0;l<r;l++)n=this.moveMonth(n,t);s=n.getUTCMonth(),n.setUTCDate(i),a=function(){return s!=n.getUTCMonth()}}for(;a();)n.setUTCDate(--i),n.setUTCMonth(s);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t=!1,n,i,o,r,s;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;n=37==e.keyCode?-1:1,e.ctrlKey?(r=this.moveYear(this.date,n),s=this.moveYear(this.viewDate,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveMonth(this.date,n),s=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(r=new Date(this.date),r.setUTCDate(this.date.getUTCDate()+n),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+n)),this.dateWithinRange(r)&&(this.date=r,this.viewDate=s,this.setValue(),this.update(),e.preventDefault(),t=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;n=38==e.keyCode?-1:1,e.ctrlKey?(r=this.moveYear(this.date,n),s=this.moveYear(this.viewDate,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveMonth(this.date,n),s=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(r=new Date(this.date),r.setUTCDate(this.date.getUTCDate()+7*n),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+7*n)),this.dateWithinRange(r)&&(this.date=r,this.viewDate=s,this.setValue(),this.update(),e.preventDefault(),t=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(t){this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var l=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){var n=e(t.target).data("datepicker"),i=n.getUTCDate(),o=e.inArray(t.target,this.inputs),r=this.inputs.length;if(o!=-1){if(i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[o])for(;o<r&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var c=e.fn.datepicker;e.fn.datepicker=function(t){var n=Array.apply(null,arguments);n.shift();var i,s;return this.each(function(){var s=e(this),c=s.data("datepicker"),d="object"==typeof t&&t;if(!c){var h=o(this,"date"),p=e.extend({},u,h,d),f=r(p.language),m=e.extend({},u,f,h,d);if(s.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",c=new l(this,e.extend(m,g)))}else s.data("datepicker",c=new a(this,m))}if("string"==typeof t&&"function"==typeof c[t]&&(i=c[t].apply(c,n),void 0!==i))return!1}),void 0!==i?i:this};var u=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=a;var h=e.fn.datepicker.dates={da:{days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag","Sndag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr","Sn"],daysMin:["S","Ma","Ti","On","To","Fr","L","S"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag"},de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",weekStart:1,format:"dd.mm.yyyy"},en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"},es:{days:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],daysShort:["Dom","Lun","Mar","Mi","Jue","Vie","Sb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"},fr:{days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"},it:{days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",weekStart:1,format:"dd/mm/yyyy"},ja:{days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",format:"yyyy/mm/dd"},kr:{days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"]},nl:{days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"},no:{days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],daysMin:["S","Ma","Ti","On","To","Fr","L"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I dag",clear:"Nullstill",weekStart:0},pl:{days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota","Niedziela"],daysShort:["Nie","Pn","Wt","r","Czw","Pt","So","Nie"],daysMin:["N","Pn","Wt","r","Cz","Pt","So","N"],months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthsShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],today:"Dzisiaj",weekStart:1},pt:{days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"},ru:{days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1},sv:{days:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag","Sndag"],daysShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr","Sn"],daysMin:["S","M","Ti","On","To","Fr","L","S"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag",format:"yyyy-mm-dd",weekStart:1},tr:{days:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","r","Pr","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","r","Pr","Cu","Ct","Pz"],months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthsShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],today:"Bugn",format:"dd.mm.yyyy"},zhCN:{days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",format:"yyyymmdd",weekStart:1},zhTW:{days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",format:"yyyymmdd",weekStart:1}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,p.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(t,i,o){if(t instanceof Date)return t;if("string"==typeof i&&(i=p.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){var r=/([\-+]\d+)([dmwy])/,s=t.match(/([\-+]\d+)([dmwy])/g),l,c;t=new Date;for(var u=0;u<s.length;u++)switch(l=r.exec(s[u]),c=parseInt(l[1]),l[2]){case"d":t.setUTCDate(t.getUTCDate()+c);break;case"m":t=a.prototype.moveMonth.call(a.prototype,t,c);break;case"w":t.setUTCDate(t.getUTCDate()+7*c);break;case"y":t=a.prototype.moveYear.call(a.prototype,t,c)}return n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}var s=t&&t.match(this.nonpunctuation)||[],t=new Date,d={},f=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},g,v,l;m.M=m.MM=m.mm=m.m,m.dd=m.d,t=n(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var b=i.parts.slice();if(s.length!=b.length&&(b=e(b).filter(function(t,n){return e.inArray(n,f)!==-1}).toArray()),s.length==b.length){for(var u=0,w=b.length;u<w;u++){if(g=parseInt(s[u],10),l=b[u],isNaN(g))switch(l){case"MM":v=e(h[o].months).filter(function(){var e=this.slice(0,s[u].length),t=s[u].slice(0,e.length);return e==t}),g=e.inArray(v[0],h[o].months)+1;break;case"M":v=e(h[o].monthsShort).filter(function(){var e=this.slice(0,s[u].length),t=s[u].slice(0,e.length);return e==t}),g=e.inArray(v[0],h[o].monthsShort)+1}d[l]=g}for(var u=0,y,_;u<f.length;u++)_=f[u],_ in d&&!isNaN(d[_])&&(y=new Date(t),m[_](y,d[_]),isNaN(y)||(t=y))}return t},formatDate:function(t,n,i){"string"==typeof n&&(n=p.parseFormat(n));var o={d:t.getUTCDate(),D:h[i].daysShort[t.getUTCDay()],DD:h[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:h[i].monthsShort[t.getUTCMonth()],MM:h[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var t=[],r=e.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)r.length&&t.push(r.shift()),t.push(o[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="w-icon-chevron-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="w-icon-chevron-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+p.headTemplate+"<tbody></tbody>"+p.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=p,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=c,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),n.datepicker("show"))}),e(function(){t.siteContextData&&t.siteContextData.jdateFormat&&(e.fn.datepicker.defaults.format=t.siteContextData.jdateFormat),e('[data-provide="datepicker-inline"]').datepicker()})})},,,function(e,t,n){!function(t,i){if(0)"function"==typeof define&&define.amd&&define(["underscore","backbone"],i);else{var o=n(2),r=n(9);e.exports=i(o,r)}}(this,function(e,t){"option strict";return t.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(t,e),t.ChildViewContainer})},function(e,t,n){!function(t,i){if(0)"function"==typeof define&&define.amd&&define(["underscore","backbone","backbone.wreqr","backbone.babysitter"],i);else{var o=n(2),r=n(9),s=n(240),a=n(238);e.exports=i(o,r,s,a)}}(this,function(e,t){var n=function(e,t,n){"use strict";function i(e,t){var n=new Error(e);throw n.name=t||"Error",n}var o={};t.Marionette=o,o.$=t.$;var r=Array.prototype.slice;return o.extend=t.Model.extend,o.getOption=function(e,t){if(e&&t){var n;return n=e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},o.normalizeMethods=function(e){var t={},i;return n.each(e,function(e,o){i=e,n.isFunction(i)||(i=this[i]),i&&(t[o]=i)},this),t},o.normalizeUIKeys=function(e,t){if("undefined"!=typeof e)return n.each(n.keys(e),function(n){var i=/@ui.[a-zA-Z_$0-9]*/g;n.match(i)&&(e[n.replace(i,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e},o.triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi,i=function(i){var o="on"+i.replace(t,e),r=this[o];if(n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(r))return r.apply(this,n.tail(arguments))};return i}(),o.MonitorDOMRefresh=function(e){function t(e){e._isShown=!0,o(e)}function i(e){e._isRendered=!0,o(e)}function o(e){e._isShown&&e._isRendered&&r(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function r(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){i(e)})}}(document.documentElement),function(e){function t(e,t,o,r){var s=r.split(/\s+/);n.each(s,function(n){var r=e[n];r||i("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,o,r)})}function o(e,t,n,i){e.listenTo(t,n,i)}function r(e,t,i,o){var r=o.split(/\s+/);n.each(r,function(n){var o=e[n];e.stopListening(t,i,o)})}function s(e,t,n,i){e.stopListening(t,n,i)}function a(e,t,i,o,r){t&&i&&(n.isFunction(i)&&(i=i.call(e)),n.each(i,function(i,s){n.isFunction(i)?o(e,t,s,i):r(e,t,s,i)}))}e.bindEntityEvents=function(e,n,i){a(e,n,i,o,t)},e.unbindEntityEvents=function(e,t,n){a(e,t,n,s,r)}}(o),o.Callbacks=function(){this._deferred=o.$.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,i){t&&(n=t),e.call(n,i)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=o.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),o.Controller=function(e){this.triggerMethod=o.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,t.Events,{close:function(){this.stopListening();var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(e)),this.unbind()}}),o.Region=function(e){if(this.options=e||{},this.el=o.getOption(this,"el"),this.el||i("An 'el' must be specified for a region.","NoElError"),this.initialize){
var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(o.Region,{buildRegion:function(e,t){var o=n.isString(e),r=n.isString(e.selector),s=n.isUndefined(e.regionType),a=n.isFunction(e);a||o||r||i("Region must be specified as a Region type, a selector string or an object with selector property");var l,c;o&&(l=e),e.selector&&(l=e.selector,delete e.selector),a&&(c=e),!a&&s&&(c=t),e.regionType&&(c=e.regionType,delete e.regionType),(o||a)&&(e={}),e.el=l;var u=new c(e);return e.parentEl&&(u.getEl=function(t){var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(t)}),u}}),n.extend(o.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),o.triggerMethod.call(this,"before:show",e),o.triggerMethod.call(e,"before:show"),(i||t)&&this.open(e),this.currentView=e,o.triggerMethod.call(this,"show",e),o.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return o.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),o.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),o.Region.extend=o.extend,o.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return n.each(e,function(e,o){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var r=this.addRegion(o,e);i[o]=r},this),i},addRegion:function(t,i){var o,r=n.isObject(i),s=n.isString(i),a=!!i.selector;return o=s||r&&a?e.Region.buildRegion(i,e.Region):n.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,o),this.triggerMethod("region:add",t,o),o},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}}),i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return n.each(i,function(e){t.prototype[e]=function(){var t=n.values(this._regions),i=[t].concat(n.toArray(arguments));return n[e].apply(n,i)}}),t}(o),o.TemplateCache=function(e){this.templateId=e},n.extend(o.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new o.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=r.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=o.$(e).html();return t&&0!==t.length||i("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),o.Renderer={render:function(e,t){e||i("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");var n;return(n="function"==typeof e?e:o.TemplateCache.get(e))(t)}},o.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),n.isObject(this.behaviors)&&new o.Behaviors(this),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),o.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:o.triggerMethod,normalizeMethods:o.normalizeMethods,getTemplate:function(){return o.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=o.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui");return o.normalizeUIKeys(e,t)},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,i){var o=n.isObject(t),r=o?t.event:t;e[i]=function(e){if(e){var n=e.preventDefault,i=e.stopPropagation,s=o?t.preventDefault:n,a=o?t.stopPropagation:i;s&&n&&n.apply(e),a&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,l)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),o.bindEntityEvents(this,this.model,o.getOption(this,"modelEvents")),o.bindEntityEvents(this,this.collection,o.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var i={},o=n.result(this,"behaviorEvents")||{},r=this.configureTriggers();n.extend(i,o,e,r),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),o.unbindEntityEvents(this,this.model,o.getOption(this,"modelEvents")),o.unbindEntityEvents(this,this.collection,o.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=Array.prototype.slice.call(arguments),t=this.triggerMethod.apply(this,["before:close"].concat(e));t!==!1&&(this.isClosed=!0,this.triggerMethod.apply(this,["close"].concat(e)),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),o.ItemView=o.View.extend({constructor:function(){o.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=o.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),o.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),o.CollectionView=o.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),o.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){o.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var i=this.getItemView(e),o=this.collection.indexOf(e);this.addItemView(e,i,o)},onShowCalled:function(){this.children.each(function(e){o.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return o.getOption(this,"emptyView")},getItemView:function(e){var t=o.getOption(this,"itemView");return t||i("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var r=o.getOption(this,"itemViewOptions");n.isFunction(r)&&(r=r.call(this,e,i));var s=this.buildItemView(e,t,r);return this.addChildViewEventForwarding(s),this.triggerMethod("before:item:added",s),this.children.add(s),this.renderItemView(s,i),this._isShown&&!this.isBuffering&&o.triggerMethod.call(s,"show"),this.triggerMethod("after:item:added",s),s},addChildViewEventForwarding:function(e){var t=o.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var i=r.call(arguments),s=i[0],a=this.normalizeMethods(this.getItemEvents());i[0]=t+":"+s,i.splice(1,0,e),"undefined"!=typeof a&&n.isFunction(a[s])&&a[s].apply(this,i),o.triggerMethod.apply(this,i)},this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){var o=n.extend({model:e},i);return new t(o)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),o.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(e){var t=o.getOption(this,"itemView")||this.constructor;return t||i("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),o.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return o.Renderer.render(t,e)},appendBuffer:function(e,t){var n=this.getItemViewContainer(e);n.append(t)},appendHtml:function(e,t,n){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var i=this.getItemViewContainer(e);i.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,r=o.getOption(e,"itemViewContainer");if(r){var s=n.isFunction(r)?r.call(this):r;t=e.$(s),t.length<=0&&i("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),o.Layout=o.ItemView.extend({regionType:o.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),o.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),o.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:o.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new o.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),o.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,{initialize:function(){},triggerMethod:o.triggerMethod}),e.extend(n,{extend:t.View.extend}),n}(n,t),o.Behaviors=function(e,t){function n(e){this.behaviors=n.parseBehaviors(e,e.behaviors),n.wrap(e,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","onShow","onClose","behaviorEvents","triggerMethod","setElement"])}var i={setElement:function(e,n){e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el},this)},onShow:function(n,i){var o=t.tail(arguments,2);t.each(i,function(t){e.triggerMethod.apply(t,["show"].concat(o))}),t.isFunction(n)&&n.apply(this,o)},onClose:function(n,i){var o=t.tail(arguments,2);t.each(i,function(t){e.triggerMethod.apply(t,["close"].concat(o))}),t.isFunction(n)&&n.apply(this,o)},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var i=t.tail(arguments,2);e.apply(this,i),t.each(n,function(t){e.apply(t,i)})},delegateEvents:function(n,i){var o=t.tail(arguments,2);n.apply(this,o),t.each(i,function(t){e.bindEntityEvents(this,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(this,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(n,i){var o=t.tail(arguments,2);n.apply(this,o),t.each(i,function(t){e.unbindEntityEvents(this,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(this,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(n,i){var o={},r=t.result(this,"ui");return t.each(i,function(n,i){var s={},a=t.result(n,"events")||{},l=t.result(n,"ui"),c=t.extend({},r,l);a=e.normalizeUIKeys(a,c),t.each(t.keys(a),function(e){var o=new Array(i+2).join(" "),r=e+o,l=t.isFunction(a[e])?a[e]:n[a[e]];s[r]=t.bind(l,n)}),o=t.extend(o,s)}),o}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[i]:n.behaviorsLookup[i]},parseBehaviors:function(e,i){return t.map(i,function(t,i){var o=n.getBehaviorClass(t,i);return new o(t,e)})},wrap:function(e,n,o){t.each(o,function(o){e[o]=t.partial(i[o],e[o],n)})}}),n}(o,n),o.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=o.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return o.getOption(this,"controller")},_addAppRoute:function(e,t,o){var r=e[o];r||i("Method '"+o+"' was not found on the controller"),this.route(t,o,n.bind(r,e))}}),o.Application=function(e){this._initRegionManager(),this._initCallbacks=new o.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=o.triggerMethod},n.extend(o.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=o.Module.getClass(t),i=r.call(arguments);return i.unshift(this),n.create.apply(n,i)},_initRegionManager:function(){this._regionManager=new o.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),o.Application.extend=o.extend,o.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=o.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},o.Module.extend=o.extend,n.extend(o.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,o.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),o.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var r=n.flatten([this,this.app,t,o,o.$,n,i]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks}}),n.extend(o.Module,{create:function(e,t,i){var o=e,s=r.call(arguments);s.splice(0,3),t=t.split(".");var a=t.length,l=[];return l[a-1]=i,n.each(t,function(t,n){var r=o;o=this._getModule(r,t,e,i),this._addModuleDefinition(r,o,l[n],s)},this),o},_getModule:function(e,t,i,o,r){var s=n.extend({},o),a=this.getClass(o),l=e[t];return l||(l=new a(t,i,s),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=o.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,i){var o=this._getDefine(n),r=this._getStartWithParent(n,t);o&&t.addDefinition(o,i),this._addStartWithParent(e,t,r)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof o.Module?(i=t.constructor.prototype.startWithParent,!!n.isUndefined(i)||i):!n.isObject(e)||(i=e.startWithParent,!!n.isUndefined(i)||i)},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof o.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),o}(this,t,e);return t.Marionette})},function(e,t,n){!function(t,i){if(0)"function"==typeof define&&define.amd&&define(["underscore","backbone"],i);else{var o=n(2),r=n(9);e.exports=i(o,r)}}(this,function(e,t){"use strict";return t.Wreqr=function(e,t,n){var i={};return i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),i.CommandStorage=function(){var t=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)};return n.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),t}(),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var o=this.storage.getCommands(e);n.each(o.instances,function(e){t.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=n.isFunction(i)?new i:i,this.storage=t}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),i}(t,t.Marionette,e),t.Wreqr})},,,,,,,,,,,,function(e,t){e.exports='<div class="commerce-elements-wrapper {{publish_class}}"  {{#publish_class}}data-page-id="{{page_id}}" data-page-element-id="{{page_element_id}}"{{/publish_class}}>\n\t<div class="pagination__overlay"></div>\n\t<div class="commerce-layout-wrapper">\n\t\t{{{layout_html}}}\n\t</div>\n\t{{#show_pagination}}\n\t\t{{#show_more_link}}\n\t\t\t{{>elements/commerce-elements/pagination/show-more}}\n\t\t{{/show_more_link}}\n\t\t{{^show_more_link}}\n\t\t\t{{>elements/commerce-elements/pagination/pagination}}\n\t\t{{/show_more_link}}\n\t{{/show_pagination}}\n</div>'},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(55),n(81),n(43)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(n=i.values&&i.values.length||1,o.length>n&&(o.slice(n).remove(),o=o.slice(0,n)),t=o.length;t<n;t++)s.push(r);this.handles=o.add(e(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,o,r,s,a,l,c,u=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-u.values(t));(o>n||o===n&&(t===u._lastChangedValue||u.values(t)===d.min))&&(o=n,r=e(this),s=t)}),a=this._start(t,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),l=r.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-r.width()/2,top:t.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,o,r;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),r=this._valueMin()+i*o,this._trimAlignValue(r)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,o,r;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&n<i)&&(n=i),n!==this.values(t)&&(o=this.values(),o[t]=n,r=this._trigger("slide",e,{handle:this.handles[t],value:n,values:o}),i=this.values(t?0:1),r!==!1&&this.values(t,n))):n!==this.value()&&(r=this._trigger("slide",e,{handle:this.handles[t],value:n}),r!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,o,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,o=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,n){var i,o=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<o;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],
t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.floor(+(e-t).toFixed(this._precision())/n)*n;e=i+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,i,o,r,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),o=this._valueMin(),r=this._valueMax(),n=r!==o?(i-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var n,i,o,r,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,s),n===!1))return}switch(r=this.options.step,i=o=this.options.values&&this.options.values.length?this.values(s):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;o=this._trimAlignValue(i+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;o=this._trimAlignValue(i-r)}this._slide(t,s,o)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})})},function(e,t,n){var i,o;i=[n(1),n(50),n(88),n(69)],o=function(e,t,n,i){function o(t){var n=e(t),o=i.getElDataAttributes(t,"data-popover-"),r=n.data("popover");if("object"!=typeof r){var s,l;o.content?(s=e('<div class="popover"><div class="popover__content">'+o.content+"</div></div>"),l=n.parent()):(s=o.selector?e(o.selector):n.closest(".popover-container").find(".popover"),l=s.parent()),r=new a({parent:l,el:s,pointAt:n}),n.data("popover",r)}r.toggle(o)}function r(e){e.preventDefault(),o(this)}function s(){e(document).off("click.popover","[data-popover]").on("click.popover","[data-popover]",r)}var a=t.extend(e.extend({},n.Mixin,{className:"popover",arrowClassName:"popover__arrow",arrowGap:-10,arrowSize:7,closeOnClickAway:!0,closeOnEsc:!0,constructor:function(n){t.call(this,n);var i=this.queryOption("el");i&&e(i).css("display","block").detach()},render:function(){t.prototype.render.apply(this,arguments);var n=this.queryOption("content");n&&this.$el.empty().append(e('<div class="popover__content">'+n+"</div>"))},toggle:function(e){this.$el.closest("body").length?this.close():(this.setElement(this.queryOption("el")),this.open(e))}}));return a.initialize=s,a.initPopover=o,a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(471),n(9)],o=function(e,t,n){var i={animation:200,draggable:".group__item",ghostClass:"group__ghost"},o=n.View.extend.call(t,{constructor:function(n,o){if(n=e(n),0===n.length)throw new Error("No element provided");o=e.extend({},i,o),t.call(this,n[0],o)}});return o.create=function(e,t){return new o(e,t)},o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(6),n(7),n(223),n(34),n(54),n(148),n(27)],o=function(e,t,n,i,o,r){function s(e){e.view||(e.view=new r({el:e.el,uploadOptions:{target:e.target}}).on({start:h,"upload:start:video":p,"error:size":c,"error:type":d,error:u}));var n="all";"audio"==e.type?n="audio":"image"==e.type||"background"==e.type||"gallery"==e.type||"slideshow"==e.type||"headerslideshow"==e.type||"logo"==e.areaType||"image"==e.areaType?n="image":"doc"==e.type?n="doc":"video"==e.type?n="video":"flash"==e.type&&(n="flash");var o={type:n,params:{cookies:document.cookie.match(/WeeblySession=[^;]+(;|$)/)[0],newid:function(){return Math.floor(10000001*Math.random())},type:e.type||"",width:e.size||"",ucfid:e.ucfid||"",ucfpid:e.ucfpid||"",area_page_id:e.areaPageID||"",area_type:e.areaType||"",area_name:e.areaName||"",height:e.height||"",photoeditorFormat:!0}};return e.view.off("success"),"function"==typeof e.successCallback?e.view.on("success",function(t,n){a.call(this,t,n,e.successCallback)}):"string"==typeof e.successCallback?e.view.on("success",function(n,i){a.call(this,n,i,function(){t.execute(e.successCallback,null,n)})}):e.view.on("success",a),e.view.off("error"),"function"==typeof e.errorCallback?e.view.on("error",e.errorCallback):"string"==typeof e.errorCallback&&e.view.on("error",function(n,i){t.execute(e.errorCallback,null,n)}),e.view.off("abort"),"function"==typeof e.abortCallback?e.view.on("abort",e.abortCallback):"string"==typeof e.abortCallback&&e.view.on("abort",function(n,i){t.execute(e.abortCallback,null,n)}),"video"==e.type?o.maxFileSize=Math.floor(i.accessValue("video_upload_limit")/1e3):o.maxFileSize=Math.floor(i.accessValue("file_upload_limit")/1e3),"gallery"==e.type||"slideshow"==e.type||"headerslideshow"==e.type||e.multipleFiles===!0?o.multipleFiles=!0:o.multipleFiles=!1,e.view.setUploadOptions(o),e.view}function a(e,t,n){"%%TOOMANYPHOTOS%%"===e?window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_2")):"%%TOOLARGE%%"===e?c(t):"%%LARGESITE%%"===e?window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_4")):"%%LARGESITESOFTLIMIT%%"===e?window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_5")):"%%INVALIDFILETYPE%%"===e?window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_6")):"%%CLIENTSTORAGEUPRADE%%"===e?window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_7")):n?n(e,t):l.call(this,e,t)}function l(n,i){var o=i.params;"image"==o.type?t.execute("updateImageElement",n,o.ucfid,o.ucfpid):"file"==o.type||"audio"==o.type||"gallery"==o.type||"doc"==o.type||"flash"==o.type||"slideshow"==o.type?("gallery"!==o.type&&"file"!==o.type&&"doc"!=o.type&&"audio"!=o.type||e.execute("dragndrop:dialog:close"),window.dontSave=1,window.updateList(window.currentPage),t.once("editor:middle",function(){window.dontSave=0})):"video"==o.type&&t.execute("refreshVideoElement",o.ucfid),this.trigger("upload:complete:"+o.type)}function c(e){if("video"==e.type)f();else{var t=i.accessValue("file_upload_limit"),n=Math.floor(t/1024e3),o=i.isUpgradable("file_upload_limit");o&&!i.isClientSite?window.modalProFeatures(_W.utl("html.weebly.libraries.weebly_uploads_9")+n+"MB. "+_W.utl("html.weebly.libraries.weebly_uploads_10"),"main",o):window.showError(_W.utl("html.weebly.libraries.weebly_uploads_11")+n+"MB")}}function u(t,o){"%%VIRUS%%"==t?(e.execute("dragndrop:dialog:close"),e.showDialog(new n)):window.showError("<p>"+_W.utl("html.weebly.libraries.weebly_uploads_13")+".<br /><br />"+(i.isClientSite?"":_W.utl("html.weebly.libraries.weebly_uploads_14")+"<br/><a href='http://kb.weebly.com/troubleshoot-upload.html' target='_blank'>"+_W.utl("html.weebly.libraries.weebly_uploads_15")+"</a> "+_W.utl("html.weebly.libraries.weebly_uploads_16"))+"</p>","",!0),window.fireTrackingEvent("WeeblyError","Upload Error",t)}function d(e){"video"==e.type&&m()}function h(e){var t=e.params.type,n=e.params.ucfid;g(n),this.trigger("upload:start:"+t,n)}function p(e){t.execute("refreshVideoElement",e,!0)}function f(){new o("video-size-error",{modal:!0}).open()}function m(){new o("video-type-error",{modal:!0}).open()}function g(e){window.xhrUploading=e}var v={};return v.setupFileUploader=s,t.reqres.setHandlers({"dontSave:get":function(){return window.dontSave},"xhrUploading:get":function(){return window.xhrUploading}}),t.commands.setHandlers({"dontSave:set":function(e){window.dontSave=e},"xhrUploading:set":g}),e.commands.setHandlers({"xhrUploading:set":g}),v}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,function(e,t,n){var i,o;i=[n(5)],o=function(e){return{customerLocale:e.customerLocale,storeCurrency:e.storeCurrency}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[],o=function(){var e={formatCurrency:function(e,t,n){return e=parseFloat(e),t=t?t.replace("_","-"):navigator.language||"en-US",e.toLocaleString(t,{style:"currency",currency:n})},formatTaxRate:function(e){return(100*e).toLocaleString(void 0,{maximumFractionDigits:this.DEFAULT_TAX_RATE_DECIMALS})},DEFAULT_TAX_RATE_DECIMALS:3};return e}.apply(t,i),!(void 0!==o&&(e.exports=o))},79,function(e,t,n){var i,o;i=[n(2),n(100),n(557),n(16)],o=function(e,t,n,i){var o=i.extend({useServerGeneratedDefaultsFor:"ShippingMethod",validate:function(e){return n.validate(e)},setDefaultShippingRateFromField:function(e){var n=e.val(),i=""===n?null:n;null!==i&&(i=t.trimDecimals(i),e.val(i),i=Number(i)),this.set("default_rate",i)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(5)],o=function(e){function t(e){function t(e,t){e===!0?s=t:"function"==typeof e?l.push([e,t]):"string"==typeof e?a[e]=t:"object"==typeof e&&e.each(function(e){a[e]=t})}function n(t){return i(t)||a[t[e]]||s}function i(e){var t;return l.find(function(n){if(n[0](e))return t=n[1],!0}),t}function o(e,t,i,o){var r=n(e);if(r)return new r(e,t,i,o)}var r=this,s,a={},l=[];r.register=t,r.load=o}return e.GenericLoader=t,t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(274),n(7),n(23),n(26)],o=function(e,t,n,i,o,r,s){var a=function(e,t){this.searchElements=e,this.cssClasses="inside-hover-highlight",t&&(this.cssClasses+=" ",this.cssClasses+=t)};return a.prototype.testPoint=function(n,i){var r=this,s=this.searchElements instanceof e,a=this.found;this.found=null;var l=5;return t.each(this.searchElements,function(t){var a,c,u,d;if(s){if(t=e(t),t.hasClass("platform-element-child"))return!1;var h=t.offset();a=h.left,c=h.top,u=t.width(),d=t.height()}else a=t.left,c=t.top,u=t.width,d=t.height;if(n>=a+l&&n<=a+u-l&&i>=c+l&&i<=c+d-l){var p=e("#inside_"+t.id);return p.length?t=p:(t=e("<div>",{id:t.id,css:{width:u,height:d,left:a,top:c},data:{is_site_wide:t.is_site_wide,parentString:t.parentString,area:t.area}}),t.offset=function(){return{left:a,top:c}},t.addClass=function(e){o.execute("combiner:addClass",this[0].id,e)},t.removeClass=function(e){o.execute("combiner:removeClass",this[0].id,e)}),r.found=t,!1}}),!a||this.found&&a[0].id===this.found[0].id||a.removeClass(this.cssClasses),this.found&&this.found.addClass(this.cssClasses),this.found},o.commands.setHandlers({"combiner:addClass":function(t,n){e("#inside_"+t).addClass(n)},"combiner:removeClass":function(t,n){e("#inside_"+t).removeClass(n)}}),a.prototype.callMethod=function(t,s){this.found.removeClass(this.cssClasses);var a=this.found[0].id.replace(/[\D]/g,""),l=r.getElementObject(a).elData,c=l.parentString,u=l.area.name,d=l.area.is_site_wide,h,p,f;if(s instanceof e){s.hide();var m=s.find(".element");m.length&&n.execute("xhrUploading:set",m[0].id),h=s[0].id.replace(/[\D]/g,"");var g=r.getElementObject(h).elData;p=g.area.name,f=g.parentString}else h=s.id,p=u,f="";n.loading.start("CombineUtils::"+t),Weebly.Editor.RPC.Elements[t](window.currentPage,d,p,h,f,u,a,c).always(function(){n.loading.stop("CombineUtils::"+t),this.constructor.afterRPC()}.bind(this));var v=!1;null!==f.match(/-col/)&&(v=!0),s instanceof e?(v&&o.execute("removeEmptyColumns"),o.request("page:navigate",window.currentPage)):(v&&i.removeEmptyColumns(),n.build.updateList(window.currentPage))},a.afterRPC=function(){s.inEditorContext()?n.execute("xhrUploading:set",null):o.execute("xhrUploading:set",null)},a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(7),n(15),n(107),n(620),n(322),n(619),n(617),n(616),n(615),n(618)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h){var p={init:function(t){var i=this;e.extend(i,t),i.saved=!1,i.closed=!0,i.baseModel=new n.Model(i.existing),window.editorApp&&window.editorApp.commerce?i.parent=e("<div>",{class:"ui-framework linker"}).appendTo(document.body):i.parent=e("<div>",{class:"orbit-legacy linker"}).appendTo(document.body)},open:function(t){var n=this;n.init(t),n.closed=!1;var r=function(e){e.stopPropagation(),"promptLink"===e.target.getAttribute("data-command")||e.target.hasClassName("w-link")||"OBJECT"===e.target.tagName||n.close()};n.container=new o({initialPanel:n.getSwitcherPanel(),size:"small",width:350,height:350,pointAt:t.coordinates||null,isDraggable:!0,allowLeftRight:!1,preferBottom:!0,onOpen:function(){this.listenTo(i,"frame:overlays:hide",this.close),e("body").on("click.linker-clickaway",":not(.linker , .linker *)",r)}}),n.container.on("close",function(){n.close(!0),e("body").off("click.linker-clickaway",":not(.linker , .linker *)",r)}),n.container.open({parent:n.parent})},close:function(e){var t=this;t.closed||(t.container&&!e&&t.container.close(),t.parent&&t.parent.remove(),!t.saved&&t.onCancel&&t.onCancel.call(t.context),t.closed=!0)},getLinkerView:function(e){var n=this,i;return e.appendingPanels=!0,n.init(e),i=n.getSwitcherPanel(e.appendingPanels),i.on("before:pop",function(){t.bind(n.prepareSave,this,n,!1)()}),i},getSwitcherPanel:function(e){var t=this,n=[],i=t.getSwitcherValueFromExisting();n=[new r.Panel({content:new s({model:t.baseModel,options:t}),selected:"url"===i}),new r.Panel({content:new a({model:t.baseModel,options:t}),selected:"pageID"===i}),new r.Panel({content:new l({model:t.baseModel,options:t}),selected:"store"===i}),new r.Panel({content:new d({model:t.baseModel,options:t}),selected:"blogPost"===i}),new r.Panel({content:new h({model:t.baseModel,options:t}),selected:"phone"===i})],t.disableFile||n.push(new r.Panel({content:new c({model:t.baseModel,options:t}),selected:"location"===i})),t.disableEmail||n.push(new r.Panel({content:new u({model:t.baseModel,options:t}),selected:"email"===i}));var p=new r({panels:n,height:300});return t.switcherPanel=new o.Panel({content:p,backLink:!!e&&{isDirectional:!0},title:_W.utl("javascript.editor-site-shared.build.linker.Linker_2")}),t.switcherPanel.on("before:leave",function(){t.prepareSave.apply(this,[t,!1])}),t.switcherPanel},getSwitcherValueFromExisting:function(){var e=this,t=e.existing||{url:""},n;return t.url&&"http://"!==t.url?n="url":t.pageID?n="pageID":t.store?n="store":t.email?n="email":t.location?n="location":t.blogPost?n="blogPost":t.phone&&(n="phone"),n},prepareSave:function(e,t){var n=this,i=this.contentView.currentPanel;if(i){var o=i.contentView;e.save(o,t)}t&&(e.appendingPanels?n.popPanel():n.close())},save:function(e,n){var i=this,o=n?"":e.getValue();"undefined"!=typeof o&&(i.saved=!0,i.onChoose&&(t.isArray(o)?i.onChoose.apply(i.context,o):i.onChoose.apply(i.context,[o,!1])))}};return p}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2)],o=function(e){return function(t,n){e.each(n,function(n){var i=n.events,o=n.from,r=n.to;t.listenTo(o,e.reduce(i,function(t,n){return t[n]=function(){var t=e.toArray(arguments);t.unshift(n),r.trigger.apply(r,t)},t},{}))})}}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;(function(r){i=[n(124)],o=function(e){function t(t,n,i,o){return function(s,a){var l=o?r.extend({},o):{};l.pos=t,l[n||"keys"]=s,l.cookie=document.cookie,l.token=Weebly.RequestToken,new Ajax.Request(e.ajax,{parameters:l,onSuccess:function(e){a(i?e.responseText.evalJSON():e.responseText)},onFailure:e.errFunc})}}function n(e){var t=this,n={};t.getCachedValue=function(e){return e in n?n[e]:null},t.get=function(t,i){t in n?i(n[t]):e(t,function(e){e[t]&&(e=e[t]),n[t]=e,i(e)})},t.insert=function(e,t){n[e]=t},t.clear=function(e){void 0!==e?delete n[e]:n={}}}var i={themeCache:new n(t("gettheme","",!0,{format:"mustache"})),mobileThemeCache:new n(t("getmobiletheme","",!0,{format:"mustache"}))};return Weebly.themeCache=i.themeCache,i}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(1))},function(e,t,n){var i,o;i=[n(2),n(15),n(322)],o=function(e,t,n){var i=t.Panel.extend({hasContentLegacyStyles:!1,initialize:function(){this.pageView=new n({options:e.defaults(this.options,{disableNewWindow:!0,disableSearch:!0,disableContributors:!0,thisPageID:window.currentPage,hideThisPage:!1,disableThisPage:!1})})},destroy:function(){this.pageView.close(),t.Panel.prototype.destroy.apply(this,arguments)},setPageViewOption:function(e,t){this.pageView.options[e]=t},renderContent:function(e){this.pageView.render(),this.stopListening(this.pageView),this.listenTo(this.pageView,{"page:selected":this.onPageSelected}),e.html(this.pageView.$el)},onPageSelected:function(t){(e.isArray(t)||t.pageID)&&this.trigger("page:selected",t)}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(6),n(149),n(374),n(871),n(380)],o=function(e,t,n,i,o,r){var s,a,l=n.module("build.ui.view");return l.on("start",function(){s=e(t.render(r)).insertAfter(i.getElement()),a=e(t.render(o)).css({position:"absolute"}).appendTo(s),n.vent.trigger("build:view:ui:ready")}),l.on("stop",function(){s.remove(),s=null,a=null}),l.getContainer=function(){return s?s:e("body")},l.getControls=function(){return a?a:e("body")},l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(17),n(7),n(221),n(222),n(35),n(24),n(28),n(27),n(23),n(204)],o=function(e,t,n,i,o,r,s,a,l,c){function u(e,t,o){"undefined"==typeof o&&(o=window.currentPage);var r=!1,a={};e=e.replace(/<!--%%(PAGELOCKED|PAGELOCKDATA)%%:(.*?)-->/,function(e,t,n){try{a=JSON.parse(n)}catch(e){return""}return"PAGELOCKED"==t&&(r=!0),""}),e=e.replace(/<!--%%PAGES%%:(.*?)-->/,function(e,t){try{s.updatePageData(JSON.parse(t))}catch(e){}return""}),e=e.replace(/<!-- %%ALREADY_PUBLISHED%%:(.*?) -->/,function(e,t){return t&&n.vent.trigger("blog:already_published",t),""}),e.match(/^Authentication error/)&&Weebly.Permissions.isContributor&&window.hasAllowedPages()&&!r&&window.reloadAllowedPages();var l=i.getPage(o),c="store"===l.get("kind")&&!Weebly.Permissions.store_edit;if(e.match(/^Authentication error/)&&window.hasAllowedPages()||r||c){var u=window._W.utl("javascript.editor.build.utils_1"),d="";if(r){var h=a[o];u=window._W.utl("javascript.editor.build.utils_8"),d=h&&h.email?window._W.utl("javascript.editor.build.utils_7",h.email):window._W.utl("javascript.editor.build.utils_6")}else window.externalLibariesLoaded&&(u=window._W.utl("javascript.editor.build.utils_4"));window.showPageChooser(u,d,{page_locked:r,page_locks:a,initial_load:t})}}var d={};return d.removeEmptyColumns=function(){return n.loading.start("EditorBuildUtils::removeEmptyColumns::start"),e.when(c.getActiveContentAreas(),l.getCurrentThemeData(a.isMobileView)).always(function(){n.loading.stop("EditorBuildUtils::removeEmptyColumns::start")}).then(function(e,t){return n.loading.start("EditorBuildUtils::removeEmptyColumns::request"),Weebly.Editor.RPC.Elements.removeEmptyColumns(window.currentPage,r.getAreaSummary(window.currentPage.replace(/\/.*/,""),t),window.currentBlog.postId,e[0].parentString,void 0!==n.request("blog:current")?1:0).always(function(){n.loading.stop("EditorBuildUtils::removeEmptyColumns::request")})})},o.commands.setHandler("removeEmptyColumns",d.removeEmptyColumns),d.parseMiddleData=function(e,n,i){if(t.isObject(e)){if(t.isEmpty(e))return u(e,n,i),!1}else try{e=JSON.parse(e)}catch(t){return u(e,n,i),!1}return e},d.setProperty=function(e,t){return window.setContentFieldProperty(Weebly.Elements.ucfid,e,t)},d}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(12)],o=function(e){var t={};return t.DESIGN_OPTIONS_SELECTORS={global:".wsite-elements.wsite-not-footer:not(.wsite-header-elements) div.paragraph, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) p:not(.wsite-image-placeholder-text), .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-block .product-title, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-description, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .weebly-form-field label, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .wsite-form-field label, #secondlist div.paragraph, #secondlist p p:not(.wsite-image-placeholder-text), #secondlist .product-block .product-title, #secondlist .product-description, #secondlist .weebly-form-field label, #secondlist .wsite-form-field label",globalColor:"#secondlist div.paragraph, #secondlist p p:not(.wsite-image-placeholder-text), #secondlist .product-block .product-title, #secondlist .product-description, #secondlist .weebly-form-field label, #secondlist .wsite-form-field label",footerGlobal:".wsite-elements.wsite-footer div.paragraph, .wsite-elements.wsite-footer p, .wsite-elements.wsite-footer .product-block .product-title, .wsite-elements.wsite-footer .product-description, .wsite-elements.wsite-footer .weebly-form-field label, .wsite-elements.wsite-footer .wsite-form-field label",header:".wsite-elements.wsite-not-footer:not(.wsite-header-elements) h2, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-long .product-title, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-large .product-title, .wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-small .product-title, #secondlist h2, #secondlist .product-long .product-title, #secondlist .product-large .product-title, #secondlist .product-small .product-title",headerColor:"#secondlist h2, #secondlist .product-long .product-title, #secondlist .product-large .product-title, #secondlist .product-small .product-title",footerHeader:".wsite-elements.wsite-footer h2, .wsite-elements.wsite-footer .product-long .product-title, .wsite-elements.wsite-footer .product-large .product-title, .wsite-elements.wsite-footer .product-small .product-title",siteTitle:"#wsite-title",navMenu:".wsite-menu-default a",flyoutMenu:".wsite-menu a",imageCaptions:".wsite-image div, .wsite-caption",galleryCaptions:".galleryCaptionInnerText",lightboxGalleryCaptions:".fancybox-title",slideshowCaptions:".wslide-caption-text",phone:".wsite-phone",headline:".wsite-headline,."+e.HEADER_SECTION_CLASS_NAME+" .wsite-content-title",subHeadline:".wsite-headline-paragraph,."+e.HEADER_SECTION_CLASS_NAME+" .paragraph",button:".wsite-button-inner",blockquote:".wsite-not-footer blockquote",footerBlockquote:".wsite-footer blockquote",blogPostTitle:".blog-header h2 a",productHighlight:".wsite-product",productTitle:"#secondlist h2.wsite-product-title",productPrice:".wsite-product .wsite-product-price a",navButton:"[for=navTrigger], [for=nav-trigger], [for=mobile-input], [for=mobile-trigger], #header #nav-trigger, .hamburger, .wsite-menubutton .wsite-menu-button .wsite-menu-button-bars"},t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(152),n(120)],o=function(e,t){var n={bootstrapData:null,abTestCollection:null,getBootstrapData:function(){return this.bootstrapData?this.bootstrapData:(this.bootstrapData=e("editor/app"),this.bootstrapData)},getABTestCollection:function(){return this.abTestCollection?this.abTestCollection:(this.abTestCollection=(new t).fromBackendData(this.getBootstrapData().ab_test_data),this.abTestCollection)},isCommerceFunnel:function(){return"ecommerce"===this.getBootstrapData().site.funnel_experience},isFunnelTemplateSelected:function(){return!!this.getBootstrapData().site.funnel_template_selected},setFunnelTemplateSelected:function(){this.getBootstrapData().site.funnel_template_selected=!0},hasFinishedOnboardingSteps:function(){return 0===this.getBootstrapData().site.remaining_onboarding_steps},setRemainingOnboardingSteps:function(e){this.getBootstrapData().site.remaining_onboarding_steps=e}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(336),n(172),n(219)],o=function(e,t,n,i){var o=Class.create(t,{TEXT_LOADING_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.BlogPost_1"),TEXT_LOADING_BODY:e.utl("html.weebly.libraries.classes.PublishWindow.BlogPost_2"),TEXT_SUCCESS_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.BlogPost_3"),success:function($super,e){return e.indexOf("%%PUBLISH_DISABLED%%")!==-1?(this.close(),this):$super(e)},createShareButton:function($super,e,t,o){var r=this.getBodyElement().select(".publish-share")[0],s=r.readAttribute("data-post-id"),a={facebook:n,twitter:i};return new e(t,{shareHandler:"ajax",shareOptions:{type:o,pos:"blogpostshare",post_id:s},authWindow:a[o.toLowerCase()]})}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(277)],o=function(e,t){var n=Class.create(t,{TEXT_LOADING_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.NewBlogPost_1"),TEXT_LOADING_BODY:e.utl("html.weebly.libraries.classes.PublishWindow.NewBlogPost_2"),TEXT_SUCCESS_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.NewBlogPost_3")});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(6),n(8),n(653),n(654)],o=function(e,t,n,i,o){var r=function(){var e={};return e.open=function(e){var r=t.site.get("is_eligible_for_free_trial")?_W.utl("javascript.free-trial.dialogs.PremiumElementDialogService_3"):_W.utl("javascript.free-trial.dialogs.PremiumElementDialogService_2"),s=new i.Panel({title:r,content:new o({elementId:e})}),a=new i({panels:[s]});a.on("close",function(){n.trackEvent("navigation","click_internal","editor_upgrade_modal_close")}),n.trackEvent("editor.elements","add_element_attempt",e),a.open()},{open:e.open}}();return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5)],o=function(e){return{has:function(t){return e.Permissions[t]}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(14),n(318),n(114),n(23),n(27)],o=function(e,t,n,i,o){function r(){s(),e(l()).addClass("weebly-area-active"),window.repositionElements()}function s(){e(f.topLevelDroppables).removeClass("weebly-area-active"),a()}function a(){f.topLevelDroppables.length=0,f.allDroppables.length=0}function l(){var t,n=o.getCurrent();return t=n?"UL"===n.container.context.tagName?n.container.filter(".weebly-content-area, .formlist").eq(0).get():n.container.find("ul").filter(".weebly-content-area, .formlist").eq(0).get():Weebly.pageContext&&"blog"===Weebly.pageContext.kind?Weebly.pageContext.post_id&&"0"!=Weebly.pageContext.post_id?e("#secondlist-blog").eq(0).get():e(".columnlist-blog,.weebly-area:not(.weebly-spotlighted, #secondlist, .wsite-platform-area) .weebly-content-area").get():e(".weebly-area:not(.weebly-spotlighted, .wsite-platform-area) .weebly-content-area, .wsite-custom-content, .wsite-com-long-description").get(),a(),f.topLevelDroppables.push.apply(f.topLevelDroppables,t),f.allDroppables.push.apply(f.allDroppables,f.topLevelDroppables),f.allDroppables.push.apply(f.allDroppables,d()),f.allDroppables.push.apply(f.allDroppables,h()),f.topLevelDroppables}function c(e,t){return t.depth-e.depth}function u(){return{element:this,depth:e(this).parents().length}}function d(){var n=[],o;o=i.isEditing?e(f.topLevelDroppables).find(".columnlist"):e(f.topLevelDroppables).find(".columnlist:not(.formlist .columnlist)");var r=o.map(u).get().sort(c);return n.push.apply(n,t.pluck(r,"element")),n}function h(){var t=e(f.topLevelDroppables).find(".content-area-element .content-area-list");return t}function p(t){for(var n=0;n<f.topLevelDroppables.length;n++)if(e.contains(f.topLevelDroppables[n],t))return f.topLevelDroppables[n];return null}var f={topLevelDroppables:[],allDroppables:[]};return n.vent.on({"editor:middle editor:spotlight:open editor:spotlight:close":r}),f.buildTopLevelDroppables=l,f.getElementsInDroppable=function(t){return t instanceof e&&(t=t[0]),e(p(t)).find("li.inside")},f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(4),n(13),n(14),n(17),n(357),n(177),n(186),n(169),n(19),n(126),n(24),n(275),n(7),n(91),n(45),n(125),n(35),n(221),n(217),n(23),n(840),n(839),n(838),n(837),n(438),n(12),n(28),n(382),n(230),n(437),n(381),n(735)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w,y,_,E,T,C,S,I,O,D,x,k){function R(){ie.forceThemeRerender=!0}function P(){re=""}function A(i){if(!i||!i.plugins||o.chromeless){var r=new t.Deferred;return r.reject().promise()}return e.Editor.RPC.ThemeOption.getSavedThemeOptions().done(function(e){O.clearPluginOptionValues(),i.plugins.forEach(function(e){n.isObject(e)||(e={name:e});var t=n.omit(e,"name","default","defaults");n.each(t,function(t,n){O.setPluginOptionValue(e.name+"/"+n,t,!1)})}),e.forEach(function(e){O.setPluginOptionValue(e.name,e.value,!1)}),m.off("theme:optionChanged"),m.on({"theme:optionChanged":function(e,t){O.setPluginOptionValue(e,t,!0)}})}).fail(window.errFunc)}function N(n){var i=new t.Deferred,o=Z().current_item_id;return window.whenThemeCSSLoaded(function(){var s=t('[class*="wsite-header"]:not(.wsite-header-section)');l.reportHeaderElement(s),M(),c.updateFooter(),e.siteContext.afterRender(),e.pageContext.afterRender(),d.globalAfterRender(),window.disableFlyouts=!1,Q(!0);for(var a=y.getAreaSummary(currentPage.replace(/\/.*/,""),n)||[],u={},h=0,p=a.length;h<p;h++)"membership"===a[h].type?u.hasCustomMembership=!0:"minicart"===a[h].type&&(u.hasCustomMinicart=!0);window.ENABLE_PAGE_HIERARCHY&&(u.templates=ie.getPartials(n),window.initEditorFlyoutMenus(o,u)),E.repositionElements(),w.isMobileView&&m.trigger("setMobileView"),i.resolve(),r.vent.trigger("themeRendered",currentTheme,window.currentPageType),m.trigger("themeRendered",currentTheme,window.currentPageType)}),i.promise()}function M(){var e=g.getCurrentHeader();e&&l.setCurrentHeaderImage(e,!0)}function L(n,r){var s=new t.Deferred,a=p.currentThemeData.enableEditorJS&&!o.chromeless,l=!1,c=t("#icontent").empty();v.clearAreaBatch(),d.globalBeforeRender(),e.siteContext.beforeRender(),e.pageContext.beforeRender();var u=i.render(n,{links:H(),area:function(){return function(e){var n=JSON.parse(e);return t("<custom_area>",{type:n.type,name:n.name,attrs:JSON.stringify(n.attrs)})[0].outerHTML}}},ie.getPartials(r));return a?u=t(u):c[0].innerHTML=u,c.append('<div id="wsite-menus"></div>'),a&&c.prepend(u),c.find("custom_area").each(function(){var e=t(this),n=e.attr("name"),i=e.attr("type"),o=e.attr("attrs"),r;if(o=o?JSON.parse(o):{},r=B(i,n,o),!l)if("string"==typeof r){var s=t("<div>");s[0].innerHTML=r,s.find("script").not(".element-script").remove(),
r=s.children()}else t(r).find("script").not(".element-script").remove();e.replaceWith(r),t(r).find("script.element-script").data("evaluated",!0)}),W(c),v.batchFetchNeededAreas(function(){s.resolve(r)}),s.promise()}function B(t,n,i){var o=i.global,r=o?e.siteContext:e.pageContext;return"credits"==t?"<span id='weeblyfooterattribution' style='display:none;margin:1em 0 0;padding:0 0 1em;font-size:.8em'></span>":"header"!=n&&"header"!=t?r.getAreaHTML(t,n,i):void 0}function K(){re&&(t("body")[0].className=re,o.chromeless&&(re+=" "+D.MOBILE_EDITOR_BODY_CLASS));var e=p.currentThemeData.page_type_templates[window.currentPageType],n=e.body_attrs.replace(/^.*class\s*=\s*[\'"](.*?)[\'"].*$/,"$1"),i=t("#icontent")[0],r=i.className+" wsite-background",s=(se||"")+" "+n+(w.isMobileView?" wsite-mobile":"");t("body").removeClass(r).addClass(s),s=s.replace(/(^| )wsite-background( |$)/," "),i.className="icontent "+s,O.init({editor:!0}),m.trigger("theme:classes:updated")}function F(e){var n=t("body"),i="light"==e;n.toggleClass("wsite-theme-light",i),n.toggleClass("wsite-theme-dark",!i)}function H(e){return e=e||s.toJSON(),n.chain(e).filter(function(e){return!e.hidden}).map(function(e){var t=H(e.children);return{children:t,has_children:t&&t.length>0,id:"pg"+e.id,is_current:window.currentPage&&e.id==window.currentPage,title_html:e.title.replace("\\'","'").replace('\\"','"'),url:"page://"+e.id,target:!1,membership_required:e.membership_required}}).value()}function j(e){e=e||currentThemeData;var t=Z().normal_item_template,n=objectify(e.partials_templates);return n["navigation/list"]=n["navigation/list"]||T,n["navigation/item"]=t||n["navigation/item"]||C,n["navigation/flyout/list"]=n["navigation/flyout/list"]||S,n["navigation/flyout/item"]=n["navigation/flyout/item"]||I,n}function W(e){e.find('a[href^="page://"]').each(function(e,n){var i=t(n),o=i.attr("href").match(/^page\:\/\/(.*)$/)[1],r=s.getPage(o).toJSON();i.attr("href","#").removeAttr("data-membership-required"),w.isMobileView||(r.extlink?z(i,r):r.nonclickable?V(i,r):$(i,r))})}function $(e,n){e.on({click:function(e){if(window.navFlyoutMenu&&window.navFlyoutMenu.contract(),o.chromeless){var i=t(e.target.parentNode);i.hasClass("wsite-nav-more")||!i.data("isExpanded")&&i.data("hasChildren")?i.trigger("mouseover"):r.vent.trigger("navClicked",n.id)}else noJump=1,r.vent.trigger("navClicked",n.id);e.preventDefault()}})}function z(e,t){e.on({click:function(e){o.chromeless&&r.vent.trigger("navClicked",t.id),e.preventDefault()},mouseover:function(e){h.onExternalLinkHover(t,e)},mouseout:function(){h.hideNavTooltip()}})}function V(e,t){e.on("click",!1)}function U(){var e=t("<div>",{class:"paragraph"});t("#secondlist").append(e);var n=new k(e.css("color"));e.remove();var i=G(n.r,n.g,n.b);return i[2]<.57}function G(e,t,n){e/=255,t/=255,n/=255;var i=Math.max(e,t,n),o=Math.min(e,t,n),r,s,a=(i+o)/2;if(i==o)r=s=0;else{var l=i-o;switch(s=a>.5?l/(2-i-o):l/(i+o),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return[r,s,a]}function q(e){if(e.variations)for(var t=e.variations,n=0;n<t.length;n++)if(t[n].value===currentThemeColor){if(t[n]["is-dark"]===!0)return"dark";if(t[n]["is-dark"]===!1)return"light"}return e["is-dark"]===!0?"dark":e["is-dark"]===!1?"light":""}function Y(e,n){setTimeout(function(){try{t("#wsite-theme-"+e+"-file")[0].sheet.cssRules;var i=b.getCurrentStyles("links");if(i.visited==n)throw"Same Color";t("#themeStyle")[0].update("#secondlist .editable-text a:link{color:"+i.link+" !important;}"),ae=0}catch(t){if(ae++,ae<10){if(null==n&&window.externalLibariesLoaded){var i=b.getCurrentStyles("links");n=i.visited}Y(e,n)}else ae=0}},250)}function X(e,t){var n=document.createElement("style");return n.innerHTML=t,n.id="wsite-theme-"+e+"-file",n.title="wsite-theme-css",n.rel="stylesheet",n.type="text/css",n}function J(){var e=document.createElement("link"),t=o.chromeless?"social-icons-native-mobile.css":"//"+ASSETS_BASE+"/css/social-icons.css?buildTime="+window.buildTime;return e.href=t,e.media="screen,projection",e.rel="stylesheet",e.type="text/css",e}function Q(){var e=Z().current_item_id,n=t('[id="'+e+'"]'),i=n.data("saved-id"),o="pg"+currentPage;if(o!=i){var r=t('[id="'+o+'"]');n.length&&n.attr("id",n.data("saved-id")),r.length&&(r.data("saved-id",r.attr("id")),r.attr("id",e))}}function Z(){var e=te();return p.currentThemeData.page_type_templates[e]}function ee(e){le=e.page_layout||null}function te(){var e=p.currentThemeData,t=currentPage.replace(/\/.*/,"");return le&&le in e.page_type_templates?le:h.getPageType(t,e,w.isMobileView)}function ne(){var e="";t.each(f.DESIGN_OPTIONS_SELECTORS,function(t,n){if(!t.match(/Color$/)){for(var i=n.split(/\s*,\s*/),o=0;o<i.length;o++)i[o]=".highlight-"+t+" "+i[o];n=i.join(", "),e+=n+" { "+ce+" } "}}),e+=".highlight-a .wsite-not-footer h2.wsite-content-title a,.highlight-a .wsite-not-footer .paragraph a,.highlight-a .wsite-not-footer blockquote a,.highlight-a .wsite-not-footer .blog-sidebar a,.highlight-a .wsite-not-footer .blog-comments a,.highlight-a .wsite-not-footer .blog-comments-bottom a { "+ce+" } ",e+=".highlight-footerA .wsite-footer h2.wsite-content-title a,.highlight-footerA .wsite-footer .paragraph a,.highlight-footerA .wsite-footer blockquote a { "+ce+" } ",t("head").append("<style>"+e+"</style>")}var ie=r.module("themes");ie.forceThemeRerender=!1,ie.currentStyleNum=Math.floor(10000000001*Math.random());var oe="",re="";ie.on("start",function(){r.vent.on({forceThemeRerender:R,applyDesignStyle:ie.applyDesignStyle,processPageDataHook:ee}),m.on({forceThemeRerender:R,changeTheme:P}),m.commands.setHandlers({forceThemeRerender:R,highlightText:ie.highlightText,unhighlightText:ie.unhighlightText,applyDesignStyle:ie.applyDesignStyle,addBodyClass:ie.addBodyClass,removeBodyClass:ie.removeBodyClass,removeBodyClassesMatching:ie.removeBodyClassesMatching,toggleBodyClass:ie.toggleBodyClass}),m.reqres.setHandlers({"type:styles:get":ie.getStylesByType,"font:family:default":ie.getDefaultFont}),oe=t("body")[0].className,o.chromeless&&(oe+=" "+D.MOBILE_EDITOR_BODY_CLASS)}),ie.addBodyClass=function(e){t("body").addClass(e)},ie.removeBodyClassesMatching=function(e){var n=t("body"),i=n.attr("class").split(" ");i.forEach(function(t){t.match(e)&&n.removeClass(t)})},ie.removeBodyClass=function(e){t("body").removeClass(e)},ie.toggleBodyClass=function(e,n){t("body").toggleClass(e,n)},ie.renderPage=function(i,o,s,a,l){function u(){var e=[];l&&(e=t("img").map(x.whenImageLoaded).get()),t.when.apply(t,e).always(function(){i&&i(),r.vent.trigger("pageRendered"),m.trigger("pageRendered")})}m.execute("setElementsPageType"),se=a?a.icontentPageLink:"";var h=te();return ie.forceThemeRerender?(ie.forceThemeRerender=!1,void ie.renderTheme(!1,u,o,s,a)):n.isEmpty(p.currentThemeData)?void ie.renderTheme(!1,u,o,s,a):"store"===a.kind||h!==window.currentPageType?(window.currentPageType=h,void ie.renderTheme(!0,u,o,s,a)):(d.globalBeforeRender(),n.each([e.siteContext,e.pageContext],function(e){e._oldContext&&(e._oldContext.unrender(),e.renderAreas(e._oldContext.getAreas()),delete e._oldContext)}),d.globalAfterRender(),M(),K(),c.updateFooter(),window.disableFlyouts=!1,Q(!0),refreshNavCondense(),E.repositionElements(),void u())},ie.renderThemeFunc=function(i,r,s,l){if((e.siteContext||e.pageContext)&&e.pageContext){t("body")[0].className=oe,o.chromeless&&t("body").addClass(D.MOBILE_EDITOR_BODY_CLASS),s&&"object"==typeof s&&p.setCurrentTheme(s.theme_id,w.isMobileView),n.each([e.siteContext,e.pageContext],function(e){var t=e._oldContext||e;t.unrender&&t.unrender(),delete e._oldContext}),!i&&l&&ie.setThemeStyle(currentTheme,currentThemeColor,l,s),s&&"object"==typeof s&&p.setCurrentThemeData(s),m.execute("theme:upgrading",p.currentThemeData),window.navFlyoutMenu&&(window.disableFlyouts=!0,window.navFlyoutMenu.destroy()),n.each(p.currentThemeData.fonts,function(e){u.loadFont(e)}),window.currentPageType=te();var c=p.currentThemeData.page_type_templates[window.currentPageType];L(c.body,p.currentThemeData).done(function(e){re||(re=t("body")[0].className,o.chromeless&&(re+=" "+D.MOBILE_EDITOR_BODY_CLASS)),i?K():A(e).always(K),m.execute("mobile:updateAreaOptions"),N(e).done(r)});var d=q(p.currentThemeData);""!=d?F(d):c.needs_light_test&&(c.needs_light_test=!1,window.whenThemeCSSLoaded(function(){var e=U();e?c.body_attrs=c.body_attrs.replace(/wsite-theme-(light|dark)/,"wsite-theme-light"):c.body_attrs=c.body_attrs.replace(/wsite-theme-(light|dark)/,"wsite-theme-dark"),K(),m.execute("theme:light:set",e?"1":"0")})),e.pageContext.is_blog&&a.init()}},ie.renderTheme=n.throttle(ie.renderThemeFunc,1500);var se="";ie.getPartials=j,ie.processNavLinks=W,ie.setThemeStyle=function(e,n,i,r){"myspace"==window.siteType&&(ie.currentStyleNum=Math.floor(10000000001*Math.random())),o.chromeless&&i&&(i=i.replace(/\/\/cdn/g,"http://cdn"));var s=t("#wsite-base-style"),a=null!=r?r.base_stylesheet_url:window.currentThemeData.base_stylesheet_url,l=s.attr("href");a!==l&&s.attr("href",a);var c=t("style[title=wsite-theme-css], link[title=wsite-theme-css]"),u=X(e,i);t("head").append(u),c.remove();var d=t('link[href*="social-icons"]');r&&(!_.isUsingGlyphIcons(r)&&d.length?d.remove():_.isUsingGlyphIcons(r)&&!d.length&&t(u).before(J())),Prototype.Browser.Gecko&&Y(e)};var ae=0,le=null;ie.applyDesignStyle=function(e){var n=t("#designOptionsStyle");if(!n.length){var i=t("<style/>",{type:"text/css",id:"designOptionsStyle"});t("head").append(i),n=i}n[0].styleSheet?n[0].styleSheet.cssText+=e:n.html("").append(e),refreshNavCondense()};var ce="box-shadow: 0 0 1px 3px rgba(85, 185, 255, .6); border-radius: 3px;",ue={"site-title":"siteTitle","paragraph-title":"header","paragraph-text":"global",links:"a","navigation-menu-text":"navMenu","image-captions":"imageCaptions","photo-gallery-captions":"galleryCaptions","slideshow-captions":"slideshowCaptions","phone-number-field":"phone","landing-page-headline":"headline","landing-page-sub-headline":"subHeadline",button:"button",blockquote:"blockquote","footer-paragraph-title":"footerHeader","footer-paragraph-text":"footerGlobal","footer-links":"footerA","footer-blockquote":"footerBlockquote","blog-post-title":"blogPostTitle",product:"productHighlight"},de=!1;return ie.highlightText=function(e){de||(ne(),de=!0),t("body").addClass("highlight-"+ue[e])},ie.unhighlightText=function(e){t("body").removeClass("highlight-"+ue[e])},ie.getStylesByType=function(e){var i=t(f.DESIGN_OPTIONS_SELECTORS[ue[e]]).eq(0),o=i.children("font");if(0===i.length)return{};var r=window.getComputedStyle(i.get(0));return r=n.pick(r,"fontFamily","size","color","textTransform"),o.length>0&&(r.color=o.eq(0).css("color")),r},ie.getDefaultFont=function(e){var n=t(f.DESIGN_OPTIONS_SELECTORS[ue[e]]).eq(0),i=t("head"),o=i.find("style"),r=0,s=t("#designOptionsStyle"),r=o.index(s);s.remove();var a=n.css("fontFamily")||"";return r=r<=0?1:r-1,s.insertAfter(o.eq(r)),a.split(",")[0]},window.processNavLinks=ie.processNavLinks,ie}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(9),n(14),n(7),n(115)],o=function(e,t,n,i,o,r){var s=t.extend({},n.Events,{show:function(n){if(n=t.extend({},{opacity:"0",zIndex:13,element:e()},n),n.element.length)return this.destroy(),this.instance=new r(n),this.instance.show(),this.setElement(),this.bindEvents(),this.pollHeight(),this.instance},hide:function(){this.instance&&this.instance.hide()},bindEvents:function(){this.instance.container.on("click.spotlight",this.destroy.bind(this)),this.listenTo(i.vent,"element:options:dialog:close",this.destroy),this.listenTo(o,"site:overlays:hide",this.destroy)},setElement:function(){this.$el=this.instance.elements[0]},pollHeight:function(){var e=this.$el.outerHeight();this.interval=setInterval(function(){var t=this.$el.outerHeight();t!==e&&(e=t,this.instance.position())}.bind(this),200)},destroy:function(){this.instance&&(clearInterval(this.interval),this.stopListening(),this.instance.container.off("click.spotlight"),this.instance.destroy(),delete this.$el,delete this.instance,this.trigger("destroy"))}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(12),n(7)],o=function(e,t,n,i){function o(t,n,i,o){var r=e("#_editor-ui"),s=e("#sortableMarker");s.length||(s=e(l()),r.append(s)),s.css({top:n+"px",left:t+"px",width:i?i+"px":"",height:o?o+"px":""})}function r(e,t,i){var o,r,l=e.position===n.POSITION_LEFT,c=e.position===n.POSITION_RIGHT,u=e.position===n.POSITION_BOTTOM;if(s.call(e.$el,""),e.$el.is(".wsite-multicol-col")){if(l)r=e.$el,o=e.$el.prev();else{if(!c)return;o=e.$el,r=e.$el.next()}a.call(o,"right",i),a.call(r,"left",i)}else u&&t?s.call(e.$el,-(i/3)):a.call(e.$el,h[e.position],i)}function s(e){e?this.css("transform","translateY("+e+"px)"):this.css("transform","")}function a(e,t){if(0!==this.length){var n="padding-"+e,i=this.prop("style")[n];i=i?parseInt(i,10):0,this.css(n,i+t+"px")}}function l(){return e("<div>").attr("id","sortableMarker").addClass("sortableMarker")}var c={},u=null,d=!1,h={};return h[n.POSITION_TOP]="top",h[n.POSITION_RIGHT]="right",h[n.POSITION_BOTTOM]="bottom",h[n.POSITION_LEFT]="left",c.removeMarker=function(){u&&(u.$el&&r(u,d,-15),e("#sortableMarker").remove(),u=null,d=!1)},c.createMarkerFromEdge=function(t){u&&c.removeMarker();var i=e("#_editor-ui").offset().top;if(t.elementId){var s=e("#"+t.elementId);if(!s.length&&(s=e("#inside_"+t.elementId),!s.length))return;var a=s.is(".wsite-multicol-col:first-child"),l=s.is(".wsite-multicol-col:last-child"),h=s.is("li.inside:last-child:not(.wsite-multicol-col li)"),p=t.position===n.POSITION_LEFT,f=t.position===n.POSITION_RIGHT,m=t.position===n.POSITION_BOTTOM,g=0;if((a||l)&&(p||f)){var v=parseInt(s.closest(".wsite-multicol-table-wrap").css("margin-left"),10);a&&p?g=-v:l&&f&&(g=v)}o(t.x1+g,t.y1-i,t.x2-t.x1,t.y2-t.y1),t.$el=s,(p||f||h&&m)&&r(t,h,15),d=h}else o(t.x1,t.y1-i,t.x2-t.x1,t.y2-t.y1);u=t},t.extend(window,c),c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(5),n(3),n(4),n(95),n(195),n(194),n(870),n(869),n(8)],o=function(e,t,n,i,o,r,s,a,l,c,u){var d=i.View.extend({events:{"click #cancel-button":"cancel","click #choose-button":"choose","click #w-theme-preview-colors a":"switchColor"},tagName:"div",id:"w-theme-preview",iframe:void 0,initialize:function(e){this.initializeTemplate(),this.user=e.user||"undefined"!=typeof window.userID?window.userID:"",this.site=e.site||"undefined"!=typeof window.currentSite?window.currentSite:"",this.page=e.page||"",this.theme=e.theme,this.themeForOptions=e.themeForOptions,this.merchSiteId=e.merchSiteId,this.colors=e.colors||[],this.selectedColor=e.selectedColor||"",this.callback=e.callback,this.isUpgrade=e.isUpgrade,this.customChangeTheme=e.customChangeTheme,this.inEditor=e.inEditor,this.cancelCallback=e.cancelCallback,this.initializeFrame(),this.create()},initializeFrame:function(){var n=this;n.navigate(),n.iframe=document.createElement("iframe"),n.iframe.src=window.bridgeTarget+"/editor/preview.php",n.relay=new s,n.bridge=new a(window.bridgeTarget),n.frameReady=e.Deferred(),n.relay.commands.setHandlers({"preview:navigate":function(e){n.page=t.result(e,"page_id"),n.route=e.route||"",n.navigate()}}),n.iframe.onload=function(){n.frameReady=n.bridge.setup(n.relay.incoming,n.iframe.contentWindow,n.relay.outgoing)}},initializeTemplate:function(){var e=this;this.isWhiteLabeled=!1,window.inEditor&&window.inEditor()&&(this.isWhiteLabeled=r.isWhiteLabeled()),this.templateTopbar=o.compile(l),this.templatePalette=o.compile(c)},render:function(){var e,t;this.colors.length>1&&!this.merchSiteId&&(t=this.templatePalette({colors:this.colors})),e=this.templateTopbar({palette:t,isWhiteLabeled:this.isWhiteLabeled}),this.$el.append(e).append(this.iframe);var n=this.selectedColor||"";return n=n.replace(/'/g,"\\'"),n?this.$el.find("#w-theme-preview-colors a[data-color='"+n+"']").addClass("selected"):this.$el.find("#w-theme-preview-colors a[data-color]").first().addClass("selected"),this},navigate:function(){var t=this,n=t.generateURL();return t.trigger("preview:navigate",n),e.get(n).then(function(e){return t.frameReady.then(function(){return t.relay.request("preview:render",e)})}).done(function(){t.show()})},show:function(){var t=this;e(document.body).addClass("noscroll"),t.trigger("preview:show"),t.$el.addClass("show")},generateURL:function(){var e=this.theme.match(/^custom_(.*)_(\d+)$/),t=this.selectedColor?"&color="+this.selectedColor:"",n=this.themeForOptions,i=this.page,o=this.route;return"/theme_browser/preview.php?user_id="+this.user+"&site_id="+this.site+(e?"&theme_id="+e[2]+"&custom_theme_name="+e[1]+t:"&theme_id="+this.theme+t)+(n?"&theme_id_for_options="+n:"")+(i?"&page_id="+i:"")+(o?"&route="+o:"")+(this.merchSiteId?"&merchSiteId="+this.merchSiteId:"")},create:function(){var t=this;this.render(),e(parent.document.body).append(this.el)},cancel:function(){var t=this;t.$el.removeClass("show"),e(document.body).removeClass("noscroll"),t.destroyBridge(),setTimeout(function(){t.remove()},350),"undefined"!=typeof this.callback&&(this.callback(!1),this.callback=void 0),"function"==typeof this.cancelCallback&&this.cancelCallback()},destroyBridge:function(){var e=this;e.bridge.destroy(),e.relay.commands.removeHandlers(["preview:navigate"])},choose:function(){var e=this,t=e.customChangeTheme||window.changeTheme;e.isUpgrade?n.themeCache.get(e.theme,function(n){n.is_downgradable=!0,e.inEditor?t(e.theme,e.selectedColor,null,null,e.merchSiteId):t(e.theme,e.selectedColor,e.merchSiteId)}):e.inEditor?t(e.theme,e.selectedColor,null,null,e.merchSiteId):t(e.theme,e.selectedColor,e.merchSiteId),"undefined"!=typeof e.callback&&(e.callback(!0),e.callback=void 0),e.user&&(window.Pages.go("editMenu"),e.cancel()),u.trackEvent("public","select_theme",this.merchSiteId)},switchColor:function(t){this.$el.find("#w-theme-preview-colors").find("a.selected").removeClass("selected"),e(t.currentTarget).addClass("selected"),this.selectedColor=t.currentTarget.getAttribute("data-color"),this.navigate(),t.preventDefault()}});return d}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,function(e,t,n){var i=n(1);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var o,r,s,a,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)a=s[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseenter":"focus",r="hover"==a?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e.fn[this.type].defaults,i={},o;return this._options&&e.each(this._options,function(e,t){n[e]!=t&&(i[e]=t)},this),o=e(t.currentTarget)[this.type](i).data(this.type),o.options.delay&&o.options.delay.show?(clearTimeout(this.timeout),o.hoverState="in",void(this.timeout=setTimeout(function(){"in"==o.hoverState&&o.show()},o.options.delay.show))):o.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var t,n,i,o,r,s,a=e.Event("tooltipshow");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,o=t[0].offsetHeight,r){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-o/2,left:n.left+n.width}}this.applyPlacement(s,r),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r,s,a,l;n.offset(e).addClass(t).addClass("in"),r=n[0].offsetWidth,s=n[0].offsetHeight,"top"==t&&s!=o&&(e.top=e.top+o-s,l=!0),"bottom"==t||"top"==t?(a=0,e.left<0&&(a=e.left*-2,e.left=0,n.offset(e),r=n[0].offsetWidth,s=n[0].offsetHeight),this.replaceArrow(a-i+r,r,"left")):this.replaceArrow(s-o,s,"top"),l&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(t),i.detach()})}var n=this,i=this.tip(),o=e.Event("tooltiphide");if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():i.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),o=i.data("tooltip"),r="object"==typeof n&&n;o||i.data("tooltip",o=new t(this,r)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(i),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),o=i.data("popover"),r="object"==typeof n&&n;o||i.data("popover",o=new t(this,r)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(i)},function(e,t,n){var i,o;(function(){(function(){var r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=[].slice;!function(r,s){return i=[n(1)],o=function(e){return s(e,r)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(this,function(e,t){var n,i,o,a,l,c,u,d,h,p,f,m,g,v,b,w;return n=e(t),d=r.call(t,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,u={},c="waypoints-context-id",f="resize.waypoints",m="scroll.waypoints",g=1,v="waypoints-waypoint-ids",b="waypoint",w="waypoints",i=function(){function n(n){var i=this;this.$element=n,this.element=n[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:n.scrollLeft(),y:n.scrollTop()},this.waypoints={horizontal:{},vertical:{}},n.data(c,this.id),u[this.id]=this,n.bind(m,function(){var n;if(!i.didScroll&&!d)return i.didScroll=!0,n=function(){return i.doScroll(),i.didScroll=!1},t.setTimeout(n,e[w].settings.scrollThrottle)}),n.bind(f,function(){var n;if(!i.didResize)return i.didResize=!0,n=function(){return e[w]("refresh"),i.didResize=!1},t.setTimeout(n,e[w].settings.resizeThrottle)})}return n.prototype.doScroll=function(){var t,n=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!d||t.vertical.oldScroll&&t.vertical.newScroll||e[w]("refresh"),e.each(t,function(t,i){var o,r,s;return s=[],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward,e.each(n.waypoints[t],function(e,t){var n,o;return i.oldScroll<(n=t.offset)&&n<=i.newScroll?s.push(t):i.newScroll<(o=t.offset)&&o<=i.oldScroll?s.push(t):void 0}),s.sort(function(e,t){return e.offset-t.offset}),r||s.reverse(),e.each(s,function(e,t){if(t.options.continuous||e===s.length-1)return t.trigger([o])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},n.prototype.refresh=function(){var t,n,i,o=this;return i=e.isWindow(this.element),n=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:n.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:n.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?e[w]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},e.each(t,function(t,n){return e.each(o.waypoints[t],function(t,i){var o,r,s,a,l;if(o=i.options.offset,s=i.offset,r=e.isWindow(i.element)?0:i.$element.offset()[n.offsetProp],e.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(n.contextDimension*o/100))),i.offset=r-n.contextOffset+n.contextScroll-o,(!i.options.onlyOnScroll||null==s)&&i.enabled)return null!==s&&s<(a=n.oldScroll)&&a<=i.offset?i.trigger([n.backward]):null!==s&&s>(l=n.oldScroll)&&l>=i.offset?i.trigger([n.forward]):null===s&&n.oldScroll>=i.offset?i.trigger([n.forward]):void 0})})},n.prototype.checkEmpty=function(){if(e.isEmptyObject(this.waypoints.horizontal)&&e.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,m].join(" ")),delete u[this.id]},n}(),o=function(){function t(t,n,i){var o,r;i=e.extend({},e.fn[b].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=e[w]("viewportHeight"),e.isWindow(n.element)||(t=n.$element.height()),t-e(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=n,this.enabled=i.enabled,this.id="waypoints"+g++,this.offset=null,this.options=i,n.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,o=null!=(r=t.data(v))?r:[],o.push(this.id),t.data(v,o)}return t.prototype.trigger=function(e){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var n,i;return(i=e(t).data(v))?(n=e.extend({},a.horizontal,a.vertical),e.map(i,function(e){return n[e]})):[]},t}(),p={init:function(t,n){var r;return null==n&&(n={}),null==(r=n.handler)&&(n.handler=t),this.each(function(){var t,r,s,a;return t=e(this),s=null!=(a=n.context)?a:e.fn[b].defaults.context,e.isWindow(s)||(s=t.closest(s)),s=e(s),r=u[s.data(c)],r||(r=new i(s)),new o(t,r,n)}),e[w]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(n,i,o){var r,s;return null==n&&(n="vertical"),null==i&&(i=t),s=h.aggregate(i),r=[],this.each(function(){var t;return t=e.inArray(this,s[n]),o(r,t,s[n])}),this.pushStack(r)},_invoke:function(t,n){return t.each(function(){var t;return t=o.getWaypointsByElement(this),e.each(t,function(e,t){return t[n](),!0})}),this}},e.fn[b]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],p[n]?p[n].apply(this,t):e.isFunction(n)?p.init.apply(this,arguments):e.isPlainObject(n)?p.init.apply(this,[null,n]):n?e.error("The "+n+" method does not exist in jQuery Waypoints."):e.error("jQuery Waypoints needs a callback function or handler option.")},e.fn[b].defaults={context:t,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return e.each(u,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=t.innerHeight)?e:n.height()},aggregate:function(t){var n,i,o;return n=a,t&&(n=null!=(o=u[e(t).data(c)])?o.waypoints:void 0),n?(i={horizontal:[],vertical:[]},e.each(i,function(t,o){return e.each(n[t],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),i[t]=e.map(o,function(e){return e.element}),i[t]=e.unique(i[t])}),i):[]},above:function(e){return null==e&&(e=t),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=t),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=t),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=t),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(t){var n;return n=e.extend({},a.vertical,a.horizontal),e.each(n,function(e,n){return n[t](),!0})},_filter:function(t,n,i){var o,r;return(o=u[e(t).data(c)])?(r=[],e.each(o.waypoints[n],function(e,t){if(i(o,t))return r.push(t)}),r.sort(function(e,t){return e.offset-t.offset}),e.map(r,function(e){return e.element})):[]}},e[w]=function(){var e,t;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],h[t]?h[t].apply(null,e):h.aggregate.call(null,t)},e[w].settings={resizeThrottle:100,scrollThrottle:30
},n.load(function(){return e[w]("refresh")})})}).call(this)}).call(window)},,function(e,t,n){var i,o,r;!function(s){o=[n(1),n(55),n(43)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){var t,n="ui-button ui-widget ui-state-default ui-corner-all",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},r=function(t){var n=t.name,i=t.form,o=e([]);return n&&(n=n.replace(/'/g,"\\'"),o=i?e(i).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),o};return e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var i=this,s=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){i.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),i.buttonElement.attr("aria-pressed","true");var t=i.element[0];r(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!s.disabled&&(e(this).addClass("ui-state-active"),t=this,void i.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return!s.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!s.disabled&&void(t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" ui-state-active "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?r(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(i),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),o=this.options.icons,r=o.primary&&o.secondary,s=[];o.primary||o.secondary?(this.options.text&&s.push("ui-button-text-icon"+(r?"s":o.primary?"-primary":"-secondary")),o.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(s.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button})},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(55),n(43),n(293),n(106),n(81),n(141),n(206)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),o=n.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){o.focus()}),t.preventDefault()):(this._delay(function(){i.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,function(n,i){var o,r;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),o=i.click,i.click=function(){o.apply(t.element[0],arguments)},r={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(r).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(o))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(o,r){var s=r.offset.left-n.document.scrollLeft(),a=r.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",o,t(r))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,o=i.resizable,r=this.uiDialog.css("position"),s="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,o){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(o))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(o,r){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",o,t(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);n!==-1&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,o={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(o[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var n,i,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=o.is(":data(ui-draggable)"),n&&!t&&o.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=o.is(":data(ui-resizable)"),i&&!t&&o.resizable("destroy"),i&&"string"==typeof t&&o.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})})},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(87)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){return e.effects.effect.slide=function(t,n){var i=e(this),o=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(i,t.mode||"show"),s="show"===r,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u,d={};e.effects.save(i,o),i.show(),u=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),s&&i.css(l,c?isNaN(u)?"-"+u:-u:u),d[l]=(s?c?"+=":"-=":c?"-=":"+=")+u,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,o),e.effects.removeWrapper(i),n()}})}})},function(e,t,n){var i,o;!function(r){return i=[n(1)],o=function(e){return r(e,window,document)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(function(e,t,n){"use strict";var i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w,y,_,E,T,C,S,I,O,D,x,k,R,P,A;S={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},y="scrollbar",w="scroll",d="mousedown",h="mouseenter",p="mousemove",m="mousewheel",f="mouseup",b="resize",a="drag",l="enter",E="up",v="panedown",r="DOMMouseScroll",s="down",T="wheel",c="keydown",u="keyup",_="touchmove",i="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,o=null,x=t.requestAnimationFrame,C=t.cancelAnimationFrame,R=n.createElement("div").style,A=function(){var e,t,n,i,o,r;for(i=["t","webkitT","MozT","msT","OT"],e=o=0,r=i.length;o<r;e=++o)if(n=i[e],t=i[e]+"ransform",t in R)return i[e].substr(0,i[e].length-1);return!1}(),P=function(e){return A!==!1&&(""===A?e:A+e.charAt(0).toUpperCase()+e.substr(1))},k=P("transform"),O=k!==!1,I=function(){var e,t,i;return e=n.createElement("div"),t=e.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=w,t.top="-9999px",n.body.appendChild(e),i=e.offsetWidth-e.clientWidth,n.body.removeChild(e),i},D=function(){var e,n,i;return n=t.navigator.userAgent,!!(e=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))&&(i=/Firefox\/\d{2}\./.exec(n),i&&(i=i[0].replace(/\D+/g,"")),e&&+i>23)},g=function(){function c(i,r){this.el=i,this.options=r,o||(o=I()),this.$el=e(this.el),this.doc=e(this.options.documentContext||n),this.win=e(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(e,t){if(this.isActive)if(e.type===r)(t===s&&e.originalEvent.detail>0||t===E&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===m){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(t===s&&e.originalEvent.wheelDelta<0||t===E&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var e,t;e=this.content,this.maxScrollTop=e.scrollHeight-e.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=e.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update:nano",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var e;O?(e={},e[k]="translate(0, "+this.sliderTop+"px)"):e={top:this.sliderTop},x?(C&&this.scrollRAF&&C(this.scrollRAF),this.scrollRAF=x(function(t){return function(){return t.scrollRAF=null,t.slider.css(e)}}(this))):this.slider.css(e)},c.prototype.createEvents=function(){this.events={down:function(e){return function(t){return e.isBeingDragged=!0,e.offsetY=t.pageY-e.slider.offset().top,e.slider.is(t.target)||(e.offsetY=0),e.pane.addClass(e.options.activeClass),e.doc.bind(p,e.events[a]).bind(f,e.events[E]),e.body.bind(h,e.events[l]),!1}}(this),drag:function(e){return function(t){return e.sliderY=t.pageY-e.$el.offset().top-e.paneTop-(e.offsetY||.5*e.sliderHeight),e.scroll(),e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop?e.$el.trigger("scrollend"):0===e.contentScrollTop&&0!==e.prevScrollTop&&e.$el.trigger("scrolltop"),!1}}(this),up:function(e){return function(t){return e.isBeingDragged=!1,e.pane.removeClass(e.options.activeClass),e.doc.unbind(p,e.events[a]).unbind(f,e.events[E]),e.body.unbind(h,e.events[l]),!1}}(this),resize:function(e){return function(t){e.reset()}}(this),panedown:function(e){return function(t){return e.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*e.sliderHeight,e.scroll(),e.events.down(t),!1}}(this),scroll:function(e){return function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,s),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,E),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}}(this),wheel:function(e){return function(t){var n;if(null!=t)return n=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,n&&(e.sliderY+=-n/3),e.scroll(),!1}}(this),enter:function(e){return function(t){var n;if(e.isBeingDragged)return 1!==(t.buttons||t.which)?(n=e.events)[E].apply(n,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var e;this.removeEvents(),e=this.events,this.options.disableResize||this.win.bind(b,e[b]),this.iOSNativeScrolling||(this.slider.bind(d,e[s]),this.pane.bind(d,e[v]).bind(""+m+" "+r,e[T])),this.$content.bind(""+w+" "+m+" "+r+" "+_,e[w])},c.prototype.removeEvents=function(){var e;e=this.events,this.win.unbind(b,e[b]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+w+" "+m+" "+r+" "+_,e[w])},c.prototype.generate=function(){var e,n,i,r,s,a,l;return r=this.options,a=r.paneClass,l=r.sliderClass,e=r.contentClass,(s=this.$el.children("."+a)).length||s.children("."+l).length||this.$el.append('<div class="'+a+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+a),this.slider=this.pane.find("."+l),0===o&&D()?(i=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),n={right:-14,paddingRight:+i+14}):o&&(n={right:-o},this.$el.addClass(r.enabledClass)),null!=n&&this.$content.css(n),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var e,t,n,r,s,a,l,c,u,d,h,p;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),e=this.content,r=e.style,s=r.overflowY,i&&this.$content.css({height:this.$content.height()}),t=e.scrollHeight+o,d=parseInt(this.$el.css("max-height"),10),d>0&&(this.$el.height(""),this.$el.height(e.scrollHeight>d?d:e.scrollHeight)),l=this.pane.outerHeight(!1),u=parseInt(this.pane.css("top"),10),a=parseInt(this.pane.css("bottom"),10),c=l+u+a,p=Math.round(c/t*l),p<this.options.sliderMinHeight?p=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&p>this.options.sliderMaxHeight&&(p=this.options.sliderMaxHeight),s===w&&r.overflowX!==w&&(p+=o),this.maxSliderTop=c-p,this.contentHeight=t,this.paneHeight=l,this.paneOuterHeight=c,this.sliderHeight=p,this.paneTop=u,this.slider.height(p),this.events.scroll(),this.pane.show(),this.isActive=!0,e.scrollHeight===e.clientHeight||this.pane.outerHeight(!0)>=e.scrollHeight&&s!==w?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===e.scrollHeight&&s===w?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),"static"!==n&&"relative"!==n||(h=parseInt(this.$content.css("right"),10),h&&this.$content.css({right:"",marginRight:h})),this)},c.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},c.prototype.scrollBottom=function(e){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(m),this.stop().restore(),this},c.prototype.scrollTop=function(e){if(this.isActive)return this.$content.scrollTop(+e).trigger(m),this.stop().restore(),this},c.prototype.scrollTo=function(e){if(this.isActive)return this.scrollTop(this.$el.find(e).get(0).offsetTop),this},c.prototype.stop=function(){return C&&this.scrollRAF&&(C(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),i&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},c.prototype.flash=function(){if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(e){return function(){e.pane.removeClass(e.options.flashedClass)}}(this),this.options.flashDelay),this},c}(),e.fn.nanoScroller=function(t){return this.each(function(){var n,i;if((i=this.nanoscroller)||(n=e.extend({},S,t),this.nanoscroller=i=new g(this,n)),t&&"object"==typeof t){if(e.extend(i.options,t),null!=t.scrollBottom)return i.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return i.scrollTop(t.scrollTop);if(t.scrollTo)return i.scrollTo(t.scrollTo);if("bottom"===t.scroll)return i.scrollBottom(0);if("top"===t.scroll)return i.scrollTop(0);if(t.scroll&&t.scroll instanceof e)return i.scrollTo(t.scroll);if(t.stop)return i.stop();if(t.destroy)return i.destroy();if(t.flash)return i.flash()}return i.reset()})},e.fn.nanoScroller.Constructor=g})},function(e,t,n){var i,o,r;!function(n){o=[],i=n,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(){"use strict";function e(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function t(e,t){return Math.round(e/t)*t}function n(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,o=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),{top:t.top+o.y-i.clientTop,left:t.left+o.x-i.clientLeft}}function i(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e,t,n){l(e,t),setTimeout(function(){c(e,t)},n)}function r(e){return Math.max(Math.min(e,100),0)}function s(e){return Array.isArray(e)?e:[e]}function a(e){var t=e.split(".");return t.length>1?t[1].length:0}function l(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function u(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function d(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),n=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,i=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:i}}function h(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(e,t){return 100/(t-e)}function f(e,t){return 100*t/(e[1]-e[0])}function m(e,t){return f(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function g(e,t){return t*(e[1]-e[0])/100+e[0]}function v(e,t){for(var n=1;e>=t[n];)n+=1;return n}function b(e,t,n){if(n>=e.slice(-1)[0])return 100;var i=v(n,e),o,r,s,a;return o=e[i-1],r=e[i],s=t[i-1],a=t[i],s+m([o,r],n)/p(s,a)}function w(e,t,n){if(n>=100)return e.slice(-1)[0];
var i=v(n,t),o,r,s,a;return o=e[i-1],r=e[i],s=t[i-1],a=t[i],g([o,r],(n-s)*p(s,a))}function y(e,n,i,o){if(100===o)return o;var r=v(o,e),s,a;return i?(s=e[r-1],a=e[r],o-s>(a-s)/2?a:s):n[r-1]?e[r-1]+t(o-e[r-1],n[r-1]):o}function _(e,t,n){var o;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider: 'range' contains invalid value.");if(o="min"===e?0:"max"===e?100:parseFloat(e),!i(o)||!i(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(o),n.xVal.push(t[0]),o?n.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(n.xSteps[0]=t[1])}function E(e,t,n){return!t||void(n.xSteps[e]=f([n.xVal[e],n.xVal[e+1]],t)/p(n.xPct[e],n.xPct[e+1]))}function T(e,t,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t,this.direction=n;var o,r=[];for(o in e)e.hasOwnProperty(o)&&r.push([e[o],o]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),o=0;o<r.length;o++)_(r[o][1],r[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)E(o,this.xNumSteps[o],this)}function C(e,t){if(!i(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function S(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new T(t,e.snap,e.dir,e.singleStep)}function I(e,t){if(t=s(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function O(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function D(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function x(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function k(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(t===!0&&2===e.handles)e.connect=3;else{if(t!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function R(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function P(e,t){if(!i(t))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function A(e,t){if(!i(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function N(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function M(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0;if(i&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:n||r,drag:i,fixed:o,snap:r,hover:s}}function L(e,t){var n;if(t!==!1)if(t===!0)for(e.tooltips=[],n=0;n<e.handles;n++)e.tooltips.push(!0);else{if(e.tooltips=s(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function B(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function K(e,t){if(void 0!==t&&"string"!=typeof t&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function F(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function H(e){var t={margin:0,limit:0,animate:!0,animationDuration:300,format:$},n;n={step:{r:!1,t:C},start:{r:!0,t:I},connect:{r:!0,t:k},direction:{r:!0,t:N},snap:{r:!1,t:O},animate:{r:!1,t:D},animationDuration:{r:!1,t:x},range:{r:!0,t:S},orientation:{r:!1,t:R},margin:{r:!1,t:P},limit:{r:!1,t:A},behaviour:{r:!0,t:M},format:{r:!1,t:B},tooltips:{r:!1,t:L},cssPrefix:{r:!1,t:K},cssClasses:{r:!1,t:F}};var i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(n).forEach(function(o){if(void 0===e[o]&&void 0===i[o]){if(n[o].r)throw new Error("noUiSlider: '"+o+"' is required.");return!0}n[o].t(t,void 0===e[o]?i[o]:e[o])}),t.pips=e.pips,t.style=t.ort?"top":"left",t}function j(t,i,p){function f(e,t,n){var i=e+t[0],o=e+t[1];return n?(i<0&&(o+=Math.abs(i)),o>100&&(i-=o-100),[r(i),r(o)]):[i,o]}function m(e,t){e.preventDefault();var n=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),r,s,a=e;return 0===e.type.indexOf("MSPointer")&&(o=!0),n&&(r=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY),t=t||d(),(i||o)&&(r=e.clientX+t.x,s=e.clientY+t.y),a.pageOffset=t,a.points=[r,s],a.cursor=i||o,a}function g(e,t){var n=document.createElement("div"),o=document.createElement("div"),r=[i.cssClasses.handleLower,i.cssClasses.handleUpper];return e&&r.reverse(),l(o,i.cssClasses.handle),l(o,r[t]),l(n,i.cssClasses.origin),n.appendChild(o),n}function v(e,t,n){switch(e){case 1:l(t,i.cssClasses.connect),l(n[0],i.cssClasses.background);break;case 3:l(n[1],i.cssClasses.background);case 2:l(n[0],i.cssClasses.connect);case 0:l(t,i.cssClasses.background)}}function b(e,t,n){var i,o=[];for(i=0;i<e;i+=1)o.push(n.appendChild(g(t,i)));return o}function w(e,t,n){l(n,i.cssClasses.target),0===e?l(n,i.cssClasses.ltr):l(n,i.cssClasses.rtl),0===t?l(n,i.cssClasses.horizontal):l(n,i.cssClasses.vertical);var o=document.createElement("div");return l(o,i.cssClasses.base),n.appendChild(o),o}function y(e,t){if(!i.tooltips[t])return!1;var n=document.createElement("div");return n.className=i.cssClasses.tooltip,e.firstChild.appendChild(n)}function _(){i.dir&&i.tooltips.reverse();var e=J.map(y);i.dir&&(e.reverse(),i.tooltips.reverse()),z("update",function(t,n,o){e[n]&&(e[n].innerHTML=i.tooltips[n]===!0?t[n]:i.tooltips[n].to(o[n]))})}function E(e,t,n){if("range"===e||"steps"===e)return Q.xVal;if("count"===e){var i=100/(t-1),o,r=0;for(t=[];(o=r++*i)<=100;)t.push(o);e="positions"}return"positions"===e?t.map(function(e){return Q.fromStepping(n?Q.getStep(e):e)}):"values"===e?n?t.map(function(e){return Q.fromStepping(Q.getStep(Q.toStepping(e)))}):t:void 0}function T(t,n,i){function o(e,t){return(e+t).toFixed(7)/1}var r=Q.direction,s={},a=Q.xVal[0],l=Q.xVal[Q.xVal.length-1],c=!1,u=!1,d=0;return Q.direction=0,i=e(i.slice().sort(function(e,t){return e-t})),i[0]!==a&&(i.unshift(a),c=!0),i[i.length-1]!==l&&(i.push(l),u=!0),i.forEach(function(e,r){var a,l,h,p=e,f=i[r+1],m,g,v,b,w,y,_;if("steps"===n&&(a=Q.xNumSteps[r]),a||(a=f-p),p!==!1&&void 0!==f)for(l=p;l<=f;l=o(l,a)){for(m=Q.toStepping(l),g=m-d,w=g/t,y=Math.round(w),_=g/y,h=1;h<=y;h+=1)v=d+h*_,s[v.toFixed(5)]=["x",0];b=i.indexOf(l)>-1?1:"steps"===n?2:0,!r&&c&&(b=0),l===f&&u||(s[m.toFixed(5)]=[l,b]),d=m}}),Q.direction=r,s}function C(e,t,n){function o(e,t){var n=t===i.cssClasses.value,o=n?h:p,r=n?u:d;return t+" "+o[i.ort]+" "+r[e]}function r(e,t,n){return'class="'+o(n[1],t)+'" style="'+i.style+": "+e+'%"'}function s(e,o){Q.direction&&(e=100-e),o[1]=o[1]&&t?t(o[0],o[1]):o[1],c+="<div "+r(e,i.cssClasses.marker,o)+"></div>",o[1]&&(c+="<div "+r(e,i.cssClasses.value,o)+">"+n.to(o[0])+"</div>")}var a=document.createElement("div"),c="",u=[i.cssClasses.valueNormal,i.cssClasses.valueLarge,i.cssClasses.valueSub],d=[i.cssClasses.markerNormal,i.cssClasses.markerLarge,i.cssClasses.markerSub],h=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],p=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];return l(a,i.cssClasses.pips),l(a,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){s(t,e[t])}),a.innerHTML=c,a}function S(e){var t=e.mode,n=e.density||1,i=e.filter||!1,o=e.values||!1,r=e.stepped||!1,s=E(t,o,r),a=T(n,t,s),l=e.format||{to:Math.round};return q.appendChild(C(a,i,l))}function I(){var e=X.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||X[t]:e.height||X[t]}function O(e,t,n){var o;for(o=0;o<i.handles;o++)if(Y[o]===-1)return;void 0!==t&&1!==i.handles&&(t=Math.abs(t-i.dir)),Object.keys(ee).forEach(function(i){var o=i.split(".")[0];e===o&&ee[i].forEach(function(e){e.call(te,s(j()),t,s(D(Array.prototype.slice.call(Z))),n||!1,Y)})})}function D(e){return 1===e.length?e[0]:i.dir?e.reverse():e}function x(e,t,n,o){var r=function(t){return!q.hasAttribute("disabled")&&(!u(q,i.cssClasses.tap)&&(t=m(t,o.pageOffset),!(e===G.start&&void 0!==t.buttons&&t.buttons>1)&&((!o.hover||!t.buttons)&&(t.calcPoint=t.points[i.ort],void n(t,o)))))},s=[];return e.split(" ").forEach(function(e){t.addEventListener(e,r,!1),s.push([e,r])}),s}function k(e,t){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===e.buttons&&0!==t.buttonsProperty)return R(e,t);var n=t.handles||J,i,o=!1,r=100*(e.calcPoint-t.start)/t.baseSize,s=n[0]===J[0]?0:1,a;if(i=f(r,t.positions,n.length>1),o=B(n[0],i[s],1===n.length),n.length>1){if(o=B(n[1],i[s?0:1],!1)||o)for(a=0;a<t.handles.length;a++)O("slide",a)}else o&&O("slide",s)}function R(e,t){var n=X.querySelector("."+i.cssClasses.active),o=t.handles[0]===J[0]?0:1;null!==n&&c(n,i.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var r=document.documentElement;r.noUiListeners.forEach(function(e){r.removeEventListener(e[0],e[1])}),c(q,i.cssClasses.drag),O("set",o),O("change",o),void 0!==t.handleNumber&&O("end",t.handleNumber)}function P(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&R(e,t)}function A(e,t){var n=document.documentElement;if(1===t.handles.length){if(t.handles[0].hasAttribute("disabled"))return!1;l(t.handles[0].children[0],i.cssClasses.active)}e.preventDefault(),e.stopPropagation();var o=x(G.move,n,k,{start:e.calcPoint,baseSize:I(),pageOffset:e.pageOffset,handles:t.handles,handleNumber:t.handleNumber,buttonsProperty:e.buttons,positions:[Y[0],Y[J.length-1]]}),r=x(G.end,n,R,{handles:t.handles,handleNumber:t.handleNumber}),s=x("mouseout",n,P,{handles:t.handles,handleNumber:t.handleNumber});if(n.noUiListeners=o.concat(r,s),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,J.length>1&&l(q,i.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==t.handleNumber&&O("start",t.handleNumber)}function N(e){var t=e.calcPoint,r=0,s,a;return e.stopPropagation(),J.forEach(function(e){r+=n(e)[i.style]}),s=t<r/2||1===J.length?0:1,J[s].hasAttribute("disabled")&&(s=s?0:1),t-=n(X)[i.style],a=100*t/I(),i.events.snap||o(q,i.cssClasses.tap,i.animationDuration),!J[s].hasAttribute("disabled")&&(B(J[s],a),O("slide",s,!0),O("set",s,!0),O("change",s,!0),void(i.events.snap&&A(e,{handles:[J[s]]})))}function M(e){var t=e.calcPoint-n(X)[i.style],o=Q.getStep(100*t/I()),r=Q.fromStepping(o);Object.keys(ee).forEach(function(e){"hover"===e.split(".")[0]&&ee[e].forEach(function(e){e.call(te,r)})})}function L(e){if(e.fixed||J.forEach(function(e,t){x(G.start,e.children[0],A,{handles:[e],handleNumber:t})}),e.tap&&x(G.start,X,N,{handles:J}),e.hover&&x(G.move,X,M,{hover:!0}),e.drag){var t=[X.querySelector("."+i.cssClasses.connect)];l(t[0],i.cssClasses.draggable),e.fixed&&t.push(J[t[0]===J[0]?1:0].children[0]),t.forEach(function(e){x(G.start,e,A,{handles:J})})}}function B(e,t,n){var o=e!==J[0]?1:0,s=Y[0]+i.margin,a=Y[1]-i.margin,u=Y[0]+i.limit,d=Y[1]-i.limit;return J.length>1&&(t=o?Math.max(t,s):Math.min(t,a)),n!==!1&&i.limit&&J.length>1&&(t=o?Math.min(t,u):Math.max(t,d)),t=Q.getStep(t),t=r(t),t!==Y[o]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){e.style[i.style]=t+"%"}):e.style[i.style]=t+"%",e.previousSibling||(c(e,i.cssClasses.stacking),t>50&&l(e,i.cssClasses.stacking)),Y[o]=t,Z[o]=Q.fromStepping(t),O("update",o),!0)}function K(e,t){var n,o,r;for(i.limit&&(e+=1),n=0;n<e;n+=1)o=n%2,r=t[o],null!==r&&r!==!1&&("number"==typeof r&&(r=String(r)),r=i.format.from(r),(r===!1||isNaN(r)||B(J[o],Q.toStepping(r),n===3-i.dir)===!1)&&O("update",o))}function F(e,t){var n,r=s(e),a;for(t=void 0===t||!!t,i.dir&&i.handles>1&&r.reverse(),i.animate&&Y[0]!==-1&&o(q,i.cssClasses.tap,i.animationDuration),n=J.length>1?3:1,1===r.length&&(n=1),K(n,r),a=0;a<J.length;a++)null!==r[a]&&t&&O("set",a)}function j(){var e,t=[];for(e=0;e<i.handles;e+=1)t[e]=i.format.to(Z[e]);return D(t)}function W(){for(var e in i.cssClasses)i.cssClasses.hasOwnProperty(e)&&c(q,i.cssClasses[e]);for(;q.firstChild;)q.removeChild(q.firstChild);delete q.noUiSlider}function $(){var e=Y.map(function(e,t){var n=Q.getApplicableStep(e),i=a(String(n[2])),o=Z[t],r=100===e?null:n[2],s=Number((o-n[2]).toFixed(i)),l=0===e?null:s>=n[1]?n[2]:n[0]||!1;return[l,r]});return D(e)}function z(e,t){ee[e]=ee[e]||[],ee[e].push(t),"update"===e.split(".")[0]&&J.forEach(function(e,t){O("update",t)})}function V(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(ee).forEach(function(e){var i=e.split(".")[0],o=e.substring(i.length);t&&t!==i||n&&n!==o||delete ee[e]})}function U(e,t){var n=j(),o=H({start:[0,0],margin:e.margin,limit:e.limit,step:void 0===e.step?i.singleStep:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?i.snap:e.snap});["margin","limit","range","animate"].forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),o.spectrum.direction=Q.direction,Q=o.spectrum,Y=[-1,-1],F(e.start||n,t)}var G=h(),q=t,Y=[-1,-1],X,J,Q=i.spectrum,Z=[],ee={},te;if(q.noUiSlider)throw new Error("Slider was already initialized.");return X=w(i.dir,i.ort,q),J=b(i.handles,i.dir,X),v(i.connect,q,J),i.pips&&S(i.pips),i.tooltips&&_(),te={destroy:W,steps:$,on:z,off:V,get:j,set:F,updateOptions:U,options:p,target:q,pips:S},L(i.events),te}function W(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=H(t,e),i=j(e,n,t);return i.set(n.start),e.noUiSlider=i,i}T.prototype.getMargin=function(e){return 2===this.xPct.length&&f(this.xVal,e)},T.prototype.toStepping=function(e){return e=b(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},T.prototype.fromStepping=function(e){return this.direction&&(e=100-e),w(this.xVal,this.xPct,e)},T.prototype.getStep=function(e){return this.direction&&(e=100-e),e=y(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},T.prototype.getApplicableStep=function(e){var t=v(e,this.xPct),n=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-n],this.xNumSteps[t-n]]},T.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var $={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{create:W}})},function(e,t,n){var i,o;i=[n(1),n(50),n(488),n(94),n(475)],o=function(e,t,n,i,o){var r=t.extend({className:"color-picker",template:'<div class="color-picker__controls">\n<div class="color-picker__slider color-picker__slider--hue">\n<div class="color-picker__slider-indicator">\n<div class="color-picker__slider-indicator-handle js-handle"></div>\n</div>\n</div>\n<div class="color-picker__mixer color-mixer">\n<div class="color-mixer__container">\n<div class="color-mixer__lightness"></div>\n<div class="color-mixer__darkness"></div>\n<div class="color-mixer__indicator">\n<div class="color-mixer__indicator-handle js-handle"></div>\n</div>\n</div>\n</div>\n</div>\n',DEFAULT_COLOR:"#1B87D0",initialize:function(e){return this.color=new n,this.initialColor=e.color,this},onAttach:function(){this.createColorInput(),this.cacheElementsData(),this.enableDragging(this.slider),this.enableDragging(this.picker),this.setColor(this.initialColor||this.DEFAULT_COLOR),this.updatePickerColor(),this.listenToColorChange()},setColor:function(e){this.color.set("hex",e);var t=this.color.get("hsv");this.computeDimensions(),this.positionIndicator(this.slider,this.sliderPosition(t)),this.positionIndicator(this.picker,this.pickerPosition(t))},pickColor:function(e){this.setColor(e),this.trigger("pick",this.color.toJSON())},cacheElementsData:function(){var e=this.$(".color-picker__slider"),t=this.$(".color-mixer");this.slider={el:e,indicator:e.find(".color-picker__slider-indicator"),callback:this.sliderListener.bind(this),dragAxis:"x"},this.picker={el:t,indicator:t.find(".color-mixer__indicator"),callback:this.pickerListener.bind(this),dragAxis:!1},this.computeDimensions()},computeDimensions:function(){this.slider.width=this.slider.el.width(),this.picker.width=this.picker.el.width(),this.picker.height=this.picker.el.height(),this.slider.width&&this.picker.width&&this.picker.height&&(this.computeDimensions=Function.prototype)},listenToColorChange:function(){this.listenTo(this.color,"change",function(e,t){this.updatePickerColor(),this.trigger("change",e.toJSON())})},enableDragging:function(e){var t=this,n=new o(e.indicator[0],{containment:!0,axis:e.dragAxis,handle:".js-handle"});n.on("dragMove",function(){var t={x:Math.abs(Math.floor(n.position.x)),y:Math.abs(Math.floor(n.position.y))};e.callback(t)}),n.on("dragEnd",function(){t.trigger("pick",t.color.toJSON())}),e.el.on("mousedown",function(i){if(i.target.className.indexOf("js-handle")===-1){var o=t.mousePosition(i);t.positionIndicator(e,o),n.pointerDown(i,i),e.callback(o),t.trigger("pick",t.color.toJSON())}})},createColorInput:function(){var e=this.queryOption("hasInput");e&&new r.Input({model:this.color,picker:this})},updatePickerColor:function(){var e=this.color.get("hsv"),t=this.color.hsv2hex({h:e.h,s:1,v:1});this.picker.el.css("background-color",t)},sliderListener:function(e){this.computeDimensions();var t=this.slider.width,n=this.color.get("hsv");this.color.set("hsv",{h:e.x/t*360,s:n.s,v:n.v})},pickerListener:function(e){this.computeDimensions();var t=this.picker.width,n=this.picker.height,i=this.color.get("hsv");this.color.set("hsv",{h:i.h,s:e.x/t,v:(n-e.y)/n})},sliderPosition:function(e){return{x:e.h*this.slider.width/360,y:0}},pickerPosition:function(e){return{x:e.s*this.picker.width,y:this.picker.height-e.v*this.picker.height}},positionIndicator:function(e,t){t&&(e.indicator.css("left",t.x+"px"),"x"!==e.dragAxis&&e.indicator.css("top",t.y+"px"))},mousePosition:function(e){return{x:e.offsetX,y:e.offsetY}}}),s=t.extend({template:'<h4 class="form-header">{{inputLabel}}</h4>\n<div class="form-control form-control--color">\n<div class="form-control__item">\n<span class="form-control--color__swatch"></span>\n</div>\n<div class="form-control__item form-control__item--right">\n<input type="text" class="js-input-hex" data-prefix="#" maxlength="6" />\n</div>\n</div>\n',initialize:function(e){this.picker=e.picker,this.render()},events:{"focusout .js-input-hex":"onFocusOutHexInput","focusin .js-input-hex":"onFocusHexInput"},render:function(){var e=this;t.prototype.render.call(this),e.picker.$el.after(e.$el),e.$inputEl=e.$(".js-input-hex"),e.$inputEl.on({input:e.validateHexInput.bind(e),blur:function(){e.setHexInput(e.model.get("hex"))}}),new i({el:e.$inputEl}),e.$swatchEl=e.$(".form-control--color__swatch"),e.updateColorInput(),e.listenToColorPickerChange()},getRenderData:function(){return{inputLabel:this.picker.queryOption("inputLabel")}},listenToColorPickerChange:function(){this.listenTo(this.model,"change",function(){this.updateColorInput()})},updateColorInput:function(){var e=this.model.get("hex");this.setSwatchColor(e),this.setHexInput(e)},setSwatchColor:function(e){this.$swatchEl.css("background-color",e)},setHexInput:function(e){e=e.substring(1),this.$inputEl.val().toLowerCase()!==e.toLowerCase()&&this.$inputEl.val(e)},validateHexInput:function(e){var t=this.$inputEl.val();this.model.isHexColor(t)&&(t="#"+t,this.picker.pickColor(t))},setHexInput:function(){var e=this.model.get("hex");this.$inputEl.val(e.substring(1))},onFocusHexInput:function(e){this.$el.find(".form-control--color").addClass("is-active")},onFocusOutHexInput:function(e){this.$el.children(".form-control--color").removeClass("is-active")}});return r.Input=s,r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t){window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return t=d[n],t?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){if(e<32)return(e<16?"\\x0":"\\x")+e.toString(16);var t=String.fromCharCode(e);return"\\"!==t&&"-"!==t&&"["!==t&&"]"!==t||(t="\\"+t),t}function i(e){for(var i=e.substring(1,e.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),o=[],r=[],s="^"===i[0],a=s?1:0,l=i.length;a<l;++a){var c=i[a];if(/\\[bdsw]/i.test(c))o.push(c);else{var u=t(c),d;a+2<l&&"-"===i[a+1]?(d=t(i[a+2]),a+=2):d=u,r.push([u,d]),d<65||u>122||(d<65||u>90||r.push([32|Math.max(65,u),32|Math.min(d,90)]),d<97||u>122||r.push([Math.max(97,u)&-33,Math.min(d,122)&-33]))}}r.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]});for(var h=[],p=[NaN,NaN],a=0;a<r.length;++a){var f=r[a];f[0]<=p[1]+1?p[1]=Math.max(p[1],f[1]):h.push(p=f)}var m=["["];s&&m.push("^"),m.push.apply(m,o);for(var a=0;a<h.length;++a){var f=h[a];m.push(n(f[0])),f[1]>f[0]&&(f[1]+1>f[0]&&m.push("-"),m.push(n(f[1])))}return m.push("]"),m.join("")}function o(e){for(var t=e.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),n=t.length,o=[],a=0,l=0;a<n;++a){var c=t[a];if("("===c)++l;else if("\\"===c.charAt(0)){var u=+c.substring(1);u&&u<=l&&(o[u]=-1)}}for(var a=1;a<o.length;++a)-1===o[a]&&(o[a]=++r);for(var a=0,l=0;a<n;++a){var c=t[a];if("("===c)++l,void 0===o[l]&&(t[a]="(?:");else if("\\"===c.charAt(0)){var u=+c.substring(1);u&&u<=l&&(t[a]="\\"+o[l])}}for(var a=0,l=0;a<n;++a)"^"===t[a]&&"^"!==t[a+1]&&(t[a]="");if(e.ignoreCase&&s)for(var a=0;a<n;++a){var c=t[a],d=c.charAt(0);c.length>=2&&"["===d?t[a]=i(c):"\\"!==d&&(t[a]=c.replace(/[a-zA-Z]/g,function(e){var t=e.charCodeAt(0);return"["+String.fromCharCode(t&-33,32|t)+"]"}))}return t.join("")}for(var r=0,s=!1,a=!1,l=0,c=e.length;l<c;++l){var u=e[l];if(u.ignoreCase)a=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){s=!0,a=!1;break}}for(var d={b:8,t:9,n:10,v:11,f:12,r:13},h=[],l=0,c=e.length;l<c;++l){var u=e[l];if(u.global||u.multiline)throw new Error(""+u);h.push("(?:"+o(u)+")")}return new RegExp(h.join("|"),a?"gi":"g")}function t(e){function t(e){switch(e.nodeType){case 1:if(n.test(e.className))return;for(var a=e.firstChild;a;a=a.nextSibling)t(a);var c=e.nodeName;"BR"!==c&&"LI"!==c||(i[s]="\n",r[s<<1]=o++,r[s++<<1|1]=e);break;case 3:case 4:var u=e.nodeValue;u.length&&(u=l?u.replace(/\r\n?/g,"\n"):u.replace(/[ \t\r\n]+/g," "),i[s]=u,r[s<<1]=o,o+=u.length,r[s++<<1|1]=e)}}var n=/(?:^|\s)nocode(?:\s|$)/,i=[],o=0,r=[],s=0,a;e.currentStyle?a=e.currentStyle.whiteSpace:window.getComputedStyle&&(a=document.defaultView.getComputedStyle(e,null).getPropertyValue("white-space"));var l=a&&"pre"===a.substring(0,3);return t(e),{sourceCode:i.join("").replace(/\n$/,""),spans:r}}function n(e,t,n,i){if(t){var o={sourceCode:t,basePos:e};n(o),i.push.apply(i,o.decorations)}}function i(e){for(var t=void 0,n=e.firstChild;n;n=n.nextSibling){var i=n.nodeType;t=1===i?t?e:n:3===i&&W.test(n.nodeValue)?e:t}return t===e?void 0:t}function o(t,i){var o={},r;!function(){for(var n=t.concat(i),s=[],a={},l=0,c=n.length;l<c;++l){var u=n[l],d=u[3];if(d)for(var h=d.length;--h>=0;)o[d.charAt(h)]=u;var p=u[1],f=""+p;a.hasOwnProperty(f)||(s.push(p),a[f]=null)}s.push(/[\0-\uffff]/),r=e(s)}();var s=i.length,a=function(e){for(var t=e.sourceCode,l=e.basePos,u=[l,N],d=0,h=t.match(r)||[],p={},f=0,m=h.length;f<m;++f){var g=h[f],v=p[g],b=void 0,w;if("string"==typeof v)w=!1;else{var y=o[g.charAt(0)];if(y)b=g.match(y[1]),v=y[0];else{for(var _=0;_<s;++_)if(y=i[_],b=g.match(y[1])){v=y[0];break}b||(v=N)}w=v.length>=5&&"lang-"===v.substring(0,5),!w||b&&"string"==typeof b[1]||(w=!1,v=B),w||(p[g]=v)}var E=d;if(d+=g.length,w){var T=b[1],C=g.indexOf(T),S=C+T.length;b[2]&&(S=g.length-b[2].length,C=S-T.length);var I=v.substring(5);n(l+E,g.substring(0,C),a,u),n(l+E+C,T,c(I,T),u),n(l+E+S,g.substring(S),a,u)}else u.push(l+E,v)}e.decorations=u};return a}function r(e){var t=[],n=[];e.tripleQuotedStrings?t.push([D,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):e.multiLineStrings?t.push([D,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):t.push([D,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),e.verbatimStrings&&n.push([D,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var i=e.hashComments;if(i&&(e.cStyleComments?(i>1?t.push([k,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):t.push([k,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),n.push([D,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])):t.push([k,/^#[^\r\n]*/,null,"#"])),e.cStyleComments&&(n.push([k,/^\/\/[^\r\n]*/,null]),n.push([k,/^\/\*[\s\S]*?(?:\*\/|$)/,null])),e.regexLiterals){var r="/(?=[^/*])(?:[^/\\x5B\\x5C]|\\x5C[\\s\\S]|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+/";n.push(["lang-regex",new RegExp("^"+j+"("+r+")")])}var s=e.types;s&&n.push([R,s]);var a=(""+e.keywords).replace(/^ | $/g,"");return a.length&&n.push([x,new RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),null]),t.push([N,/^\s+/,null," \r\n\t"]),n.push([P,/^@[a-z_$][a-z_$@0-9]*/i,null],[R,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[N,/^[a-z_$][a-z_$@0-9]*/i,null],[P,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[N,/^\\[\s\S]?/,null],[A,/^.[^\s\w\.$@\'\"\`\/\#\\]*/,null]),o(t,n)}function s(e,t){function n(e){switch(e.nodeType){case 1:if(o.test(e.className))break;if("BR"===e.nodeName)i(e),e.parentNode&&e.parentNode.removeChild(e);else for(var t=e.firstChild;t;t=t.nextSibling)n(t);break;case 3:case 4:if(l){var a=e.nodeValue,c=a.match(r);if(c){var u=a.substring(0,c.index);e.nodeValue=u;var d=a.substring(c.index+c[0].length);if(d){var h=e.parentNode;h.insertBefore(s.createTextNode(d),e.nextSibling)}i(e),u||e.parentNode.removeChild(e)}}}}function i(e){function t(e,n){var i=n?e.cloneNode(!1):e,o=e.parentNode;if(o){var r=t(o,1),s=e.nextSibling;r.appendChild(i);for(var a=s;a;a=s)s=a.nextSibling,r.appendChild(a)}return i}for(;!e.nextSibling;)if(e=e.parentNode,!e)return;for(var n=t(e.nextSibling,0),i;(i=n.parentNode)&&1===i.nodeType;)n=i;u.push(n)}var o=/(?:^|\s)nocode(?:\s|$)/,r=/\r\n?|\n/,s=e.ownerDocument,a;e.currentStyle?a=e.currentStyle.whiteSpace:window.getComputedStyle&&(a=s.defaultView.getComputedStyle(e,null).getPropertyValue("white-space"));for(var l=a&&"pre"===a.substring(0,3),c=s.createElement("LI");e.firstChild;)c.appendChild(e.firstChild);for(var u=[c],d=0;d<u.length;++d)n(u[d]);t===(0|t)&&u[0].setAttribute("value",t);var h=s.createElement("OL");h.className="linenums";for(var p=Math.max(0,t-1|0)||0,d=0,f=u.length;d<f;++d)c=u[d],c.className="L"+(d+p)%10,c.firstChild||c.appendChild(s.createTextNode("")),h.appendChild(c);e.appendChild(h)}function a(e){var t=/\bMSIE\b/.test(navigator.userAgent),n=/\n/g,i=e.sourceCode,o=i.length,r=0,s=e.spans,a=s.length,l=0,c=e.decorations,u=c.length,d=0;c[u]=o;var h,p;for(p=h=0;p<u;)c[p]!==c[p+2]?(c[h++]=c[p++],c[h++]=c[p++]):p+=2;for(u=h,p=h=0;p<u;){for(var f=c[p],m=c[p+1],g=p+2;g+2<=u&&c[g+1]===m;)g+=2;c[h++]=f,c[h++]=m,p=g}u=c.length=h;for(var v=null;l<a;){var b=s[l],w=s[l+2]||o,y=c[d],_=c[d+2]||o,g=Math.min(w,_),E=s[l+1],T;if(1!==E.nodeType&&(T=i.substring(r,g))){t&&(T=T.replace(n,"\r")),E.nodeValue=T;var C=E.ownerDocument,S=C.createElement("SPAN");S.className=c[d+1];var I=E.parentNode;I.replaceChild(S,E),S.appendChild(E),r<w&&(s[l+1]=E=C.createTextNode(i.substring(g,w)),I.insertBefore(E,S.nextSibling))}r=g,r>=w&&(l+=2),r>=_&&(d+=2)}}function l(e,t){for(var n=t.length;--n>=0;){var i=t[n];z.hasOwnProperty(i)?window.console&&console.warn("cannot override language handler %s",i):z[i]=e}}function c(e,t){return e&&z.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),z[e]}function u(e){var n=e.langExtension;try{var i=t(e.sourceNode),o=i.sourceCode;e.sourceCode=o,e.spans=i.spans,e.basePos=0,c(n,o)(e),a(e)}catch(e){"console"in window&&console.log(e&&e.stack?e.stack:e)}}function d(e,t,n){var i=document.createElement("PRE");i.innerHTML=e,n&&s(i,n);var o={langExtension:t,numberLines:n,sourceNode:i};return u(o),i.innerHTML}function h(e){function t(e){return document.getElementsByTagName(e)}function n(){for(var t=window.PR_SHOULD_USE_CONTINUATION?d.now()+250:1/0;h<r.length&&d.now()<t;h++){var o=r[h],a=o.className;if(a.indexOf("prettyprint")>=0){var l=a.match(f),c;!l&&(c=i(o))&&"CODE"===c.tagName&&(l=c.className.match(f)),l&&(l=l[1]);for(var m=!1,g=o.parentNode;g;g=g.parentNode)if(("pre"===g.tagName||"code"===g.tagName||"xmp"===g.tagName)&&g.className&&g.className.indexOf("prettyprint")>=0){m=!0;break}var v=!!o.className.match("processed");if(!m&&!v){var b=o.className.match(/\blinenums\b(?::(\d+))?/);b=!!b&&(!b[1]||!b[1].length||+b[1]);var w=o.innerHTML.match(/<\s?br\s?/i)||o.innerHTML.match("\n");b&&w?s(o,b):o.removeClassName("linenums"),p={langExtension:l,sourceNode:o,numberLines:b},u(p),o.className+=" processed",o.style.paddingLeft="10px"}}}h<r.length?setTimeout(n,250):e&&e()}for(var o=[t("pre"),t("code"),t("xmp")],r=[],a=0;a<o.length;++a)for(var l=0,c=o[a].length;l<c;++l)r.push(o[a][l]);o=null;var d=Date;d.now||(d={now:function(){return+new Date}});var h=0,p,f=/\blang(?:uage)?-([\w.]+)(?!\S)/,m=/\bprettyprint\b/;n()}function p(e){function t(e){if(3==e.nodeType)n.push(e);else{e.tagName.match("LI")?n.push(document.createElement("BR")):e.tagName.match("SPAN")&&e.className.match("rangySelectionBoundary")&&n.push(e);for(var i=0,o=e.childNodes.length;i<o;++i)t(e.childNodes[i])}}var n=[],i=/^\s*$/;t(e);for(var o="",r="",s=!1,a,l=0;l<n.length;l++){var c=n[l];c.tagName&&c.tagName.match("BR")&&l>0?s?r+="\n":o+="\n":c.tagName&&c.tagName.match(/SPAN/i)?(a=c,s=!0):c.nodeType?s?r+=c.textContent:o+=c.textContent:s?r+=c:o+=c}var u=document.createTextNode(o),d=document.createTextNode(r);e.innerText="",e.appendChild(u),e.appendChild(a),e.appendChild(d),e.removeClassName("processed"),e.style.padding="10px",
e.className.match("linenums")&&(e.style.paddingLeft="50px")}var f=["break,continue,do,else,for,if,return,while"],m=[f,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],g=[m,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],v=[g,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],b=[g,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],w=[b,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],y="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",_=[g,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],E="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",T=[f,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],C=[f,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],S=[f,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],I=[v,w,_,E+T,C,S],O=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,D="str",x="kwd",k="com",R="typ",P="lit",A="pun",N="pln",M="tag",L="dec",B="src",K="atn",F="atv",H="nocode",j="(?:^^\\.?|[+-]|\\!|\\!=|\\!==|\\#|\\%|\\%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|\\,|\\-=|\\->|\\/|\\/=|:|::|\\;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\@|\\[|\\^|\\^=|\\^\\^|\\^\\^=|\\{|\\||\\|=|\\|\\||\\|\\|=|\\~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*",W=/\S/,$=r({keywords:I,hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),z={};l($,["default-code"]),l(o([],[[N,/^[^<?]+/],[L,/^<!\w[^>]*(?:>|$)/],[k,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[A,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),l(o([[N,/^[\s]+/,null," \t\r\n"],[F,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[M,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[K,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[A,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),l(o([],[[F,/^[\s\S]+/]]),["uq.val"]),l(r({keywords:v,hashComments:!0,cStyleComments:!0,types:O}),["c","cc","cpp","cxx","cyc","m"]),l(r({keywords:"null,true,false"}),["json"]),l(r({keywords:w,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:O}),["cs"]),l(r({keywords:b,cStyleComments:!0}),["java"]),l(r({keywords:S,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),l(r({keywords:T,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),l(r({keywords:E,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),l(r({keywords:C,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),l(r({keywords:_,cStyleComments:!0,regexLiterals:!0}),["js"]),l(r({keywords:y,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),l(o([],[[D,/^[\s\S]+/]]),["regex"]),window.unPrettifyOne=p,window.prettyPrintOne=d,window.prettyPrint=h,window.PR={createSimpleLexer:o,registerLangHandler:l,sourceDecorator:r,PR_ATTRIB_NAME:K,PR_ATTRIB_VALUE:F,PR_COMMENT:k,PR_DECLARATION:L,PR_KEYWORD:x,PR_LITERAL:P,PR_NOCODE:H,PR_PLAIN:N,PR_PUNCTUATION:A,PR_SOURCE:B,PR_STRING:D,PR_TAG:M,PR_TYPE:R}}()},function(e,t,n){var i,o;i=[n(2),n(5),n(6),n(700),n(443),n(384)],o=function(e,t,n,i,o,r){var s=function(s){function a(e){var n,i;n=document.createElement("div"),i=document.createElement("a"),i.href="#",i.className="btn btn-danger abort",i.innerHTML=t.utl("html.weebly.libraries.weebly_uploader_ajax_progress_3"),i.addEventListener("click",function(){u.abort()},!1);var o=document.createElement("span");return o.className="upload-status",o.innerHTML=e+" / "+h.length,n.appendChild(g.render()),n.appendChild(o),n.appendChild(i),n}function l(e){if(e instanceof Array){h.push.apply(h,e);for(var t=0;t<e.length;t++)u.send(e[t])}else h.push(e),u.send(e)}function c(e,t){"function"==typeof e&&e(t)}var u,d={action:"",parameters:{}},h=[],p=0,f=0,m,g;return s=s||{},s=e.extend(e.clone(d),s),g=new i,m=new o,u=new r({action:s.action,parameters:s.parameters,abort:function(e){c(s.abort,e),m.clearAll(),window.updateList(window.currentPage)},error:function(e){"function"==typeof s.error?s.error.apply(this,arguments):window.errFunc(e)},progress:function(e){if(c(s.progress,e),e.lengthComputable){var t=e.loaded/e.total;t=(t+p)/(h.length||1),g.progress(100*t)}},load:function(e){c(s.load,e),h.length>++p?m.next():(m.say({title:t.utl("html.weebly.libraries.weebly_uploader_ajax_progress_1"),body:a(h.length),duration:500,now:!0}),n.execute("xhrUploading:set",null))},loadstart:function(e){c(s.loadstart,e),m.say({title:t.utl("html.weebly.libraries.weebly_uploader_ajax_progress_2"),body:a(f++),duration:9999999})},success:function(e){c(s.success,e)}}),{setParameters:function(e){return u.setParameters(e),this},send:function(e){return l(e),this}}};return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(5),n(1),n(48),n(2)],o=function(e,t,n,i){e.Analytics=e.Analytics||{trackers:{}};var o,r={getGA:function(){var e=window.ga,t=window.gaTrackingId;return"undefined"!=typeof t&&"undefined"!=typeof e?e:function(){}},getWeeblyGA:function(){var t=window[e.Analytics.trackers.wGA];return"undefined"!=typeof t?function(){t.push(Array.prototype.slice.call(arguments))}:function(){}},getSP:function(){var t=window[e.Analytics.trackers.wSP];return"undefined"!=typeof t?function(){t.apply(this,arguments)}:function(){}},getKeen:function(){var e=window.Keen;return"undefined"!=typeof e?function(){e.addEvent.apply(e,arguments)}:function(){}},getMixpanel:function(){var e=window.mixpanel&&window.mixpanel.wsite;return"undefined"!=typeof e?function(){e.track.apply(e,arguments)}:function(){}},getIdPrefix:function(){return o?o:(o="",e.Analytics.user_id&&(o=e.Analytics.user_id),e.Analytics.site_id&&(o+=":"+e.Analytics.site_id),o)},fireTrackingCode:function(e,i){var o=t("#tracking-pixel-"+e);if(o.length){var r=t('<iframe src="about:blank" style="width: 0; height: 0; border: none; overflow: hidden;"/>').appendTo("body"),s=n.htmlDecode(o.html());i&&(s=s.replace(/{txid}/g,i.get("site_order_id")),s=s.replace(/{tax}/g,i.get("order_tax_total")),s=s.replace(/{shipping}/g,i.get("order_shipping_subtotal")),s=s.replace(/{subtotal}/g,i.get("order_subtotal")),s=s.replace(/{total}/g,i.get("order_total")));var a="<!DOCTYPE html><head></head><body>"+s+"</body></html>";setTimeout(function(){var e=r[0].contentDocument;e.open().write(a),e.close()},500)}},trackPageView:function(e,t){var n=this.getGA(),i=this.getWeeblyGA(),o=this.getSP(),r=this.getKeen(),s=this.getMixpanel();n("send","pageview",{page:e,title:t}),i("_trackPageview",e,t),o("trackPageView",t),r("wsite-views",{title:t}),s("wsite-views",{title:t})},trackTransaction:function(e){var t=this.getGA(),n=this.getSP(),i=this.getKeen(),o=this.getMixpanel(),r={id:e.get("site_order_id"),revenue:e.get("order_total"),shipping:e.get("order_shipping_total"),tax:e.get("order_tax_total")};"undefined"!=typeof window.gaAffiliation&&(r.affiliation=window.gaAffiliation),t("require","ecommerce","ecommerce.js"),t("ecommerce:addTransaction",r),n("addTrans",r.id,null,r.revenue,r.tax,r.shipping),i("wsite-order",{order:r}),o("wsite-order",{order:r});var s=e.get("items");s.each(function(e){var r={id:e.get("site_order_id"),name:e.get("name"),sku:e.get("sku"),quantity:e.get("quantity"),price:e.get("total_price")/e.get("quantity")};t("ecommerce:addItem",r),n("addItem",e.get("site_order_id"),e.get("site_product_id")+"-"+e.get("site_product_sku_id"),e.get("name"),e.get("sku"),e.get("total_price")/e.get("quantity"),e.get("quantity")),i("wsite-order-items",{item:r}),o("wsite-order-items",{item:r})}),t("ecommerce:send"),n("trackTrans")},viewProductDetail:function(e){e.list="product_detail",this.addEnhancedImpressionContext(e),this.addEnhancedProductContext(e),this.trackEcommerceAction("detail",{list:"product_detail"})},trackAddToCart:function(e,t,n){this.trackCartModification("add",e,t,n)},trackRemoveFromCart:function(e,t,n){this.trackCartModification("remove",e,t,n)},trackCartModification:function(e,t,n,i){t&&(i.list=t,n.list=t),this.addEnhancedProductContext(n),this.trackEcommerceAction(e,i)},trackCheckoutProgress:function(e,t,n){this.addProductContextsForOrder(n),this.trackEcommerceAction("checkout",{site_order_id:n.get("site_order_id"),revenue:n.get("order_total"),tax:n.get("order_tax_total"),shipping:n.get("order_shipping_total"),step:e,list:t})},trackCheckoutOption:function(e,t,n,i){this.trackEcommerceAction("checkout_option",{site_order_id:i.get("site_order_id"),revenue:i.get("order_total"),tax:i.get("order_tax_total"),step:e,option:n,list:t})},addProductContextsForOrder:function(e){var t=this;e.get("items").each(function(e){t.addEnhancedProductContext({site_product_id:e.get("site_product_id"),site_product_sku_id:e.get("site_product_sku_id"),name:e.get("name"),optionshash:e.get("options"),price:e.get("current_price"),quantity:e.get("quantity")})})},addEnhancedImpressionContext:function(e){var t=this.getSP()},trackEcommerceNativePaymentCheckoutStarted:function(e,t){var n=this.getSP();t.site_order_id&&(t.id=this.getIdPrefix()+":"+t.site_order_id),n("trackStructEvent",e,"start_checkout",null,t.id,null)},trackEcommerceABTestSegment:function(e,t,n){var i=this.getSP();n.site_order_id&&(n.id=this.getIdPrefix()+":"+n.site_order_id),i("trackStructEvent","ab_segment",e,t,n.id,null)},trackEcommerceCheckoutInstrument:function(e,t){var n=this.getSP();t.site_order_id&&(t.id=this.getIdPrefix()+":"+t.site_order_id),n("trackStructEvent","commerce","checkout","instrument",t.id,e)},trackNativePaymentError:function(e,t){var n=this.getSP();n("trackStructEvent","native_payment","error",e||"",this.getIdPrefix()+":"+t,null)},trackClosedNativePayment:function(e){var t=this.getSP();t("trackStructEvent","native_payment","user_closed","",this.getIdPrefix()+":"+e,null)},trackEcommerceAction:function(e,t){var n=this.getSP(),o=["click","detail","add","remove","checkout","checkout_option","purchase","refund","promo_click","view"];i.contains(o,e)||(e="view"),t&&(t.site_order_id&&(t.id=this.getIdPrefix()+":"+t.site_order_id),n("addEnhancedEcommerceActionContext",t.id||"","",t.revenue||"",t.tax||"",t.shipping||"",t.coupon||"",t.list||"",t.step||"")),n("trackEnhancedEcommerceAction",e)},addEnhancedProductContext:function(e){var t=this.getSP();e.optionshash&&(e.variant=i.map(e.optionshash,function(e){return e}).join("/")),e.site_product_id&&(e.id=this.getIdPrefix()+":"+e.site_product_id),e.site_product_sku_id&&(e.id+=":"+e.site_product_sku_id),t("addEnhancedEcommerceProductContext",e.id||"",e.name||"",e.list||"",e.brand||"",e.category||"",e.variant||"",e.price||"",e.quantity||"",e.coupon||"",e.position||"")}};return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(524),n(523),n(525),n(526),n(521),n(515),n(302),n(147),n(192),n(290)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){function h(e){return t("<div>",{id:"wsite-com-issue-overlay",append:function(){return[t("<div>",{class:"close-overlay"}),t("<p>",{class:"warning-message",html:e})]},appendTo:"body",click:function(){t(this).remove()}})}function p(t,n,i){var o=t.popover({content:n?n:e.stl("javascript.commerce.site.view.ProductPageView_5"),trigger:"manual",placement:"top",container:"body"}).popover("show");return i&&window.setTimeout(function(){o.popover("hide")},i),o}var f={el:null,$el:null,selectors:{variationData:null,productElementContainer:null,productPageContainer:null,siteProductIdElement:null,productTitle:null},options:{salePriceClass:null,nonSalePriceClass:null,soldOutPriceClass:null,priceRangeClass:null,unavailablePriceClass:null},ui:{},variationData:[],initialize:function(){this.initializeUI(),a.initialize(this.buy.bind(this)),this.$el.length&&(this.initializeVariations(),this.variationData.length&&this.update(),c.viewProductDetail({site_product_id:t(this.selectors.siteProductIdElement).attr("data-id"),name:t(this.selectors.productTitle).eq(0).text().trim()}))},initializeUI:function(){this.$el=t(this.el),this.$el.length&&(this.el=this.$el[0],n.each(this.ui,function(e,t){this.ui[t]=this.$el.find(e)},this),t.event.trigger("viewproduct",[t(this.selectors.siteProductIdElement).attr("data-id")]))},initializeVariations:function(){var e=this.$el.find(this.selectors.variationData)[0];this.variationData=e?JSON.parse(e.value):[];var n,a=this;this.ui["option-groups"].each(function(e,l){switch(l.getAttribute("data-type")){case"color":n=new o;break;case"radio":n=new r;break;case"text":n=new s;break;case"dropdown":default:n=new i}n.initialize({el:l,onChange:function(e){a.update.apply(a,arguments)}}),t(l).data("renderer",n)})},updateImage:function(){},update:function(t){t&&(this.ui["add-to-cart"]&&this.ui["add-to-cart"].popover("destroy"),t.$el?t.$el.popover("destroy"):n.each(t,function(e,t){this.$el.find('[data-option-name="'+t+'"]').popover("destroy")},this));var i=this.getValues(),o=this.getCurrentRecord(i),r=n.pluck(this.variationData,"options");if(this.updateAvailability(this.ui["option-groups"],r,i),o){this.ui["price-area"].removeClass(),this.options.salePriceClass&&this.ui["price-area"].toggleClass(this.options.salePriceClass,!n.isNull(o.sale_price)),this.options.nonSalePriceClass&&this.ui["price-area"].toggleClass(this.options.nonSalePriceClass,n.isNull(o.sale_price));var s=u.formatCurrency(o.price,d.customerLocale,d.storeCurrency);return this.ui["price-amount"].text(u.formatCurrency(o.price,d.customerLocale,d.storeCurrency)),this.ui["price-sale-amount"].text(n.isNull(o.sale_price)?"":u.formatCurrency(o.sale_price,d.customerLocale,d.storeCurrency)),0===o.inventory&&this.ui["price-area"].addClass(this.options.soldOutPriceClass),this.ui["add-to-cart"].toggleClass("wsite-com-product-disabled",0===o.inventory).attr("tabindex",0===o.inventory?-1:0),this.updateImage(o),o}var a=this.getAvailableOptions(i,this.variationData);if(0===a.length)this.ui["price-area"].removeClass().addClass(this.options.unavailablePriceClass),this.ui["inventory-message"]&&this.ui["inventory-message"].text(e.stl("javascript.commerce.site.view.ProductPageView_4")),this.ui["price-amount"].empty(),this.ui["price-sale-amount"].empty();else{var l=n.find(a,function(e){return!n.isEmpty(e.image_order)});void 0!==l&&this.updateImage({image_order:l.image_order}),this.ui["price-area"].removeClass().addClass(this.options.priceRangeClass)}return null},buy:function(i,o){var r=t(i.currentTarget),s=this;i.stopPropagation(),i.preventDefault();var a=t.Deferred().reject().promise();if(window.inEditor&&window.inEditor())return a;var l=r.closest(this.selectors.productElementContainer),u=!0;if(l.length||(u=!1,l=r.closest(this.selectors.productPageContainer)),l.find(".wsite-com-product-option").popover("destroy"),r.popover("destroy"),r.hasClass("wsite-soldout-product-button"))return p(r),a;if(this.ui.options&&!u){var d=this.getAllValues(),f=this.getUnmatchedValues(d);f.forEach(function(t){l.find('[data-option-name="'+t+'"]').popover({content:e.stl("javascript.commerce.site.view.ProductPageView_6",t),trigger:"manual",placement:s.placeOptionPopover,container:"body"}).popover("show")})}var m;if(u?(m={price:parseFloat(r.data("price")),sale_price:r.data("sale-price")?parseFloat(r.data("sale-price")):null,site_product_sku_id:r.data("site-product-sku-id"),site_product_id:r.data("site-product-id")},0===r.data("sale-price")&&(m.sale_price=0)):m=1===this.variationData.length?this.variationData[0]:this.getCurrentRecord(this.getValues(),this.variationData),!m)return a;if(0===m.inventory)return p(r),a;if(r.hasClass("wsite-com-product-disabled"))return a;var g=null!==m.sale_price&&void 0!==m.sale_price?m.sale_price:m.price;if(null===g||void 0===g)return a;m.site_product_id=m.site_product_id||t(this.selectors.siteProductIdElement).attr("data-id");var v;if(v=u?1:this.ui.quantity.val(),v<=0)return a;var b=!1;if(m.custom_options=m.custom_options||{},o&&o.length&&t.each(o,function(e,n){var i=s.validateTextInput(n);t(n).siblings(".text-option-error-message").text(i),i.length&&(b=!0),m.custom_options[n.getAttribute("name")]=n.value}),b)return a;var w=r.find(".wsite-button-inner"),y=w.html();return e.Commerce.RPC.Checkout.addItem(m.site_product_id,m.site_product_sku_id,v,m.custom_options).then(function(i){if(!i.success)return i.data&&i.data.has_payment===!1?h(i.message):p(r,i.message,3e3),w.html(y),r.removeClass("wsite-disabled"),a;var o={};return n.each(m.options,function(e,t){o[t]=e.choices}),e.Commerce.RPC.Checkout.getMiniCart().then(function(n){var r=e.Commerce.hasCart?"product_detail":"buy_now";return c.trackAddToCart(r,{site_product_id:m.site_product_id,site_product_sku_id:m.site_product_sku_id,name:t(s.selectors.productTitle).eq(0).text().trim(),optionshash:o,quantity:v,price:g},{site_order_id:n.data.order.site_order_id}),t.event.trigger("addtocart",[m.site_product_id]),t.Deferred().resolve(i,!1,n).promise()})}).fail(function(e,n){var i=t.parseJSON(n.responseText);return i.error.code!=-1&&(h(e),w.html(y),r.removeClass("wsite-disabled")),a})},updateAvailability:function(e,i,o){var r=this,s,a,l;e.each(function(e,c){s={},l=c.getAttribute("data-option-name"),a=n.omit(o,l),n.each(i,function(e){r.objectContains(e,a)&&n.each(e,function(e,t){if(t===l){var n="text"===e.renderer?o[l]||"":e.choices;s[n]={available:!0,options:e}}})}),t(c).data("renderer").update(s)})},getValues:function(){var e;e=this.ui.options.is("form")?this.ui.options:this.ui.options.find("[name]");var t=e.serializeArray(),i={};return n.each(t,function(e){i[e.name]=e.value}),i},getAllValues:function(){var e={};this.ui.options.find("[name]").each(function(){e[this.name]||(e[this.name]=[]),e[this.name].push(this)});var i={};return n.each(e,function(e,n){i[n]=null;var o=t(e).serializeArray();o.length&&(i[n]=o[0].value)}),i},getCurrentRecord:function(e,t){var i;return this.variationData=t||this.variationData,n.each(this.variationData,function(t){var o={};if(t.custom_options={},n.each(t.options,function(n,i){o[i]=n.choices,"text"!==n.renderer||s.prototype.validateTextOption(n,e[i]).length||(o[i]=t.custom_options[i]=e[i])}),n.isEqual(o,e))return i=t,!1}),i},getUnmatchedValues:function(e){var t=Object.keys(e);return n.each(this.variationData,function(i){n.each(i.options,function(n,i){var o=t.indexOf(i);if(o!==-1){var r=n.choices;"text"!==n.renderer||s.prototype.validateTextOption(n,e[i]).length||(r=e[i]),e[i]===r&&t.splice(o,1)}})}),t},getAvailableOptions:function(e,t){this.variationData=t||this.variationData;var i=n.filter(this.variationData,function(t){return n.every(e,function(e,n){return"text"==t.options[n].renderer||""==e||e==t.options[n].choices})});return i},validateTextInput:function(t){var n=!!t.getAttribute("data-required"),i=t.getAttribute("data-max-length");if(void 0===t.value);else{if(n&&0===t.value.length)return e.stl("javascript.commerce.site.view.BaseProductPageView_7");if(i&&t.value.length>i)return e.stl("javascript.commerce.site.view.BaseProductPageView_8",i)}return""},objectContains:function(e,t){var i=!0;return n.each(e,function(e,n){t[n]&&"text"!==e.renderer&&t[n]!==e.choices&&(i=!1)}),i}};return f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2)],o=function(e,t,n){e.Commerce.Site.Category||(e.Commerce.Site.Category={}),e.Commerce.Site.Category.View||(e.Commerce.Site.Category.View={});var i=e.Commerce.Site.Category,o=i.View;return i.initialize=function(){o.ProductList.initialize();var e=!1;t("body.wsite-mobile").length>0&&t(document).resize(function(){e&&(o.ProductList.clearHeights(),o.ProductList.setHeights()),e=!0})},o.ProductList={Pager:{page:0,onChange:function(n,r,s){var a=t("#wsite-com-category-product-group-pagelimit").val();s=void 0===s?this.page:s,n.stopPropagation(),n.preventDefault(),e.Commerce.RPC.Category.generateProductList(r,s,a).done(function(n){t("#wsite-com-category-product-group").replaceWith(n.content),t("#wsite-com-category-product-group-pagelist").html(n.pagelist),o.ProductList.total=n.total,o.ProductList.offset=s*a,o.ProductList.setHeights(),t("body").scrollTop(0),e.Commerce&&e.Commerce.Editor&&"function"==typeof i.onPageChange&&i.onPageChange(s)})}},initialize:function(){o.ProductList.offset=0,this.setHeights();var e=t("#wsite-com-category-id").val();t("#wsite-com-category-product-group-pagelist").off("click.pagechange").on("click.pagechange","a",function(t){var n=t.target,i=n.getAttribute("data-page");o.ProductList.Pager.onChange(t,e,i)})},setHeights:function(){for(var e=t(".wsite-com-category-product-featured,.wsite-com-category-product"),n=t(".wsite-com-category-subcategory-featured,.wsite-com-category-subcategory"),i="#wsite-com-category-product-group",o=".wsite-com-category-subcategory-group",r,s,a=[e,n],l=[i,o],c=0;c<a.length;c++){var u=a[c],d=l[c];if(r=[],s=-1,u.length){var h=Math.round(t(d).width()/u.width());if(h>1){for(var p=0;p<u.length;p++)p%h==0&&s++,r[s]=Math.max(u.eq(p).height(),r[s]||0);for(var f=0;f<r.length;f++)u.slice(h*f,h*(f+1)).each(function(){t(this).height(r[f])})}}}},clearHeights:function(){t(".wsite-com-category-product-featured,.wsite-com-category-product").each(function(){t(this).css("height","")})}},t(document).ready(i.initialize),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(303),n(520),n(522),n(306)],o=function(e,t,n,i,o,r,s){var a=function(){};return a.prototype=Object.create(i),a.prototype=n.extend(a.prototype,{el:"#wsite-com-product-gen",selectors:{variationData:"#wsite-com-product-view-variation-data",productElementContainer:".wsite-product, .product",productPageContainer:"#wsite-com-product-info",siteProductIdElement:"#wsite-com-product-gen",productTitle:"#wsite-com-product-title"},options:{salePriceClass:"wsite-com-product-show-price-on-sale",priceRangeClass:"wsite-com-product-show-price-range",unavailablePriceClass:"wsite-com-product-show-price-unavailable",nonSalePriceClass:""},initialize:function(){var e=this;i.initialize.apply(this,arguments);var t=this.$el.length;t&&(o.initialize(this.$el),r.initialize(this.$el),this.$el.find("#wsite-com-product-add-to-cart").on({click:this.buy.bind(this),keypress:function(t){32!==t.which&&13!==t.which||e.buy(t)}}))},ui:{"images-strip":"#wsite-com-product-images-strip",sku:"#wsite-com-product-sku","sku-value":"#wsite-com-product-sku-value",options:"#wsite-com-product-options","option-groups":"#wsite-com-product-options .wsite-com-product-option","price-area":"#wsite-com-product-price-area",price:"#wsite-com-product-price","price-sale":"#wsite-com-product-price-sale","price-unavailable":"#wsite-com-product-price-unavailable","price-amount":"#wsite-com-product-price .wsite-com-product-price-amount","price-sale-amount":"#wsite-com-product-price-sale .wsite-com-product-price-amount","inventory-legacy-message":"#wsite-com-product-inventory-message","inventory-out-of-stock-message":"#wsite-com-product-inventory-out-of-stock-message","inventory-low-stock-message":"#wsite-com-product-inventory-low-stock-message",quantity:"#wsite-com-product-quantity-input","add-to-cart":"#wsite-com-product-add-to-cart","on-sale":"#wsite-com-product-on-sale"},updateImage:function(e){var t=e.image_order?this.ui["images-strip"].find("#wsite-com-product-images-secondary-"+e.image_order[0]):this.ui["images-strip"].children(":first-child");t.trigger("click")},update:function(){var t=i.update.apply(this,arguments),o="",r="",s="";if(t){0===t.inventory?(0===this.ui["inventory-out-of-stock-message"].length&&(o=e.stl("javascript.commerce.site.view.ProductPageView_1")),r=e.stl("ecommerce.common.out_of_stock")):t.inventory<=5&&(0===this.ui["inventory-low-stock-message"].length&&(o=e.stl("javascript.commerce.site.view.ProductPageView_2",t.inventory)),s=e.stl("ecommerce.common.low_stock_with_count",t.inventory)),this.ui["inventory-legacy-message"].text(o),this.ui["inventory-out-of-stock-message"].text(r),this.ui["inventory-low-stock-message"].text(s);var a=this.ui.quantity.val(),l=a>t.inventory||0===t.inventory?t.inventory:parseInt(a)||1;this.ui.quantity.toggleClass("wsite-com-product-disabled",0===t.inventory).attr("max",t.inventory).attr("disabled",0===t.inventory).val(l),void 0===t.inventory&&this.ui.quantity.removeAttr("max"),this.ui["on-sale"].toggleClass("wsite-com-product-on-sale-visible",!n.isNull(t.sale_price)),this.ui.sku.toggleClass("wsite-com-product-sku-none",!t.sku),this.ui["sku-value"].text(t.sku)}else{this.ui.sku.toggleClass("wsite-com-product-sku-none",!0),this.ui["sku-value"].empty(),this.ui["add-to-cart"].toggleClass("wsite-com-product-disabled",!0),this.ui.quantity.toggleClass("wsite-com-product-disabled",!0).attr("max",0).attr("disabled",!0).val(0);var c=n.pluck(this.variationData,"inventory"),u=n.reduce(c,function(e,t){return e+t},0),d=n.min(c);0===u?(0===this.ui["inventory-out-of-stock-message"].length&&(o=e.stl("javascript.commerce.site.view.ProductPageView_1")),r=e.stl("ecommerce.common.out_of_stock")):d<=5&&(s=e.stl("ecommerce.common.low_stock")),this.ui["inventory-legacy-message"].text(o),this.ui["inventory-out-of-stock-message"].text(r),this.ui["inventory-low-stock-message"].text(s);var h=n.pluck(this.variationData,"price"),p=n.max(h),f=n.min(h),m=n.pluck(this.variationData,"sale_price");if(this.ui["on-sale"].toggleClass("wsite-com-product-on-sale-visible",Boolean(m.length)),n.compact(m).length){var g=p==f&&p>n.max(m);g&&this.ui["price-area"].removeClass().addClass("wsite-com-product-show-price-range-on-sale")}}},placeOptionPopover:function(e,n){return n=t(n),e=t(e),e.appendTo(this.options.container),n.offset().left>=e.width()?"left":"bottom"},buy:function(){i.buy.apply(this,arguments).done(function(t,n,i){t.success&&(e.Commerce.hasCart?(s.cart.populate(t.data.mini_cart),s.cart.showCart(!0),s.cart.scrollToCart()):window.location.href=i.data.checkout_url)})}}),t(document).ready(function(){window.inEditor&&window.inEditor()||window.inPreview||(new a).initialize()}),a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(9),n(2),n(4),n(387),n(518),n(147),n(192),n(230)],o=function(e,t,n,i,o,r,s,a,l){var c=n.View.extend({id:"wsite-mini-cart",className:"wsite-cart-contents",initialize:function(){t("body").append(this.$el),e.Commerce.RPC.Checkout?e.Commerce.RPC.Checkout.getMiniCart().done(this.populate.bind(this)):e.Commerce.RPC.Order&&e.Commerce.RPC.Order.getMiniCart().done(this.populate.bind(this)),this.$el.hide(),this.bindCartNav();var n=this;t(window).on("resize",function(){n.positionCart()})},populate:function(t){var n;if(t.success){this.cart_template=this.cart_template||t.data.cart_template,this.item_template=this.item_template||t.data.cart_item_template,this.currency=this.currency||t.data.currency,t.data.checkout_url&&(this.checkout_url=t.data.checkout_url),this.item_empty_template=this.item_empty_template||t.data.cart_item_empty_template,this.order=t.data.order,this.OrderItems&&(n=i.reduce(t.data.order.items,function(e,t){return e+t.quantity},0),this.OrderItems.off(),e.events.trigger("minicart:add",n),e.events.trigger("minicart:change",n)),this.OrderItems=new r,this.OrderItems.on("reset",this.render,this),this.OrderItems.on("change",function(){this.render(),this.showCart(),n=window.getCartCount(),e.events.trigger("minicart:remove",n),e.events.trigger("minicart:change",n)},this);var o=this;window.getCartCount=function(){for(var e=0,t=0;t<o.OrderItems.length;t++)e+=o.OrderItems.at(t).get("quantity");return e},void 0!==window.refreshPublishedFlyoutMenus&&window.refreshPublishedFlyoutMenus(),this.OrderItems.reset(t.data.order.items),this.positionCart()}},hideCart:function(){var e=t("#wsite-nav-cart-a").parents(".wsite-nav-cart");this.$el.fadeOut(200),e.attr("id",""),this.cartPinned=!1},showCart:function(e){var n=this;this.cartPinned=this.cartPinned||e;var i=t("#wsite-nav-cart-a").parents(".wsite-nav-cart");if(this.$el.fadeIn(200),this.setEllipsis(),i.attr("id","active"),n.positionCart(),this.cartPinned){var o=function(e){var i=t(e.target);0!==i.parents("#wsite-mini-cart").length||i.is(".wsite-remove-button")?t(document).one("click",o):n.hideCart()};t(document).one("click",o)}},scrollToCart:function(){var e=t(".wsite-nav-cart");t(window).scrollTop()>e.offset().top?t("html, body").animate({scrollTop:e.offset().top-25},"slow"):t(window).scrollTop()+t(window).height()<e.offset().top+e.height()&&t("html, body").animate({scrollTop:e.offset().top+this.$el.height()+25},"slow")},positionCart:function(){var n=t("#wsite-nav-cart-a").parents(".wsite-nav-cart");if(n.length){var i=n.offset(),o=this.$el.offsetParent();if("undefined"!=typeof window.safeCumulativeOffset){var r=window.safeCumulativeOffset(o);i.left-=r.left,i.top-=r.top,i.top+=o.scrollTop(),i.left+=o.scrollLeft()}if(e.Menus&&e.Menus.inVerticalList(n,!0,"active")){this.$el.addClass("arrow-left");var s=i.top+n.outerHeight()/2-.2*this.$el.outerHeight(),a=i.left+n.outerWidth()+8;s=Math.max(s,0),a=Math.max(a,9)}else this.$el.addClass("arrow-top"),s=i.top+n.outerHeight()+8,n.offset().left+n.outerWidth()/2<.8*this.$el.outerWidth()?(this.$el.addClass("arrow-top-left"),a=i.left+n.outerWidth()/2-.2*this.$el.outerWidth()):(this.$el.removeClass("arrow-top-left"),a=i.left+n.outerWidth()/2-.8*this.$el.outerWidth()),s=Math.max(s,9),a=Math.max(a,0);this.$el.css({position:"absolute",left:a+"px",top:s+"px"})}},setEllipsis:function(){var e=this.$el,t=e.find(".wsite-product-description"),n=e.find(".wsite-product-option");n.hide();var i=t.width();t.width(i),n.show()},bindCartNav:function(){var e=this,n=window.getCartNavElement();if(!n)return void(window.reportCartNavElement=function(t){e.bindCartNav()});t(n).on("click",function(){return e.cartPinned?e.hideCart():e.showCart(!0),!1});var i=function(t){return"mouseleave"!==t.type||e.cartPinned?(window.clearTimeout(e.fadeTimeout),e.showCart()):(window.clearTimeout(e.fadeTimeout),e.fadeTimeout=window.setTimeout(function(){e.hideCart()},200)),!1};e.positionCart(),t(n).on("hover",i),this.$el.on("hover",i)},render:function(){t("#wsite-nav-cart-num").text(window.getCartCount()),this.$el.empty();var e=new s({collection:this.OrderItems,template:this.item_template,emptyTemplate:this.item_empty_template,currency:this.currency});this.$el.html(e.el);var n=this.checkout_url,i={price_number:a.formatCurrency(this.OrderItems.subtotal(),l.customerLocale,this.currency),checkout_url:n},r=o.render(this.cart_template,i);this.$el.append(r)}}),u={};return t(function(){window.inEditor&&window.inEditor()||window.inPreview||(n.$=t,u.cart=new c)}),u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(214),n(401)],o=function(e,t){var n=e.extend({model:t});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;
i=[n(214),n(215)],o=function(e,t){var n=e.extend({model:t});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,function(e,t,n){var i,o;i=[n(16)],o=function(e){return e.extend({useServerGeneratedDefaultsFor:"Coupon",get:function(t){return"shipping_method"==t?this.getRelated("shipping_method_ids","site_shipping_method_id",n(213)):"categories"==t?this.getRelated("category_ids","site_category_id",n(31)):"products"==t?this.getRelated("product_ids","site_product_id",n(42)):e.prototype.get.apply(this,arguments)},getActions:function(){return["delete"]}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(146)],o=function(e){var t=e.extend({});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(2),n(13),n(14),n(129),n(355),n(229),n(660),n(7),n(12),n(29),n(71),n(123),n(131)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){"use strict";var f="",m=null,g=Class.create(h,{control:null,afterRender:function($super){if(this.$sectionEl=e(this.section.generateSelector()),u.resizeEmptyMessage(this.$sectionEl,this.section.getHeight()),this.section.hasBackgroundEffects()){var t=this.section.getBackgroundEffects();d.applyBackgroundEffects(this.$sectionEl,t,!0)}n.chromeless||this.attachListeners(),this.section.generateSelector()===f&&(this.showEditMode(),this.control.hide()),$super()},unrender:function($super){$super(),this.detachListeners()},getWrapperClassNames:function($super){var e=[$super()];return this.section&&(this.section.hasBackgroundVideo()?e.push(c.SECTION_BACKGROUND_VIDEO_CLASS_NAME):this.section.hasBackgroundImage()?e.push(c.SECTION_BACKGROUND_IMAGE_CLASS_NAME):this.section.hasBackgroundColor()?e.push(c.SECTION_BACKGROUND_COLOR_CLASS_NAME):this.section.hasBackgroundGradient()&&e.push(c.SECTION_BACKGROUND_GRADIENT_CLASS_NAME)),e.join(" ")},initializeSpotlightResize:function(e){var t=e.parents("."+c.SECTION_WRAP_NAME);m=r.showSectionSpotlights(e),m.container.on("mouseup",".spotlight-bg",this.hideEditMode.bind(this)),i.vent.once("editor:spotlight:open",this.hideEditMode,this),a.destroy(e),a.initialize(e,{edgeParent:t,showResizeHandle:this.section.isBackgroundResizeable(),showResizeTipAbove:this.control&&this.control.options.preferBottom,onStart:function(){this.control&&this.control.hide()}.bind(this),onStop:function(e,n){var o;o=n.saveAutoHeight?{height:"auto"}:{height:n.size.height+"px"},this.section.setBaseStyle(o),this.control&&(this.control.show(),this.control.reposition(t)),i.vent.trigger("editor:elements:changed"),l.trigger("editor:elements:changed")}.bind(this),onResize:function(){m.reposition()}})},showEditMode:function(){f=this.section.generateSelector(),this.attachEditModeListeners(),this.initializeSpotlightResize(this.$sectionEl)},hideEditMode:function(){return this.section.generateSelector()!==f?e.Deferred().resolve():o.close("section:chooseSectionLayout").done(function e(){this.section&&a.destroy(this.$sectionEl),clearInterval(this.controlPositioningInterval),i.sectionDialog&&(i.sectionDialog.close(),this.control=null),m&&(m.destroy(),m=null),this.moveCopyDialog&&(this.moveCopyDialog.close(),this.moveCopyDialog=null),this.boundInitResize&&i.vent.off("pageRendered",this.boundInitResize),f="",this.detachEditModeListeners()}.bind(this)).fail(function t(){this.boundInitResize&&i.vent.off("pageRendered",this.boundInitResize),this.boundInitResize=function(){var t=e(this.section.generateSelector());this.initializeSpotlightResize(t),this.boundInitResize=null}.bind(this),i.vent.once("pageRendered",this.boundInitResize)}.bind(this))},attachListeners:function(){this.$sectionEl.on({"mouseup.section-area":function e(t){o.close("section:chooseSectionLayout"),u.shouldShowEditMode(t)&&this.showEditMode()}.bind(this),"mouseenter.section-area":function e(){this.$sectionEl.addClass("section-hover")}.bind(this),"mouseleave.section-area":function e(){this.$sectionEl.removeClass("section-hover")}.bind(this)})},detachListeners:function(){this.$sectionEl.off("mouseup"),this.detachEditModeListeners()},attachEditModeListeners:function(){l.on({"site:overlays:hide":this.hideEditMode,"editor:updateList":this.hideEditMode},this),i.vent.on({"editor:element:resize":t.throttle(this.hideEditMode,300),"editor:element:dragStart":this.hideEditMode,"editor:element:text:modify":this.hideEditMode,"editor:element:delete:after":this.hideEditMode,"editor:elements:options:show":this.hideEditMode},this)},detachEditModeListeners:function(){l.off(["site:overlays:hide","editor:updateList"].join(" "),null,this),i.vent.off(["editor:element:resize","editor:element:dragStart","editor:element:text:modify","editor:element:delete:after","editor:elements:options:show"].join(" "),null,this)},setStyle:function(e,t){this.section.set(t,{silent:!0}),this.applyStyle(this.section)},applyStyle:function(){var e=this.section.getBackgroundContent(),t=this.section.getBaseStyle()||{};if(u.clearSectionStyling(this.$sectionEl),this.$sectionEl.css(t),this.section.hasBackgroundVideo()){var n=e.background_url,o=e.encoding_done===!1,r=u.generateVideoStillImage(n,o),s=Boolean(this.$sectionEl.data("in-preview"));d.applyBackgroundVideo(this.$sectionEl,e,s),this.applyVideoStillImage(r),this.$sectionEl.addClass(c.SECTION_BACKGROUND_VIDEO_CLASS_NAME),i.vent.trigger("section:background:video:render")}else if(this.section.hasBackgroundImage())this.$sectionEl.addClass(c.SECTION_BACKGROUND_IMAGE_CLASS_NAME),i.vent.trigger("section:background:image:render",this.$sectionEl.attr("class"));else if(this.section.hasBackgroundColor())this.$sectionEl.css(e).addClass(c.SECTION_BACKGROUND_COLOR_CLASS_NAME);else if(this.section.hasBackgroundGradient()){var a=this.$sectionEl.attr("style"),h=a+p.generateCSS(e);this.$sectionEl.attr("style",h).addClass(c.SECTION_BACKGROUND_GRADIENT_CLASS_NAME)}if(this.section.hasBackgroundEffects()){var f=this.section.getBackgroundEffects();d.applyBackgroundEffects(this.$sectionEl,f,!0)}i.vent.trigger("editor:elements:changed"),l.trigger("editor:elements:changed")},clearSection:function(){this.removeAllElements()},initializeControlView:function(e){var t=new s(e);return t.on({"section:control:background:extend":this.onControlBackgroundExtend,"section:control:background:open":this.onControlBackgroundOpen,"section:control:layout:add":this.onControlLayoutAdd,"section:control:layout:change":this.onControlLayoutChange,"section:control:baseStyle:set":this.onControlBaseStyleSet,"section:control:remove":this.onControlRemove,"section:control:clear":this.onControlClear,"section:control:move":this.onControlMove},this),i.sectionDialog.show(t),t.reposition(this.$sectionEl),clearInterval(this.controlPositioningInterval),this.controlPositioningInterval=setInterval(function(){t.isClosed?clearInterval(this.controlPositioningInterval):t.reposition(this.$sectionEl)}.bind(this),c.SECTION_SPOTLIGHT_REPOSITION_INTERVAL),t},onControlBackgroundExtend:function(e){i.execute("themeBackground:extend",e)},onControlBaseStyleSet:function(e){this.section.setBaseStyle(e)},onControlLayoutAdd:function(){this.control.close(),this.chooseSectionLayout()},onControlLayoutChange:t.noop,onControlBackgroundOpen:t.noop,onControlRemove:t.noop,onControlClear:t.noop,onControlMove:t.noop});return g}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(13),n(25),n(101),n(200),n(98),n(67),n(7),n(28),n(170)],o=function(e,t,n,i,o,r,s,a){var l=Class.create(n,{tagName:"span",getInnerHTML:function(){var e=this.attrs;this.data||(this.data={});var t=this.data,n=t.isImage;if(t.type&&(n="image"===t.type&&t.image),n){var i=t.url;i&&!i.match("://")&&(i="/uploads/"+i);var o=t.link;t.type&&(i=t.image.editorUrl);var r="<img src='"+i+"' style='"+(e["max-width"]?"max-width:"+e["max-width"]+"px;":"")+(e["max-height"]?"max-height:"+e["max-height"]+"px;":"")+"'/>";return o&&(r="<a href='"+o+"' onclick='return false'>"+r+"</a>"),r}return"<table class='weebly-image-area-placeholder' style='width:"+(e["max-width"]||e["max-height"]||100)+"px;height:"+(e["max-height"]||e["max-width"]||100)+"px;'><tbody><tr><td><img src='/weebly/images/image_placeholder.png' /></td></tr></tbody></table>"},afterRender:function($super){$super();var e=this.el.down();"TABLE"==e.tagName?(e.observe("click",function(){r.hide(),this.chooseImage({type:"area",area_page_id:this.context.pageID||"",area_type:this.type,area_name:this.name,width:this.attrs["max-width"]||"",height:this.attrs["max-height"]||""})}.bind(this)),r.init(e,"Click to add image")):t.chromeless||this.renderToolbar()},chooseImage:function(e){a.request("chooseImage",e).done(function(e){this.data=e,this.rerender()}.bind(this))},renderToolbar:function(){var t=this,n=t.toolbar=new i({targetElement:t.el,parent:"_editor-ui"}),o=n.getInnerElement(),l=t.data;e(o).addClass("image-area-toolbar");var c=e("<span>",{class:"hover-toolbar-link"+(l.link?" hover-toolbar-link-pressed":""),appendTo:o}).on("click",function(e){e.stopPropagation(),n.hide(),r.hide(),a.request("linker:open",{remove:!0,existing:s.parseLinkString(l.image.link)}).done(function(e){e?l.image.link=e:delete l.image.link,t.save(),t.rerender()})}),u=e("<span>",{class:"hover-toolbar-remove",appendTo:o}).on("click",function(){r.hide(),t.data.type="text",t.save(),t.rerender()}),d=t.el,h=d.down("img"),p=e("<span>",{class:"hover-toolbar-edit",html:"Edit",prependTo:o}).on("click",function(){this.toolbar.hide(),r.hide();var e={mode:"area",imageEditorData:this.data,area:{page_id:this.context.pageID||"",type:this.type,name:this.name}};this.editImage(e)}.bind(this));c=c[0],p=p[0],u=u[0],r.init(c,_W.utl("javascript.editor-site-shared.build.areas.ImageArea_2")),r.init(p,_W.utl("javascript.editor-site-shared.build.areas.ImageArea_3")),r.init(u,_W.utl("javascript.editor-site-shared.build.areas.ImageArea_4"))},editImage:function(e){o.edit(e).done(function(e){this.data=e,this.rerender()}.bind(this))},unrender:function($super){$super(),this.toolbar&&(this.toolbar.destroy(),delete this.toolbar)}});return Weebly.ImageArea=l,n.register("image",l),l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(13),n(7),n(19),n(231),n(26),n(785),n(252),n(791),n(790),n(789),n(792),n(793),n(794),n(786),n(788),n(787)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b){var w=window.Class.create(r,{PROPERTIES_TO_PARSE:["IMAGEDATA","SEQUENCE"],models:null,initialize:function($super,e){$super(e),t.defaults(this,{models:[],maxPage:1}),n.compilePartial("elements/commerce-elements/pagination/pagination",f),n.compilePartial("elements/commerce-elements/pagination/show-more",m)},renderHTML:function($super,e){if(i.chromeless){var t,o,r,s=this.getContentField();this.models.length>0?(this.propertiesModel=this.propertiesToModel(s),this.propertiesModel.models=this.models,t=this.renderModels(s)):t=n.render(e),s.content=n.render(l,{ucfid:s.ucfid,contentHTML:t})}return $super()},afterRender:function($super,t,n){$super(t,n),this.$li=e(t),a.inEditorContext()||(this.propertiesModel||(this.propertiesModel=this.propertiesToModel(this.getContentField())),this.$initialPaginationEl=this.$li.find(".product-pagination").clone(),this.bindEventListeners())},unrender:function($super){$super(),a.inEditorContext()||s.removeListeners(this.$li)},mapProperties:function(t,n){var i=this.propertiesToModel(t);return i.models=this.models,this.models&&!this.shouldFetchModels(t,n)?e.Deferred().resolve(i):this.fetchModelsPage(i,0).then(function(e){return this.models=i.models=e,i}.bind(this))},fetchModelsPage:function(e,t){throw"Please override this method in subclasses"},renderModels:function(e){var i=this.propertiesModel.LAYOUT,o=this.propertiesModel.PAGINATIONOPTS,r="showMoreLink"===o,a=this.maxPage>1&&"singlerow"!==i;t.extend(this.propertiesModel,{show_pagination:a,show_more_link:r}),this.maxPage>1&&t.extend(this.propertiesModel,s.getPaginationData(1,this.maxPage));var l=this.renderLayout(this.propertiesModel);return n.render(c,t.extend({},this.propertiesModel,{layout_html:l}))},renderLayout:function(e){var t,i=e.LAYOUT;switch(e.models_html=this.renderModelsHtml(e),i){case"masonry":t=n.render(d,e);break;case"multiimage":t=n.render(u,e);break;case"singlerow":t=n.render(p,e);break;case"grid":default:t=n.render(h,e)}return t},renderModelsHtml:function(e){var t=e.INFOPLACEMENT,i;switch(t){case"above":case"left":i=n.render(g,e);break;case"over":case"hover":i=n.render(v,e);break;case"below":case"right":default:i=n.render(b,e)}return i},renderItemsPage:function(t,n){this.propertiesModel.models=n;var i=this.propertiesModel.LAYOUT,o=this.propertiesModel.SHOWSLIDESHOW,r=this.propertiesModel.PAGINATIONOPTS,a=t.find(".commerce-layout-wrapper"),l=t.find(".product-grid-single-row__wrapper"),c=e(this.renderLayout(this.propertiesModel)),u=t.find(".pagination__overlay");l.length?l.append(c.find(".product-grid__item")):"showMoreLink"===r?(a.children(":first").append(c.children()),t.find(".product-grid__more").removeClass("disabled"),u.hide()):(e("body, html").animate({scrollTop:t.offset().top-70+"px"},300),a.html(c),u.hide());var d="singlerow"===i||"grid"===i;o&&d&&s.bindSlideshowListener(t),"masonry"===i&&s.initializeMasonry(t)},bindEventListeners:function(){var e=this.propertiesModel.LAYOUT.toLowerCase();this.maxPage>1&&this.bindPaginationListeners();var t=this.propertiesModel.SHOWSLIDESHOW;!t||"grid"!==e&&"singlerow"!==e||s.bindSlideshowListener(this.$li),"singlerow"===e?s.assignRowScrollListener(this.$li,this.maxPage,this.paginationCallback.bind(this)):"masonry"===e&&this.propertiesModel.SHOWIMAGE&&s.initializeMasonry(this.$li),this.assignEmptyElementListener(this.getContentField())},bindPaginationListeners:function(){var e=this.propertiesModel.PAGINATIONOPTS;if("numberedPages"===e){var t=this.$li.find("[data-page]");t.eq(0).addClass("wsite-selected"),s.listenToPagination(this.$li,this.maxPage,this.paginationCallback.bind(this))}else"showMoreLink"===e&&s.assignShowMorePagination(this.$li,this.maxPage,this.paginationCallback.bind(this))},assignEmptyElementListener:function(e){this.models&&0!==this.models.length||this.$li.off("click.commerce-element",".empty-commerce-element").on("click.commerce-element",".empty-commerce-element",function(){this.openSequenceSelectDialog(e)}.bind(this))},afterAdd:function($super,e){$super(e),this.openSequenceSelectDialog(this.getContentField())},propertiesToModel:function(e){var n={};t.each(t.values(e.properties),function(e){var i=e.reference_property.match(/<!(.*?)!>/)[1];"true"===e.property_result||"false"===e.property_result?n[i]="true"===e.property_result:t.indexOf(this.PROPERTIES_TO_PARSE,i)>-1?n[i]=JSON.parse(e.property_result):n[i]=e.property_result}.bind(this));var i=n.LAYOUT;return n.is_multi_image="multiimage"===i,n.is_masonry="masonry"===i,n.can_view_slideshow=n.SHOWSLIDESHOW&&"multiimage"!==i&&"masonry"!==i,n}});return w}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(13),n(58),n(114),n(19),n(7),n(45)],o=function(e,t,n,i,o,r,s,a){var l=Class.create(i,{initialize:function($super,e,t){$super(e,t),this.context=t},afterRender:function($super,i,r){$super(i,r);var a=this;if(i=e(i),t.each(this.children,function(e){var t=i.find("li#inside_"+e.id);t.length&&e.afterRender(t[0],r)}),!n.chromeless){var c=a.spotlight=new o({element:{id:this.id},container:i.find(".element")[0],uid:"form"+a.id,zIndex:8,elementsPage:"form",onOpen:function(){l.isEditing=!0,c.getControlsInner().addClass("form-controls").append(e("<span class='btn'>"+_W.utl("javascript.editor-site-shared.build.elements.FormElement_2")+"</span>").on("click",function(){s.execute("viewFormData",a.getContentField().ucfid)})).append(e("<span class='btn btn-info'>"+_W.utl("javascript.editor-site-shared.build.elements.FormElement_3")+"</span>").on("click",function(){Weebly.Elements.selectElement(i.find(".element")[0])})).append(e("<span class='btn btn-primary'>"+_W.utl("javascript.editor-site-shared.build.elements.FormElement_4")+"</span>").on("click",function(){c.close(),s.trigger("displayPromoteFormHelpy")}))},onClose:function(){l.isEditing=!1,c.getControlsInner().empty()}});c.cover.attr("title",_W.utl("javascript.editor-site-shared.build.elements.FormElement_5"))}},reposition:function($super){$super(),this.spotlight&&this.spotlight.resize()},unrender:function($super){$super(),this.spotlight&&(this.spotlight.destroy(),delete this.spotlight)},addChild:function(t,n,i,o){if(n<0)return!1;var r=this.context.loadElement(t),s;if(this.li){r.li||(r.li=e(r.renderHTML())[0]);var l=e(this.li).find("#"+i),c=l.children("li.inside").eq(n);c.length?c.before(r.li):l.append(r.li),r.afterRender(r.li),s=a.getAreaInstanceForElement(e(r.li).closest(".weebly-area")[0])}else this.elData&&(s=a.getAreaInstance(null,this.elData.area.type,this.elData.area.name));if(o&&(s=s.getAreaFromSectionId(o)),s.spliceExistingElements([r]),this.children.splice(n,0,r),s&&s.elements){var u=s.elements.indexOf(r);u!==-1&&s.elements.splice(u,1)}return!0}});return Weebly.FormElement=l,r.register("7423607",l),l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(267),n(12),n(19),n(321),n(58),n(28)],o=function(e,t,n,i,o,r,s,a){function l(e){return r.element_ids.indexOf(e.element_id)!==-1}for(var c=window.Class.create(s,{initialize:function($super,e,t){$super(e,t),a.init(t.currentApp)},startDrag:function(){var e=this;a.getActiveContentAreas().done(function(i){e.combiner=new n(t.filter(a.flattenElements(i,!0),l),"wsite-image-combine")})},onDrag:function($super,e,t,n){if(n=$super(e,t,n),this.combiner&&this.combiner.testPoint(e.pageX,e.pageY)){var i=this.combiner.found.offset();t.originalPosition.left=i.left,t.originalPosition.top=i.top;var o=t.helper.find("#weebly_image_extras_helper");o.length||(o=t.helper),"absolute"===o.css("position")?(i=o.offsetParent().offset(),t.originalPosition.left-=i.left,t.originalPosition.top-=i.top):(t.originalPosition.left-=t.offset.left-t.position.left,t.originalPosition.top-=t.offset.top-t.position.top);var r=this.getPropertyResult("<!ALIGN!>");return"right"===r?(this.combiner.found.addClass("wsite-image-combine-right"),t.originalPosition.left+=this.combiner.found.outerWidth()-o.outerWidth()):this.combiner.found.removeClass("wsite-image-combine-right"),null}return n},stopDrag:function(t,n){this.combiner&&this.combiner.found&&(n.noDrop=!0,this.isNew===!0?this.combiner.callMethod("replaceWithImageTextElement",{id:this.eid,parentString:""}):this.imageText===!0?this.combiner.callMethod("moveImageTextElementImage",e(this.li)):this.combiner.callMethod("combineImageTextElements",e(this.li)))},afterRender:function($super,t,n){$super(t,n),e(t).addClass("wsite-image")},"<!SRC!>":function(){var e;try{e=JSON.parse(this.getPropertyResult("<!DATA!>"))}catch(e){}return e&&e.image?e.image.editorUrl:this.getPropertyResult("<!SRC!>")}}),u=0;u<i.STANDALONE_IMAGE_ELEMENTS.length;u++)o.register(i.STANDALONE_IMAGE_ELEMENTS[u],c);return c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(14),n(13),n(810),n(809),n(19),n(97),n(130),n(28),n(23),n(45)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h){function p(){var t=e(this);return parseInt(t.css("left"),10)+t.offsetParent().offset().left}var f=window.Class.create(a,{cachedColumnElements:null,initialize:function($super,t,n){$super(t,n),this.cachedColumnElements=[],this.columns=e.map(this.columns,function(t){return t=[n.loadElements(t)],e.each(t[0],function(t){var n=h.getAreaInstanceForElement(e(t).closest(".weebly-area")[0]);n&&n.elements&&n.spliceElement(t.id)}),t});var i=this.getContentField(),r,s,a;if(i&&(r=i.getProperty("<!DATA!>"),s=i.getProperty("<!LEFTWIDTH!>"),a=i.getProperty("<!RIGHTWIDTH!>")),r&&r.property_result)try{t=JSON.parse(r.property_result)}catch(e){t={}}else t={};var l=this.isLegacy=s&&a;if(t.widths||(l&&s&&a?(this.doLegacyPadding=!0,t.widths=[parseFloat(s.property_result)/100,parseFloat(a.property_result)/100]):t.widths=[.5,.5]),!l&&!o.chromeless&&i){var c=i.getProperty("<!SPACING!>");t.spacing&&(c.property_result=t.spacing,delete t.spacing,i.saveProperties())}this.context=n,this.data=t,this.normalizeWidths()},getDimensions:function($super){var e=this.getColumns();return t.defaults({columns:t.map(this.columns,function(n,i){var o=e.eq(i),r=o.offset();return r=r||{},{top:r.top,left:r.left,height:o.outerHeight(!1),width:o.outerWidth(!1),elements:t.invoke(n,"getDimensions")}})},$super())},"<!COLUMNS!>":function(e,t){var i={in_editor:!0,columns:[],margin:"0 -"+this.getSpacing()};if(this.data)for(var o=0;o<this.data.widths.length;o++)i.columns.push(this.getColumnData(o,t));return n.render(r,i,{"elements/multicolumn-column":s})},getSpacing:function(e,t){var n,e=this.isLegacy,t=this.getContentField();return!e&&t?(n=t.getProperty("<!SPACING!>"),n=n?n.property_result:"5px"):n="5px",n},getColumnData:function(e,t){var n=this.getContentField(),i;n&&(i=n.ucfid+"-col"+e,this.isLegacy&&(0===e?i=n.ucfid+"-lhs":1===e&&(i=n.ucfid+"-rhs")));var o="";return t&&this.cachedColumnElements[e]||(o=a.renderElementsHTML(this.columns[e]||[])),{id:i,width:100*this.data.widths[e]+"%",padding:"0 "+this.getSpacing(),elementsHTML:o}},beforeRender:function($super,e){$super(e),this.cacheColumnElements(!0)},cacheColumnElements:function(e){if(this.cachedColumnElements.length=0,this.li){var t=this.getColumns().children();e&&t.detach(),this.cachedColumnElements.push.apply(this.cachedColumnElements,t.get())}},afterRender:function($super,n,o){if($super(n,o),o){var r=this.getColumns();e.each(this.cachedColumnElements,function(e,t){r.eq(e).append(t)})}if(n=e(n),!o){n.addClass(this.constructor.CLASS_PREFIX+"-li");var s=this.constructor.HOVER_CLASS,a=this;n.on({mouseenter:function(){window.isDraggingElement||this.constructor.isResizing||(e(this).addClass(s).parents("."+s).removeClass(s),a.positionDividers())},mouseleave:function(){window.isDraggingElement||this.constructor.isResizing||e(this).removeClass(s)}})}this.doLegacyPadding&&n.find("."+this.constructor.CLASS_PREFIX).eq(0).css("width","98.8%"),this.updateViewElements(),i.vent.on("setMobileView setStandardView",this.updateViewElements,this),this.constructor.allElements=this.constructor.allElements.not("#"+n.attr("id")).add(n),t.each(this.columns,function(e){t.each(e,function(e){var t=n.find("li#inside_"+e.id);t.length&&e.afterRender(t[0],o)})})},updateWidths:function(t){e.isArray(t)&&(this.data.widths=t);for(var n=this.getColumns(),i=0;i<this.data.widths.length;i++)n.eq(i).css("width",100*this.data.widths[i]+"%");this.updateTinyColumns(),this.clearDividers()},addColumn:function(o,r,a){this.data.widths.splice(o,0,r);var l={in_editor:!0},c=e("#inside_"+a.id),u=!1;if(c.length>0?(0===this.cachedColumnElements.length&&this.cacheColumnElements(),this.cachedColumnElements.splice(o,0,!0),l.elementsHTML=c[0].outerHTML,c.remove(),u=!0,this.columns.splice(o,0,[a])):this.columns.splice(o,0,[this.context.loadElement(a)]),"undefined"!=typeof this.li){var d=n.render(s,t.extend(this.getColumnData(o,u),l)),h=this.getColumns(),p,f;o>=h.length?(p=h.eq(h.length-1),p.after(d),f=p.next()):(p=h.eq(o),p.before(d),f=p.prev(),f.nextAll().attr("id",function(e,t){return t.split("-")[0]+"-col"+(o+e+1)})),u?this.cachedColumnElements[o]=f.children():(this.cachedColumnElements.splice(o,0,f.children()),this.columns[o][0].afterRender&&this.columns[o][0].afterRender(f.find("li.inside")));var m=1-r;return t.each(this.data.widths,function(e,t,n){t!==o&&(n[t]*=m)}),this.clearDividers(),this.updateWidths(),0===c.length&&i.vent.trigger("editor:elements:newElement"),this.data.widths}},removeColumn:function(e){var n=this.data.widths.splice(e,1);n=n[0],this.columns.splice(e,1),this.cachedColumnElements.splice(e,1);var i=this.getColumns();i.eq(Math.min(e,i.length-1)).remove();var o=1-n;return t.each(this.data.widths,function(e,t,n){n[t]/=o}),this.clearDividers(),this.updateWidths(),this.data.widths},removeEmptyColumns:function(t){var n=this.getColumns(),i=n.filter(function(){var t=e(this);return!t.children().length||!t.children("ul").children().length}),o=n.not(i),r=h.getAreaInstanceForElement(e(this.li).closest(".weebly-area")[0]);if(t&&(r=r.getAreaFromSectionId(t)),1===o.length){e(this.li).before(o.children().children());var s=n.index(o[0]);r.replaceElement(this,this.columns[s]),o=e()}if(0===o.length)return r.context.deleteElement(this.id),!1;if(0===i.length)return null;var a=this;return i.each(function(){a.removeColumn(n.index(this))}),!0},addChild:function(n,i,o){if(i<0)return!1;var r=this.context.loadElement(n),s=o.match(/-col(\d+)$/i);if(!s)return!1;if(s=parseInt(s[1],10),t.isNaN(s))return!1;this.columns[s].splice(i,0,r);var a;if(this.li){var l=e(this.li),c=l.find("#"+o),u=c.find("li.inside").eq(0);if(!u.length)return!1;r.li||(r.li=e(r.renderHTML())[0]),c=c.children("ul"),u=c.children().eq(i),u.length?u.before(r.li):c.append(r.li),r.afterRender(r.li),a=h.getAreaInstanceForElement(e(r.li).closest(".weebly-area")[0])}else this.elData&&(a=h.getAreaInstance(this.elData.area.is_site_wide,this.elData.area.type,this.elData.area.name));if(a&&a.elements){var d=a.elements.indexOf(r);d!==-1&&a.elements.splice(d,1)}return!0},updateViewElements:function(){var t=e(this.li);Weebly.view.isMobileView||o.chromeless?t.find("."+this.constructor.DIVIDER_CLASS).css("display","none"):(t.find("."+this.constructor.DIVIDER_CLASS).css("display",""),this.reposition())},reposition:function($super){$super();var t=e(this.li),n=t.hasClass("inside-hover")||t.hasClass("inside-active");n?this.positionDividers():this.clearDividers(),this.updateTinyColumns()},updateTinyColumns:function(){var t=this.getColumns(),n=this.constructor.TINY_COLUMN_WIDTH,i=this.constructor.TINY_COLUMN_CLASS;t.each(function(){var t=e(this);t.outerWidth()<n?t.addClass(i):t.removeClass(i)})},clearDividers:function(){e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0).children("."+this.constructor.DIVIDER_CLASS+", ."+this.constructor.DRAG_COVER_CLASS).remove(),this.dividers=null},renderDividers:function(){if(this.clearDividers(),window.elementControlsEnabled&&!this.columnsAreVertical()){var n=e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0),o=this,r=this.getColumns();this.dividers=[],r.each(function(s){if(s){var a=e(this),u,h=e("<div/>",{class:o.constructor.DIVIDER_CLASS}).on({mousedown:function(f){function m(e){u=!0,Weebly.Elements.unselectElement();var n=Math.max(Math.min(e.pageX,I),S)-T,i=C+n;if(!e.ctrlKey&&!e.shiftKey){if(n=Math.round((E+n)/P)*P-E,C+n<S||C+n>I)return;if(O){var l=t.find(O,function(e){return Math.abs(e-i)<10});l&&(n=l-C)}}var d=(b+n)/(b+y)*(w+_),p=(y-n)/(b+y)*(w+_);o.data.widths[s-1]==d&&o.data.widths[s]==p||(o.data.widths[s-1]=d,o.data.widths[s]=p,r.eq(s-1).css("width",100*d+"%"),a.css("width",100*p+"%"),h.css("left",E+n+"px"),o.updateTinyColumns(),c.unsetDimensions(r.eq(s-1).add(r.eq(s))))}function g(){A.fadeOut(400,function(){e(this).remove()}),u&&i.vent.trigger("editor:elements:changed"),h.siblings("."+o.constructor.DRAG_COVER_CLASS).addBack().removeClass("dragging"),D.length&&D.removeClass(o.constructor.GUIDE_CLASS),o.constructor.isResizing=!1,l.enable(),e(document).off(N),o.saveData(),o.killLegacyPadding(),d.repositionElements()}u=!1,o.constructor.isResizing=!0,l.disable();var v=n.offset(),b=r.eq(s-1).outerWidth(),w=o.data.widths[s-1],y=a.outerWidth(),_=o.data.widths[s],E=parseInt(h.css("left"),10),T=f.pageX,C=p.call(this),S=v.left+(s>1?parseInt(o.dividers[s-2].css("left"),10):0),I=v.left+(s<o.dividers.length?parseInt(o.dividers[s].css("left"),10):n.outerWidth());S+=r.eq(s-1).find("."+o.constructor.LIST_CLASS).eq(0).find("> li.inside:not(.wsite-spacer-li)").length?50:5,I-=a.find("."+o.constructor.LIST_CLASS).eq(0).find("> li.inside:not(.wsite-spacer-li)").length?50:5,e(this).siblings("."+o.constructor.DRAG_COVER_CLASS).addBack().addClass("dragging");var O,D=e(),x=e(this).closest("."+o.constructor.CLASS_PREFIX+"-li"),k=x.prev(),R=x.next();k.hasClass("."+o.constructor.CLASS_PREFIX+"-li")&&(D=k.find("."+o.constructor.CLASS_PREFIX).eq(0).children("."+o.constructor.DIVIDER_CLASS).addClass(o.constructor.GUIDE_CLASS)),R.hasClass("."+o.constructor.CLASS_PREFIX+"-li")&&(D=D.add(R.find("."+o.constructor.CLASS_PREFIX).eq(0).children("."+o.constructor.DIVIDER_CLASS).addClass(o.constructor.GUIDE_CLASS))),D.length&&(O=D.map(p).get());var P=Math.round(e(this).closest(".weebly-area, ul."+o.constructor.LIST_CLASS).width()/12),A=e("<div>",{html:window._W.utl("html.weebly.libraries.classes.elements.MultiColumnElement_1"),class:"wsite-multicol-tooltip"}).hide().appendTo("#_editor-ui").fadeIn(),N={mousemove:m,mouseup:g};return e(document).on(N),!1},click:function(){u||Weebly.Elements.selectElement(this.up(".element"))}}).appendTo(n);o.dividers.push(h)}}),e("<div>",{class:this.constructor.DRAG_COVER_CLASS,appendTo:n})}},positionDividers:function(){if(!window.elementControlsEnabled||this.columnsAreVertical())return void(this.dividers&&t.invoke(this.dividers,"hide"));var n=this;n.dividers&&e.contains(document,n.dividers[0][0])||n.renderDividers();var i=e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0).offset();this.getColumns().each(function(t){if(t){var o=n.dividers[t-1],r=Math.round(e(this).offset().left-i.left);o.css("left",r+"px").show()}})},normalizeWidths:function(){var e=this.data.widths,t=e.length,n=0,i;for(i=0;i<t;i++)"number"!=typeof e[i]&&(e[i]=1/t);for(i=0;i<t;i++)n+=e[i];for(i=0;i<t;i++)e[i]/=n;this.data.widths=e},columnsAreVertical:function(){var e=this.getColumns();return e.eq(0).offset().top<e.last().offset().top},getColumns:function(){return e(this.li).find("."+this.constructor.COLUMN_WRAPPER_CLASS).eq(0).children("."+this.constructor.COLUMN_CLASS)},killLegacyPadding:function(){this.doLegacyPadding&&(delete this.doLegacyPadding,e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0).css("width",""))},saveData:function(){var e=this.getContentField();e.getProperty("<!DATA!>").property_result=JSON.stringify(this.data),e.saveProperties()},unrender:function($super){this.constructor.allElements=this.constructor.allElements.not(this.li),i.vent.off("setMobileView setStandardView",this.updateViewElements,this),$super()},onDrag:function($super,e,t,n){return n=$super(e,t,n),n&&n.el&&this.elData&&u.isChildOf(n.el,this.elData.id)?null:n}});return f.TINY_COLUMN_WIDTH=100,f.CLASS_PREFIX="wsite-multicol",f.TINY_COLUMN_CLASS=f.CLASS_PREFIX+"-col-tiny",f.DIVIDER_CLASS=f.CLASS_PREFIX+"-divider",f.DRAG_COVER_CLASS=f.CLASS_PREFIX+"-drag-cover",f.HOVER_CLASS=f.CLASS_PREFIX+"-li-hover",f.COLUMN_CLASS=f.CLASS_PREFIX+"-col",f.COLUMN_WRAPPER_CLASS=f.CLASS_PREFIX+"-tr",f.GUIDE_CLASS=f.CLASS_PREFIX+"-guide",f.LIST_CLASS="columnlist",f.allElements=e(),f.resizeColumns=function(t){if(e.isNumeric(t)?t=this:"string"==typeof t&&"#"!==t[0]&&(t="#"+t),t=e(t),t.length&&t[0].id.match(/lhs-list/)){var n=e("#"+t[0].id.replace(/lhs/,"rhs"));if(n.length){t.css("height","auto"),n.css("height","auto");var i=t.height(),o=n.height();i<100&&o<100?(t.css("height","100px"),n.css("height","100px")):i>o?n.css("height",i-2+"px"):o>i&&t.css("height",o-2+"px"),n.closest(".column").nextUntil(".splitpane-divider").last().next().css("height",Math.max(100,i,o)+"px")}}},f.resizeAllColumns=function(){this.allElements.each(this.resizeColumns)},i.vent.on({"imageElementUpdated slideshowRerendered scriptFrameResized imageResizeStopped":function(){f.resizeAllColumns()}}),window.resizeColumns=e.proxy(f.resizeColumns,f),window.resizeAllColumns=e.proxy(f.resizeAllColumns,f),window.MultiColumnElement=f,a.register(function(e){return"columns"in e},f),e(document).on("load",".columnlist .element img",function(){var t=this.up(".columnlist");t&&(t.id.match(/rhs-list/)&&(t=e(t.id.replace(/rhs-list/,"lhs-list"))),f.resizeColumns(t))}),f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(267),n(12),n(19),n(58),n(28)],o=function(e,t,n,i,o,r,s){function a(e){return i.STANDALONE_IMAGE_ELEMENTS.indexOf(e.element_id)!==-1}var l=window.Class.create(r,{initialize:function($super,e,t){$super(e,t),s.init(t.currentApp)},startDrag:function(){var e=this;s.getActiveContentAreas().done(function(i){e.combiner=new n(t.filter(s.flattenElements(i,!0),a),"wsite-text-combine")})},onDrag:function($super,e,t,n){if(n=$super(e,t,n),this.combiner&&this.combiner.testPoint(e.pageX,e.pageY)){
var i=this.combiner.found.offset();return t.originalPosition.left=i.left,t.originalPosition.top=i.top,"absolute"===t.helper.css("position")?(i=t.helper.offsetParent().offset(),t.originalPosition.left-=i.left,t.originalPosition.top-=i.top):(t.originalPosition.left-=t.offset.left-t.position.left,t.originalPosition.top-=t.offset.top-t.position.top),null}return n},stopDrag:function(t,n){this.combiner&&this.combiner.found&&(n.noDrop=!0,this.isNew===!0?this.combiner.callMethod("replaceWithImageTextElement",{id:this.eid,parentString:""}):this.combiner.callMethod("combineTextImageElements",e(this.li)))},afterRender:function($super,t,n){$super(t,n),e(t).addClass("wsite-text")}});return l.element_ids=["44785763","4884809","39750678"],l.element_ids.forEach(function(e){o.register(e,l)}),l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(4),n(2),n(85),n(82),n(17),n(765),n(762)],o=function(e,t,n,i,o,r,s,a,l){var c=o.extend({getTemplate:function(){return n.compile(a)},PAGE_LINK_PREPEND:"http://weebly-link/",switcherOptions:{title:e.utl("javascript.editor-site-shared.build.linker.item-views.StandardPageView_1"),icon:"pagepage"},ui:{searchInput:".js-search",pagesWrapper:".pages-wrapper",currentPageWrapper:".el-options-url-group",pageSelector:".page-selector",currentPageInput:".current-page-input",unlink:".js-unlink"},events:{"click .js-page":"pageClickHandler","click .js-window":"newWindowHandler","keydown @ui.searchInput":"searchResults","click @ui.currentPageWrapper":"toggleViews","click @ui.unlink":"unlink"},PAGE_INDENTATION_AMOUNT:20,initialize:function(t){if(this.options=t.options,this.options.selection?this.selectionData=i.clone(this.options.selection):this.selectionData=this.options.multiSelect?[]:{},this.options.disablePageKinds||(this.options.disablePageKinds=[]),this.options.disablePageLayouts||(this.options.disablePageLayouts=[]),this.pages=s,this.loaded=!1,this.pages.length>0)this.loaded=!0;else{var n=e.Editor.RPC.Page?e.Editor.RPC.Page:e.Commerce.RPC.ComLinker;n.getPageHierarchy().done(function(e){this.pages.reset(e.data),this.loaded=!0,this.render()}.bind(this))}},templateHelpers:function(){var e=this,t=e.model&&e.model.get("pageID"),n;if(t){var i=s.getPage(t);i&&(n=i.get("title"))}return{disableNewWindow:e.options.disableNewWindow,disableSearch:e.options.disableSearch,currentPageTitle:n,selectorTitle:e.options.selectorTitle}},onRender:function(){var e=this,t=s.toJSON();return!!this.loaded&&(e.options.disableSearch||(e.search=r.initialize(e.ui.searchInput),e.search.on("inputsearch:clear",function(){e.ui.searchInput.keydown()})),t&&t.length>0&&(e.model&&e.model.unset("pages"),e.pages=null,e.parsePages(t,0)),e.renderPages(),void e.delegateEvents())},parsePages:function(e,t){var n=this,o=n.model&&n.model.get("pageID"),r=n.options.thisPageID;i.each(e,function(e){if("member-login"!==e.kind&&"member-logout"!==e.kind){if(o===e.id&&(e.checked=!0),r===e.id){if(n.options.hideThisPage)return;e.thisPage=!0,e.disabled=n.options.disableThisPage}if(n.options.disablePageKinds.indexOf(e.kind)===-1&&n.options.disablePageKinds.indexOf(e.page_kind)===-1&&n.options.disablePageLayouts.indexOf(e.layout)===-1||(e.disabled=!0),n.options.enablePageLayouts&&n.options.enablePageLayouts.indexOf(e.layout)===-1&&(e.disabled=!0),n.options.disableContributors){var s=window.Weebly.Permissions;!s.isContributor||s.allow_pages||i.contains(s.allowed_pages,e.id)||(e.disabled=!0)}e.margin=t*n.PAGE_INDENTATION_AMOUNT,n.pages?n.pages.push(e):n.pages=[e],e.children&&n.parsePages(e.children,t+1)}})},renderPages:function(){var e=this,t;e.pages&&(e.ui.pagesWrapper.empty(),t=n.render(l,{pages:e.pages,multi:this.options.multiSelect}),e.ui.pagesWrapper.append(t)),e.selectionData&&(this.options.multiSelect?this.selectionData.forEach(function(e){this.setPageSelected(this.$("input[value="+e+"]"))}.bind(this)):e.selectionData.pageID&&e.setPageSelected(e.$("input[value="+e.selectionData.pageID+"]")))},pageClickHandler:function(e){var n=this,i=t(e.currentTarget),o=i.find("input"),r=o.val(),s=i.find(".js-name").text();e.preventDefault(),o.is(":disabled")&&(r=null),this.options.multiSelect?o.is(":checked")?(this.selectionData.splice(this.selectionData.indexOf(r),1),n.setPageDeselected(o)):(this.selectionData.push(r),n.setPageSelected(o)):(n.selectionData.value=n.PAGE_LINK_PREPEND+r,n.selectionData.pageID=r,n.setPageSelected(o)),n.model?this.options.multiSelect?n.model.set("pages",this.selectionData):(n.model.get("pageID")!==r&&(n.model.set(n.selectionData),n.ui.currentPageInput.val(s)),n.toggleViews()):n.trigger("page:selected",n.selectionData)},setPageSelected:function(e){e.is(":disabled")||e.prop("checked",!0)},setPageDeselected:function(e){e.is(":disabled")||e.prop("checked",!1)},newWindowHandler:function(e){var n=this,i=t(e.currentTarget),o=n.$el.find(".js-page input:checked").val();o&&(n.selectionData.value=n.PAGE_LINK_PREPEND+o,n.model&&n.model.set("value",n.selectionData.value)),n.selectionData.newWindow=i.prop("checked"),n.model&&n.model.set("newWindow",n.selectionData.newWindow)},getValue:function(){if(this.options.multiSelect)return this.selectionData;var e=this,t=e.selectionData.value,n=e.selectionData.newWindow===!0;return t?[t,n]:t},filterSearchResults:function(e){var t=this;e=e.toLowerCase(),i.each(t.pages,function(t){""===e||t.title.toLowerCase().indexOf(e)>-1?t.hiddenPage=!1:t.hiddenPage=!0}),t.ui.pagesWrapper.empty(),t.renderPages()},toggleViews:function(){var e=this,t=e.ui.currentPageWrapper.is(":visible");t?(e.ui.currentPageWrapper.hide(),e.ui.pageSelector.slideToggle(200,"swing")):e.ui.pageSelector.slideToggle(200,"swing",function(){e.ui.currentPageWrapper.show()})}});return c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(17),n(51),n(44)],o=function(e,t,n,i){function o(e,t){t="undefined"!=typeof t&&t;var n=e.replace("//$/","");return n=n.replace(/.*\//,""),t&&(n=n.replace(/\.\w+$/,"")),n}var r={};return r.getBlogPostDetailsFromLink=function(e){var t=e.split("/");return{pageId:t[3],postId:t[4],title:t[5]}},r.getNameFromStoreLink=function(e,t){if(e&&t){var o=e.split("/",3);if(o&&o[1]){var r=o[1],s=r[0],a=r.substring(1);if("c"==s){var l=n.findOrCreate({site_category_id:a});l.fetch().done(function(){var e=l.get("name");if(e)t(e);else{var n=l.get("site_link");n&&t(n)}})}else if("p"==s){var c=i.findOrCreate({site_product_id:a});c.fetch().done(function(){var e=c.get("name");if(e)t(e);else{var n=c.get("site_link");n&&t(n)}})}}}},r.getNameFromParsedLink=function(e,n){if(e&&n)if(e.url)n(e.url.replace(/^\w+:\/\//,""));else if(e.pageID){var i=t.getPage(e.pageID);n(i?i.get("title"):"Page")}else e.store?this.getNameFromStoreLink(e.store,n):e.blogPost?n(this.getBlogPostDetailsFromLink(e.blogPost).title):e.location?n(o(e.location)):e.phone?n(e.phone):e.email&&n(e.email)},r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(3),n(17),n(621),n(110)],o=function(e,t,n,i,o){var r=t.Model.extend({idAttribute:"header_setting_id",TARGET_PAGE:0,TARGET_SEARCH:1,TARGET_STORE_CATEGORY:2,TARGET_STORE_PRODUCT:3,TARGET_STORE_CHECKOUT:4,PRODUCT_PAGE_REGEX:/^0\/store\/p([0-9]+)\/.+/,CATEGORY_PAGE_REGEX:/^0\/store\/c([0-9]+)\/.+/,getTargetType:function(e,t){var i;if("page"===e||"blog"===e)i=this.TARGET_PAGE;else if("store"===e)if(/^\d+$/.test(t)){var o=n.getPage(t),r=o.get("page_kind");i="category"===r||"store"===r?this.TARGET_STORE_CATEGORY:this.TARGET_STORE_PRODUCT}else this.CATEGORY_PAGE_REGEX.test(t)?i=this.TARGET_STORE_CATEGORY:this.PRODUCT_PAGE_REGEX.test(t)&&(i=this.TARGET_STORE_PRODUCT);else console.error("Target type not found");return i},getTargetId:function(e,t){var i;if("page"===e||"blog"===e)i=t;else if("store"===e)if(/^\d+$/.test(t)){var o=n.getPage(t);i=o.get("store_page_kind_id")}else this.CATEGORY_PAGE_REGEX.test(t)?i=t.match(this.CATEGORY_PAGE_REGEX)[1]:this.PRODUCT_PAGE_REGEX.test(t)&&(i=t.match(this.PRODUCT_PAGE_REGEX)[1]);else console.error("Target type not found");return i},defaults:function(){var e=this.getTargetId(window.currentPageKind,window.currentPage),t=this.getTargetType(window.currentPageKind,window.currentPage);return{user_id:window.userID,site_id:window.currentSite,target_id:e,target_type:t,base_setting:null,setting:new i}},initialize:function(t){this.on({change:this.onChange}),this.listenTo(this.get("setting"),{change:this.onChange});var n=function(){var t=this.get("setting"),n=e.toArray(arguments),i=n.shift();return t[i].apply(t,n)};e.each(o,function(t,i){e.isUndefined(this[i])&&e.isFunction(t)&&(this[i]=e.partial(n,i))},this)},set:function(n,o,r){var s;return null==n?this:("object"==typeof n?(s=n,r=o):(s={})[n]=o,"string"==typeof s.base_setting&&(s.base_setting=JSON.parse(s.base_setting)),!s.setting||s.setting instanceof i||(e.isArray(s.setting)&&(s.setting=s.setting[0]),this.get("setting")instanceof i?(this.get("setting").set(s.setting,{silent:!0}),delete s.setting):s.setting=new i(s.setting)),t.Model.prototype.set.call(this,s,r))},toJSON:function(){var e=t.Model.prototype.toJSON.apply(this,arguments);return e.setting=e.setting.toJSON(),e}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(28),n(26),n(12),n(7),n(59),n(35)],o=function(e,t,n,i,o,r,s,a,l){function c(){T.length=0,C.length=0,u()}function u(){I.length=0}function d(e){return t.each(e,h),T}function h(e){if(!(!e||e.headerSection&&e.isBlogPost)){if(!e.empty||e.sections||e.headerSection){if(e.empty&&e.headerSection){var n=8,i=3;T.push({area:e,position:r.POSITION_TOP,x1:e.headerSection.left+i,y1:e.headerSection.top+n,x2:e.headerSection.left+e.headerSection.width-i,y2:e.headerSection.top+e.headerSection.height+n,_useElement:!0})}}else T.push({area:e,position:r.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:!0});e.sections?t.each(e.sections,function(t){p(t,e)}):t.each(e.elements,f)}}function p(e,n){e&&(e.elements.length?t.each(e.elements,f):T.push({area:n,section_id:e.section_id,position:r.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:!0}))}function f(e){var n;e.section_id?n=e.section_id:(e.parentColumn||e.parent)&&(n=b(e).section_id),T.push({area:e.area,el:e,section_id:n,position:r.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top,_useElement:!1}),l.isMobileView||e.columns||e.parentColumn&&1===e.parentColumn.elements.length||T.push({area:e.area,el:e,section_id:n,position:r.POSITION_RIGHT,x1:e.left+e.width,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:!1},{area:e.area,el:e,section_id:n,position:r.POSITION_LEFT,x1:e.left,y1:e.top,x2:e.left,y2:e.top+e.height,_useElement:!1});var i=e.platform_element_id?t.sortBy(e.children,"page_element_order"):e.children;t.each(i,function(e,t){e.element_id===r.CONTENT_AREA_ELEMENT_ID?m(e,n):f(e)}),t.each(e.columns,g),T.push({area:e.area,el:e,section_id:n,position:r.POSITION_BOTTOM,x1:e.left,y1:e.top+e.height,x2:e.left+e.width,y2:e.top+e.height,_useElement:!1})}function m(e,n){T.push({area:e.area,el:e,section_id:n,position:r.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top,_useElement:!1,insideContentAreaElement:!0}),t.each(e.children,function(e){e.element_id===r.CONTENT_AREA_ELEMENT_ID?m(e,n):f(e)}),t.each(T,function(t){t.el&&t.el.parentString&&t.el.parentString===e.content_field_id&&(t.insideContentAreaElement=!0)})}function g(e,n){T.push({area:e.el.area,section_id:b(e.el).section_id,column:e,column_id:e.el.content_field_id+"-col"+n,column_index:n,el:e.el,position:r.POSITION_LEFT,x1:e.left,y1:e.top,x2:e.left,y2:e.top+e.height,_useElement:!1}),t.each(e.elements,f),T.push({area:e.el.area,section_id:b(e.el).section_id,column:e,column_id:e.el.content_field_id+"-col"+n,column_index:n,el:e.el,position:r.POSITION_RIGHT,x1:e.left+e.width,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:!1})}function v(){return i.getSectionData().then(function(e){if(0===e.length)return[];e=t.sortBy(e,"section_order"),C=e.map(function(e){return{section_id:e.section_id,section_order:e.section_order,position:r.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:!0}});var n=e[e.length-1];return C.push({section_id:n.section_id,section_order:n.section_order+1,position:r.POSITION_BOTTOM,x1:n.left,y1:n.top+n.height,x2:n.left+n.width,y2:n.top+n.height,_useElement:!0}),C})}function b(e){return e.parentColumn?b(e.parentColumn.el):e.parent?b(e.parent):e}function w(e,n){var i=e.area,o=e.el;if(i&&i.spotlighted&&n.indexOf(i)===-1)return!1;var r;return o&&o.parent&&(r=o.parent),o&&o.parentColumn&&(r=o.parentColumn.el),r&&r.spotlighted?!!t.findWhere(n,{element:r}):r?w({el:r,area:i},n):n.indexOf(i)!==-1}function y(){return e.when(i.getActiveContentAreas(),T.length?T:E.buildDroppableEdges()).then(function(e,n){return t.each(n,function(t){if(w(t,e)){var n=t.el,i;n&&(i=n.parent),(!i||!i.platform_element_id||n.element_id===r.CONTENT_AREA_ELEMENT_ID&&n.droppable)&&I.push(t)}}),I})}function _(e,n,i,o){var s=null;if(!n.length)return s;t.isNull(i)&&(i=2);var a=e.pageX,l=e.pageY;return t.each(n,function(e){if(e._useElement===!0&&(a>=e.x1&&a<=e.x2&&l>=e.y1&&l<=e.y2||o&&l<=e.y1&&e.section_order&&1===e.section_order)){switch(s=t.clone(e),e.position){case r.POSITION_LEFT:s.x2=s.x1;break;case r.POSITION_TOP:s.y2=s.y1;break;case r.POSITION_RIGHT:s.x1=s.x2;break;case r.POSITION_BOTTOM:s.y1=s.y2}return!1}e._d=null,e.y1===e.y2&&a>=e.x1&&a<=e.x2?e._d=Math.abs(l-e.y1)+.01*Math.abs(a-(e.x1+e.x2)/2):e.x1===e.x2&&l>=e.y1&&l<=e.y2&&(e._d=Math.abs(a-e.x1)/i+.01*Math.abs(l-(e.y1+e.y2)/2)),null!==e._d&&(!s||e._d<s._d)&&(s=e)}),s}var E={},T=[],C=[];n.vent.on({"editor:elements:changed viewChange":c,"section:add:after section:remove:after":c}),s.on({"editor:elements:changed pageRendered":c,"editor:spotlight:open editor:spotlight:close":u,"section:add:after section:remove:after":c}),s.on(a.EVENTS.DOCUMENT_RESIZED,c);var S;E.init=function(e){S||(S=e,S.vent.on("editor:spotlight:open editor:spotlight:close",u),i.init(S),o.inEditorContext()?s.on("editor:middle",c):S.vent.on("editor:middle",c))},E.buildDroppableEdges=function(){return c(),i.getAreasWhere().then(d)},E.buildSectionEdges=v,E.getEdge=function(n,i){return e.when(!!T.length||E.buildDroppableEdges()).then(function(){var e=null;return T.length?(t.each(T,function(t){if(i===t.position&&!t.area.empty&&t.el&&n.id===t.el.id)return e=t,!1}),e):e})};var I=[];return E.findClosestDroppableSectionEdge=function(t){return e.when(C.length?C:v()).then(function(e){var n=!0;return _(t,e,2,n)})},E.findClosestDroppableEdge=function(n){return e.when(i.getElements(),I.length?I:y()).then(function(e,i){var o=null;return t.each(e,function(e){if(n.pageX>e.left&&n.pageY>e.top&&n.pageX<e.left+e.width&&n.pageY<e.top+e.height)return o=e.width/e.height*.9,!1}),_(n,i,o)})},E}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(622),n(233)],o=function(e,t){var n=Class.create(e,{WINDOW_WIDTH:400,WINDOW_HEIGHT:400,CALLBACK_PREFIX:"weebly_social_auth_cb_",POPUP_URL:"/editor/social_auth.php?cb={callback}&{params}",initialize:function($super,e){e=t.mergeOptions({id:this.generateId(),width:this.WINDOW_WIDTH,height:this.WINDOW_HEIGHT,autoopen:!0,onSuccess:null,onFailure:null,onCancel:null,params:{}},e),this.callback=this.CALLBACK_PREFIX+e.id,this.registerCallback(this.callback),$super(this.buildUrl(this.callback,e.params),e),this.options.onSuccess&&this.events.addListener("success",this.options.onSuccess),this.options.onFailure&&this.events.addListener("failure",this.options.onFailure),this.options.onCancel&&this.events.addListener("cancel",this.options.onCancel)},open:function($super){$super(),this.registerCancelObserver()},cancel:function(){this.events.fireEvent("cancel")},registerCallback:function(e){this.callbackCalled=!1,window[e]=function(e,t){this.callbackCalled=!0,this.events.fireEvent(e,t)}.bind(this)},registerCancelObserver:function(){setTimeout(function(){this.invokeCancelObserver()}.bind(this),250)},invokeCancelObserver:function(){this.callbackCalled||(this.handle&&this.handle.location&&!this.handle.closed?this.registerCancelObserver():this.cancel())},buildUrl:function(e,t){return this.POPUP_URL.replace("{callback}",e).replace("{params}",r.param(t||{}))}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(1))},,function(e,t,n){var i,o;i=[n(2),n(4)],o=function(e,t){var n={},i={};return n.setThemePartials=function(t){if(i!==t){for(var n in i)delete i[n];e.extend(i,t)}},n.render=function(o,r,s,a){var l=e.toArray(arguments).slice(1);return l[0]=n.getTemplate(o)||r,i.length&&(l[2]=e.extend(a||{},i)),t.render.apply(t,l)},n.getTemplate=function(e){return e+=".tpl","/"===e[0]&&(e=e.substring(1)),i[e]?i[e]:null},n}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(272),n(628)],o=function(e,t){var n=e.extend({topbar:new t,initialize:function(){e.prototype.initialize.apply(this,arguments),this.mode=this.constructor.MODE_MOVE},renderContent:function(){e.prototype.renderContent.apply(this,arguments),this.delegateTopBarEvents(),this.mode===this.constructor.MODE_COPY?this.topbar.setActiveCopy():this.mode===this.constructor.MODE_MOVE&&this.topbar.setActiveMove()},delegateTopBarEvents:function(){this.stopListening(this.topbar),this.listenTo(this.topbar,{"change:mode:copy":this.setCopyMode,"change:mode:move":this.setMoveMode})},setCopyMode:function(){this.mode=this.constructor.MODE_COPY,this.setPageViewOption("disableThisPage",!1),this.renderContent(this.$contentInnerEl)},setMoveMode:function(){this.mode=this.constructor.MODE_MOVE,this.setPageViewOption("disableThisPage",!0),this.renderContent(this.$contentInnerEl)},onPageSelected:function(e){e.pageID&&this.trigger("page:selected",this.mode,e)}},{MODE_COPY:"copy",MODE_MOVE:"move"});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(2),n(330),n(272),n(627),n(774)],o=function(e,t,n,i,o,r){var s=n.extend({events:{"click .js-this":"onClickThisPage","click .js-another":"onClickAnotherPage"},renderContent:function(t){this.mode===this.constructor.MODE_COPY?n.prototype.renderContent.apply(this,arguments):this.mode===this.constructor.MODE_MOVE&&(this.delegateTopBarEvents(),this.topbar.setActiveMove(),t.html(e.render(r)))},onClickThisPage:function(){this.pushPanel(new o({section:this.options.section,title:_W.utl("sections.movecopy.on_this_page_title"),forwardLink:!1,backLink:{isDirectional:!0}}))},onClickAnotherPage:function(){var e=i.extend({onPageSelected:function(e){e.pageID&&this.trigger("page:selected",n.MODE_MOVE,e)}});this.pushPanel(new e(t.extend({},this.options,{selectorTitle:"",title:_W.utl("sections.movecopy.to_another_page_title"),forwardLink:!1,backLink:{isDirectional:!0},hideThisPage:!0})))}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(3),n(4),n(777)],o=function(e,t,n){var i=e.Marionette.ItemView.extend({template:t.compile(n),className:"app-tutorial-steps app-tutorial",templateHelpers:function(){var e=this;return{steps:function(){var t=e.model.get("content");return t.map(function(e,t){return{index:_W.utl("platform.Editor.Element.Settings.TutorialModal.StepLabel",t+1),value:e}})}}},onRender:function(){this.$el.find("a").attr("target","_blank")}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(20),n(780)],o=function(e,t,n,i){var o=e.Marionette.ItemView.extend({template:t.compile(i),className:"app-tutorial-video app-tutorial",ui:{videoPlaceholder:".app-tutorial-video-placeholder"},events:{"click @ui.videoPlaceholder":"openAppVideoTutorial"},openAppVideoTutorial:function(){var e=this;this.currentElement=Weebly.Elements.currentElement,Weebly.Elements.currentElement=null;var t='<iframe class="app-tutorial-ytplayer" type="text/html" src="https://www.youtube.com/embed/'+this.model.get("content")+'?autoplay=1"></iframe>',i=new n({hasContentLegacyStyles:!1,hasProgressBar:!1,width:1180,height:600,isModal:!0,content:t,title:"Tutorial",wrapClassName:"ui-framework",onBack:function(){e.resetElement(),this.close()}});i.open()},resetElement:function(){Weebly.Elements.setCurrentElement(this.currentElement)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(233)],o=function(e,t,n){var i=new Class.create({STATE_UNSHARED:"unshared",STATE_SHARING:"sharing",STATE_SHARED:"shared",TEXT_FAIL:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_1"),TEXT_DENY:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_2"),TEXT_REAUTH:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_3"),TEXT_EPREV:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_4"),TEXT_CLICK:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_5"),TEXT_RETRY:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_6"),options:{shareHandler:"none",shareOptions:{},authWindow:null,authCallback:null},initialize:function(e,t){this.element=e,this.service=e.readAttribute("data-service"),this.options=n.mergeOptions(this.options,t),this.bindEvents(),this.hasPreviousError()&&this.setError(this.TEXT_EPREV,this.TEXT_RETRY,this.share.bind(this))},click:function(){this.getState()==this.STATE_UNSHARED&&(this.setState(this.STATE_SHARING),this.isAuthenticated()?this.share():this.auth())},share:function(){var t=this.options.shareHandler,n=this.options.shareOptions;"ajax"==t?e.ajax({type:"POST",url:window.ajax,data:n||{},dataType:"json"}).done(this.shareSuccess.bind(this)).fail(this.shareFailure.bind(this)):"callback"==t&&n.fn&&n.fn.apply(null,n.args||{})},shareSuccess:function(e){return"success"==e.status?void this.setState(this.STATE_SHARED):"failure"==e.status&&"reauthorize"==e.reason?(this.setState(this.STATE_UNSHARED),void this.setError(this.TEXT_REAUTH,this.TEXT_CLICK,this.reauth.bind(this))):(this.setState(this.STATE_UNSHARED),void this.setError(this.TEXT_FAIL))},shareFailure:function(e,t){console&&console.log(e,t),this.setState(this.STATE_UNSHARED),this.setError(this.TEXT_FAIL)},auth:function(){this.options.authWindow?new this.options.authWindow({onSuccess:this.authSuccess.bind(this),onFailure:this.authFailure.bind(this),onCancel:this.resetState.bind(this)}):this.options.authCallback&&this.options.authCallback()},authSuccess:function(){this.setAuthenticated(!0),this.share()},authFailure:function(e){this.setState(this.STATE_UNSHARED);var t="external"==e.group&&"user_denied"==e.error;this.setMessage(t?this.TEXT_DENY:this.TEXT_FAIL)},adjustSpacing:function(t){if("twitter"==this.service.toLowerCase()){var n=e(this).closest("#publish-window-header").siblings("#publish-window-footer");t?n.addClass("twitter-failure"):n.removeClass("twitter-failure")}},reauth:function(){this.setState(this.STATE_SHARING),this.auth()},isAuthenticated:function(){return"1"===this.element.readAttribute("data-has-auth")},setAuthenticated:function(e){this.element.writeAttribute("data-has-auth",e?"1":"0")},setMessage:function(e,t,n){var i=this.element.down(".publish-share-message");if(i&&(this.adjustSpacing(Boolean(e)),e=e.replace(/\{service\}/g,this.service),i.removeClassName("publish-share-message-error").setInnerText(e+" "),t&&n)){var o=new Element("a",{href:"#"});o.setInnerText(t).observe("click",function(e){e.stop(),n()}),i.insert(o)}},setError:function(e,t,n){var i=this.element.down(".publish-share-message");i&&(this.setMessage(e,t,n),i.addClassName("publish-share-message-error"))},resetMessage:function(){this.setMessage("")},getState:function(){for(var e=this.element,t=[this.STATE_SHARED,this.STATE_SHARING,this.STATE_UNSHARED],n="publish-share-button-",i=0;i<t.length;i++)if(e.hasClassName(n+t[i]))return t[i];return null},setState:function(e){this.resetMessage();var t="publish-share-button-",n=this.element;n.removeClassName(t+this.STATE_UNSHARED).removeClassName(t+this.STATE_SHARING).removeClassName(t+this.STATE_SHARED).addClassName(t+e)},resetState:function(){this.setState(this.STATE_UNSHARED),this.resetMessage()},bindEvents:function(){this.element.observe("click",function(e){e.stop(),this.click()}.bind(this))},hasPreviousError:function(){return"1"===this.element.readAttribute("data-prev-error")}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(46),n(635),n(636),n(637),n(172),n(219),n(413),n(8),n(696),n(506),n(462),n(27)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){var h=Class.create(i,{TEXT_DOMAIN_AVAILABLE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_20"),TEXT_CLICK_TO_CONTINUE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_21"),TEXT_VERIFY_NOTICE_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_22"),TEXT_UPGRADE_NOTICE_MESSAGE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_23"),TEXT_UPGRADE_NOTICE_MESSAGE_ELEMENT:"html.weebly.libraries.classes.PublishWindow.Website_24",TEXT_UPGRADE_NOTICE_UPGRADE_PRO:t.utl("html.weebly.libraries.classes.PublishWindow.Website_25"),TEXT_UPGRADE_NOTICE_UPGRADE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_26"),TEXT_UPGRADE_NOTICE_PUBLISH:t.utl("html.weebly.libraries.classes.PublishWindow.Website_27"),TEXT_CAPTCHA_REQUIRED:t.utl("html.weebly.libraries.classes.PublishWindow.Website_28"),TEXT_PUBLISH_SITE_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_29"),TEXT_OK_PUBLISH_MY_SITE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_30"),TEXT_CAPTCHA_ERROR:t.utl("html.weebly.libraries.classes.PublishWindow.Website_31"),TEXT_CAPTCHA_GET_IMAGE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_32"),TEXT_CAPTCHA_GET_AUDIO:t.utl("html.weebly.libraries.classes.PublishWindow.Website_33"),TEXT_CAPTCHA_GET_HELP:t.utl("html.weebly.libraries.classes.PublishWindow.Website_34"),TEXT_CAPTCHA_INSTRUCTIONS_AUDIO:t.utl("html.weebly.libraries.classes.PublishWindow.Website_35"),TEXT_CAPTCHA_INSTRUCTIONS_IMAGE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_36"),URL_DOMAIN_DROPDOWN_BUTTON:"http://"+window.editorStatic+"/weebly/images/gray-drop-down-larger.jpg",success:function($super,i,o){if(i.match(/Error\s/i))return this.close(),window.showWarning(i),void n.go("main");if(i.match(/BlogVerifyWarning\s/i))return this.close({skipGoMain:!0}),window.showWarning(i),this.createVerifyNotice(!1),void("function"==typeof window.ga&&window.ga("send","pageview",{page:"/verify-account",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_16")}));if(i.match(/VerifyWarning\s/i))return this.close(),window.showWarning(i),this.createVerifyNotice(),"function"==typeof window.ga&&window.ga("send","pageview",{page:"/verify-account",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_16")}),void n.go("main");if(i.match(/CaptchaRequired\s/i))return void this.renderCaptcha("#exportText",l.LOCATION_SITE_PUBLISH,this.handleCaptcha);if(i.match(/%%UPGRADEELEMENTS%%/)){var r=i.replace(/%%UPGRADEELEMENTS%%/g,"").replace(/\s*/g,"");return this.createUpgradeNotice(JSON.parse(r)),void("function"==typeof window.ga&&window.ga("send","pageview",{page:"/upgrade-required",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_18")}))}if(i.match(/%%PUBLISHRATELIMITED%%/))return this.createRateLimitNotice(),void("function"==typeof window.ga&&window.ga("send","pageview",{page:"/publish-rate-limited",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_37")}));$super(i);var s=new d({el:"#publish-window-footer",usedFeatures:o}),a=e("#siteLocation");if(a.length){window.currentSiteLocation=a.html(),this.createDomainSelector(this.getBodyElement());var u=e("#client-preview-button");u.length&&(e("#client-go-live-button").hide(),e("#publish-button").show())}this.dialog.positionDialog();var h={responseText:i},p=e("#exportText");handleDesignerPublishCodes(h,window.currentSite,p[0]);var f=this.getBodyElement().select(".publish-share");if(f.length&&this.attachShareButtons(f[0]),c.trackEvent("editor","publish_site"),"function"==typeof window.ga){var m="no";t.isFirstPublish&&(m="yes"),window.ga("send","pageview",{page:"/publish?first-time="+m,title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_19")})}return t.isFirstPublish=!1,this},createDomainSelector:function(e){this.isDropdownNew()?this.loadNewDropDown(e):(this.defaultTLDs=u.getOptimizedTLDs(userCountryCode),this.loadOldDropDown(e))},defaultTLDs:[],isDropdownNew:function(){var t=e("#publish_domain_tld");if(t.length)return t.data().hasOwnProperty("dropdown")},loadNewDropDown:function(t){var n=e("#publish_domain_tld"),i=e("#publish_domain_sld"),o=e("#export-title-text"),r=e("#publish_domain_tld").wSelectbox({theme:"com"});r.on("change",window.checkDomain);var s=e(t).find(".domain-check-success").eq(0).is(":visible"),a=o.length&&o.html().match(/\.net.*available/);if(s&&a?(n.val("net"),r.val("net")):n.val("com"),setTimeout(function(){i.trigger("focus")},50),s){var l='<a style="color: green;">'+self.TEXT_DOMAIN_AVAILABLE+"</a>";e("#domainStatus").html(l)}},loadOldDropDown:function(t){var n=e("#publish_domain_tld"),i=e("#publish_domain_sld"),o=e("#export-title-text"),r=[];if(this.defaultTLDs.each(function(e){r.push([e,"."+e])}),n.length){var s=new Weebly.DropDown(n[0],{availableValues:r,width:"65",height:"28",openWidth:"65",dropDownButton:{src:this.URL_DOMAIN_DROPDOWN_BUTTON,width:"21",height:"25"},updateFunction:window.checkDomain}),a=e(t).find(".domain-check-success").eq(0).is(":visible"),l=o.length&&o.html().match(/\.net.*available/);if(a&&l?(n.val("net"),s.setValue("net")):n.val("com"),setTimeout(function(){i.trigger("focus")},50),a){var c='<a style="color: green;">'+self.TEXT_DOMAIN_AVAILABLE+"</a>";e("#domainStatus").html(c)}}},createVerifyNotice:function(t){"undefined"==typeof t&&(t=!0),$error=e("#orange-error-title"),$notice=e("#verifyNotice");var n=e("<a/>",{class:"orange-button-29",href:"#"});$error.html(this.TEXT_VERIFY_NOTICE_TITLE).css("font-size","24px"),n.html('<span class="bi">'+this.TEXT_CLICK_TO_CONTINUE+"</span>").on("click",function(e){return openVerifyWindow(t),warningDialog.close(),!1}),$notice.after("<br />",n)},fixErrorTitle:function(){e("#orange-error-title").html("Publish Temporarily Disabled").css("font-size","24px")},renderCaptcha:function(e,t,n){l.setCaptchaMarkup(e).render(t,n)},handleCaptcha:function(e){e===!0?(l.teardown(),doExport()):l.reset()},createUpgradeNotice:function(e){var n="",i=0,o=this.TEXT_UPGRADE_NOTICE_UPGRADE_PRO,r=this.TEXT_UPGRADE_NOTICE_MESSAGE;e&&(e.level&&(i=e.level),e.restrictionID&&e.elementName&&(n=", restrictionID:"+e.restrictionID,o=this.TEXT_UPGRADE_NOTICE_UPGRADE,r=t.utl(this.TEXT_UPGRADE_NOTICE_MESSAGE_ELEMENT,e.elementName))),this.setBody('<div class="publish-upgrade-notice"><div class="publish-upgrade-notice-title">'+r+'</div><div class="publish-upgrade-notice-publish"><a class="btn btn-default btn-large" href="#" onclick="doExport(); return false;">'+this.TEXT_UPGRADE_NOTICE_PUBLISH+'</a></div><div class="publish-upgrade-notice-upgrade"><a class="btn btn-large btn-primary" href="#" onclick="editorApp.vent.trigger(\'billing:upgrade:window\', { refer:\'publish_notice\', level:'+i+n+'}); return false;"><img class="old-button-bg" src="http://'+window.editorStatic+'/weebly/images/upgrade_large.gif" alt="Upgrade" style="border:none;" /><span class="label">'+o+"</span></a></div></div>")},createRateLimitNotice:function(){this.setBody('<div class="publish-upgrade-notice"><div class="publish-upgrade-notice-publish">'+t.utl("html.weebly.libraries.classes.PublishWindow.Website_38")+"</div></div>")},attachShareButtons:function(e){this.buttons={};var t={facebook:o,twitter:r};["facebook","twitter"].each(function(n){var i=e.down(".publish-share-"+n);if(i){var o=this.createShareButton(t[n],i,n);this.buttons[n]=o}}.bind(this))},createShareButton:function(e,t,n){var i=this.getBodyElement().select(".publish-share")[0],o=i.readAttribute("data-site-id"),r={facebook:s,twitter:a};return new e(t,{shareHandler:"ajax",shareOptions:{type:n,pos:"publishshare",site_id:o,token:Weebly.RequestToken},authWindow:r[n.toLowerCase()]})}});return h}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(6),n(4),n(225),n(41),n(12)],
o=function(e,t,n,i,o,r,s,a){var l=r.extend({initialize:function(e){var t=this;r.prototype.initialize.call(this),i.reqres.setHandlers({"element:options:get:ucfpid":function(e){return s.getPropertyByKey(t.collection,"ucfpid",e)}}),i.vent.on({"element:options:set:ucfpid":function(e,n,i){s.setPropertyByKey(t.collection,"ucfpid",e,n),i&&i()}}),t.initPropertyValues(),t.initGroups()},initPropertyValues:function(){var t=this,n=function(t){var n,i=t.cfpid,o=t.ucfpid,r=t.ucfid;if(t.values){var s=e.filter(t.values,function(e){return e.trigger});if(s.length>0){var l=t.default;e.each(s,function(e){var n=e.trigger,i=n.cfpid,o=Weebly.Elements.uproperty.properties[i].property_result||n.default;n.ucfpid=Weebly.Elements.uproperty.properties[i].ucfpid,n.ucfid=Weebly.Elements.uproperty.ucfid,"int"===n.type&&(o=parseInt(o)||t.default||0),n.value=o,o!==n.default&&(l=e.value)}),t.value=l}}i&&"undefined"!=typeof Weebly.Elements.uproperty.properties[i]&&(n=Weebly.Elements.uproperty.properties[i].property_result||t.default,t.ucfpid=Weebly.Elements.uproperty.properties[i].ucfpid,e.contains(a.IMAGE_LINK_LIGHTBOX_CFPIDS,i)&&(t.ucfpid+="-"+t.name),"int"===t.type&&(n=parseInt(n)||t.default||0),t.value=n),t.ucfid=Weebly.Elements.uproperty.ucfid};e.each(t.collection.models,function(e){s.propertyIterator(e,n)})},prepareSettingsSave:function(){var t=this,n={};return t.collection.each(function(t){e.each(t.get("properties"),function(e){var t=e.default||null,i="undefined"==typeof e.value?t:e.value;n[e.name]=i})}),n}});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(4),n(96),n(40),n(813)],o=function(e,t,n,i,o,r,s){var a=r.extend({template:i.compile(s),events:{"click .inline-selector__option ":"setActive"},ui:{active:".is-selected",options:".inline-selector__option "},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("tooltip");return{leftValue:function(){return e.getValueFromValues("left")},centerValue:function(){return e.getValueFromValues("center")},rightValue:function(){return e.getValueFromValues("right")},label:o.truncateLabel(_W.utl(t)),tooltip:o.formTooltip(_W.utl(t),n)}},setActive:function(e){e.preventDefault(),this.ui.options.removeClass("is-selected"),this.ui.options.filter("[value="+e.currentTarget.getAttribute("value")+"]").addClass("is-selected"),this.saveValue()},onRender:function(){r.prototype.onRender.call(this);var e=this.model.get("value"),n=this.model.get("values");if(n){var i=t.find(n,function(t){return t.value===e.toString()});e=i?i.name:e}var o=e||this.model.get("default")||"left";this.ui.options.filter('*[value="'+o+'"]').addClass("is-selected")},getValue:function(){return this.model.get("ucfpid")?this.ui.options.filter(".is-selected").data("value"):this.ui.options.filter(".is-selected").attr("value")},getValueFromValues:function(e){var n=this,i=n.model.get("values");return i?t.find(i,function(t){return t.name===e}).value:e}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(1),n(40),n(816),n(201)],o=function(e,t,n,i,o){var r=i.extend({template:t.compile(o),events:{"change @ui.input":"saveValue"},ui:{input:"input"},templateHelpers:function(){var e=this,t=e.model.get("label");return{label:_W.utl(t)}},onRender:function(){i.prototype.onRender.call(this);var e=this,t=e.getDefaultColor(),n=e.ui.input;void 0===e.model.get("value")&&e.model.set("value",e.getDefaultColor()),n.wColorChooser({color:t,flat:!0,showPaletteOnly:!0,showPalette:!0,togglePaletteOnly:!1,showInput:!0,showButtons:!1,onBeforeShow:function(){var t=e.getDefaultColor();n.wColorChooser("smart"),t&&n.spectrum("set",t)},onChange:function(){n.spectrum("hide")}}),e.$el.find(".sp-palette-input-container").prepend(e.ui.input),e.$el.find(".sp-expand").remove()},changeHandler:function(){var e=this;e.saveValue(),e.render()},getValue:function(){var e=this,t=e.model.get("stripPoundSign"),i="input"===e.ui.input?null:e.ui.input.val();if(i)if(i=i.trim(),t)i=i.replace("#","");else{var o=n("<div>").css("background-color",i);o.css("background-color")||(i="#"+i)}return i},getDefaultColor:function(){return this.model.get("value")||this.model.get("default")||"#FFF"}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(4),n(6),n(112),n(41),n(351),n(40),n(12),n(818),n(812)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){var h=l.extend({itemViewContainer:"div.group",getTemplate:function(){return i.compilePartial("elements/settings/group-item",d),i.compile(u)},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("description");return{label:t?_W.utl(t):t,description:!!n&&_W.utl(n)}},onRender:function(){var e=l.prototype.onRender.call(this);if(!e){var n=this,i=n.model.get("properties"),o=["select","checkbox","radio","text"];if(i=t.filter(i,function(e){return!e.hidden&&!e.detached}),n.$el.removeClass("group__item"),1===i.length&&t.contains(o,i[0].type)){var r=n.renderProperty(i[0],!1);n.$el.html(r)}else n.renderPropertiesGroup(i);n.renderDetachedItems()}},renderProperty:function(e,n){var i=a.getItemView(e),o=new r(e),l=this.collection||this.model.collection;l&&this.listenTo(o,"change",function(e){s.setPropertyByKey(l,"name",e.get("name"),e.get("value")),t.contains(c.IMAGE_LINK_LIGHTBOX_CFPIDS,e.get("cfpid"))&&s.setPropertyByKey(l,"ucfpid",e.get("ucfpid").split("-")[0]+"-link","")});var u=new i({model:o,collection:l,isInGroup:n}).render().$el;return u},renderPropertiesGroup:function(e){var n=this.$el.find(this.itemViewContainer).eq(0);t.each(e,function(e){var t=this.renderProperty(e,!0);n.append(t)}.bind(this))},renderDetachedItems:function(){var n=this.model.get("properties");n=t.filter(n,function(e){return e.detached&&!e.hidden}),t.each(n,function(t){var n=this.renderProperty(t,!1),o=i.render(d,{isDropdown:!!t.values});$detachedGroupEl=e(o),$detachedGroupEl.append(n),$detachedGroupEl.children().length>0&&this.$el.append($detachedGroupEl)},this)}});return h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(40)],o=function(e,t,n){var i=n.extend({template:t.compile("<div></div>"),attributes:function(){return{class:"hidden"}},onBeforeRender:function(){this.$el.remove()},getValue:function(){return this.model.get("value")},isValid:function(){return!1}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(96),n(40),n(819)],o=function(e,t,n,i,o,r){var s=o.extend({template:n.compile(r),events:{"keypress @ui.input":"onKeyPress","blur @ui.input":"inputBlur","click .stepper__step":"stepHandler"},ui:{input:"input",increase:"[data-role=increase]",decrease:"[data-role=decrease]"},initialize:function(){o.prototype.initialize.call(this),this.stepAmount=this.model.get("step")?this.model.get("step"):1},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("tooltip");return{default:e.model.get("default")||0,label:i.truncateLabel(_W.utl(t)),tooltip:i.formTooltip(_W.utl(t),n)}},onKeyPress:function(e){this.isKeyNumeric(e.which)||e.preventDefault()},stepHandler:function(t){var n=e(t.target),i=n.attr("data-role")||n.parent().attr("data-role");"increase"===i?this.stepUp(t):"decrease"===i&&this.stepDown(t)},stepUp:function(e){e.preventDefault();var t=this.getValueOrDefault(),n=parseInt(this.model.get("max"))||Number.MAX_SAFE_INTEGER,i=parseInt(this.stepAmount,10);return t>=n?void this.ui.increase.addClass("is-disabled"):(this.ui.decrease.removeClass("is-disabled"),this.ui.input.val(t+i),void this.ui.input.blur())},stepDown:function(e){e.preventDefault();var t=this.getValueOrDefault(),n=parseInt(this.model.get("min"))||0,i=parseInt(this.stepAmount,10);return t<=n?void this.ui.decrease.addClass("is-disabled"):(this.ui.increase.removeClass("is-disabled"),this.ui.input.val(t-i),void this.ui.input.blur())},getValueOrDefault:function(){var e=this.getValue();return isNaN(e)||null===e||void 0===e?parseInt(this.model.get("default"),10)||0:e},getValue:function(){return parseInt(this.ui.input.val(),10)},isKeyNumeric:function(e){return String.fromCharCode(e)%1===0},inputBlur:function(){var e=this.getValueOrDefault(),t=parseInt(this.model.get("max"),10),n=parseInt(this.model.get("min"),10);this.model.get("step")&&(step=parseInt(this.model.get("step"),10)),e>t&&(e=t),e<n&&(e=n),this.ui.input.val(e),this.saveValue()}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(4),n(14),n(12),n(41),n(40),n(268),n(17),n(51),n(44),n(323),n(820)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){var f=a.extend({template:i.compile(p),templateHelpers:function(){return{label:_W.utl(this.model.get("label"))}},events:{click:"openLinker"},ui:{subLabel:".link-item-sublabel"},onRender:function(){var e=this;e.updateSubLabel()},openLinker:function(){var e=this,t=e.model.get("ucfid"),n=e.model.get("cfpid"),i={};i.ucfid=t,i.remove=!0,i.context=e,i.existing=e.generateParsedLink(),i.onChoose=e.onChoose,r.FORM_CONFIRMATION_LINK_CFPID===n&&(i.disableFile=!0,i.disableEmail=!0,i.disableNewWindow=!0,i.remove=!1),e.container=o.request("element:options:dialog:get:current"),e.container.getContainerEl().parent().addClass("linker");var s=l.getLinkerView(i);e.container.pushPanel(s)},generateParsedLink:function(){var n=this,i=n.model.get("value"),o=Weebly.Elements.getPropertyByReference("<!TARGET!>").property_result,s=Weebly.Elements.getPropertyByReference("<!LINK!>").property_result,a=n.model.get("cfpid"),l={};return l=t.contains(r.IMAGE_LINK_LIGHTBOX_CFPIDS,a)&&s.indexOf("weebly-image-full")>-1?window.parseLinkString(""):t.contains(r.IMAGE_LINK_LIGHTBOX_CFPIDS,a)&&s.indexOf("href")>-1?window.parseLinkString(e(s).attr("href")):window.parseLinkString(i),(o&&o.search(/(target=["']_blank["'])/)!==-1||s&&s.search(/(target=["']_blank["'])/)!==-1)&&(l.newWindow=!0),l},updateSubLabel:function(){var e=this;h.getNameFromParsedLink(e.generateParsedLink(),function(t){e.showSubLabel(t)})},showSubLabel:function(e){var t=this;t.ui.subLabel.html(e)},onChoose:function(n,i){var o=this,a=o.model.get("cfpid"),l=Weebly.Elements.getPropertyByReference("<!TARGET!>"),c=l.cfpid;if(t.contains(r.IMAGE_LINK_LIGHTBOX_CFPIDS,a)){var u=o.model.get("ucfpid").split("-")[0];e("#"+u+"-lightbox").prop("checked",!1).removeClass("checked"),s.setPropertyByKey(o.collection,"ucfpid",u+"-link","<a"+(n?" href='"+n+"'":"")+(i?" target='_blank'":"")+">"),s.setPropertyByKey(o.collection,"ucfpid",u+"-lightbox","0"),Weebly.Elements.continueOnChange()}else a&&(Weebly.Elements.uproperty.properties[a].property_result=n||"javascript:;"),c&&(Weebly.Elements.uproperty.properties[c].property_result=i?'target="_blank"':""),o.model.set("value",n),Weebly.Elements.saveProperties()}});return f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(1),n(2),n(4),n(112),n(15),n(255),n(41),n(174),n(40),n(822),n(821)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){var h=c.extend({template:i.compile(u),events:{"click @ui.addOption":"insertNewOption","blur @ui.options":"saveValue","click @ui.deleteButtons":"deleteOption","sort @ui.optionGroup":"saveValue","click .open-predefined":"openPredefinedOptions"},ui:{optionGroup:".js-form-option-group",addOption:".js-add-option",options:".js-option",deleteButtons:".js-delete-option"},onBeforeRender:function(){var e=this;e.dialog.onBeforeForward=function(){e.toggleEdit()}},onShow:function(){var e=this;e.isEditing=!1,e.initSortable()},templateHelpers:function(){var e=this;return{options:function(){var t=e.model.get("value")?e.model.get("value").split("||"):[];return t}}},getValue:function(){var e=this,t=[];return e.bindUIElements(),n.each(e.ui.options.find("input[name=std]"),function(e){var n=e.value.trim();n.length>0&&t.push(n)}),t.join("||")},insertNewOption:function(){var e=this,n=i.render(d);t(e.ui.options[0]).hasClass("is-editing")&&e.toggleEdit(),e.ui.options.last().after(n),e.bindUIElements(),e.$el.find(".group__item").eq(-1).find("input").focus()},deleteOption:function(e){var n=this;t(e.currentTarget).parent().remove(),n.bindUIElements(),n.saveValue()},initSortable:function(){var e=this;this.sortedGroup=new s.create(e.ui.optionGroup)},toggleEdit:function(){var e=this,t=e.dialog;e.ui.optionGroup.toggleClass("is-sorting is-deletable"),e.isEditing?(t.$headerEl.find(".topbar").removeClass("is-activated"),t.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_1"))):(t.$headerEl.find(".topbar").addClass("is-activated"),t.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_2"))),e.isEditing=!e.isEditing},openPredefinedOptions:function(){var e=this,t=this.dialog,n,i=[{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_138",value:"Gender"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_139",value:"Age"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_140",value:"Income"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_141",value:"Marketing Reference"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_142",value:"Answer"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_143",value:"Education"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_144",value:"Employment"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_145",value:"Days of the Week"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_146",value:"Months of the Year"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_147",value:"U.S. States"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_148",value:"How Often"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_149",value:"How Long"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_150",value:"Satisfaction"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_151",value:"Importance"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_152",value:"Agreement"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_153",value:"Comparison"}],s={Gender:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_8"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_9")],Age:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_10"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_11"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_12"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_13"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_14"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_15"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_16")],Income:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_17"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_18"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_19"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_20"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_21"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_22")],"Marketing Reference":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_23"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_24"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_25"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_26")],Answer:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_3"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_4"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_5")],Education:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_27"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_28"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_29"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_30"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_31"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_32"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_33")],Employment:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_34"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_35"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_36"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_37")],"Days of the Week":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_38"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_39"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_40"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_41"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_42"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_43"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_44")],"Months of the Year":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_45"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_46"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_47"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_48"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_49"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_50"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_51"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_52"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_53"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_54"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_55"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_56")],"U.S. States":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_57"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_58"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_59"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_60"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_61"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_62"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_63"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_64"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_65"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_66"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_67"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_68"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_69"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_70"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_71"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_72"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_73"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_74"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_75"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_76"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_77"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_78"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_79"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_80"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_81"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_82"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_83"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_84"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_85"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_86"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_87"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_88"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_89"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_90"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_91"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_92"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_93"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_94"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_95"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_96"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_97"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_98"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_99"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_100"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_101"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_102"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_103"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_104"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_105"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_106"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_107")],"How Often":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_108"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_109"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_110"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_111"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_112")],"How Long":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_113"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_114"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_115"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_116"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_117")],Satisfaction:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_118"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_119"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_120"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_121"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_122")],Importance:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_123"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_124"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_125"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_126"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_127")],Agreement:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_128"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_129"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_130"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_131"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_132")],Comparison:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_133"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_134"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_135"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_136"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_137")]},c;n=new l({model:new o({values:i,type:"optionItems"})}),n.dialogOptions={title:_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_6"),backLink:_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_7")},c=new r.Panel(n),c.listenTo(c,"before:pop",function(e){var t=n.model.get("value");if(t){var i=s[t].join("||"),o=e.contentView.model.get("ucfpid"),r=e.contentView.model.get("cfpid");a.setPropertyByKey(e.contentView.collection,"ucfpid",o,i),e.contentView.model.set("value",i),Weebly.Elements.onChange(o,r)}}),t.pushPanel(c)}});return h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(3),n(4),n(174),n(824)],o=function(e,t,n,i){var o=n.extend({template:t.compile(i),events:{"change @ui.input":"saveValue"},templateHelpers:function(){var e=this,t=e.model.get("label");return r.extend({label:_W.utl(t)},n.prototype.templateHelpers.call(this))},ui:{input:"input"},getValue:function(){return this.$el.find("input:checked").val()},isValid:function(){return!0}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(3),n(4),n(96),n(40),n(826),n(253)],o=function(e,t,n,i,o){var r=i.extend({template:t.compile(o),ui:{input:".slider"},getValue:function(){return parseInt(this.ui.input.val(),10)},templateHelpers:function(){var e=this,t=e.model.get("label"),i=e.model.get("tooltip");return{value:this.model.get("value")||0,label:n.truncateLabel(_W.utl(t)),tooltip:n.formTooltip(_W.utl(t),i)}},onRender:function(){if(i.prototype.onRender.call(this),0===this.model.get("value")||"0"===this.model.get("value"))var e=this.model.get("value");else var e=this.model.get("value")||this.model.get("default")||this.model.get("min")||0;var t={range:"min",value:e};this.model.get("max")&&(t.max=this.model.get("max")),this.model.get("min")&&(t.min=this.model.get("min")),this.model.get("step")&&(t.step=this.model.get("step")||1),t.stop=function(e,t){var n=this.model.get("ucfpid"),i=this.model.get("cfpid");this.model.set("value",t.value),(n||i)&&Weebly.Elements.onChange(n,i)}.bind(this),this.listenTo(this.model,"change:value",this.render),this.ui.input.slider(t)},isValid:function(){var e=this.getValue(),t=this.model.get("max"),n=this.model.get("min"),i=this.model.get("step"),o=!0;return null!=n&&void 0!=n&&e<n&&(o=!1),null!=t&&void 0!=t&&e>t&&(o=!1),null!=i&&void 0!=i&&e%i!=0&&(o=!1),o},getValue:function(){return this.ui.input.slider("value")},isValid:function(){return!0}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(4),n(21),n(96),n(40),n(829)],o=function(e,t,n,i,o,r,s,a){var l=s.extend({template:i.compile(a),templateHelpers:function(){var n=this.model.get("value")||this.model.get("default"),i=["radio","select"],o=this.model.get("label"),s=this.model.get("tooltip"),a=this.model.get("type");return"buttonDropdown"===this.model.get("special")||"optionItems"===a||"social"===this.model.get("action")?{value:"",label:o?r.truncateLabel(_W.utl(o)):o,tooltip:r.formTooltip(_W.utl(o),s)}:(e.contains(i,a)&&("object"==typeof this.model.get("values")[0]?(n=e.find(this.model.get("values"),function(e){return e.value===n}),n=n?n.short||n.name:this.model.get("default")):n=e.find(this.model.get("values"),function(e){return e===n})),"color"!==a||null!==n&&void 0!==n||(n="#000000"),"color"!==a||n.indexOf("#")!==-1||t("<div>").css("background-color",n).css("background-color")||(n="#"+n),{value:n?_W.utl(n):n,label:o?_W.utl(o):o,isColor:"color"===a,tooltip:r.formTooltip(_W.utl(o),s)})},onShow:function(){o.initialize()}});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(228),n(830)],o=function(e,t,n,i){var o=n.extend({template:t.compile(i),events:{"blur @ui.input":"saveValue","keyup @ui.input":"handleKeyPress"},ui:{input:"textarea",remaining:".remaining"}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(12),n(96),n(227),n(831),n(60)],o=function(e,t,n,i,o,r){var s=o.extend({template:t.compile(r),events:{"change @ui.input":"saveValue","click @ui.input":"updateToggleValue"},ui:{input:"input"},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("hovertip"),o=e.model.get("tooltip");return{checked:function(){return e.getParsedValueFromModel()?'checked="checked"':""},label:i.truncateLabel(_W.utl(t)),hovertip:!!n&&_W.utl(n),tooltip:i.formTooltip(_W.utl(t),o)}},onRender:function(){var e=o.prototype.onRender.call(this,!0);if(!e){var t=this,i=this.getParsedValueFromModel();if(n.STANDALONE_IMAGE_ELEMENTS.indexOf(Weebly.Elements.elementDef.elementid)>-1&&n.IMAGE_LINK_LIGHTBOX_CFPIDS.indexOf(t.model.get("cfpid"))>-1){var r=Weebly.Elements.getPropertyByReference("<!DATA!>").property_result||"{}";JSON.parse(r).hasOwnProperty("sprites")&&t.$el.hide()}t.ui.input.prop("checked",i),t.ui.input.toggleClass("checked",i)}},updateToggleValue:function(){this.ui.input.toggleClass("checked",this.ui.input.prop("checked"))},getValue:function(){var e=this,t=e.model.get("value"),n="1",i="0";return"true"===t||"false"===t?(n="true",i="false"):"form-not-required"===t||"form-required"===t?(n="form-required",i="form-not-required"):"yes"!==t&&"no"!==t||(n="yes",i="no"),this.ui.input.is(":checked")?n:i},isValid:function(){return!0}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(228),n(343),n(174),n(349),n(340),n(350),n(227),n(347),n(346),n(339),n(342),n(348),n(226),n(345),n(344)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f){return{getItemView:function(m){var g=m.get?m.get("type"):m.type,v=m.get?m.get("hidden"):m.hidden,b=m.get?m.get("actionPaneIndex"):m.actionPaneIndex,w=m.get?m.get("action"):m.action,y={string:e,int:t,checkbox:s,text:i,color:o,toggle:r,select:n,slider:a,radio:l,align:c,link:f,hidden:u,sublabel:d,optionsItems:p,button:h,group:"group"};return g="undefined"!=typeof b?"sublabel":g,g=v?"hidden":g,g="social"===w?"button":g,g=y.hasOwnProperty(g)?g:"string",y[g]}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(23)],o=function(e){var t={addColumn:function(t,n,i,o,r){var s=e.getElementObject(t),a=o?o:r;return!!s&&void s.addColumn(n,i,a)}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(14),n(7),n(91),n(656),n(115),n(74)],o=function(e,t,n,i,o,r,s){"use strict";function a(e){l(),u=new r({element:e,opacity:.7}),u.show()}function l(){u&&u.destroy()}var c,u,d,h,p,f,m=t.module("imageEditor.slideshow"),g={initialScreenShown:function(){m.clearToolbar()},slideshowStopped:function(){m.reset(),g.refreshSlideshow(!0)},slideshowImageAdded:function(){var e=i.getCurrentHeader(),t=e.data,n=t.slideshow.slides.length-1;g.refreshSlideshow(),g.gotoSlide(n)},slideshowOptionsOpened:function(){var e=i.getCurrentHeader(),t=e.data.slideshow;h=t},slideshowOptionsCanceled:function(){
var e,t=i.getCurrentHeader();return t.data.slideshow=h,h=void 0,e=i.setCurrentHeader(t),g.refreshSlideshow(),e},slideshowOrderUpdated:function(e){g.refreshSlideshow(),g.gotoSlide(e,!0)},gotoSlide:function(e,t){c.gotoSlide(e,t)},setSlideshowOptions:function(t){var n=!1,o=i.getCurrentHeader(),r=o.data.slideshow;e.has(t,"transition")&&(r.slide="slide"===t.transition,r.transition=t.transition,n=!0),e.has(t,"speed")&&(r.speed=t.speed,n=!0),e.has(t,"arrows")&&(r.arrows=t.arrows),e.has(t,"dots")&&(r.dots=t.dots),e.has(t,"dotPosition")&&(r.dotPosition=t.dotPosition),i.setCurrentHeader(o),g.refreshSlideshow(),m.play(n)},getCurrentSlide:function(){return c.getSlideIndex()},refreshSlideshow:function(e){var t=i.getCurrentHeader(),n=t.data||{};return e&&"slideshow"!==n.type?void m.clearHeaderSlideshow():(n.slideshow=n.slideshow||{dots:!0,arrows:!0,slide:!0},m.updateHeaderSlideshow(n.slideshow),void(e||m.initializeToolbar()))}};return m.on("start",function(){m.listenTo(n,{"imageeditor:slideshow:initialscreen":g.initialScreenShown,"imageeditor:slideshow:stop":g.slideshowStopped,"imageeditor:slideshow:image:saved":g.refreshSlideshow,"imageeditor:slideshow:image:removed":g.refreshSlideshow,"imageeditor:slideshow:image:add":g.slideshowImageAdded,"imageeditor:slideshow:options:open":g.slideshowOptionsOpened,"imageeditor:slideshow:order:updated":g.slideshowOrderUpdated}),n.commands.setHandlers({"imageeditor:slideshow:view":g.gotoSlide,"imageeditor:slideshow:options":g.setSlideshowOptions}),n.reqres.setHandlers({"imageeditor:slideshow:index":g.getCurrentSlide,"imageeditor:slideshow:options:cancel":g.slideshowOptionsCanceled})}),m.on("stop",function(){m.reset(),m.stopListening(n),n.commands.removeHandlers(["imageeditor:slideshow:view","imageeditor:slideshow:options"]),n.reqres.removeHandlers(["imageeditor:slideshow:index","imageeditor:slideshow:options:cancel"])}),m.edit=function(e){return p=e.element,f=p.style.cssText,c||g.refreshSlideshow(),!!c&&(m.initializeToolbar(),a(p),!0)},m.reset=function(){l(),m.clearToolbar(),u=void 0,h=void 0},m.play=function(e){c.play(e)},m.initializeToolbar=function(){d&&d.close(),d=new o({slideshow:c}),m.listenTo(d,{saveCaption:function(){g.refreshSlideshow()},change:function(e){n.execute("imageeditor:slideshow:select",e)},edit:function(e){n.execute("imageeditor:slideshow:image:edit",e)}}),d.render(),d.$el.appendTo("#_editor-ui").trigger("shown")},m.clearToolbar=function(){d&&(d.close(),d=void 0)},m.getHeaderSlideshow=function(){return c},m.updateHeaderSlideshow=function(e){var t,n;return c&&(t=c.getSlideIndex(),n=c.getHandlers(),m.clearHeaderSlideshow()),c=s.instantiateHeaderSlideshow(e),window.whenThemeCSSLoaded(function(){c&&c.render()}),void 0!==t&&c.gotoSlide(t,!0),void 0!==n&&c.setHandlers(n),c},m.clearHeaderSlideshow=function(){c&&(c.destroy(),c=null,f&&(p.style.cssText=f,f=null,p=null))},m}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2)],o=function(e){var t={},n={};return t.set=function(e,t){n[e]=t},t.get=function(e){return n[e]},t.each=function(t){e.each(n,t)},t.clear=function(){e.each(n,function(e,t){delete n[t]})},t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(7),n(115),n(281),n(12)],o=function(e,t,n,i,o){function r(t,i){i||(i="content");var o={paddingHeight:0,paddingWidth:0,opacity:.65};return s(),t=e.extend({},o,t),c=new n(t),c.show(),u=i,c}function s(e){e&&e!==u||(c&&c.destroy(),l&&l.setAnts(!1))}var a={},l,c,u;return a.showContentAreaSpotlights=function(t){var o={elements:i.topLevelDroppables,ants:!0,roundedCorners:!0,zIndex:9};l=n.getCurrent(),l?l.setAnts(!0):(t=t||{},t=e.extend({},o,t),r(t,"content"))},a.showSectionSpotlights=function(e){var t={elements:e,opacity:.2,interval:o.SECTION_SPOTLIGHT_REPOSITION_INTERVAL,borderWidths:"2 0 2 0",borderColor:"#78C7FB",maskColor:"#000",zIndex:16};return r(t,"section")},a.hideContentAreaSpotlights=function(){s("content")},a.hideSectionSpotlights=function(){s("section")},t.commands.setHandlers({showContentAreaSpotlights:a.showContentAreaSpotlights,hideContentAreaSpotlights:a.hideContentAreaSpotlights}),a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(7),n(4),n(14),n(39),n(358),n(872)],o=function(e,t,n,i,o,r,s){function a(){e(".instructions-container").remove(),e(".wsite-form-instructions").each(function(){r.setupFieldInstructions(this)})}function l(){var t=e(".menuBarExpand"),n=t.find(".menuIconAdvanced img");t.length&&("visible"===t.css("overflow")?(t.css({width:"",height:"",zIndex:"",paddingBottom:"",overflow:"hidden"}),n.attr("src","http://"+window.editorStatic+"/weebly/images/arrow_right.gif")):(t.css({width:"250px",height:"auto",zIndex:"100",paddingBottom:"31px",overflow:"visible",left:"auto",top:"auto"}),n.attr("src","http://"+window.editorStatic+"/weebly/images/arrow_down.gif"),u()))}function c(){var t=e(".menuBarExpand"),n=t.find(".predefined-options");n.is(":visible")?(n.hide(),t.find(".predefined-options-arrow").attr("src","/weebly/images/blog-settings-arrow-down.gif")):(n.children().length||f(),n.show(),t.find(".predefined-options-arrow").attr("src","/weebly/images/blog-settings-arrow-up.gif"))}function u(){if(e("#inputoptions").length&&!e("#inputoptions-open").length){for(var t=e("#"+y).val().split("||"),i=[],o=0;o<t.length;o++)t[o]=t[o].replace(/\"/g,"&quot;"),i.push(n.render(s,{urlPrefix:window.editorStatic,value:t[o]}));var r=e("<div>",{id:"inputoptions"});r.append(e("<div>").append(e("<div>",{id:"inputoptions-open",class:"editmenu-input-options"}).append(e("<ul>",{id:"inputoptions-list"}).append(e(i.join(""))))).append(e("<div>",{style:"position:relative; width:100%"}).append(e("<a>",{class:"editmenu-input-plus"}).append(e("<img>",{src:"http://"+window.editorStatic+"/weebly/images/options-plus.gif",alt:"Add"}))).append(e("<a>",{class:"editmenu-input-undo",style:"display:none;"}).append(e("<img>",{src:"http://"+window.editorStatic+"/weebly/images/undo_button.gif",alt:"Undo"}))).append(e("<a>",{class:"editmenu-input-save"}).append(e("<img>",{src:"http://"+window.editorStatic+"/weebly/images/options-save.gif",alt:"Save"}))))),e("#inputoptions").append(r),Sortable.create("inputoptions-list",{handle:"options-handle"}),r.on("click",".editmenu-input-delete",function(){d(this)}).on("click",".editmenu-input-plus",function(){h()}).on("click",".editmenu-input-undo",function(){m()}).on("click",".editmenu-input-save",function(){p()})}b&&e(".menuBarExpand").find(".editmenu-input-undo").show()}function d(t){e(t).up("li").remove()}function h(){var t=e("#inputoptions-list");t.length&&(t.append(n.render(s,{urlPrefix:window.editorStatic,value:""})),Sortable.create("inputoptions-list",{handle:"options-handle"}),setTimeout(function(){t.find("li:last-child input").focus()},100))}function p(){if(e("#inputoptions-list").length){var t=[];e("#inputoptions-list input").each(function(e,n){t.push(n.value)}),e("#"+y).val(t.join("||")),o.onChange(y),e("#inputoptions-open").parent().remove(),l()}}function f(){var t=e(".menuBarExpand"),n=t.find(".predefined-options");for(var i in _){var o=e("<div>",{class:"predefined-option",title:_[i].join(", "),category:i}).html(i);n.append(o)}t.find(".predefined-option").on("click",function(){b=!0,w=e("#"+y).val();var t=_[this.getAttribute("category")].join("||");e("#"+y).val(t),e("#inputoptions-open").parent().remove(),u()})}function m(){b=!1,e("#"+y).val(w),e("#inputoptions-open").parent().remove(),u()}function g(t){if(Weebly.Restrictions.hasAccess("unlimited_form_inputs"))return!1;var n=e("#inside_"+t).parents(".formlist");if(0===n.length)return!1;var i=n.first().find(".wsite-form-field").size();return i>=Weebly.Restrictions.accessValue("free_form_inputs")}var v={drawRadioOptions:function(e){"string"==typeof e&&(e=e.split("||"));var t="",n="radio-"+Math.floor(999*Math.random());return e.each(function(e){t+='<span class="form-radio-container"><input type="radio" name="'+n+'" /><label>'+e+"</label></span>"}),t},drawSelectOptions:function(e){"string"==typeof e&&(e=e.split("||"));var t='<select class="form-select">';return e.each(function(e){t+="<option>"+e+"</option>"}),t+="</select>"},drawCheckboxes:function(e){"string"==typeof e&&(e=e.split("||"));var t="";return e.each(function(e){t+='<span class="form-radio-container"><input type="checkbox" /><label>'+e+"</label></span>"}),t}},b,w,y;i.vent.on({pageRendered:a,"editor:elements:options:show":function(t,n,i){var o=e(".menuBarExpand");y=o.attr("data-ucfpid");var r=e(".menuBarExpand > a");r.click(function(){l()}),e(".predefined-options-handle a").click(function(){c()})}});var _={Gender:["Male","Female"],Age:["Less than 13","13-18","19-25","26-35","36-50","Over 50","Prefer not to say"],Income:["Less than $10,000","$10,001-$25,000","$25,001-$40,000","$70,001-$100,000","> $100,000","Prefer not to say"],"Marketing Reference":["Internet Search","Advertisment","Friend","Other"],Answer:[_W.utl("javascript.site.editor.ui.weebly_form_2"),_W.utl("javascript.site.editor.ui.weebly_form_3"),_W.utl("javascript.site.editor.ui.weebly_form_4")],Education:["Some High School","Completed High School","Some College","Associate's Degree","Bachelor's Degree","Master's Degree","PhD"],Employment:["Unemployed","Part-time","Full-time","Self-employed"],"Days of the Week":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"Months of the Year":["January","February","March","April","May","June","July","August","September","October","November","December"],"U.S. States":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","Washington D.C.","West Virginia","Wisconsin","Wyoming"],"How Often":["Everyday","Once per week","2 to 3 times per week","Once per month","Less than once per month"],"How Long":["Less than 1 month","1-6 months","1-3 years","Over 3 years","Never"],Satisfaction:["Very Satisfied","Satisfied","Neutral","Unsatisfied","Very Unsatisfied"],Importance:["Very Important","Important","Neutral","Somewhat Important","Not at all Important"],Agreement:["Strongly Agree","Agree","Neutral","Disagree","Strongly Disagree"],Comparison:["Much Better","Somewhat Better","About the Same","Somewhat Worse","Much Worse"]};return t.reqres.setHandlers({"form:isOverInputLimit":g}),v}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(359),n(14)],o=function(e,t,n){function i(){o(),r()}function o(){e("fb\\:like").length&&t.parse()}function r(){var t="https:"===window.location.protocol?"https://":"http://";e("a.twitter-share-button").each(function(n,i){var o,r=e.param({_:+new Date,count:"horizontal",id:"twitter_tweet_button_0",land:"en",url:i.href.replace(/.*?\?url=(.*)$/,"$1")});r+="&text="+i.getAttribute("data-text"),o=e("<iframe />",{src:t+"platform.twitter.com/widgets/tweet_button.html?"+r,allowtransparency:"true",frameborder:"0",scrolling:"no",class:"twitter-share-button twitter-count-horizontal"}).css({width:110,height:20}),e(i).replaceWith(o)})}return window.fbAsyncInit=function(){t.asyncInit()},n.vent.on("editor:middle",function(e){"blog"==e.kind&&i()}),{init:i}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2)],o=function(e,t){var n=!1,i=!1,o={createFieldInstructions:function(t){var n=e('<div class="instructions-container">').html(t),i=e('<span class="wsite-instructions-container-caret"/>');return n.append(i),e("body").append(n),n},setupFieldInstructions:function(t,r){var s=e(t);if(s.html()){if(!n){var a=window.getComputedStyle(document.body);i="hidden"===a.getPropertyValue("overflow")||"hidden"===a.getPropertyValue("overflow-y")||"hidden"===a.getPropertyValue("overflow-x"),n=!0}null==r&&(r="wsite");var l=s.parents("."+r+"-form-field");l.data("form-instruction",{instructions:o.createFieldInstructions(t.innerHTML)}),o.createHelpIcon(l)}},createHelpIcon:function(t){var n=t.data("form-instruction"),o=n.instructions,r=e('<span class="wsite-instructions-help"/>');t.find(".wsite-form-label").append(r);var s=function(n){"touchstart"===n.type&&e.contains(t[0],n.target)||(o.hide(),e(document).off(".formfieldinstructions"))},a=function(){var t=o.find(".wsite-instructions-container-caret"),n=window.getComputedStyle(t[0],":before").getPropertyValue("border-width");n=parseInt(n,10)||10;var a=r.offset(),l=r.outerWidth(),c=r.outerHeight(),u=o.offset(),d=o.outerWidth(),h=o.outerHeight(),p=a.top-h-(n+5),f=l+a.left-2*n-n/2;f+d>document.body.clientWidth&&(f=f-d+l+2*n+n/2,f<0&&(f=10)),o.removeClass("caret-top caret-bottom");var m;m=i?p<0:p<e(document.body).scrollTop(),m?(p=p+c+h+(2*n+10),o.addClass("caret-top")):o.addClass("caret-bottom"),o.css({top:p,left:f}).show().find(".wsite-instructions-container-caret").css({left:a.left-f+n/2}),setTimeout(function(){e(document).on({"touchmove.formfieldinstructions":s,"touchstart.formfieldinstructions":s})},250)};r.on({mouseover:a,mouseout:s,touchstart:function(e){e.preventDefault(),a()}})}};return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[],o=function(){var e={},t,n=!1;return e.embed=function(){if(!document.getElementById("facebook-jssdk")&&!t){var e;if(!document.getElementById("fb-root")){var n=document.createElement("div");n.id="fb-root",document.body.insertBefore(n,document.body.firstChild)}t=document.createElement("script"),t.id="facebook-jssdk",t.src="//connect.facebook.net/en_US/sdk.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)}},e.parse=function(){document.getElementById("facebook-jssdk")||t?n&&"undefined"!=typeof FB&&(e.setColorScheme(),FB.XFBML.parse()):e.embed()},e.reparseCommentCount=function(){for(var e=document.getElementsByTagName("fb:comments-count"),t=0;t<e.length;t++)FB.XFBML.parse(e[t])},e.setColorScheme=function(){for(var e=document.getElementsByClassName("facebook-comment-widget"),t=document.body,n=t.className.match("wsite-theme-light"),i=0;i<e.length;i++)e[i].setAttribute("colorscheme",n?"light":"dark")},e.asyncInit=function(){FB.init({appId:"190291501407",xfbml:!0,version:"v2.6"}),FB.Event.subscribe("comment.create",e.reparseCommentCount),FB.Event.subscribe("comment.remove",e.reparseCommentCount),n=!0,e.parse()},e}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(704),n(152)],o=function e(t,n,i,o){function r(){window._fs_debug=d,window._fs_host="fullstory.com",window._fs_org="4F4YM",window._fs_namespace="FS"}function s(){var e=n.getCookie("wuid");if(e){if(this.bootstrapData=a(),!this.bootstrapData)return void FS.identify(e);this.bootstrapData.bootstrap&&(this.bootstrapData=this.bootstrapData.bootstrap);var i=this.bootstrapData.ab_test_data||this.bootstrapData.abTestData,o=this.bootstrapData.user,r={};t.each(i,function(e,t){r[t]=e.user.segment}),t.has(o,"signup_date")&&(r.signup_date=o.signup_date);var s=this.bootstrapData.sites;s&&(r.sites_owned=s.owned.length,r.sites_shared=s.shared.length,r.is_paying_user=l(s.owned),r.is_commerce_user=c(s.owned)),FS.identify(e,r)}}function a(){if(window.location.href.indexOf("home")>-1)return o("home/app");if(window.location.href.indexOf("editor")>-1)try{return o("editor/app")}catch(e){return!1}}function l(e){var n=t.filter(e,function(e){if(0!==e.level)return!0});return 0!==n.length}function c(e){return 0!==t.where(e,{funnel_experience:"ecommerce"}).length}var u={},d=!1;return u.start=function(e){r(),e&&(window._fs_run_in_iframe=!0),i(),s()},u.startTracking=function(e,t){r(),i(),FS.identify(e,t)},u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(106)],o=function(e){e.widget("ui.draggable",e.ui.draggable,{_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css({position:"absolute",zIndex:"1000"}).appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o,r;!function(s){o=[n(1),n(201)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){function t(t){return e.extend({showInput:!0,showPalette:!0,chooseText:"Ok",theme:"sp-w",clickoutFiresChange:!0,clickPaletteToClose:!1,preferredFormat:"hex6",showSelectionPalette:!1,dontHideBoundElement:!0,palette:[["#d5d5d5","#a1a1a1","#818181","#626262","#515151","#3f3f3f","#2a2a2a"],["#f8a9a9","#e97676","#e05c5c","#da4444","#c23b3b","#a82e2e","#8d2424"],["#f8c7a9","#e9a476","#e0915c","#da8044","#c2743b","#a85f2e","#8d5024"],["#f8eaa9","#e9cf76","#e0bf5c","#dab844","#c2a43b","#a88d2e","#8d7824"],["#c9f8a9","#a9e976","#91e05c","#81c94c","#6cb83a","#5fa233","#508d24"],["#a9f8dd","#76e9c7","#5ce0b6","#4cc9a4","#3ab890","#33a27f","#248d6c"],["#a9e4f8","#76cae9","#5cbce0","#4caac9","#3a96b8","#3387a2","#24678d"],["#b5aaf6","#9789e8","#8273da","#7161d0","#6555c2","#5848b7","#5040ae"],["#d8aaf6","#c389e8","#b073da","#a561d0","#9555c2","#8c48b7","#8640ae"],["#f6aaf0","#e889e0","#da73d2","#d061c7","#c255b9","#b748ae","#ae40a5"]]},t)}function n(t,n){var i,o,r;return e.extend({},n,{beforeShow:function(o){i=!1,r=null,n.onBeforeShow&&n.onBeforeShow(o),e(t).spectrum("container").off("selectstart").on("selectstart",!1).find(".sp-color, .sp-hue").off(".wColorChooser").on("mouseup.wColorChooser",function(){r&&n.onUpdate&&n.onUpdate(r)})},move:function(e){r=e.toHexString(),i||n.onMove&&n.onMove(r)},change:function(e){i=!0,n.onChange&&n.onChange(e.toHexString())},hide:function(){n.onBeforeHide&&n.onBeforeHide(),!i&&r&&n.onRevert&&n.onRevert(o)}})}function i(t,n){var i=e(t),o=i.find(".color-square"),r,s,a;return e.extend({},n,{beforeShow:function(t){r=!1,a=null,s=o.css("background-color"),i.spectrum("set",s),s=i.spectrum("get").toHexString(),n.onBeforeShow&&n.onBeforeShow(t);var l=i.spectrum("container");l.find(".sp-color, .sp-hue").off(".wColorChooser").on("mousedown.wColorChooser",function(){e(document).off("mouseup.wColorChooser").one("mouseup.wColorChooser",function(){a&&n.onUpdate&&n.onUpdate(a)})}),l.find(".sp-input").off(".wColorChooser").on("change.wColorChooser",function(){a&&n.onUpdate&&n.onUpdate(a)})},show:function(){},move:function(e){a=e.toHexString(),o.css("background-color",a),r||n.onMove&&n.onMove(a)},change:function(e){r=!0,o.css("background-color",e.toHexString()),n.onChange&&n.onChange(e.toHexString())},hide:function(){n.onBeforeHide&&n.onBeforeHide(),!r&&a&&(o.css("background-color",s),n.onRevert&&n.onRevert(s))}})}"undefined"==typeof e.fn.wColorChooser&&e.fn.extend({wColorChooser:function(o){if(o=o||{},"set"==o)this.find(".color-square").css("background-color",arguments[1]);else if("smart"==o){var r=e(this),s=r.spectrum("isPaletteColor",r.spectrum("get"));r.spectrum(s?"collapse":"expand")}else"advanced"===o?e(this).spectrum("expand"):"basic"===o?e(this).spectrum("collapse"):this.each(function(){switch(o=t(o),o.mode){case"colorSquare":o=i(this,o);break;default:o=n(this,o)}e(this).spectrum(o)});return this}})})},function(e,t,n){(function(e){function t(){o.YouTubeApi.iFrameReady()}function n(e){o.YouTubeApi.flashReady(e)}var o=o||{};o.version="2.9.5",o.meIndex=0,o.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]},o.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t=0,n,i="",o="",r,s=document.getElementsByTagName("script"),a=s.length,l=e.length;t<a;t++){for(r=s[t].src,n=0;n<l;n++)if(o=e[n],r.indexOf(o)>-1){i=r.substring(0,r.indexOf(o));break}if(""!==i)break}return i},secondsToTimeCode:function(e,t,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var o=Math.floor(e/3600)%24,r=Math.floor(e/60)%60,s=Math.floor(e%60);return e=Math.floor((e%1*i).toFixed(3)),(t||o>0?(o<10?"0"+o:o)+":":"")+(r<10?"0"+r:r)+":"+(s<10?"0"+s:s)+(n?":"+(e<10?"0"+e:e):"")},timeCodeToSeconds:function(e,t,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25),e=e.split(":"),t=parseInt(e[0],10);var o=parseInt(e[1],10),r=parseInt(e[2],10),s=0,a=0;return n&&(s=parseInt(e[3])/i),a=3600*t+60*o+r+s},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;e=e.replace(",",".");var t=0,n=e.indexOf(".")!=-1?e.split(".")[1].length:0,i=1;e=e.split(":").reverse();for(var o=0;o<e.length;o++)i=1,o>0&&(i=Math.pow(60,o)),t+=Number(e[o])*i;return Number(t.toFixed(n))},removeSwf:function(e){var t=document.getElementById(e);t&&"OBJECT"==t.nodeName&&(o.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?o.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){if(e=document.getElementById(e)){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode.removeChild(e)}}},o.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,i,o){this.plugins[e]=this.detectPlugin(t,n,i,o)},detectPlugin:function(e,t,n,i){var o=[0,0,0],r;if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if((n=this.nav.plugins[e].description)&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(o=n.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),e=0;e<o.length;e++)o[e]=parseInt(o[e].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{(r=new ActiveXObject(n))&&(o=i(r))}catch(e){}return o}},o.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[];return(e=e.GetVariable("$version"))&&(e=e.split(" ")[1].split(","),t=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]),t}),o.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,i){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[n]+=i;t[n]-=i};return n(e,t,0,1),n(e,t,1,1),n(e,t,2,1e4),n(e,t,2,1e3),n(e,t,2,100),n(e,t,2,10),n(e,t,2,1),n(e,t,3,1),t}),o.MediaFeatures={init:function(){var e=this,t=document,n=o.PluginDetector.nav,i=o.PluginDetector.ua.toLowerCase(),r,s=["source","track","audio","video"];e.isiPad=null!==i.match(/ipad/i),e.isiPhone=null!==i.match(/iphone/i),e.isiOS=e.isiPhone||e.isiPad,e.isAndroid=null!==i.match(/android/i),e.isBustedAndroid=null!==i.match(/android 2\.[12]/),e.isIE=n.appName.toLowerCase().indexOf("microsoft")!=-1,e.isChrome=null!==i.match(/chrome/gi),e.isFirefox=null!==i.match(/firefox/gi),e.isWebkit=null!==i.match(/webkit/gi),e.isGecko=null!==i.match(/gecko/gi)&&!e.isWebkit,e.isOpera=null!==i.match(/opera/gi),e.hasTouch="ontouchstart"in window;for(n=0;n<s.length;n++)r=document.createElement(s[n]);e.supportsMediaTag="undefined"!=typeof r.canPlayType||e.isBustedAndroid,e.hasSemiNativeFullScreen="undefined"!=typeof r.webkitEnterFullscreen,e.hasWebkitNativeFullScreen="undefined"!=typeof r.webkitRequestFullScreen,e.hasMozNativeFullScreen="undefined"!=typeof r.mozRequestFullScreen,e.hasTrueNativeFullScreen=e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen,e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen,e.hasMozNativeFullScreen&&(e.nativeFullScreenEnabled=r.mozFullScreenEnabled),this.isChrome&&(e.hasSemiNativeFullScreen=!1),e.hasTrueNativeFullScreen&&(e.fullScreenEventName=e.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange",e.isFullScreen=function(){return r.mozRequestFullScreen?t.mozFullScreen:r.webkitRequestFullScreen?t.webkitIsFullScreen:void 0},e.requestFullScreen=function(t){e.hasWebkitNativeFullScreen?t.webkitRequestFullScreen():e.hasMozNativeFullScreen&&t.mozRequestFullScreen()},e.cancelFullScreen=function(){e.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():e.hasMozNativeFullScreen&&document.mozCancelFullScreen()}),e.hasSemiNativeFullScreen&&i.match(/mac os x 10_5/i)&&(e.hasNativeFullScreen=!1,e.hasSemiNativeFullScreen=!1)}},o.MediaFeatures.init(),o.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var n;for(t=0;t<e.length;t++)n=e[t],this.canPlayType(n.type)&&(this.src=n.src)}},setVideoSize:function(e,t){this.width=e,this.height=t}},o.PluginMediaElement=function(e,t,n){this.id=e,this.pluginType=t,this.src=n,this.events={}},o.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"!=this.pluginType&&this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,n,i,r=o.plugins[this.pluginType];for(t=0;t<r.length;t++)if(i=r[t],o.PluginDetector.hasPluginVersion(this.pluginType,i.version))for(n=0;n<i.types.length;n++)if(e==i.types[n])return!0;return!1},positionFullscreenButton:function(e,t,n){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,t,n)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if("string"==typeof e)this.pluginApi.setSrc(o.Utility.absolutizeUrl(e)),this.src=o.Utility.absolutizeUrl(e);else{var t,n;for(t=0;t<e.length;t++)n=e[t],this.canPlayType(n.type)&&(this.pluginApi.setSrc(o.Utility.absolutizeUrl(n.src)),this.src=o.Utility.absolutizeUrl(e))}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,n,i=this.events[e];if(i)for(n=Array.prototype.slice.call(arguments,1),t=0;t<i.length;t++)i[t].apply(null,n)},attributes:{},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){o.Utility.removeSwf(this.pluginElement.id)}},o.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=n},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,n)}},fireEvent:function(e,t,n){var i,o;e=this.pluginMediaElements[e],e.ended=!1,e.paused=!0,t={type:t,target:e};for(i in n)e[i]=n[i],t[i]=n[i];o=n.bufferedTime||0,t.target.buffered=t.buffered={start:function(){return 0},end:function(){return o},length:1},e.dispatchEvent(t.type,t)}},o.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,type:"",pluginPath:o.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},o.MediaElement=function(e,t){return o.HtmlMediaElementShim.create(e,t)},o.HtmlMediaElementShim={create:function(e,t){var n=o.MediaElementDefaults,i="string"==typeof e?document.getElementById(e):e,r=i.tagName.toLowerCase(),s="audio"===r||"video"===r,a=s?i.getAttribute("src"):i.getAttribute("href");r=i.getAttribute("poster");var l=i.getAttribute("autoplay"),c=i.getAttribute("preload"),u=i.getAttribute("controls"),d;for(d in t)n[d]=t[d];return a="undefined"==typeof a||null===a||""==a?null:a,r="undefined"==typeof r||null===r?"":r,c="undefined"==typeof c||null===c||"false"===c?"none":c,l=!("undefined"==typeof l||null===l||"false"===l),u=!("undefined"==typeof u||null===u||"false"===u),d=this.determinePlayback(i,n,o.MediaFeatures.supportsMediaTag,s,a),d.url=null!==d.url?o.Utility.absolutizeUrl(d.url):"","native"==d.method?(o.MediaFeatures.isBustedAndroid&&(i.src=d.url,i.addEventListener("click",function(){i.play()},!1)),this.updateNative(d,n,l,c)):""!==d.method?this.createPlugin(d,n,r,l,c,u):(this.createErrorMessage(d,n,r),this)},determinePlayback:function(e,t,n,i,r){var s=[],a,l,c={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()},u,d;if("undefined"!=typeof t.type&&""!==t.type)if("string"==typeof t.type)s.push({type:t.type,url:r});else for(a=0;a<t.type.length;a++)s.push({type:t.type[a],url:r});else if(null!==r)l=this.formatType(r,e.getAttribute("type")),s.push({type:l,url:r});else for(a=0;a<e.childNodes.length;a++)l=e.childNodes[a],1==l.nodeType&&"source"==l.tagName.toLowerCase()&&(r=l.getAttribute("src"),l=this.formatType(r,l.getAttribute("type")),s.push({type:l,url:r}));if(!i&&s.length>0&&null!==s[0].url&&this.getTypeFromFile(s[0].url).indexOf("audio")>-1&&(c.isVideo=!1),o.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){
return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),n&&("auto"===t.mode||"auto_plugin"===t.mode||"native"===t.mode)){for(i||(a=document.createElement(c.isVideo?"video":"audio"),e.parentNode.insertBefore(a,e),e.style.display="none",c.htmlMediaElement=e=a),a=0;a<s.length;a++)if(""!==e.canPlayType(s[a].type).replace(/no/,"")||""!==e.canPlayType(s[a].type.replace(/mp3/,"mpeg")).replace(/no/,"")){c.method="native",c.url=s[a].url;break}if("native"===c.method&&(null!==c.url&&(e.src=c.url),"auto_plugin"!==t.mode))return c}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(a=0;a<s.length;a++)for(l=s[a].type,e=0;e<t.plugins.length;e++)for(r=t.plugins[e],u=o.plugins[r],n=0;n<u.length;n++)if(d=u[n],null==d.version||o.PluginDetector.hasPluginVersion(r,d.version))for(i=0;i<d.types.length;i++)if(l==d.types[i])return c.method=r,c.url=s[a].url,c;return"auto_plugin"===t.mode&&"native"===c.method?c:(""===c.method&&s.length>0&&(c.url=s[0].url),c)},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){return e=e.substring(e.lastIndexOf(".")+1),(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(e)?"video":"audio")+"/"+this.getTypeFromExtension(e)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,n){var i=e.htmlMediaElement,o=document.createElement("div");o.className="me-cannotplay";try{o.style.width=i.width+"px",o.style.height=i.height+"px"}catch(e){}o.innerHTML=""!==n?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>Download File</span></a>',i.parentNode.insertBefore(o,i),i.style.display="none",t.error(i)},createPlugin:function(e,t,n,i,r,s){n=e.htmlMediaElement;var a=1,l=1,c="me_"+e.method+"_"+o.meIndex++,u=new o.PluginMediaElement(c,e.method,e.url),d=document.createElement("div"),h;for(u.tagName=n.tagName,h=0;h<n.attributes.length;h++){var p=n.attributes[h];1==p.specified&&u.setAttribute(p.name,p.value)}for(h=n.parentNode;null!==h&&"body"!=h.tagName.toLowerCase();){if("p"==h.parentNode.tagName.toLowerCase()){h.parentNode.parentNode.insertBefore(h,h.parentNode);break}h=h.parentNode}switch(e.isVideo?(a=t.videoWidth>0?t.videoWidth:null!==n.getAttribute("width")?n.getAttribute("width"):t.defaultVideoWidth,l=t.videoHeight>0?t.videoHeight:null!==n.getAttribute("height")?n.getAttribute("height"):t.defaultVideoHeight,a=o.Utility.encodeUrl(a),l=o.Utility.encodeUrl(l)):t.enablePluginDebug&&(a=320,l=240),u.success=t.success,o.MediaPluginBridge.registerPluginElement(c,u,n),d.className="me-plugin",d.id=c+"_container",e.isVideo?n.parentNode.insertBefore(d,n):document.body.insertBefore(d,document.body.childNodes[0]),i=["id="+c,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(i?"true":"false"),"preload="+r,"width="+a,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+l],null!==e.url&&("flash"==e.method?i.push("file="+o.Utility.encodeUrl(e.url)):i.push("file="+e.url)),t.enablePluginDebug&&i.push("debug=true"),t.enablePluginSmoothing&&i.push("smoothing=true"),s&&i.push("controls=true"),t.pluginVars&&(i=i.concat(t.pluginVars)),e.method){case"silverlight":d.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+c+'" name="'+c+'" width="'+a+'" height="'+l+'"><param name="initParams" value="'+i.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":o.MediaFeatures.isIE?(e=document.createElement("div"),d.appendChild(e),e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+c+'" width="'+a+'" height="'+l+'"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+i.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):d.innerHTML='<embed id="'+c+'" name="'+c+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+i.join("&")+'" width="'+a+'" height="'+l+'"></embed>';break;case"youtube":t=e.url.substr(e.url.lastIndexOf("=")+1),youtubeSettings={container:d,containerId:d.id,pluginMediaElement:u,pluginId:c,videoId:t,height:l,width:a},o.PluginDetector.hasPluginVersion("flash",[10,0,0])?o.YouTubeApi.createFlash(youtubeSettings):o.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":u.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),d.innerHTML='<object width="'+a+'" height="'+l+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+u.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+u.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+a+'" height="'+l+'"></embed></object>'}return n.style.display="none",u},updateNative:function(e,t){var n=e.htmlMediaElement,i;for(i in o.HtmlMediaElement)n[i]=o.HtmlMediaElement[i];return t.success(n,n),n}},o.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n,o.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){o.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){o.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){if(n={type:n,target:t},e&&e.getDuration){t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),n.paused=t.paused,n.ended=t.ended,n.muted=e.isMuted(),n.volume=e.getVolume()/100,n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();var i=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(){return 0},end:function(){return i},length:1}}t.dispatchEvent(n.type,n)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=!0;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";o.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),i=t.pluginMediaElement;i.pluginApi=i.pluginElement=n,o.MediaPluginBridge.initPlugin(e),n.cueVideoById(t.videoId),e=t.containerId+"_callback",window[e]=function(e){o.YouTubeApi.handleStateChange(e,n,i)},n.addEventListener("onStateChange",e),setInterval(function(){o.YouTubeApi.createEvent(n,i,"timeupdate")},250)},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=!0,n.ended=!0,o.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,o.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=!1,n.ended=!1,o.YouTubeApi.createEvent(t,n,"play"),o.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=!0,n.ended=!1,o.YouTubeApi.createEvent(t,n,"pause");break;case 3:o.YouTubeApi.createEvent(t,n,"progress")}}},window.mejs=o,window.MediaElement=o.MediaElement,"undefined"!=typeof e?o.$=e:"undefined"!=typeof ender&&(o.$=ender),function(t){o.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){t.setVolume(Math.min(t.volume+.1,1))}},{keys:[40],action:function(e,t){t.setVolume(Math.max(t.volume-.1,0))}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e){"undefined"!=typeof e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},o.mepIndex=0,o.players=[],o.MediaElementPlayer=function(e,n){return this instanceof o.MediaElementPlayer?(this.$media=this.$node=t(e),this.node=this.media=this.$media[0],"undefined"!=typeof this.node.player?this.node.player:(this.node.player=this,"undefined"==typeof n&&(n=this.$node.data("mejsoptions")),this.options=t.extend({},o.MepDefaults,n),o.players.push(this),this.init(),this)):new o.MediaElementPlayer(e,n)},o.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var e=this,n=o.MediaFeatures,i=t.extend(!0,{},e.options,{success:function(t,n){e.meReady(t,n)},error:function(t){e.handleError(t)}}),r=e.media.tagName.toLowerCase();e.isDynamic="audio"!==r&&"video"!==r,e.isVideo=e.isDynamic?e.options.isVideo:"audio"!==r&&e.options.isVideo,n.isiPad&&e.options.iPadUseNativeControls||n.isiPhone&&e.options.iPhoneUseNativeControls?(e.$media.attr("controls","controls"),n.isiPad&&null!==e.media.getAttribute("autoplay")&&(e.media.load(),e.media.play())):n.isAndroid&&e.AndroidUseNativeControls||(e.$media.removeAttr("controls"),e.id="mep_"+o.mepIndex++,e.container=t('<div id="'+e.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(e.$media[0].className).insertBefore(e.$media),e.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(e.isVideo?"mejs-video ":"mejs-audio ")),n.isiOS?(n=e.$media.clone(),e.container.find(".mejs-mediaelement").append(n),e.$media.remove(),e.$node=e.$media=n,e.node=e.media=n[0]):e.container.find(".mejs-mediaelement").append(e.$media),e.controls=e.container.find(".mejs-controls"),e.layers=e.container.find(".mejs-layers"),n=e.isVideo?"video":"audio",r=n.substring(0,1).toUpperCase()+n.substring(1),e.width=e.options[n+"Width"]>0||e.options[n+"Width"].toString().indexOf("%")>-1?e.options[n+"Width"]:""!==e.media.style.width&&null!==e.media.style.width?e.media.style.width:null!==e.media.getAttribute("width")?e.$media.attr("width"):e.options["default"+r+"Width"],e.height=e.options[n+"Height"]>0||e.options[n+"Height"].toString().indexOf("%")>-1?e.options[n+"Height"]:""!==e.media.style.height&&null!==e.media.style.height?e.media.style.height:null!==e.$media[0].getAttribute("height")?e.$media.attr("height"):e.options["default"+r+"Height"],e.setPlayerSize(e.width,e.height),i.pluginWidth=e.height,i.pluginHeight=e.width),o.MediaElement(e.$media[0],i)},showControls:function(e){var t=this;e="undefined"==typeof e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0),t.setControlsSize())},hideControls:function(e){var n=this;e="undefined"==typeof e||e,n.controlsAreVisible&&(e?(n.controls.stop(!0,!0).fadeOut(200,function(){t(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){t(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1))},controlsTimer:null,startControlsTimer:function(e){var t=this;e="undefined"!=typeof e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){this.killControlsTimer(),this.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){this.showControls(!1),this.controlsEnabled=!0},meReady:function(e,n){var i=this,r=o.MediaFeatures,s=n.getAttribute("autoplay");s=!("undefined"==typeof s||null===s||"false"===s);var a;if(!i.created){if(i.created=!0,i.media=e,i.domNode=n,!(r.isAndroid&&i.options.AndroidUseNativeControls||r.isiPad&&i.options.iPadUseNativeControls||r.isiPhone&&i.options.iPhoneUseNativeControls)){i.buildposter(i,i.controls,i.layers,i.media),i.buildkeyboard(i,i.controls,i.layers,i.media),i.buildoverlays(i,i.controls,i.layers,i.media),i.findTracks();for(a in i.options.features)if(r=i.options.features[a],i["build"+r])try{i["build"+r](i,i.controls,i.layers,i.media)}catch(e){}i.container.trigger("controlsready"),i.setPlayerSize(i.width,i.height),i.setControlsSize(),i.isVideo&&(o.MediaFeatures.hasTouch?i.$media.bind("touchstart",function(){i.controlsAreVisible?i.hideControls(!1):i.controlsEnabled&&i.showControls(!1)}):(("native"==i.media.pluginType?i.$media:t(i.media.pluginElement)).click(function(){e.paused?e.play():e.pause()}),i.container.bind("mouseenter mouseover",function(){i.controlsEnabled&&(i.options.alwaysShowControls||(i.killControlsTimer("enter"),i.showControls(),i.startControlsTimer(2500)))}).bind("mousemove",function(){i.controlsEnabled&&(i.controlsAreVisible||i.showControls(),i.options.alwaysShowControls||i.startControlsTimer(2500))}).bind("mouseleave",function(){i.controlsEnabled&&!i.media.paused&&!i.options.alwaysShowControls&&i.startControlsTimer(1e3)})),s&&!i.options.alwaysShowControls&&i.hideControls(),i.options.enableAutosize&&i.media.addEventListener("loadedmetadata",function(e){i.options.videoHeight<=0&&null===i.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(i.setPlayerSize(e.target.videoWidth,e.target.videoHeight),i.setControlsSize(),i.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){for(var e=0,t=o.players.length;e<t;e++){var n=o.players[e];n.id!=i.id&&i.options.pauseOtherPlayers&&!n.paused&&!n.ended&&n.pause(),n.hasFocus=!1}i.hasFocus=!0},!1),i.media.addEventListener("ended",function(){try{i.media.setCurrentTime(0)}catch(e){}i.media.pause(),i.setProgressRail&&i.setProgressRail(),i.setCurrentRail&&i.setCurrentRail(),i.options.loop?i.media.play():!i.options.alwaysShowControls&&i.controlsEnabled&&i.showControls()},!1),i.media.addEventListener("loadedmetadata",function(){i.updateDuration&&i.updateDuration(),i.updateCurrent&&i.updateCurrent(),i.isFullScreen||(i.setPlayerSize(i.width,i.height),i.setControlsSize())},!1),setTimeout(function(){i.setPlayerSize(i.width,i.height),i.setControlsSize()},50),t(window).resize(function(){i.isFullScreen||o.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||i.setPlayerSize(i.width,i.height),i.setControlsSize()}),"youtube"==i.media.pluginType&&i.container.find(".mejs-overlay-play").hide()}s&&"native"==e.pluginType&&(e.load(),e.play()),i.options.success&&("string"==typeof i.options.success?window[i.options.success](i.media,i.domNode,i):i.options.success(i.media,i.domNode,i))}},handleError:function(e){this.controls.hide(),this.options.error&&this.options.error(e)},setPlayerSize:function(e,n){if("undefined"!=typeof e&&(this.width=e),"undefined"!=typeof n&&(this.height=n),this.height.toString().indexOf("%")>0||"100%"===this.$node.css("max-width")){var i=this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth,o=this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight,r=this.container.parent().width();i=parseInt(r*o/i,10),"body"===this.container.parent()[0].tagName.toLowerCase()&&(r=t(window).width(),i=t(window).height()),0!=i&&(this.container.width(r).height(i),this.$media.width("100%").height("100%"),this.container.find("object, embed, iframe").width("100%").height("100%"),this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(r,i),this.layers.children(".mejs-layer").width("100%").height("100%"))}else this.container.width(this.width).height(this.height),this.layers.children(".mejs-layer").width(this.width).height(this.height)},setControlsSize:function(){var e=0,n=0,i=this.controls.find(".mejs-time-rail"),o=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current"),this.controls.find(".mejs-time-loaded");var r=i.siblings();this.options&&!this.options.autosizeProgress&&(n=parseInt(i.css("width"))),0!==n&&n||(r.each(function(){"absolute"!=t(this).css("position")&&(e+=t(this).outerWidth(!0))}),n=this.controls.width()-e-(i.outerWidth(!0)-i.width())-1),i.width(n),o.width(n-(o.outerWidth(!0)-o.width())),this.setProgressRail&&this.setProgressRail(),this.setCurrentRail&&this.setCurrentRail()},buildposter:function(e,n,i,o){var r=t('<div class="mejs-poster mejs-layer"></div>').appendTo(i);n=e.$media.attr("poster"),""!==e.options.poster&&(n=e.options.poster),""!==n&&null!=n?this.setPoster(n):r.hide(),o.addEventListener("play",function(){r.hide()},!1)},setPoster:function(e){var n=this.container.find(".mejs-poster"),i=n.find("img");0==i.length&&(i=t('<img width="100%" height="100%" />').appendTo(n)),i.attr("src",e)},buildoverlays:function(e,n,i,r){if(e.isVideo){var s=t('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(i),a=t('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(i),l=t('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(i).click(function(){r.paused?r.play():r.pause()});r.addEventListener("play",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("playing",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("pause",function(){o.MediaFeatures.isiPhone||l.show()},!1),r.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(e,n,i,o){t(document).keydown(function(t){if(e.hasFocus&&e.options.enableKeyboard)for(var n=0,i=e.options.keyActions.length;n<i;n++)for(var r=e.options.keyActions[n],s=0,a=r.keys.length;s<a;s++)if(t.keyCode==r.keys[s])return t.preventDefault(),r.action(e,o,t.keyCode),!1;return!0}),t(document).click(function(n){0==t(n.target).closest(".mejs-container").length&&(e.hasFocus=!1)})},findTracks:function(){var e=this,n=e.$media.find("track");e.tracks=[],n.each(function(n,i){i=t(i),e.tracks.push({srclang:i.attr("srclang").toLowerCase(),src:i.attr("src"),kind:i.attr("kind"),label:i.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){"flash"===this.media.pluginType?this.media.remove():"native"===this.media.pluginType&&this.$media.prop("controls",!0),this.isDynamic||this.$node.insertBefore(this.container),this.container.remove()}},"undefined"!=typeof e&&(e.fn.mediaelementplayer=function(e){return this.each(function(){new o.MediaElementPlayer(this,e)})}),t(document).ready(function(){t(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=o.MediaElementPlayer}(o.$),function(e){e.extend(o.MepDefaults,{playpauseText:"Play/Pause"}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,i,o){var r=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'"></button></div>').appendTo(n).click(function(e){return e.preventDefault(),o.paused?o.play():o.pause(),!1});o.addEventListener("play",function(){r.removeClass("mejs-play").addClass("mejs-pause")},!1),o.addEventListener("playing",function(){r.removeClass("mejs-play").addClass("mejs-pause")},!1),o.addEventListener("pause",function(){r.removeClass("mejs-pause").addClass("mejs-play")},!1),o.addEventListener("paused",function(){r.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(o.$),function(e){e.extend(o.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,i,r){e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'"></button></div>').appendTo(n).click(function(){r.paused||r.pause(),r.currentTime>0&&(r.setCurrentTime(0),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(o.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(o.Utility.secondsToTimeCode(0)),i.find(".mejs-poster").show())})}})}(o.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,i,r){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var s=n.find(".mejs-time-total");i=n.find(".mejs-time-loaded");var a=n.find(".mejs-time-current"),l=n.find(".mejs-time-handle"),c=n.find(".mejs-time-float"),u=n.find(".mejs-time-float-current"),d=function(e){e=e.pageX;var t=s.offset(),n=s.outerWidth(),i=0;i=0;var a=e-t.left;e>t.left&&e<=n+t.left&&r.duration&&(i=(e-t.left)/n,i=i<=.02?0:i*r.duration,h&&r.setCurrentTime(i),o.MediaFeatures.hasTouch||(c.css("left",a),u.html(o.Utility.secondsToTimeCode(i)),c.show()))},h=!1;s.bind("mousedown",function(t){if(1===t.which)return h=!0,d(t),e(document).bind("mousemove.dur",function(e){d(e)}).bind("mouseup.dur",function(){h=!1,c.hide(),e(document).unbind(".dur")}),!1}).bind("mouseenter",function(){e(document).bind("mousemove.dur",function(e){d(e)}),o.MediaFeatures.hasTouch||c.show()}).bind("mouseleave",function(){h||(e(document).unbind(".dur"),c.hide())}),r.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),r.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),this.loaded=i,this.total=s,this.current=a,this.handle=l},setProgressRail:function(e){var t=void 0!=e?e.target:this.media,n=null;t&&t.buffered&&t.buffered.length>0&&t.buffered.end&&t.duration?n=t.buffered.end(0)/t.duration:t&&void 0!=t.bytesTotal&&t.bytesTotal>0&&void 0!=t.bufferedBytes?n=t.bufferedBytes/t.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(n=e.loaded/e.total),null!==n&&(n=Math.min(1,Math.max(0,n)),this.loaded&&this.total&&this.loaded.width(this.total.width()*n))},setCurrentRail:function(){if(void 0!=this.media.currentTime&&this.media.duration&&this.total&&this.handle){var e=this.total.width()*this.media.currentTime/this.media.duration,t=e-this.handle.outerWidth(!0)/2;this.current.width(e),this.handle.css("left",t)}}})}(o.$),function(e){e.extend(o.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,i,o){e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(n),this.currenttime=this.controls.find(".mejs-currenttime"),o.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,n,i,r){n.children().last().find(".mejs-currenttime").length>0?e(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?o.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?o.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(n)),this.durationD=this.controls.find(".mejs-duration"),r.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){this.currenttime&&this.currenttime.html(o.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){this.media.duration&&this.durationD&&this.durationD.html(o.Utility.secondsToTimeCode(this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})}(o.$),function(e){e.extend(o.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,i,r){if(!o.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var s=this.isVideo?this.options.videoVolume:this.options.audioVolume,a="horizontal"==s?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n),l=this.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),c=this.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),u=this.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=this.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(l.is(":visible")||"undefined"==typeof t)if(e=Math.max(0,e),e=Math.min(e,1),0==e?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==s){var n=c.height(),i=c.position(),o=n-n*e;d.css("top",i.top+o-d.height()/2),u.height(n-o),u.css("top",i.top+o)}else n=c.width(),i=c.position(),n*=e,d.css("left",i.left+n-d.width()/2),u.width(n);else l.show(),h(e,!0),l.hide()},p=function(e){var t=null,n=c.offset();if("vertical"==s){if(t=c.height(),parseInt(c.css("top").replace(/px/,""),10),t=(t-(e.pageY-n.top))/t,0==n.top||0==n.left)return}else t=c.width(),t=(e.pageX-n.left)/t;t=Math.max(0,t),t=Math.min(t,1),h(t),0==t?r.setMuted(!0):r.setMuted(!1),r.setVolume(t)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,!f&&"vertical"==s&&l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(t){return p(t),e(document).bind("mousemove.vol",function(e){p(e)}).bind("mouseup.vol",function(){f=!1,e(document).unbind(".vol"),!m&&"vertical"==s&&l.hide()}),f=!0,!1}),a.find("button").click(function(){r.setMuted(!r.muted)}),r.addEventListener("volumechange",function(){f||(r.muted?(h(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(h(r.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),this.container.is(":visible")&&(h(t.options.startVolume),"native"===r.pluginType&&r.setVolume(t.options.startVolume))}}})}(o.$),function(e){e.extend(o.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,docStyleOverflow:null,isInIframe:!1,buildfullscreen:function(t,n,i,r){if(t.isVideo){t.isInIframe=window.location!=window.parent.location,o.MediaFeatures.hasTrueNativeFullScreen&&(i=null,
i=o.MediaFeatures.hasMozNativeFullScreen?e(document):t.container,i.bind(o.MediaFeatures.fullScreenEventName,function(){o.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen())}));var s=this,a=e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'"></button></div>').appendTo(n);if("native"===s.media.pluginType||!s.options.usePluginFullScreen&&!o.MediaFeatures.isFirefox)a.click(function(){o.MediaFeatures.hasTrueNativeFullScreen&&o.MediaFeatures.isFullScreen()||t.isFullScreen?t.exitFullScreen():t.enterFullScreen()});else{var l=null;if(function(){var e=document.createElement("x"),t=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in e.style&&(e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e),n=n&&"auto"===n(e,"").pointerEvents,t.removeChild(e),!!n)}()&&!o.MediaFeatures.isOpera){var c=!1,u=function(){c&&(d.hide(),h.hide(),p.hide(),a.css("pointer-events",""),s.controls.css("pointer-events",""),c=!1)},d=e('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(u),h=e('<div class="mejs-fullscreen-hover"  />').appendTo(s.container).mouseover(u),p=e('<div class="mejs-fullscreen-hover"  />').appendTo(s.container).mouseover(u),f=function(){var e={position:"absolute",top:0,left:0};d.css(e),h.css(e),p.css(e),d.width(s.container.width()).height(s.container.height()-s.controls.height()),e=a.offset().left-s.container.offset().left,fullScreenBtnWidth=a.outerWidth(!0),h.width(e).height(s.controls.height()).css({top:s.container.height()-s.controls.height()}),p.width(s.container.width()-e-fullScreenBtnWidth).height(s.controls.height()).css({top:s.container.height()-s.controls.height(),left:e+fullScreenBtnWidth})};e(document).resize(function(){f()}),a.mouseover(function(){if(!s.isFullScreen){var e=a.offset(),n=t.container.offset();r.positionFullscreenButton(e.left-n.left,e.top-n.top,!1),a.css("pointer-events","none"),s.controls.css("pointer-events","none"),d.show(),p.show(),h.show(),f(),c=!0}}),r.addEventListener("fullscreenchange",function(){u()})}else a.mouseover(function(){null!==l&&(clearTimeout(l),delete l);var e=a.offset(),n=t.container.offset();r.positionFullscreenButton(e.left-n.left,e.top-n.top,!0)}).mouseout(function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){r.hideFullscreenButton()},1500)})}t.fullscreenBtn=a,e(document).bind("keydown",function(e){(o.MediaFeatures.hasTrueNativeFullScreen&&o.MediaFeatures.isFullScreen()||s.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})}},enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!o.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if(docStyleOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(o.MediaFeatures.hasTrueNativeFullScreen)o.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function n(){t.isNativeFullScreen&&(e(window).width()!==screen.width?t.exitFullScreen():setTimeout(n,500))},500);else if(o.MediaFeatures.hasSemiNativeFullScreen)return void t.media.webkitEnterFullscreen();if(t.isInIframe){var n=t.options.newWindowCallback(this);if(""!==n){if(!o.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),void window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),"native"===t.pluginType?t.$media.width("100%").height("100%"):(t.container.find("object, embed, iframe").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0}},exitFullScreen:function(){"native"!==this.media.pluginType&&o.MediaFeatures.isFirefox?this.media.setFullscreen(!1):(o.MediaFeatures.hasTrueNativeFullScreen&&(o.MediaFeatures.isFullScreen()||this.isFullScreen)&&o.MediaFeatures.cancelFullScreen(),document.documentElement.style.overflow=docStyleOverflow,this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===this.pluginType?this.$media.width(normalWidth).height(normalHeight):(this.container.find("object embed").width(normalWidth).height(normalHeight),this.media.setVideoSize(normalWidth,normalHeight)),this.layers.children("div").width(normalWidth).height(normalHeight),this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),this.setControlsSize(),this.isFullScreen=!1)}})}(o.$),function(e){e.extend(o.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,n,i,o){if(t.isVideo&&0!=t.tracks.length){var r;for(t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(i).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(i).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">None</label></li></ul></div></div>').appendTo(n).hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){if(lang=this.value,"none"==lang)t.selectedTrack=null;else for(r=0;r<t.tracks.length;r++)if(t.tracks[r].srclang==lang){t.selectedTrack=t.tracks[r],t.captions.attr("lang",t.selectedTrack.srclang),t.displayCaptions();break}}),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("mouseenter",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){o.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,r=0;r<t.tracks.length;r++)"subtitles"==t.tracks[r].kind&&t.addTrackButton(t.tracks[r].srclang,t.tracks[r].label);t.loadNextTrack(),o.addEventListener("timeupdate",function(){t.displayCaptions()},!1),o.addEventListener("loadedmetadata",function(){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!o.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},loadNextTrack:function(){this.trackToLoad++,this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):this.isLoadingTrack=!1},loadTrack:function(t){var n=this,i=n.tracks[t];e.ajax({url:i.src,dataType:"text",success:function(e){i.entries="string"==typeof e&&/<tt\s+xml/gi.exec(e)?o.TrackFormatParser.dfxp.parse(e):o.TrackFormatParser.webvvt.parse(e),i.isLoaded=!0,n.enableTrackButton(i.srclang,i.label),n.loadNextTrack(),"chapters"==i.kind&&n.media.duration>0&&n.drawChapters(i)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){""===n&&(n=o.language.codes[t]||t),this.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(n),this.options.startLanguage==t&&e("#"+this.id+"_captions_"+t).click(),this.adjustLanguageBox()},addTrackButton:function(t,n){""===n&&(n=o.language.codes[t]||t),this.captionsButton.find("ul").append(e('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+this.id+"_captions_"+t+'">'+n+" (loading)</label></li>")),this.adjustLanguageBox(),this.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+this.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},displayCaptions:function(){if("undefined"!=typeof this.tracks){var e,t=this.selectedTrack;if(null!=t&&t.isLoaded)for(e=0;e<t.entries.times.length;e++)if(this.media.currentTime>=t.entries.times[e].start&&this.media.currentTime<=t.entries.times[e].stop)return this.captionsText.html(t.entries.text[e]),void this.captions.show().height(0);this.captions.hide()}},displayChapters:function(){var e;for(e=0;e<this.tracks.length;e++)if("chapters"==this.tracks[e].kind&&this.tracks[e].isLoaded){this.drawChapters(this.tracks[e]),this.hasChapters=!0;break}},drawChapters:function(t){var n=this,i,r,s=r=0;for(n.chapters.empty(),i=0;i<t.entries.times.length;i++)r=t.entries.times[i].stop-t.entries.times[i].start,r=Math.floor(r/n.media.duration*100),(r+s>100||i==t.entries.times.length-1&&r+s<100)&&(r=100-s),n.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+s.toString()+"%;width: "+r.toString()+'%;"><div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[i]+'</span><span class="ch-time">'+o.Utility.secondsToTimeCode(t.entries.times[i].start)+"&ndash;"+o.Utility.secondsToTimeCode(t.entries.times[i].stop)+"</span></div></div>")),s+=r;n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel"))),n.media.paused&&n.media.play()}),n.chapters.show()}}),o.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},o.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){var n=0;t=o.TrackFormatParser.split2(t,/\r?\n/);for(var i={text:[],times:[]},r,s;n<t.length;n++)if(this.pattern_identifier.exec(t[n])&&(n++,(r=this.pattern_timecode.exec(t[n]))&&n<t.length)){for(n++,s=t[n],n++;""!==t[n]&&n<t.length;)s=s+"\n"+t[n],n++;s=e.trim(s).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),i.text.push(s),i.times.push({start:0==o.Utility.convertSMPTEtoSeconds(r[1])?.2:o.Utility.convertSMPTEtoSeconds(r[1]),stop:o.Utility.convertSMPTEtoSeconds(r[3]),settings:r[5]})}return i}},dfxp:{parse:function(t){t=e(t).filter("tt");var n=0;n=t.children("div").eq(0);var i=n.find("p");n=t.find("#"+n.attr("style"));var r,s;if(t={text:[],times:[]},n.length&&(s=n.removeAttr("id").get(0).attributes,s.length))for(r={},n=0;n<s.length;n++)r[s[n].name.split(":")[1]]=s[n].value;for(n=0;n<i.length;n++){var a;if(s={start:null,stop:null,style:null},i.eq(n).attr("begin")&&(s.start=o.Utility.convertSMPTEtoSeconds(i.eq(n).attr("begin"))),!s.start&&i.eq(n-1).attr("end")&&(s.start=o.Utility.convertSMPTEtoSeconds(i.eq(n-1).attr("end"))),i.eq(n).attr("end")&&(s.stop=o.Utility.convertSMPTEtoSeconds(i.eq(n).attr("end"))),!s.stop&&i.eq(n+1).attr("begin")&&(s.stop=o.Utility.convertSMPTEtoSeconds(i.eq(n+1).attr("begin"))),r){a="";for(var l in r)a+=l+":"+r[l]+";"}a&&(s.style=a),0==s.start&&(s.start=.2),t.times.push(s),s=e.trim(i.eq(n).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),t.text.push(s),0==t.times.start&&(t.times.start=2)}return t}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(o.TrackFormatParser.split2=function(e,t){var n=[],i="",o;for(o=0;o<e.length;o++)i+=e.substring(o,o+1),t.test(i)&&(n.push(i.replace(t,"")),i="");return n.push(i),n})}(o.$),function(e){e.extend(o.MepDefaults,{contextMenuItems:[{render:function(e){return"undefined"==typeof e.enterFullScreen?null:e.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?"Unmute":"Mute"},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(){return"Download Video"},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled)return e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){for(var i=this,o="",r=i.options.contextMenuItems,s=0,a=r.length;s<a;s++)if(r[s].isSeparator)o+='<div class="mejs-contextmenu-separator"></div>';else{var l=r[s].render(i);null!=l&&(o+='<div class="mejs-contextmenu-item" data-itemindex="'+s+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}i.contextMenu.empty().append(e(o)).css({top:n,left:t}).show(),i.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),o=i.options.contextMenuItems[n];"undefined"!=typeof o.show&&o.show(t,i),t.click(function(){"undefined"!=typeof o.click&&o.click(i),i.contextMenu.hide()})}),setTimeout(function(){i.killControlsTimer("rev3")},100)}})}(o.$)}).call(t,n(1))},,,,function(e,t){window.tipsShown=20,window.tooltipCallbacks={},window.showTip=function(e,t,n,i,o,r,s){var a=window.jQuery;i||(i=window.tipsShown,window.tipsShown++);var l=a("string"==typeof t?"#"+t:t);if(1==l.length){1==o?r=r||200:r||(r=400);var c=r+11+11,u=a(document.body).width(),d=l.offset(),h={height:l.height(),width:l.width()},p=d.top+h.height+12,f=d.left+h.width/2-c/2;f<20?f=20:f+c>u-20&&(f=u-20-c);var m=d.left+h.width/2-13-f;a("#tips").prepend("<div id='tip"+i+"' class='tooltip' style='display:none'><div class='carrot' style='left:"+m+"px'></div><a class='close'></a><div class='content' style='width:"+r+"px'>"+e+"</div></div>");var g=a("#tip"+i).outerHeight();p+g>a(window).height()&&(p=d.top-g-10,a("#tip"+i+" .carrot").remove()),s&&(window.tooltipCallbacks["tip"+i]=s),a("#tip"+i).css({position:"absolute",top:p+"px",left:f+"px"}).on("mouseup",function(e){e.stop()}),a("#tip"+i+" a.close").on("click",function(){window.hideTip("tip"+i,1)}),1==o?a("#tip"+i).show():2==o?a("#tip"+i).fadeIn():setTimeout(function(){a("#tip"+i).css({position:"absolute",left:f+"px",top:window.getInnerHeight()/2+h.height+"px"}),a("#tip"+i).show(),a("#tip"+i).animate({top:p+"px"},1e3,"easeOutBounce")},500)}},window.hideTip=function(e,t){var n=window.jQuery;if(e&&n("#"+e).length){var i=window.tooltipCallbacks[e];i&&delete window.tooltipCallbacks[e],1==t?(n("#"+e).hide(),n("#tips").remove("#"+e),i&&i()):n("#"+e).fadeOut(function(){n("#"+e).length&&n("#"+e).parent()==n("#tips")&&(n("#tips").remove(n("#"+e)),i&&i())})}},window.hideAllTips=function(){for(var e=window.jQuery,t=0;t<e("#tips").children().length;t++)window.hideTip(e("#tips").children()[t].id)}},function(e,t,n){(function(t){var i=n(144),o=n(54),r=n(34);!function(e){Weebly.SiteSettings={selectMerchantAccount:function(t){Weebly.SiteSettings.saveSettings({"ecommerce-merchant":t});var n=e("#settings-ecommerce-type-"+t);n&&(e(".ecommerce-section").addClass("hidden"),n.removeClass("hidden"))},saveCurrency:function(e){Weebly.SiteSettings.saveSettings({"ecommerce-currency":e})},updatePremium:function(t){e("#settings-upload-favicon").show(),e("#settings-favicon-upgrade").hide()}}}(t),e.exports=Weebly.SiteSettings}).call(t,n(1))},function(e,t,n){var i=n(1);!function(e){function t(e,t){this.scroll=e,this.options=t}e.fn.weeblyScroll=function(n){var i=Array.prototype.slice.call(arguments);return this.each(function(){var o=e(this),r=o.data("weeblyScroll");"string"==typeof n?(r&&r[n].apply(r,i.slice(1)),"destroy"==n&&o.removeData("weeblyScroll")):r?(r.destroy(),r.init()):(r=new t(o,n),r.init(),o.data("weeblyScroll",r))}),this},t.prototype.init=function(){var t=this;t.outer=t.scroll.parent().addClass("w-scroll-outer").append("<div class='w-scrollbar w-scrollbar-v'><div class='w-scrollbar-inner'><div class='w-scrollbar-handle'></div></div></div><div class='w-scrollbar w-scrollbar-h'><div class='w-scrollbar-inner'><div class='w-scrollbar-handle'></div></div></div><div class='w-scroll-corner'></div>"),t.scroll.addClass("w-scroll").on("scroll.weeblyScroll",t.updateScroll.bind(t)),t.content=t.scroll.find("> :first-child").addClass("w-scroll-content"),t.hbar=t.outer.find(".w-scrollbar-h"),t.hbarInner=t.hbar.find(".w-scrollbar-inner"),t.hbarHandle=t.hbar.find(".w-scrollbar-handle"),t.vbar=t.outer.find(".w-scrollbar-v"),t.vbarInner=t.vbar.find(".w-scrollbar-inner"),t.vbarHandle=t.vbar.find(".w-scrollbar-handle"),t.corner=t.outer.find(".w-scroll-corner"),e.each([t.vbarHandle,t.hbarHandle],function(t,n){e(n).attr("unselectable","on").on("selectstart",!1)}),t.vbarHandle.on("mousedown.weeblyScroll",t.vbarHandleMousedown.bind(t)),t.hbarHandle.on("mousedown.weeblyScroll",t.hbarHandleMousedown.bind(t)),t.update(),setTimeout(function(){t.update()},0)},t.prototype.update=function(){var e=this;if(e.scroll.is(":visible")){e.scroll.removeClass("w-has-native-scrollbars");var t=Math.ceil(e.scroll.outerWidth()-e.scroll[0].clientWidth),n=Math.ceil(e.scroll.outerHeight()-e.scroll[0].clientHeight);(t||n)&&e.scroll.addClass("w-has-native-scrollbars"),e.scroll.css({"padding-right":t,"padding-bottom":n,"margin-right":-t,"margin-bottom":-n}),e.content.css({"margin-right":-t,"margin-bottom":-n});var i=e.availableWidth=e.outer.width(),o=e.content.outerWidth(),r,s;o>i&&n?(r=!0,e.hbar.show(),e.content.css("padding-bottom",e.hbar.outerHeight())):(r=!1,e.hbar&&e.hbar.hide(),e.content.css("padding-bottom",""));var a=e.availableHeight=e.outer.height(),l=e.content.outerHeight(),c,u;if(l>a&&t?(c=!0,e.vbar.show(),e.content.css("padding-right",e.vbar.outerWidth())):(c=!1,e.vbar&&e.vbar.hide(),e.content.css("padding-right","")),r||c?e.scroll.addClass("w-has-scrollbars"):e.scroll.removeClass("w-has-scrollbars"),r&&c){var d=e.vbarInner.outerWidth(),h=e.hbarInner.outerHeight();e.hbar.css("right",d),e.vbar.css("bottom",h),e.corner.css({width:d,height:h}).show()}else e.vbar.css("bottom",""),e.hbar.css("right",""),e.corner.hide();e.overflowX=r,e.overflowY=c,r&&(e.contentWidth=e.content.outerWidth(),e.hbarLength=e.hbarInner.outerWidth()),c&&(e.contentHeight=e.content.outerHeight(),e.vbarLength=e.vbarInner.outerHeight()),e.updateScroll()}},t.prototype.updateScroll=function(){var e=this;e.overflowX&&e.hbarHandle.css({left:e.scroll.scrollLeft()/e.contentWidth*e.hbarLength,width:e.availableWidth/e.contentWidth*e.hbarLength}),e.overflowY&&e.vbarHandle.css({top:e.scroll.scrollTop()/e.contentHeight*e.vbarLength,height:e.availableHeight/e.contentHeight*e.vbarLength})},t.prototype.vbarHandleMousedown=function(t){function n(e){var t=e.pageY-r,n=t*o.content.outerHeight()/o.vbarInner.outerHeight();o.scroll.scrollTop(s+n)}function i(){o.outer.removeClass("w-scrolling"),e("body").removeClass("w-body-scrolling"),e(document).off("mousemove",n).off("mouseup",i)}var o=this,r=t.pageY,s=o.scroll.scrollTop();o.outer.addClass("w-scrolling"),e("body").addClass("w-body-scrolling"),e(document).on("mousemove",n).on("mouseup",i)},t.prototype.hbarHandleMousedown=function(t){function n(e){var t=e.pageX-r,n=t*o.content.outerWidth()/o.hbarInner.outerWidth();o.scroll.scrollLeft(s+n)}function i(){o.outer.removeClass("w-scrolling"),e("body").removeClass("w-body-scrolling"),e(document).off("mousemove",n).off("mouseup",i)}var o=this,r=t.pageX,s=o.scroll.scrollLeft();o.outer.addClass("w-scrolling"),e("body").addClass("w-body-scrolling"),e(document).on("mousemove",n).on("mouseup",i)},t.prototype.destroy=function(){var e=this;e.outer.removeClass("w-scroll-outer"),e.scroll.off("scroll.weeblyScroll").removeClass("w-scroll").removeClass("w-has-scrollbars").removeClass("w-has-native-scrollbars").css({"padding-right":"","padding-bottom":"","margin-right":"","margin-bottom":""}),e.content.removeClass("w-scroll-content").css({"margin-right":"","margin-bottom":""}),e.vbarHandle.off("mousedown.weeblyScroll"),e.hbarHandle.off("mousedown.weeblyScroll"),e.hbar.remove(),e.vbar.remove(),e.corner.remove(),e.hbar=null,e.hbarInner=null,e.hbarHandle=null,e.vbar=null,e.vbarInner=null,e.vbarHandle=null,e.corner=null}}(i)},function(e,t,n){var i=n(463);i.createModule("SaveRestore",function(e,t){function n(e,t){var n="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i,o=s.getDocument(e.startContainer),r=e.cloneRange();return r.collapse(t),i=o.createElement("span"),i.id=n,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(o.createTextNode(a)),r.insertNode(i),r.detach(),i}function i(e,n,i,o){(e=(e||document).getElementById(i))?(n[o?"setStartBefore":"setEndBefore"](e),e.parentNode.removeChild(e)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function r(e,t){var n=(e||document).getElementById(t);n&&n.parentNode.removeChild(n)}e.requireModules(["DomUtil","DomRange","WrappedRange"]);var s=e.dom,a="\ufeff";e.saveSelection=function(i){i=i||window;var r=i.document;if(e.isSelectionValid(i)){var s=e.getSelection(i),a=s.getAllRanges(),l=[],c,u;a.sort(o);for(var d=0,h=a.length;d<h;++d)c=a[d],c.collapsed?(u=n(c,!1),l.push({markerId:u.id,collapsed:!0})):(u=n(c,!1),c=n(c,!0),l[d]={startMarkerId:c.id,endMarkerId:u.id,collapsed:!1,backwards:1==a.length&&s.isBackwards()});for(d=h-1;d>=0;--d)c=a[d],c.collapsed?c.collapseBefore((r||document).getElementById(l[d].markerId)):(c.setEndBefore((r||document).getElementById(l[d].endMarkerId)),c.setStartAfter((r||document).getElementById(l[d].startMarkerId)));return s.setRanges(a),{win:i,doc:r,rangeInfos:l,restored:!1}}t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.")},e.restoreSelection=function(n,o){if(!n.restored){for(var r=n.rangeInfos,s=e.getSelection(n.win),a=[],l=r.length,c=l-1,u,d;c>=0;--c){if(u=r[c],d=e.createRange(n.doc),u.collapsed)if(u=(n.doc||document).getElementById(u.markerId)){u.style.display="inline";var h=u.previousSibling;h&&3==h.nodeType?(u.parentNode.removeChild(u),d.collapseToPoint(h,h.length)):(d.collapseBefore(u),u.parentNode.removeChild(u))}else t.warn("Marker element has been removed. Cannot restore selection.");else i(n.doc,d,u.startMarkerId,!0),i(n.doc,d,u.endMarkerId,!1);1==l&&d.normalizeBoundaries(),a[c]=d}1==l&&o&&e.features.selectionHasExtend&&r[0].backwards?(s.removeAllRanges(),s.addRange(a[0],!0)):s.setRanges(a),n.restored=!0}},e.removeMarkerElement=r,e.removeMarkers=function(e){for(var t=e.rangeInfos,n=0,i=t.length,o;n<i;++n)o=t[n],o.collapsed?r(e.doc,o.markerId):(r(e.doc,o.startMarkerId),r(e.doc,o.endMarkerId))}})},function(e,t,n){var i,o,r=n(80);i=[n(5),n(80)],o=function(e){e.Commerce=e.Commerce||{},e.Commerce.Editor=e.Commerce.Editor||{},e.Commerce.Site=e.Commerce.Site||{},window.initCommerceModels&&window.initCommerceModels(),window.initEditorRPC&&window.initEditorRPC()}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports='<div id="commerce_editor_{{type}}_editchoices" class="button-popover w-ui {{#uiFramework}}ui-framework{{/uiFramework}}">\n\t{{#uiFramework}}\n\t\t{{#buttons}}\n\t\t\t<button id="{{id}}" class="btn btn--cta-primary">{{text}}</button>\n\t\t{{/buttons}}\n\t{{/uiFramework}}\n\t{{^uiFramework}}\n\t\t<div class="button-popover-left"></div>\n\t\t<div class="button-popover-content">\n\t\t\t{{#buttons}}\n\t\t\t\t<a id="{{id}}" href="javascript:;" class="btn btn-primary" role="button">{{text}}</a>\n\t\t\t{{/buttons}}\n\t\t</div>\n\t\t<div class="button-popover-right"></div>\n\t{{/uiFramework}}\n</div>\n'},,function(e,t){e.exports='<div class="w-element-controls">\n{{#isMovableElement}}\n\t<div class="w-move-outer">\n\t\t<div class="w-move"></div>\n\t</div>\n{{/isMovableElement}}\n\t<div class="w-handle-outer">\n\t\t<div class="w-handle"></div>\n\t</div>\n\t<div class="w-delete-outer">\n\t\t<div class="w-delete" title="Delete"></div>\n\t</div>\n{{#requiresUpgrade}}\n\t<div class="w-upgrade-outer">\n\t\t<div class="w-upgrade" title="Upgrade"></div>\n\t</div>\n{{/requiresUpgrade}}\n</div>'},function(e,t){e.exports='<div class="{{class_prefix}}-image-container wsite-imageaspectratio-image-container">\n\t<div class="{{class_prefix}}-image-height wsite-imageaspectratio-image-height">\n\t</div>\n\t<div class="{{class_prefix}}-image-wrap wsite-imageaspectratio-image-wrap">\n\t\t<img class="{{class_prefix}}-image wsite-imageaspectratio-image" src="{{image_source}}" style="width:{{image_percent_width}}%;top:{{image_percent_top}}%;left:{{image_percent_left}}%">\n\t</div>\n\t{{#show_sale_banner}}\n\t\t<div class="category__image-sale-banner-wrapper">\n\t\t\t<p class="category__image-sale-banner placeholder">\n\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t</p>\n\t\t</div>\n\t\t<p class="category__image-sale-banner visible">\n\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t</p>\n\t{{/show_sale_banner}}\n</div>\n'},function(e,t){e.exports='<div id="empty-message-standard" class="empty-element-message">\n\t<div class="empty-message-inner">\n\t\t{{#tl}}templates.sections.empty-messages.empty_1{{/tl}}\n\t</div>\n</div>\n'},function(e,t){e.exports='<div id="empty-message" class="{{^has_sections}}layout-chooser{{/has_sections}} empty-element-message" data-content-area="{{content_area}}" data-layout-section-id="{{layout_section_id}}">\n\t{{^has_sections}}\n\t\t<div class="w-ui">\n\t\t\t<button class="choose-a-layout btn-flat btn-flat-outline btn-flat-light">\n\t\t\t\t{{#tl}}templates.sections.empty-messages.layouts_1{{/tl}}\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="or-separator">\n\t\t\t{{#tl}}templates.sections.empty-messages.layouts_2{{/tl}}\n\t\t</div>\n\t\t<div id="empty-message-inner">\n\t\t\t{{#tl}}templates.sections.empty-messages.layouts_3{{/tl}}\n\t\t</div>\n\t{{/has_sections}}\n\t{{#has_sections}}\n\t\t<span style="display: none;">\n\t\t\t<div id="empty-message-inner">\n\t\t\t\t{{#tl}}templates.sections.empty-messages.layouts_3{{/tl}}\n\t\t\t</div>\n\t\t</span>\n\t{{/has_sections}}\n</div>\n'},,,function(e,t,n){(function(e){!function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),o=0,r=!0,s=0,a=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(o=n.wheelDelta/120),n.detail&&(o=-n.detail/3),a=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,s=-1*o),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(s=-1*n.wheelDeltaX/120),i.unshift(t,o,s,a),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(e)}).call(t,n(1))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(5),__webpack_require__(1),__webpack_require__(481)],__WEBPACK_AMD_DEFINE_RESULT__=function(_W,$){_W.evalJSON=function(json){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;cx.test(json)&&(json=json.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));try{return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+json)},$.fn.up=function(e){return this.eq(0).parent().closest(e||"*")},$.fn.down=function(e){return e?this.eq(0).find(e||"*").eq(0):this.eq(0).children(":first")};var idCounter=1;return $.fn.identify=function(){var e=this.attr("id");if(!e&&this.length){do e="anonymous_element_"+idCounter++;while($("#"+e).length);this.attr("id",e)}return e},$.fn.placeholder=function(){if(!("placeholder"in document.createElement("input"))){var e,t;this.each(function(n,i){t=i.getAttribute("placeholder"),t&&"input"===i.nodeName.toLowerCase()&&(e=$(i).on({focus:function(e){i.value===t&&($(i).removeClass("wsite-placeholder"),i.value="")},blur:function(e){i.value.length||(i.value=t,i.className+=" wsite-placeholder")}}),i.className+=" wsite-placeholder",i.value=t)})}},$.extend({isValidSelector:function(e){try{var t=$(e)}catch(e){return!1}return!0}}),document.observe||(document.observe=function(e,t){"dom:loaded"==e&&$(document).ready(t)}),$}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var i,o;i=[],o=function(){function e(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",
forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in n)t==i&&(t=n[i]);for(var o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<o.length;r++){var s=o[r].re,a=o[r].process,l=s.exec(t);l&&(channels=a(l),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var t=new Array,i=0;i<o.length;i++)for(var r=o[i].example,s=0;s<r.length;s++)t[t.length]=r[s];for(var a in n)t[t.length]=a;var l=document.createElement("ul");l.setAttribute("id","rgbcolor-examples");for(var i=0;i<t.length;i++)try{var c=document.createElement("li"),u=new e(t[i]),d=document.createElement("div");d.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),d.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[i]+" -> "+u.toRGB()+" -> "+u.toHex());c.appendChild(d),c.appendChild(h),l.appendChild(c)}catch(e){}return l}}return e}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2)],o=function(e){var t=function(t){function n(t){return e.extend(e.clone(u),t)}function i(n){var i=new FormData;return e.chain(t.parameters).clone().each(function(e,t,n){"function"==typeof e&&(n[t]=e())}).extend(n).each(function(e,t){i.append(t,e)}),i}function o(e){a=new XMLHttpRequest,a.upload.addEventListener("progress",t.progress,!1),a.addEventListener("abort",t.abort,!1),a.addEventListener("error",t.error,!1),a.addEventListener("load",function(e){c--,s(),t.load(e)},!1),a.addEventListener("loadstart",t.loadstart,!1),a.open(t.method,t.action),a.onreadystatechange=function(){4==a.readyState&&(200==a.status&&"function"==typeof t.success?t.success(a):403==a.status&&"function"==typeof t.error&&t.error(a))},a.send(e)}function r(e){var t;if("[object Array]"!==Object.prototype.toString.call(e))t=i(e),l.push(t);else for(var n=0;n<e.length;n++)t=i(e[n]),l.push(t);s()}function s(){l.length>0&&0===c&&(c++,o(l.shift()))}var a,l=[],c=0,u={parameters:{},method:"POST",action:"",abort:function(){},error:function(){},load:function(){},loadstart:function(){},progress:function(e){if(e.lengthComputable)return parseInt(e.loaded/e.total*100)}};return t=t||{},t=n(t),{setParameters:function(e){return n(e),this},send:function(e){return r(e),this},abort:function(){a.abort()}}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(5),n(9),n(388)],o=function(e,t,n){var i=t.Collection.extend({model:n,sync:function(t,n,i){"read"===t&&e.Commerce.RPC.Checkout.getCart().done(function(e){n.reset(e.data.order.items)})},subtotal:function(){for(var e=this.models,t=0,n=0;n<e.length;n++)t+=e[n].get("total_price");return t}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(2),n(3)],o=function(e,t,n){var i=n.RelationalModel.extend(t.extend({sync:function(e,t,n){}},e.Commerce.BackboneModelData.OrderItem));return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(185)],o=function(e,t,n){if(e.Commerce){e.Commerce.Site.Mobile||(e.Commerce.Site.Mobile={}),e.Commerce.Site.Mobile.Category||(e.Commerce.Site.Mobile.Category={}),e.Commerce.Site.Mobile.Category.View||(e.Commerce.Site.Mobile.Category.View={});var i=e.Commerce.Site.Mobile.Category.View;e.Commerce.Site.Mobile.Category.initialize=function(){i.Hierarchy.initialize(),i.Pager.initialize()},i.Hierarchy={initialize:function(){var e=t("#wsite-com-hierarchy-dropdown");e.on("change",i.Hierarchy.handleDropdownChange),n.resizeScreen()},handleDropdownChange:function(e){return window.location.pathname=t(this).val(),!1}},i.Pager={categoryId:0,totalPages:1,currentPage:1,initialize:function(){var e=t("#wsite-com-pagination");i.Pager.categoryId=parseInt(e.attr("data-com-category")),i.Pager.totalPages=parseInt(e.attr("data-com-total")),i.Pager.currentPage=parseInt(e.attr("data-com-current"));var n=e.find(".wsite-com-pagination-left, .wsite-com-pagination-right");n.on("click",i.Pager.handleClick)},handleClick:function(n){var o=t(this),r=i.Pager.currentPage;if(o.is(".wsite-com-pagination-left")?r--:r++,r>=i.Pager.totalPages-1&&(r=i.Pager.totalPages-1),r<=0&&(r=0),r!=i.Pager.currentPage){i.Pager.currentPage=r;var s=t("#wsite-com-pagination .wsite-com-pagination-left"),a=t("#wsite-com-pagination .wsite-com-pagination-right");s.toggleClass("wsite-disabled",i.Pager.currentPage<=0),a.toggleClass("wsite-disabled",i.Pager.currentPage>=i.Pager.totalPages-1);var l=t("#wsite-com-pagination .wsite-com-current");l.html(i.Pager.currentPage+1);var c;c=e.Commerce&&e.Commerce.Editor?e.Commerce.RPC.Category.generateMobileProductList(window.com_userID,window.com_currentSite,i.Pager.categoryId,i.Pager.currentPage):e.Commerce.RPC.Category.generateMobileProductList(i.Pager.categoryId,i.Pager.currentPage),c.done(function(n){var i=t("#product-list");i.height(i.outerHeight()),i.empty(),i.height("auto"),i.html(n.content),e.mobile_navigation.resizeScreen()})}}},t(document).ready(e.Commerce.Site.Mobile.Category.initialize)}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(303),n(519)],o=function(e,t,n,i){var o=function(){};return o.prototype=Object.create(n),o.prototype=t.extend(o.prototype,{el:"#wsite-content",selectors:{variationData:"#wsite-product-variations",productElementContainer:".wsite-product, .product",productPageContainer:".wsite-product-selector",siteProductIdElement:"#wsite-product-area",productTitle:"#wsite-product-title"},ui:{"custom-inputs":".wsite-product-options .text-option-input",options:".wsite-product-options","option-groups":".wsite-product-options >","price-area":"#wsite-price-line","price-amount":"#wsite-product-price .wsite-price","price-sale-amount":"#wsite-product-sale-price .wsite-price",quantity:"#wsite-quantity","add-to-cart":"#wsite-com-product-add-to-cart"},options:{salePriceClass:"wsite-product-sale-price",nonSalePriceClass:"wsite-product-price",soldOutPriceClass:"wsite-product-sold-out",priceRangeClass:"wsite-product-price-range",unavailablePriceClass:"wsite-product-no-item"},initialize:function(){if(n.initialize.apply(this,arguments),this.$el.length){i.initialize();var e=this;this.$el.find(".wsite-buy-button").on("click",function(t){e.buy(t,e.ui["custom-inputs"])})}},placeOptionPopover:"bottom",buy:function(){n.buy.apply(this,arguments).done(function(e){if(e.success){var t=e.data.has_ssl_cert,n=e.data.token,i=e.data.host;t&&i.indexOf("weebly")==-1?window.location.href=i:window.location.href=i+"?view=mobile&cart="+n}})},updateImage:function(e){var t=e.image_order&&e.image_order[0],n=i.indexMap[t];void 0!==n&&i.$slider.swipeTo(n)},update:function(){var e=n.update.apply(this,arguments),t=e?e.inventory:0;t=void 0===t||t>20?20:t;for(var i="",o=1;o<=t;o++)i+="<option>"+o+"</option>";""===i&&(i="<option>0</option>"),this.ui.quantity.html(i)}}),e(document).ready(function(){window.inEditor&&window.inEditor()||(new o).initialize()}),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2),n(18),n(166)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"DefaultTaxRate"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,function(e,t,n){var i,o;i=[n(2),n(1),n(5)],o=function(e,t,n){var i={setup:function(){this.defaults={}},getUnitedStatesDefaults:function(e){return this.defaults.unitedStates&&Boolean(e)===!1?t.when(this.defaults.unitedStates):n.Commerce.RPC.TaxRate.getAllDefaultUnitedStatesTaxRates().then(function(e){return this.defaults.unitedStates=e.data,e.data}.bind(this))},getCanadaDefaults:function(e){return this.defaults.canada&&Boolean(e)===!1?t.when(this.defaults.canada):n.Commerce.RPC.TaxRate.getAllDefaultCanadianProvinceTaxRates().then(function(e){return this.defaults.canada=e.data,e.data}.bind(this))},getStateDefault:function(e,t){return this.getUnitedStatesDefaults(t).then(function(t){return t.unitedStates.subregions[e]})},getProvinceDefault:function(e,t){return this.getCanadaDefaults(t).then(function(t){return t.canada.subregions[e]})},fetchUnitedStatesDefaults:function(){return this.getUnitedStatesDefaults(!0)},fetchStateDefault:function(e){return this.getStateDefault(e,!0)},fetchCanadaDefaults:function(){return this.getCanadaDefaults(!0)},fetchProvinceDefault:function(e){return this.getProvinceDefault(e,!0)}};return i.setup(),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(3),n(16),n(6),n(11)],o=function(e,t,n,i){return t.extend({useServerGeneratedDefaultsFor:"CategoryImage",getMaxAvailableWidth:function(e){return e=parseInt(e,10)||this.get("width"),this.get("width")<e?this.get("width"):e},uri:function(e){e=e?e:"{size}";var t=this.attributes,o=t.owner_id+"-"+t.site_id+UPLOADS_BASE;if(!t.site_category_image_id)return"//"+o+t.uri;"{size}"!=e&&e>parseInt(this.get("width"))&&(e=parseInt(this.get("width")));var r="s"+t.site_id+"_c"+t.site_category_id+"_i"+t.site_category_image_id+"_w"+e+"."+t.format,s;return s=i.StoreApp&&i.StoreApp.storefrontSettings?i.StoreApp.storefrontSettings:n.commerce.storefrontSettings,"//"+o+"/uploads/"+s.get("upload_uid_location")+"/"+r},regenerate:function(){var e=this;e.rpc.resize.call(e,e.get("owner_id"),e.get("site_id"),e.get("site_category_id"),e.get("site_category_image_id"))}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(308),n(166),n(146),n(215)],o=function(e,t,n,i,o){var r=i.extend({relations:[{key:"subregions",type:e.HasMany,relatedModel:o,collectionType:t},{key:"default_rate",type:e.HasOne,relatedModel:n}]});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(16)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"EmailCustomMsg"})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(5),n(16),n(11)],o=function(e,t,n){var i=t.extend({useServerGeneratedDefaultsFor:"ProductImage",rollback:function(){t.prototype.rollback.apply(this,arguments)},getMaxAvailableWidth:function(e){return e=parseInt(e,10)||this.get("width"),this.get("width")<e?this.get("width"):e},uri:function(t){t=t?t:"{size}";var i=this.attributes;"{size}"!=t&&t>parseInt(this.get("width"))&&(t=parseInt(this.get("width")));var o="s"+i.site_id+"_p"+i.site_product_id+"_i"+i.site_product_image_id+"_w"+t+"."+i.format,r=i.owner_id+"-"+i.site_id+UPLOADS_BASE,s={};return n.StoreApp&&n.StoreApp.storefrontSettings?s=n.StoreApp.storefrontSettings.toJSON():e.Commerce.BackboneBootstrap&&e.Commerce.BackboneBootstrap.StorefrontSettings&&(s=e.Commerce.BackboneBootstrap.StorefrontSettings),"//"+r+"/uploads/"+s.upload_uid_location+"/"+o},regenerate:function(){var e=this;e.rpc.resize.call(e,e.get("owner_id"),e.get("site_id"),e.get("site_product_id"),e.get("site_product_image_id"))}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(16)],o=function(e){var t=e.extend({useServerGeneratedDefaultsFor:"ProductOption",cloneDeep:function(){var t=e.prototype.cloneDeep.apply(this,arguments);return t.set("site_product_id",null),t}});return t.prototype.defaults.name="",t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(16),n(539),n(540),n(535)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"ProductSku",cloneDeep:function(){var e=t.prototype.cloneDeep.apply(this,arguments);return e.set("site_product_id",null),this.cloneDeepCollection("optionchoices",e),e},get:function(e){if("price"===e||"sale_price"===e){var n=this.attributes[e];return null!==n?parseFloat(n):null}return t.prototype.get.apply(this,arguments)},set:function(e,n){return"price"!==e&&"sale_price"!==e||null!==n&&"string"==typeof n&&(n=this.formatCurrencyString(n),n=parseFloat(n)),t.prototype.set.apply(this,arguments)},product_tracks_inventory:function(){var e=this.get("product");return e&&e.inventoryTrackingEnabled()},hasOptionchoices:function(t,n,i){t=e.isArray(t)?t:[t],n=e.isUndefined(n)?[]:n,n=e.isArray(n)?n:[n],i=e.isUndefined(i)?"all":i;var o=this.getSkuOptionchoices(),r,s;return e.some(t,function(t){return r=0,s=e.every(t,function(t,i){return e.indexOf(n,i)!==-1?(r++,!0):o[i]===t}),s&&"all"===i&&(s=e.keys(t).length===e.keys(o).length+r),s})},getSkuOptionchoices:function(){var e={};return this.get("optionchoices").each(function(t){e[t.get("name")]=t.get("choice")}),e},formatCurrencyString:function(e){if(/,(\d{1,2}|\d{4,})$/.test(e)){var t=e.lastIndexOf(",");e=e.substr(0,t)+"."+e.substr(t+1)}return e=e.replace(",","")}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(16)],o=function(e){return e.extend({useServerGeneratedDefaultsFor:"ProductSkuOptionchoice",cloneDeep:function(){var t=e.prototype.cloneDeep.apply(this,arguments);return t.set("site_product_id",null),t.set("site_product_sku_id",null),t}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(193)],o=function(e,t,n,i){var o=window,r=n.RelationalModel,s=r.prototype,a=n.RelationalModel.extend({_class:this.className,baseCollection:i,baseModelDefaults:{},unbatchRelatedModels:[],pageDirtyCheck:function(){return!0},fetch:function(e){return e=t.defaults(e||{},{limit:1,single:!0,view:"detail"}),s.fetch.call(this,e)},parse:function(e){return e&&e.data?e.data:e},sync:function(e,t){var n=e+":"+this.useServerGeneratedDefaultsFor.toLowerCase();a.vent.trigger(n,t),"read"!=e&&this.pageDirtyCheck()&&this.syncEventAggregator&&(this.syncEventAggregator.isPageDirty=!0);var i=arguments,o=t.useServerGeneratedDefaultsFor.toLowerCase(),r=s.sync.apply(this,arguments);return this.syncEventAggregator&&this.syncEventAggregator.vent.trigger(o+":"+e,r,i),r},clone:function(){var e=s.clone.apply(this,arguments);return e.set("updated_date",null),e.set("created_date",null),e},cloneDeep:function(){return this.clone()},cloneDeepCollection:function(e,t,n){var i=[];this.get(e).each(function(e){i.push(e.cloneDeep())}),n||(n=this.baseCollection),t.set(e,new n(i))},fetchChildRelation:function(e){var t=this,n=this.getRelation(e),i=this.get(e),o=n.options.foreignKey,r=this.get(c),s=[],a,l=o.length;for(a=0;a<l;a++){var c=o[a];s.push({property:c,value:t.get(c)})}return i.fetchOptions.filter=s,i.fetch()},getRelated:function(n,i,o,r,s){var a=this,l=a.get(n),c=o.prototype.model,u=new o,d=function(e){var t={};return t[i]=e,c.findOrCreate(t)};r&&(u.comparator=function(e){return t.indexOf(a.get(r),e.get(i))},u.listenTo(a,"change:"+r,function(){u.sort()}));var h=!0;a.on("change:"+n,function(e,i){if(!h){h=!0;var o=i||[],r=a.previous(n)||[],s=t.difference(o,r),l=t.difference(r,o);t.each(s,function(e){u.add(d(e))}),t.each(l,function(e){u.remove(d(e))}),h=!1}}),a.listenTo(u,"add remove destroy reset",function(){h||(h=!0,a.set(n,u.pluck(i)),h=!1)}),t.each(l,function(e){u.add(d(e))});var p=e.Deferred();if(t.contains(a.unbatchRelatedModels,c.prototype._class))p.resolve(u),h=!1;else{var f=50;s=s||"detail";var m=function(o){if(o>u.length){h=!1;var r=a.get(n),l=u.pluck(i);(t.difference(r,l).length||t.difference(l,r).length)&&a.set(n,l),p.resolve(u)}else{var c=u.slice(o,o+f),d=t.map(c,function(e){return e.fetch({view:s}).done(function(t){t.success||u.remove(e)})});e.when.apply(e,d).done(function(){p.notify((o+d.length)/u.length),m(o+f)})}};m(0)}return p.promise()}},{vent:t.extend({},n.Events),findOrCreate:function(e,n){return e=t.defaults(e||{},t.pick(this.prototype.defaults,this.prototype.userKey,this.prototype.siteKey||null)),r.findOrCreate.call(this,e,n)},getID:function(e){var n=this.prototype,i=n.idAttribute,o=n.useServerGeneratedDefaultsFor.toLowerCase();return t.isObject(e)?e._class?e.get(i):e[i]?e[i]:!!e[o]&&e[o].get(i):e}});return a.setSyncEventAggregator=function(e){a.prototype.syncEventAggregator=e},a.extendBase=function(e){return n.RelationalModel.extend.call(this,e)},a.extend=function(i,o,r,s){var a=r?r[i.useServerGeneratedDefaultsFor]:{},l=a&&a.rpc?{rpc:a.rpc}:{},c=n.RelationalModel.extend.call(this,e.extend(!0,l,i,a),o);i.validation&&e.extend(!0,c.prototype.validation,i.validation);var u=this.prototype.baseModelDefaults;return s&&this.prototype.syncEventAggregator&&void 0!==this.prototype.syncEventAggregator[s]&&(u[s]=this.prototype.syncEventAggregator[s]),c.prototype.defaults=c.prototype.defaults||{},t.extend(c.prototype.defaults,u),c.prototype.validation&&t.each(c.prototype.validation,function(e,n){if(e&&e.requiredIf){var i=e.requiredIf;delete e.requiredIf;var o=e.required;e.required=function(){return o||t.result(this,i)}}}),c},a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2)],o=function(e){var t=function(t){return e.pick(t,this.constructor.fields)};return t.fields=["readyState","responseText","status","statusText"],t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(13),n(4),n(185),n(123),n(114),n(25),n(34),n(35),n(7)],o=function(e,t,n,i,o,r,s,a,l,c){var u='<div class="wsite-footer-separator"></div><div class="wsite-footer-version">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_15")+' <span class="wsite-footer-version-text">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_16")+' <span class="wsite-footer-vertical">|</span> <a class="wsite-version-web" href="#">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_17")+"</a></span></div>",d=window.Class.create(o,{listElID:"weebly-footer-list",afterRender:function($super){function n(){h.close()}$super();var o=this,s,a=l.isMobileView,h;t.chromeless||(h=o.spotlight=new r({area:{name:this.name},container:o.el,uid:"footer",zIndex:10,paddingHeight:a?10:15,paddingWidth:a?0:15,elementsPage:"footer",onOpen:function(){c.commands.setHandler("editor:spotlight:footer:close",n),h.isRefresh||o.showPageLayoutPicker(),o.removeAddFooterMessage(),d.isEditing=!0,s=e('<span class="btn btn-large btn-primary save-button">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_13")+"</span>"),h.getControlsInner().addClass("footer-controls").append(s.on("click",function(){h.close()})),o.ensureWithinScroll(),o.toggleEmptyMessage(),l.isMobileView&&i.resizeScreen()},onClose:function(){c.commands.removeHandler("editor:spotlight:footer:close"),c.execute("analytics:track:event","editor.elements","save_footer"),d.isEditing=!1,h.getControlsInner().empty(),o.removeEmptyMessage(),o.attachAddFooterMessage(),l.isMobileView&&i.resizeScreen()}}),h.cover.attr("title",_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_6")));var p=e(o.el);a&&0==p.parent(".wsite-mobile-footer").length&&(e(o.el).parent().addClass("wsite-mobile-footer"),e(o.el).after(u)),o.attachAddFooterMessage()},afterAddElement:function(){this.removeEmptyMessage()},attachAddFooterMessage:function(){var i=this,o;e(i.el).find("li.inside:not(.wsite-multicol-li)").length||(o=t.chromeless?n.compile("<span class='weebly-empty-footer-message {{className}}'>"+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_8")+"</span>"):n.compile("<span class='weebly-empty-footer-message {{className}}'>"+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_7")+"</span>"),e(i.el).append(o({className:"empty-element-message"})))},removeAddFooterMessage:function(){var t=this;e(t.el).find(".weebly-empty-footer-message").remove()},toggleEmptyMessage:function(){var t=this,n=e("#"+t.elID),i=this.name,o;t.elements.length?t.removeEmptyMessage():(o=l.isMobileView?'<div id="empty-message-footer-layouts" class="empty-element-message"><div class="w-ui"><button class="choose-a-layout btn-flat btn-flat-outline btn-flat-light" onclick="require(\'editor-site-shared/relay\').execute(\'pageLayouts:gallery:show\', \''+i+"', null);\">"+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_14")+'</button></div><div class="or-separator">'+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_10")+'</div><div id="empty-message-inner">'+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_11")+"</div></div>":'<div id="empty-message-footer" class="empty-element-message">'+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_12")+"</div>",n.prepend(o).addClass("empty-footer"))},showPageLayoutPicker:function(){var e=this,t=this.name,n=!1;2==e.elements.length&&e.elements[0].columns&&"27280689"==e.elements[0].columns[0][0].eid&&"27280689"==e.elements[0].columns[1][0].eid&&"6942243"==e.elements[1].eid?n=!0:0==e.elements.length&&(n=!0),n&&!_W.view.isMobileView&&c.execute("pageLayouts:gallery:show",t,null)},removeElement:function($super,e){var t=this.context.deleteElement(e);this.spliceElement(t.id),this.removeEmptyColumns(),0==this.elements.length&&this.attachAddFooterMessage()},removeEmptyMessage:function(){var t=this,n=e("#"+t.elID);n.removeClass("empty-footer").find("#empty-message-footer").remove(),n.find("#empty-message-footer-layouts").remove(),n.find(".empty-element-message").remove()},unrender:function($super){var e=this;$super(),e.spotlight&&(e.spotlight.destroy(),delete e.spotlight)},reposition:function($super){$super(),this.spotlight&&this.spotlight.resize()},ensureWithinScroll:function(){var t=this,n=e(t.el),i=e(window),o=n.offset().top+n.outerHeight()+30,r=i.outerHeight();o>r&&i.scrollTop(o-r)}});return c.reqres.setHandlers({"editor:footer:hasElement":function(){return 0!=e(".weebly-footer-list").find("li").length}}),Weebly.AdvancedFooterArea=d,s.register(function(e){return("content"==e.type&&"footer"==e.name||"footer"==e.type)&&window.ENABLE_ADVANCED_FOOTER&&a.hasAccess("edit_footer")},d),d}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(5),n(602),n(25),n(45),n(578),n(123),n(579),n(581),n(316),n(583),n(588),n(592),n(593),n(590),n(410),n(587),n(591),n(582),n(585),n(580),n(584),n(586)],o=function(e,t,n,i){function o(o){function a(){return v}function l(e,t){return s(v,e,t)}function c(e){var t;return v.some(function(n){if(n.el===e)return t=n,!0;if(n.sections){var i=n.sections.findWhere({el:e});if(i)return t=i.get("elementArea"),!0}}),t}function u(){v.each(function(e){e.beforeRender()})}function d(t,o,s){var a=l(t,o);if(a||"title"!=t||(a=new e.TitleArea({type:t,name:o}),v.push(a)),a)return a.attrs=s,a.getHTML();var c=n.getNewElID();return i.fetchNeededArea(!this.pageID,t,o,function(e){var t=n.load(e,g);t&&(v.push(t),t.attrs=s,t.elID=c,t.el=t.getHTML(),r(c).replace(t.el))}),"<span id='"+c+"'></span>"}function h(){v.each(function(e){var t=r(e.elID);t&&(e.el=t,e.afterRender())}),g.hasRendered=!0}function p(){v.each(function(e){e.el&&e.reposition()}),hashEach(this.elementsByID,function(e,t){t.li&&t.reposition()})}function f(){v.each(function(e){e.el&&e.unrender()}),hashEach(this.elementsByID,function(e,t){t.li&&t.unrender()})}function m(e){v.each(function(t){var n=s(e,t.type,t.name);if(n){var i=n.el;i&&i.parentNode&&(t.attrs=n.attrs,t.replaceArea(i),t.afterRender())}})}var g=this,v=[];t.call(g),g.getAreas=a,g.getArea=l,g.getAreaForElement=c,g.beforeRender=u,g.getAreaHTML=d,g.afterRender=h,g.reposition=p,g.unrender=f,g.renderAreas=m,g.hasRendered=!1,o.currentApp&&(this.currentApp=o.currentApp),$H(o).each(function(e){"areas"==e.key?e.value.each(function(e){var t=n.load(e,g);t&&v.push(t)}):g[e.key]=e.value})}function s(e,t,n){n=n||"";for(var i=0;i<e.length;i++)if(e[i].type==t&&e[i].name==n)return e[i]}return e.AreaContext=o,o}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(804),n(803),n(798),n(799),n(800),n(802),n(801),n(375),n(19),n(6),n(13),n(7),n(44),n(513),n(79),n(262),n(197),n(67),n(130),n(128)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w,y,_,E){var T={view:_W.stl("javascript.cart.viewDetails"),buy:_W.stl("javascript.cart.buyNow"),cart:_W.stl("javascript.cart.addToCart"),notAvailable:_W.stl("templates.platform.theme.core.shared.commerce.add-to-cart_3")},C={tpl_commerce_product_legacy_grid:r,tpl_commerce_product_legacy_large:s,tpl_commerce_product_legacy_long:a,tpl_commerce_product_legacy_small:l},S=window.Class.create(d,{"<!PRODUCT!>":function(){return""},afterRender:function($super,e,t){$super(e,t);var n=this,i=this.getContentField(),o=i.getProperty("<!PRODUCTID!>").property_result||!1,r=i.getProperty("<!PRODUCTSKUID!>").property_result||!1;(!p.chromeless||o&&r)&&(p.chromeless||o&&r?this.renderProduct(o,r):f.request("commerce:productSelectView:show").done(function(e){n.saveProductAssociation(e.site_product_id,e.site_product_sku_id),n.renderProduct(e.site_product_id,e.site_product_sku_id)}).fail(function(){w.deleteWeeblyElement(n.li,!0)}))},renderProduct:function(e,n){function i(i,l){var c=E.storefrontSettings,u="buynow"==c.get("store_mode"),d=c.getRatioAsPercent("product_image_ratio");if(a=c.get("element_legacy_mode"),i.marginTop=s.getProperty("<!MARGINTOP!>").property_result,i.marginBottom=s.getProperty("<!MARGINBOTTOM!>").property_result,i.showPrice="1"==s.getProperty("<!SHOWPRICE!>").property_result,i.showImage="1"==s.getProperty("<!SHOWIMAGE!>").property_result,i.showDescription="1"==s.getProperty("<!SHOWDESCRIPTION!>").property_result,i.productId=e,i.productSkuId=n,i.inEditor=!0,i.staticDomain=window.editorStatic,i.imageWidth=s.getProperty("<!IMAGEWIDTH!>").property_result,i.imageLinkAttrs="href='#' onclick='return false'",l){i.imageHtml=r.thumbnail(320,f),i.imageUrl=r.getImageUrl(320,f),i.title=r.get("name"),i.descriptionHtml=r.get("short_description"),i.currencyPrefix=c.get("currency_prefix"),i.currencySuffix=c.get("currency_suffix");var h=r.get("skus").filter(function(e){return e.get("site_product_sku_id")==n}).first(),f=h.get("image_order")?h.get("image_order")[0]:void 0;i.price="number"==typeof h.get("price")&&h.get("price").toFixed(2),i.salePrice="number"==typeof h.get("sale_price")&&h.get("sale_price").toFixed(2);var m=r.isGiftCardProduct()&&!r.get("published");i.disabled=m;var g=s.getProperty("<!BUTTONTYPE!>").property_result;"view"!=g?m?(g="notAvailable",i.isNotAvailableButton=!0):u?(g="buy",i.isBuyNowButton=!0):(g="cart",i.isAddToCartButton=!0):i.isViewButton=!0,i.buttonType=g,i.buttonText=T[g],i.buttonUrl="javascript:;"}if(i.buttonClass=["wsite-button","wsite-product-button","wsite-button-"+s.getProperty("<!BUTTONSIZE!>").property_result,"view"==g?"wsite-button-normal":"wsite-button-highlight"].join(" "),a){var b=s.getProperty("<!LEGACYALIGN!>").property_result;"right"==b?i.alignCss="margin-left: auto !important":"center"==b&&(i.alignCss="margin-left: auto !important; margin-right: auto !important"),l&&"view"!==g&&h.get("optionchoices").each(function(e){"text"===e.get("option_type")&&(i.isViewButton=!0,i.isAddToCartButton=!1,i.isBuyNowButton=!1)})}else if(l&&"view"!=g&&h.get("optionchoices").size()){var w=h.get("optionchoices");i.hasVariants=!0,i.variantOptions=[],w.each(function(e){var t={name:e.get("name"),choice:v.filterOptionText(e.get("choice"))};"text"==e.get("option_type")&&(t.text=!0,t.safe_option_name=t.name.replace(/[\W]/g,"_")),i.variantOptions.push(t)})}if(p.chromeless){var y=i.product_sku_id?i.product_sku_id:i.productSkuId,_={};t.each(i.product_skus,function(e){if(e.product_sku_id===y)return _=e,!1});var C=E.storefrontSettings.getRatioAsNumber("product_image_ratio");i.imageHtml=o.getProductImageHtml(i,_,C,d),"undefined"==typeof i.variantOptions&&("undefined"==typeof i.variant_options?i.variantOptions=null:i.variantOptions=i.variant_options),null!==i.variantOptions&&(i.hasVariants=!0)}i.name&&(i.title=i.name),i.short_description&&(i.descriptionHtml=i.short_description)}var o=this,r;r=p.chromeless?m.find({site_product_id:e}):m.findOrCreate({site_product_id:e});var s=this.getContentField(),a;if(p.chromeless){var l=this.product_data;i(l),this.renderProductHTML(l,a),p.chromeless||delete this.product_data}else r.fetch().done(function(e){if(e.success){var n=t.isEmpty(o.product_data)?{}:o.product_data;i(n,!0),o.renderProductHTML(n,a)}})},renderProductHTML:function(t,r){var s=this.getContentField(),a=e(this.li).find(".element"),l,u;if(r){var d=s.getProperty("<!LEGACYDISPLAY!>").property_result;l=n.compile(C["tpl_commerce_product_legacy_"+d]),u=n.compile(c)}else l=n.compile(i),u=n.compile(o);t.priceHtml=u({currencyPrefix:t.currencyPrefix,currencySuffix:t.currencySuffix,price:t.price,salePrice:t.salePrice}),a.html(l(t)),!r&&Weebly.Permissions.store_edit&&(y.makeElementContentEditable(a.find(".wsite-product-title").get(0),{richTextControls:!1,saveCallback:function(){b.saveProductChanges("title",t.productId,a.find(".wsite-product-title"),{entryPoint:"commerceProductTitleEdit"})}}),"1"==s.getProperty("<!SHOWDESCRIPTION!>").property_result&&y.makeElementContentEditable(a.find(".wsite-product-description").get(0),{saveCallback:function(){b.saveProductChanges("description",t.productId,a.find(".wsite-product-description"),{entryPoint:"commerceProductDescriptionEdit"})}})),this.initImageResizing()},initImageResizing:function(){var t=this,n=e(t.li).find(".wsite-product-image, .product-image"),i=n.parent(),o=n.is(".product-image");o&&i.parent().is(".product-block-inner")||(o&&i.css({position:"relative",float:"left"}),i.resizable({aspectRatio:!0,handles:"se",minWidth:50,start:function(){_.resizing=!0},resize:function(e,t){o&&n.css("width",Math.round(t.size.width)-(o?10:0))},stop:function(){_.resizing=!1,i.css("height","");var e=i.width()-(o?10:0)+"px",n=t.getContentField();n.getProperty("<!IMAGEWIDTH!>").property_result=e,n.saveProperties()}}))},saveProductAssociation:function(e,t){var n=this.getContentField();n.getProperty("<!PRODUCTID!>").property_result=e,n.getProperty("<!PRODUCTSKUID!>").property_result=t,n.saveProperties()},calculateProductImageAspectRatio:function(e,t){var n=Math.round(100*e.width/e.height)/100,i={};
return void 0===e.width?(i.width=100,i.top=0,i.left=0):n>t?(i.width=(n/t*100).toFixed(2),i.top=0,i.left=(50*(1-n/t)).toFixed(2)):(i.width=100,i.top=(50*(1-t/n)).toFixed(2),i.left=0),i},getProductImageHtml:function(e,i,o,r){var s=n.compile(u),a="",l="";e.product_images&&0!==e.product_images.length?e.product_images.length>1&&e.product_skus.length>1?(l=t.isArray(i.product_sku_image_id)?i.product_sku_image_id[0]:i.product_sku_image_id,a=this.getProductSkuImage(l,e.product_images)):a=e.product_images[0]:a={width:320,height:320,path:"blank-product-w320.png"};var c=this.calculateProductImageAspectRatio(a,o),d=s({class_prefix:"wsite-product-image",image_source:a.path,image_percent_width:c.width,image_percent_left:c.left,image_percent_top:c.top});return d=d.split('wsite-imageaspectratio-image-height"'),d=d[0]+'wsite-imageaspectratio-image-height" style="margin-bottom:'+r+'% !important;"'+d[1]},getProductSkuImage:function(e,n){var i=n[0];return t.each(n,function(t){if(t.product_image_id===e)return i=t,!1}),i}});return S.afterRender=function(){h.vent.trigger("store:setting:applySettingStyles")},f.reqres.setHandlers({"commerce:productSelectView:show":function(){var t=e.Deferred();return h.showDialog(new g(t)),t.promise()}}),Weebly.CommerceProduct=S,d.register("5699726",S),S}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(5),n(8),n(690)],o=function(e,t,n,i,o){return e.extend(o,{LOCATION_BLOG_POST:"blog_post",LOCATION_SITE_PUBLISH:"sitePublish",LOCATION:"editor",render:function(e,t){var o=this;this.rendered===!1&&(this.rendered=!0,this.widgetId=grecaptcha.render("g-recaptcha",{sitekey:this.RECAPTCHA_PUBLIC_KEY,"data-badge":"inline",callback:function(n){o.submitCaptcha(e,n,t)}},!0),"function"==typeof window.ga&&window.ga("send","pageview",{page:"/captcha-required",title:n.utl("html.weebly.libraries.classes.PublishWindow.Website_17")}),i.trackEvent("editor.spam","captcha_shown",e),this.pollChallenge(e)),grecaptcha.execute(this.widgetId)},submitCaptcha:function(e,n,o){t.ajax({type:"POST",url:"/spam/invisible-captcha/verify",data:{g_recaptcha_response:n,location:e,action:"verifyResponse"},success:function(t){i.trackEvent("editor.spam","captcha_verify_success",e),window.clearInterval(this.iframePoll),o(t.verified)},error:function(e){window.clearInterval(this.iframePoll),o(!1)}})}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(2),n(6),n(701),n(46)],o=function(e,t,n,i,o){var r={isEditing:!1,isConfirming:!1,allowSwitch:!1,tryPageSwitch:function(e){e=Array.prototype.slice.call(e);var t=e[0];if(this.allowSwitch)return!0;if(this.isConfirming)return!0;if("goBlogPost"==t&&"themesMenu"==o.currentNavPage)return this.allowSwitch=!0,o.go("editMenu"),this.allowSwitch=!1,!0;if("undefined"==typeof window.currentBlog||0==window.currentBlog.postId||"goBlogPost"==t||o.pageWindows[t].indexOf("goBlogPost")!=-1)return!0;if(1!=window.currentBlog.postId)return this.allowSwitch=!0,o.go("updateList",currentPage),this.allowSwitch=!1,"updateList"!=t;if(window.currentBlog.saving)return window.currentBlog.saving=0,!0;this.isConfirming=!0;var n=new i({onCancel:function(){this.isConfirming=!1}.bind(this),onConfirm:function(){o.go("updateList",currentPage),"updateList"!=t&&o.go.apply(o,e),this.isConfirming=!1}.bind(this)});return!1},updateCurrentBlog:function(){var e=n.request("blog:post:current");e&&(window.currentBlog.title=e.get("post_title"),window.currentBlog.date=e.getCreatedDateInSiteTz(),window.currentBlog.shares=this.getSharesValue(e))},getSharesValue:function(e){var t=[];return void 0!==e&&e.get("share_buttons").each(function(e){e.enabled&&t.push(e.type)}),Object.toJSON(t)}};return r=e.BlogEditor=t.extend({},e.BlogEditor,r)}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(5),n(6),n(84),n(285),n(234)],o=function(e,t,n,i,o,r){function s(e){e.is_upgradable&&e.show_upgrade_dialog&&n.showDialog(new i({title:t.utl("javascript.editor.build.themes.upgrading_1"),message:t.utl("javascript.editor.build.themes.upgrading_2"),confirmText:t.utl("javascript.editor.build.themes.upgrading_3"),cancelText:t.utl("javascript.editor.build.themes.upgrading_4"),callback:function(t){t?c(e,!0):d(e)}}))}function a(t){return t.new_theme_id?c(t):e.Deferred().reject()}function l(o){var r=e.Deferred();return o.old_theme_id?n.showDialog(new i({title:t.utl("javascript.editor.build.themes.upgrading_5"),message:t.utl("javascript.editor.build.themes.upgrading_6"),confirmText:t.utl("javascript.editor.build.themes.upgrading_7"),cancelText:t.utl("javascript.editor.build.themes.upgrading_8"),callback:function(e){e&&t.themeCache.get(o.old_theme_id,function(e){e.show_upgrade_dialog=!1,window.changeTheme(o.old_theme_id,o.current_theme_color)}),r.resolve(e)}})):r.reject(),r.promise()}function c(n,i){var r=e.Deferred();return t.themeCache.get(n.new_theme_id,function(e){new o({themeForOptions:n.theme_id,theme:n.new_theme_id,colors:e.colors,selectedColor:n.current_theme_color,isUpgrade:!0,callback:function(e){i&&(e?u(n):d(n)),r.resolve(e)}})}),r.promise()}function u(){r.show("theme-howto-downgrade")}function d(e){t.Editor.RPC.Theme.markThemeUpgradeCancelled(e.theme_id,window.currentSite),t.themeCache.get(e.theme_id,function(e){e.show_upgrade_dialog=!1}),r.show("theme-howto-upgrade")}return{processThemeData:s,startDelayedUpgrade:a,startDelayedDowngrade:l}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(269)],o=function(e){var t={initialize:function(){this.panels.length&&e(this,[{events:this.panelEvents,from:this.panels[0],to:this}])},onPush:function(t,n){this.stopListening(n),e(this,[{events:this.panelEvents,from:t,to:this}])},onPop:function(t,n){this.stopListening(n),e(this,[{events:this.panelEvents,from:t,to:this}])}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(3),n(836)],o=function(e,t){var n=e.Marionette.ItemView.extend({template:t,className:"section-layout-upgrade",triggers:{"click .layout-upgrade__btn":"section:upgrade:request"},initialize:function(e){var t=this;t.section=t.options.section,t.listenTo(e.listenTo,{"billing:upgrade:restrictions:refreshed":t.postUpgradeActions})},templateHelpers:function(){var e=this,t=!0;e.section&&(t=!e.section.isCustomized());var n={show_background:t,no_image:e.options.noImage};switch(e.options.restrictionID){case"63260230":case"67748238":case"82970842":n.header=_W.utl("sections.layouts.apply.upgrade.header.audio"),n.content=_W.utl("sections.layouts.apply.upgrade.content.audio");break;case"63419613":n.header=_W.utl("sections.layouts.apply.upgrade.header.hd_video"),n.content=_W.utl("sections.layouts.apply.upgrade.content.hd_video");break;case"82023692":n.header=_W.utl("sections.layouts.apply.upgrade.header.file_upload"),n.content=_W.utl("sections.layouts.apply.upgrade.content.file_upload");break;case"90122486":n.header=_W.utl("sections.layouts.apply.upgrade.header.search"),n.content=_W.utl("sections.layouts.apply.upgrade.content.search");break;case"section_video_backgrounds":n.header=_W.utl("sections.layouts.apply.upgrade.header.video_background"),n.content=_W.utl("sections.layouts.apply.upgrade.content.video_background")}return n},postUpgradeActions:function(){this.trigger("section:upgrade:complete")}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(3),n(110)],o=function(e,t,n){var i={baseObject:{get:function(n){var i=t.Model.prototype.get.apply(this,arguments);return"properties"===n&&e.isString(i)&&(i=JSON.parse(i)),i}}};return i.model=t.Model.extend(n).extend(i.baseObject),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(4),n(7),n(6),n(811)],o=function(e,t,n,i,o,r,s){var a=n.Marionette.ItemView.extend({template:i.compile(s),dialog:function(){var e=this,t=e.calculateWidth(),n=e.calculateHeight(),i=!!e.externalConfig.modal;return{title:e.externalConfig.label,dialogClass:"flat flat-admin-dialog-small platform-iframe "+e.pageElementId,cancelX:!0,size:t+"x"+n,draggable:!i,modal:i}},className:function(){return this.model.get("external").fullscreen?"w-ui-full-screen":"dialog-iframe-wrap"},ui:{iframe:"iframe",screenCloseBtn:".fullscreen-close-btn"},events:{"click @ui.screenCloseBtn":"close"},calculateWidth:function(){var t=this.externalConfig.width||800;return t>e(window).width()?e(window).width():t},calculateHeight:function(){var t=this.externalConfig.height||800;return t>e(window).height()?e(window).height():t},buildURL:function(){var e=this.externalConfig.url;return e.indexOf(":jwt")>-1?e=e.replace(":jwt",this.token):e+=e.indexOf("?")>-1?"&jwt="+this.token:"?jwt="+this.token,e},templateHelpers:function(){var e=this;return{is_fullscreen:e.isFullscreen,built_url:function(){return e.buildURL()}}},initialize:function(e){var t=this;t.settings=e.settings,t.model=e.model,t.pageElementId=e.peid,t.token=e.token,t.externalConfig=t.model.get("external"),t.isFullscreen=!!t.externalConfig.fullscreen;var n=t.buildURL().split("/");t.receiverOrigin=n[0]+"//"+n[2],t.listenTo(o,{"editor:element:delete:after":function(e){t.pageElementId==e&&t.closeDialog()}})},receiveMessage:function(e){var t=this,n=e.data,i=n.action,o=n.data,r=t.ui.iframe;if(e.origin==t.receiverOrigin&&r[0].contentWindow==e.source){var s={"settings:update":function(e){t.saveSettings(e)},"dialog:close":function(){t.closeDialog()}};s.hasOwnProperty(i)&&s[i](o)}},saveSettings:function(e){var t=this;_W.Editor.RPC.PlatformElementInstance.updateSettings(t.pageElementId,e).done(function(e){e.success?(t.sendMessage("settings:updated",e.data),t.updateElement()):t.sendMessage("settings:invalid",e.data)}.bind(this)).fail(function(e){t.sendMessage("settings:invalid",e.data)}.bind(this))},sendMessage:function(e,t){var n=this,i=n.getTargetWindow();i&&i.postMessage({action:e,data:t},n.receiverOrigin)},getTargetWindow:function(){return this.ui.iframe.get(0).contentWindow},onRender:function(){var e=this;e.messageInitialized||e.initMessage()},onShow:function(){var t=this;e(".tabs li").click(function(e){t.trigger("dialog:close")})},initMessage:function(){var e=this;window.addEventListener("message",e.receiveMessage.bind(e)),e.ui.iframe.on("load",function(){e.sendMessage("settings:load",{settings:e.settings,config:{user_id:e.model.get("user_id"),site_id:e.model.get("site_id"),element_id:e.model.get("element_id")}},e.receiverOrigin)}),e.messageInitialized=!0},onClose:function(){var e=this;window.removeEventListener("message",e.receiveMessage),e.updateElement()},updateElement:function(){r.build.updateList(window.currentPage)},openDialog:function(){var e=this;e.isFullscreen?r.showScreen(e):r.showDialog(e)},closeDialog:function(){var e=this;e.isFullscreen?e.close():e.trigger("dialog:close")}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,function(e,t,n){var i,o;i=[n(1),n(9),n(4),n(7),n(684),n(755)],o=function(e,t,n,i,o,r){r=n.compile(r);var s=t.View.extend({isEditMenuExpanded:!1,isTypeMenuExpanded:!1,hoverHelper:null,className:"header-hover-container w-ui",events:{"click .hovercontrol-wrap .main":"edit","click .hovercontrol-wrap .item.image":"editImage","click .hovercontrol-wrap .item.new-image":"uploadImage","click .hovercontrol-wrap .item.reset":"resetHeaderImage","click .hovercontrol-wrap .item.slideshow":"editSlideshow","click .hovercontrol-wrap .expander":"toggleEditMenu","click .page-type-wrap .expander":"toggleTypeMenu","click .page-type-wrap .item":"pageTypeClick"},getAvailablePageTypes:function(){return getOrderedPageTypes(currentThemeData.page_type_templates,Weebly.view.isMobileView)},initialize:function(e){this.options=e},render:function(){var t=this,n=t.getAvailablePageTypes(),i=t.options.currentHeader,o=e.map(n,function(e){var t=e;return e==currentPageType&&(t+=" current"),{name:e,className:t,title:_W.utl("db.PageType."+e+".name")}}),s=this.options.allowSlideshow||this.options.allowNewImage||this.options.allowReset;return t.$el.hide().html(r({hasSlideshowData:i&&i.data&&i.data.slideshow,isSlideshow:i&&i.data&&"slideshow"===i.data.type,isSection:t.options.isSection,allowSlideshow:t.options.allowSlideshow,allowPageTypes:t.options.allowPageTypes&&o.length>1,allowNewImage:this.options.allowNewImage,allowReset:this.options.allowReset,pageTypes:o,showDropdown:s})),t.attach(),t},attach:function(){var t=this,n=e(t.options.targetElement),i=e(t.options.appendToElement);t.hoverHelper=new o({delay:300,elements:[n,t.$el],mouseover:function(){t.getIsEditing()||(t.show(),t.position())},mouseout:function(){t.hide()}}),t.$el.appendTo(i)},position:function(){var t=this,n=e(t.options.targetElement),i=e(t.options.appendToElement),o=i.offset(),r=n.offset();t.$el.css({top:0,left:0}),"topright"==t.options.position?t.$el.css({top:r.top-o.top+i.scrollTop()+10,left:r.left-o.left+i.scrollLeft()+n.outerWidth()-10-t.$el.width()}):t.$el.css({top:r.top-o.top+i.scrollTop()+n.outerHeight()-10-t.$el.height(),left:r.left-o.left+i.scrollLeft()+n.outerWidth()-20-t.$el.width()})},toggleEditMenu:function(){this.isEditMenuExpanded?this.contractEditMenu():this.expandEditMenu()},expandEditMenu:function(){this.$(".hovercontrol-wrap .expander").addClass("pressed"),this.$(".hovercontrol-wrap .menu").show(),this.isEditMenuExpanded=!0},contractEditMenu:function(){this.$(".hovercontrol-wrap .expander").removeClass("pressed"),this.$(".hovercontrol-wrap .menu").hide(),this.isEditMenuExpanded=!1},toggleTypeMenu:function(){this.isTypeMenuExpanded?this.contractTypeMenu():this.expandTypeMenu()},expandTypeMenu:function(){this.$(".page-type-wrap .expander").addClass("pressed"),this.$(".page-type-wrap .menu").show(),this.isTypeMenuExpanded=!0},contractTypeMenu:function(){this.$(".page-type-wrap .expander").removeClass("pressed"),this.$(".page-type-wrap .menu").hide(),this.isTypeMenuExpanded=!1},show:function(){this.$el.show()},hide:function(){this.contractEditMenu(),this.contractTypeMenu(),this.$el.hide()},edit:function(){this.hide();var e=this.options.currentHeader,t=e&&e.data&&"slideshow"===e.data.type;this.options.editCallback({forceSlideshow:t,width:this.options.width,height:this.options.height})},uploadImage:function(){this.hide(),i.request("chooseImage",{type:"headerimage",height:this.options.height,width:this.options.width}).done(function(e){this.options.editCallback({forceImage:!0,imageEditorData:e,width:this.options.width,height:this.options.height})}.bind(this))},resetHeaderImage:function(){this.trigger("click:reset")},editImage:function(){this.hide(),this.options.editCallback({forceImage:!0,width:this.options.width,height:this.options.height})},editSlideshow:function(){this.hide(),this.options.editCallback({forceSlideshow:!0})},getIsEditing:function(){return!!this.options.getIsEditing&&this.options.getIsEditing()},pageTypeClick:function(t){var n=e(t.currentTarget),i=n.data("page-type");this.changePageType(i)},changePageType:function(t){this.contractTypeMenu();var n=e("#wsite-com-area-category").attr("data-id"),o=currentPage.replace(/^(\d+).*$/,"$1");i.request("pages:save",o,{page_id:o,layout:t,store_page_kind_id:n})},destroy:function(){this.hoverHelper.destroy(),this.remove()}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(13),n(14),n(7),n(274),n(130),n(97),n(685),n(98),n(354),n(70),n(12),n(186),n(39),n(23)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m){function g(){if(this.idfield){var t=(this.idfield.value||"").match(R);if(t){t=t[1];var n,i;h.STANDALONE_IMAGE_ELEMENTS.indexOf(t)!==-1?(n="div.element",i=v):h.PARAGRAPH_IMAGE_ELEMENTS.indexOf(t)!==-1?(n="span.element",i=b):h.SIMPLE_IMAGE_ELEMENTS.indexOf(t)!==-1&&(n="div.element, span.element",i=w);var o=e(this).parent().find(n);o.length&&!u.get(o[0].id)&&u.set(o[0].id,i(o))}}}function v(e){function t(t){c!==t&&(c=t,_(t,e))}function n(){var t=m.getContentFieldProperty(e[0].id,"<!DATA!>"),n=t?t.property_result:"";if(n)return JSON.parse(n)}function i(){u(),h.destroy()}var o=e.children().eq(0);o.hasClass("hover-toolbar")&&(o=o.next());var s=e.find("img").eq(0),c=o.css("text-align"),u=l.init(e,s,!0,function(e,n,i){t(i)},function(){r.setProperty("<!ALIGN!>",c),f.saveProperties()},function(){return c}),d,h=a.init(e,s,n);return{type:"standalone",showControls:h.show,hideControls:h.hide,destroy:i}}function b(t){function n(e){if(e=Math.round(e),d!==e){d=e;var n,o;e<=x?(n=e,o=0):(n=x,o=e-x),r.setProperty("<!TOP!>",e),t.css("margin-top",n+"px"),p.css("height",o+"px"),i.vent.trigger("editor:elements:changed")}}function o(e){h!==e&&(h=e,p.css("float",e),t.css({float:e,clear:e}),r.setProperty("<!ALIGN!>",h))}function s(){var e=m.getContentFieldProperty(t[0].id,"<!DATA!>"),n=e?e.property_result:"";return n?JSON.parse(n):null}function c(){g(),b.destroy()}var u=t.find("img").eq(0),d=0,h=t.css("float"),p=t.prev();p&&p.hasClass("imgPusher")?d=(parseInt(p.css("height"),10)||0)+(parseInt(t.css("margin-top"),10)||0):(p=t.find("span.imgPusher").eq(0),p?(n(parseInt(p.css("top"),10)||0),p.css("top",""),p.remove()):p=e("<span/>").css("float",h),p.css("float",h),t.css("clear",h).before(p));var g=l.init(t,u,!1,function(e,t,i,r){n(r),o(i)},function(){f.saveProperties()},function(){return h},function(){return d}),v,b=a.init(t,u,s);return{type:"paragraph",showControls:b.show,hideControls:b.hide,destroy:c}}function w(e){var t=s.init(e,e.find("img").eq(0),y);return{type:"simple",showControls:function(e,n){n||t.show(e)},hideControls:function(e){e||t.hide()},destroy:t.destroy}}function y(){return!0}function _(e,t){var n=t.children().eq(0);n.hasClass("hover-toolbar")&&(n=n.next()),n.css("text-align",e),r.setProperty("<!ALIGN!>",e)}function E(e){for(var t=[],n=0;n<e.sprites.length;n++){var i=e.sprites[n],o=i.pageUrl,r=i.creator;o&&r&&t.push({url:o,author:r})}return t}function T(){window.imagePlaceholderTimeout=setInterval(function(){0==e(".platform-element-child-placeholder").length&&(clearInterval(window.imagePlaceholderTimeout),e(".element img").each(function(){if(d.isInitialImage(this)||d.isPageLayoutImage(this)){var t=e(this);if(t.closest("ul.imageGallery").length)t.parent(".galleryInnerImageHolder").off("click",S).on("click",S);else{var n=t.parent("a"),i=n.length>0?n:t;i.off("click",C).on("click",C)}}}))},100)}function C(t){var n=e(this),i=n;if(i.is("img")||(i=i.find("img").first()),d.isInitialImage(i[0])||d.isPageLayoutImage(i[0])){var r=I(i.closest(".element").attr("id")),s=d.isImageLiquid(i);o.request("chooseImage",{type:r.type,width:s?"":r.width,ucfid:r.ucfid,ucfpid:r.ucfpid,copyFlickr:!0}).done(function(e){O(e,r.ucfid,r.ucfpid,s),n.find(".wsite-image-placeholder-text").remove()})}t.preventDefault()}function S(){var t=e(this).children("img").first(),n=I(t.closest(".element").attr("id"));o.execute("determineUpload","gallery","thumbnail:333-250",n.ucfid,n.ucfpid)}function I(n){var i=e("#"+n).closest(".inside"),o=window.getContentFieldProperties(n),r="",s="",a=250;return t.each(o,function(e){if("<!VIDEOFILE!>"===e.reference_property)s="video",a="",r=e.ucfpid;else if("<!IMAGESET!>"===e.reference_property)r=e.ucfpid,s="gallery";else if("<!IMAGES!>"===e.reference_property)r=e.ucfpid,s="slideshow";else if((e.property_result&&d.isInitialImageSrc(e.property_result)||d.isPageLayoutImageSrc(e.property_result))&&(r=e.ucfpid,e.property_result.match(/(na|\/page-layouts-[^\.]*)\.(jpe?g|png)/)&&(s="image",i.find(".product-image")&&o[69650731])))switch(o[69650731].property_result){case"grid":a=164;break;case"large":a=225;break;case"small":a=125;break;case"long":a=175}}),{type:s,width:a,ucfid:n,ucfpid:r}}function O(t,n,o,r,s,a){n+="";var l=t.image.editorUrl;o=o?o:"<!SRC!>",m.setContentFieldProperty(n,o,t.image.publishedUrl);var c=!1,u="";s&&a&&(c={url:s,author:a},u=JSON.stringify(c)),m.setContentFieldProperty(n,"<!ATTRIBUTION!>",u)&&(p.setContentFieldAttribution(n,c),p.updateFooterAttribution()),m.setContentFieldProperty(n,"<!DATA!>",JSON.stringify(t));var d=e("#"+n),h=null;if(d.length){var g=d.closest("li.inside");g.length&&g.removeClass("wsite-initial-image"),h=d.find(".product-image")}if(h&&h.length)h[0].src=l;else try{var v=d.find("img");v[0].onload=function(){function t(){d=d[0],D.reinit(d),f.currentElement===d&&D.showControls(d,!0),i.vent.trigger("imageElementUpdated")}if(v[0].onload="",m.setContentFieldProperty(n,"<!WIDTH!>","auto"),m.setContentFieldProperty(n,"<!MAXWIDTH!>","100%"),r){var o=new Image;e(o).on("load",function(){v.css({"max-width":"100%",width:"auto",height:"auto"}),t()}),o.src=l}else v.css({width:"auto",height:"auto"}),t()},v[0].src=l}catch(e){}i.vent.trigger("editor:elements:changed")}var D={showControls:a.show,hideControls:a.hide,disableControls:a.disable,enableControls:a.enable,initTooltip:c.init,enableTooltips:c.enable,disableTooltips:c.disable,hideTooltips:c.hide},x=20,k=h.STANDALONE_IMAGE_ELEMENTS.concat(h.PARAGRAPH_IMAGE_ELEMENTS,h.SIMPLE_IMAGE_ELEMENTS),R="eid[:'\"\\s]*("+k.join("|")+")";return D.init=function(){c.hide(),a.hideAll(),u.each(function(e){e.destroy()}),u.clear(),e("form").each(g)},D.reinit=function(t){t=e(t);var n=t[0].id,i=u.get(n);if(i){i.destroy();var o=i.type;"standalone"===o?u.set(n,v(t)):"paragraph"===o?u.set(n,b(t)):"simple"===o&&u.set(n,w(t));var r=t.find("img").eq(0);r.off("click",C),r.on("click",C)}},i.vent.on({"pageRendered editor:elements:newElement":T,"editor:elements:newElement":D.init,"afterRender:LegacyElement":function(e){n.chromeless||(e?f.currentElement&&D.reinit(f.currentElement):D.init())}}),window.initialMediaInfo=I,window.updateImageElement=O,o.commands.setHandler("updateImageElement",O),D}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(7),n(99)],o=function(e,t,n,i){var o={},r={};return r.initialize=function(i,r){var s=e("#_editor-ui-mask").addClass("show");return r=r||{},r.zIndex&&s.css("zIndex",r.zIndex),t.each(i,function(e,t){s.on(t+".sitemask",function(t){e.apply(o,arguments)}),n.on("editormask:"+t,e,o)}),o},r.start=function(e,i){var o={};t.each(e,function(e){o[e]=function(){n.trigger("sitemask:"+e)}}),r.initialize(o,i)},o.show=function(e,t){n.execute("editor:mask:start",Object.keys(e)),r.initialize(e,t)},o.hide=function(t){return e("#_editor-ui-mask").removeClass("show").attr("style","").off(".sitemask"),n.off(null,null,o),t||n.execute("editor:mask:hide"),o},o.scrollTo=function(t){if(t instanceof e){var n=t.offset(),o=t.outerHeight();t={top:n.top,left:n.left,height:o}}else{var r=e(window).scrollTop()+t.top;t.top=r}return i.scrollTo({height:t.height,offset:{top:t.top,left:t.left}},{dontScrollWhenFocused:!0})},n.commands.setHandlers({"site:mask:start":r.start,"site:mask:hide":o.hide.bind(o,!0)}),n.reqres.setHandlers({"site:mask:scrollTo":o.scrollTo}),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(7),n(17),n(39),n(23),n(153),n(12),n(807),n(8)],o=function(e,t,n,i,o,r,s,a,l,c){function u(c,u){function h(e){w=e,y.find(".move").toggleClass("selected",w),y.find(".copy").toggleClass("selected",!w),g()}function p(){n.on("site:overlays:hide",f),y.css("display","block"),setTimeout(function(){m(),y.addClass("active").closest("."+a.SECTION_WRAP_NAME).addClass("move-element-active")},100),e(document).on("mouseup.move-copy",f)}function f(t){t&&e(t.target).closest(y).length||(n.off("site:overlays:hide",f),y.is(":visible")&&(y.removeClass("active").closest("."+a.SECTION_WRAP_NAME).removeClass("move-element-active"),setTimeout(function(){y.removeAttr("style").css("display","none")},200),e(document).off("mouseup.move-copy")))}function m(){var e=_.offset(),t=u.offset(),n=10,i=16;y.css({top:t.top+u.outerHeight()-e.top+n,left:t.left+u.outerWidth()/2-e.left-i})}function g(){var t=y.find(".element-move-copy-content ul");if(t.empty(),t.parent().scrollTop(0),!w){var n=e("<li/>").data("page-id",currentPage).append(e("<em/>").text(_W.tl("( This page )")));t.append(n)}v(i,t,0)}function v(t,n,i){t.each(function(t){var o=t.get("title"),r="",s=t.get("page_kind"),a=t.id===currentPage,l="blog"===s,c="link"===s||"nonclickable"===s,u=Boolean(t.get("children").length);l&&(r="move-copy-blog"),(a||c)&&(r="move-copy--disabled"),(!l&&!a||u)&&(e("<li/>").attr("class",r).append(d('<span class="indent"/>',i)).append(e("<span/>").html(o)).data("page-id",t.id).appendTo(n),v(t.get("children"),n,i+1))})}function b(e,t){var i=r.getElementObject(e),o=t?"move_element":"copy_element";n.execute("analytics:track:event","editor.elements",o,i.eid)}this.show=p,this.hide=f,this.position=m;var w,y=e(t.render(l)),_=u.offsetParent();_.append(y),h(!0),y.on("click",".move, .copy",function(){h(e(this).hasClass("move"))}),y.find(".element-move-copy-content ul").on("click","li",function(){var t=e(this);if(t.hasClass("move-copy-blog")||t.hasClass("move-copy--disabled"))return!1;var r=t.data("page-id"),a=e(o.currentElement),l=a.closest("li.inside").attr("id").replace(/\D/g,""),c=a.closest(".wsite-section[data-section]").data("section");Weebly.Editor.RPC.Elements.moveElement({page_element_id:l,page_id:r,section_id:c,copy:!w}).done(function(e){var t=i.getPage(e.page_id);t&&(b(l,w),t.id===currentPage?n.request("page:navigate",t.id):n.request("page:navigate:go",t.id,1))}).fail(s.errFunc),f()})}function d(e,t){return new Array(t+1).join(e)}var h={};return h.open=function(e,t){var n=t.data("move-copy-popover");n||(n=new u(e,t),t.data("move-copy-popover",n)),n.show()},h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){var t=function(){var t=function(){var t=e(".wsite-view-link-full"),n=e(".wsite-view-link-mobile"),i=window.location.href||"";i+=i.indexOf("?")>-1?"&":"?",t.attr("href",i+"view=full"),n.attr("href",i+"view=mobile")};t();var n=window.History;n&&n.enabled&&History.Adapter.bind(window,"statechange",t)};e(document).ready(t);var n=window.STYLE_PREFIX||"weebly",i=function(){for(var e=0;e<document.styleSheets.length;e++)try{if(document.styleSheets[e].title==n+"-theme-css"){var t=document.styleSheets[e],i=t.cssRules||t.rules;return i&&i.length>0}}catch(e){}return!1},o=function(e){if(i())e();else var t=setInterval(function(){i()&&(clearInterval(t),e())},200)};window.whenThemeCSSLoaded||(window.whenThemeCSSLoaded=o),window.isThemeCSSLoaded||(window.isThemeCSSLoaded=i)}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(688),n(687)],o=function(e,t,n,i,o){var r=function(){var e={};e["navbar-sticky"]=i.data,e.navpane=o.data;var s={};s["navbar-sticky"]=i.render,s.navpane=o.render;var a={},l=!1;return{init:function(e){l=e&&e.editor,null!=e.pluginOptionValues&&(a=n.clone(e.pluginOptionValues));for(var t in a)r.trigger(t)},setPluginOptionValue:function(t,i,o){var s=t.indexOf("/");if(s!==-1){var l=t.substr(0,s),c=t.substr(s+1);if(r.isAvailable(l)){var u=n.findWhere(e[l],{name:c});if(null!=u){l in a||(a[l]={});var d=u.type;n.isString(i)&&"toggle"===d&&(i=!!parseInt(i)),a[l][c]=i,o&&r.trigger(l)}}}},clearPluginOptionValues:function(){a={}},trigger:function(e){if(e in s&&e in a){var t=s[e],n=a[e];t(n,l)}},getPluginDefinition:function(t){if(n.isString(t)&&(t={name:t}),!r.isAvailable(t.name))return[];var i=e[t.name];return n.map(i,function(e){var o=n.clone(e);return o.name=t.name+"/"+o.name,t.defaults&&e.name in t.defaults?o.default=t.defaults[e.name]:1===i.length&&t.default&&(o.default=t.default),o})},setTrigger:function(e){"object"==typeof e&&t.extend(s,e)},isAvailable:function(t){return t in e}}}();return e.themePlugins&&t(function(){r.init({pluginOptionValues:e.themePlugins})}),r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o,r;!function(s){o=[n(1)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";var t=function(t){this.queue={},this.options=t||{},this.options.delay=t.delay||0,this.timeout=t.timeout||15e3,this.timeoutCallback=t.timeoutCallback,this.debug=this.options.debug,this.delayTimeout=null,this.pauseTimeout=null,this.$loadingText=e("<div/>",{class:"loading-indicator-text",text:this.options.defaultText||"Loading"}),this.$el=e("<div/>",{class:"loading-indicator"}).append('<div class="circular-loader"></div>','<span class="loading-dismiss"></span>').append(this.$loadingText),this.$el.appendTo(this.options.appendTo||"body").on("click",".loading-dismiss",function(){this.__stopAll()}.bind(this))};return t.prototype.start=function(e,t){return t=t||{},t.delay=t.delay||this.options.delay,clearTimeout(this.pauseTimeout),this.$el.removeClass("pause"),e?this.queue[e]?void(this.debug&&console.warn("Attempting to show loading indicator with preexisting key:",e)):(this.queue[e]=!0,"full"===this.debug&&console.info(" Pushing loading state:",e),t.text&&this.$loadingText.text(t.text),0!==this.timeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=setTimeout(function(){this.debug&&console.warn("LoadingIndicator is stuck after %ims",this.timeout,Object.keys(this.queue)),"function"==typeof this.timeoutCallback&&this.timeoutCallback(Object.keys(this.queue)),this.$el.addClass("timeout")}.bind(this),this.timeout)),void(this.delayTimeout=setTimeout(function(){Object.keys(this.queue).length&&this.$el.addClass("show")}.bind(this),t.delay))):void(this.debug&&console.warn("Attemping to show loading indicator without a key! Please provide a key"))},t.prototype.stop=function(e,t){return this.queue[e]?("full"===this.debug&&console.info(" Popping loading state:",e),delete this.queue[e],void(0===Object.keys(this.queue).length&&this.__complete())):void(this.debug&&console.warn("Attempting to hide loading indicator that does not exist:",e))},t.prototype.__complete=function(){this.$loadingText.text()!==this.options.defaultText&&this.$el.on("transitionend.loadingIndicator",function(e){"opacity"===e.originalEvent.propertyName&&(this.$el.off("transitionend.loadingIndicator"),this.$loadingText.text(this.options.defaultText))}.bind(this)),clearTimeout(this.dismissTimeout),clearTimeout(this.delayTimeout),this.$el.removeClass("show timeout"),this.pauseTimeout=setTimeout(function(){this.$el.hasClass("show")||(clearTimeout(this.pauseTimeout),this.$el.addClass("pause"))}.bind(this),2e3)},t.prototype.__stopAll=function(){this.debug&&console.warn("You should not be calling `stopAll` in production!"),this.queue={},this.__complete()},t})},function(e,t,n){var i,o;i=[n(1),n(87)],o=function(e){!function(e,t){e.effects.effect.slide=function(t,n){var i=e(this),o=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(i,t.mode||"show"),s="show"===r,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u,d={};e.effects.save(i,o),i.show();var h=t.wrapper;h?(h=e(h).show(),/relative|absolute/.test(i.css("position"))||i.css("position","relative")):h=e.effects.createWrapper(i),h.css("overflow","hidden");var u=t.distance||("top"==l?i.height()?i.outerHeight(!0):h.height():i.width()?i.outerWidth(!0):h.width());s&&i.css(l,c?isNaN(u)?"-"+u:-u:u),d[l]=(s?c?"+=":"-=":c?"-=":"+=")+u,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,o),t.wrapper?(h.css("overflow",""),"hide"==r&&h.hide()):e.effects.removeWrapper(i),n()}})}}(e)}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(9)],o=function(e){var t=e.View.prototype,i=e.View.extend({initialize:function(e){t.initialize.apply(this,arguments)},render:function(){window.inEditor&&window.inEditor()&&n(7).request("page:navigate")},remove:function(){t.remove.apply(this,arguments)},setElement:function(){t.setElement.apply(this,arguments)},delegateEvents:function(){t.delegateEvents.apply(this,arguments)},undelegateEvents:function(){t.undelegateEvents.apply(this,arguments)}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(13),n(9)],o=function(e,t,n,i){var o=i.Model.extend({save:function(i,o,r){var s=this,a=this.attributes;if(null==i||"object"==typeof i?(a=i,r=o):(a={})[i]=o,a&&!this.set(a,r))return!1;if(window.inEditor&&window.inEditor()&&!n.chromeless)return e.Editor.RPC.PlatformElementInstance.updateSettings(s.page_element_id,s.toJSON());var l=new t.Deferred;return l.resolve({success:!1,message:"You cannot update settings outside of the editor."}),l.promise()}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o));
},function(e,t,n){var i,o;i=[n(1),n(2)],o=function(e,t){var n=function(n){function i(e){return e=t.extend(t.clone(d),e),e.id||(e.id="hello_"+Math.floor(10000001*Math.random())),e.now===!0&&(h=[]),h.push(e),h.length&&(o(),p=!1),e.id}function o(){var e;p||(p=!0,e=h.shift(),e?(r(e),f=setTimeout(function(){p=!1,l(),setTimeout(o,n.delay+n.fadeout+200)},e.duration)):p=!1)}function r(t){var i=t.icon||n.icon,o,r,s,a,l,c;if(document.getElementById("hellos")?(s=document.getElementById("hellos"),s.innerHTML=""):(s=document.createElement("div"),s.id="hellos"),s.setAttribute("data-id",t.id),s.style.zIndex=t.zIndex||n.zIndex,r=document.createElement("div"),r.className="content",s.className="",void 0!==i&&(s.className="icon-dialog "+i),s.className+=" w-upload-dialog w-ui",a=document.createElement("span"),a.className="title",e(a).empty().append(t.title),r.appendChild(a),l=document.createElement("div"),l.className="messages",e(l).empty().append(t.body),i){var u=document.createElement("span");u.className=i,u.className+=" icon w-icon-comment",s.appendChild(u)}r.appendChild(l),s.appendChild(r),document.getElementById("hellos")?e("#hellos").show():document.getElementsByTagName("body")[0].appendChild(s)}function s(e){e="undefined"!=typeof e&&e,clearInterval(f),p=!1,l(e)}function a(){h=[],s()}function l(t){var n=e("#hellos");n&&n.fadeOut(1e3)}function c(){return h.length>0&&(clearInterval(f),p=!1,o(),!0)}function u(e){var t=document.getElementById("hellos");if(e=e.toString(),t&&t.getAttribute("data-id")===e)return s(),o(),!0;for(var n=0;n<h.length;n++)if(h[n].id===e)return h.splice(n,1),!0;return!1}var d={duration:5e3,delay:500,fadeout:250,icon:void 0,zIndex:99980},h=[],p=!1,f;return n=n||{},n=t.extend(d,n),{say:function(e){return e&&e.title&&e.body?i(e):-1},clearAll:function(){return a(),this},clear:function(e){return s(e)},next:function(){return c(),this},remove:function(e){return u(e)}}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o,r;!function(s){o=[n(1)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"undefined"==typeof e.fn.wSpinner&&e.fn.extend({wSpinner:function(t){function n(){t.incrementElement||t.decrementElement?(d=e(t.incrementElement),h=e(t.decrementElement)):(c=e('<div class="'+t.className+'" />').addClass(t.theme),u=e('<div class="'+t.className+'-controls" />'),d=e('<a class="'+t.className+'-up" />'),h=e('<a class="'+t.className+'-down" />'),u.append(d,h),l.wrap(c).addClass(t.className+"-input").parent().append(u).css({height:t.height||"auto"})),l.on({keypress:function(e){var t=e.keyCode||e.which;return!!(t>47&&t<58||8===t||9===t||37===t||39===t||e.metaKey)},keydown:function(t){var n=e(t.currentTarget);38===t.which?o(n):40===t.which&&r(n)},blur:function(e){var t=e.currentTarget;t.getAttribute("data-max")&&parseInt(t.value)>parseInt(t.getAttribute("data-max"))?t.value=t.getAttribute("data-max"):""===t.value&&(t.value=1)},change:function(t){var n=e(t.currentTarget);a(n)&&s()}}),d.on({click:function(e){clearInterval(p),o(l)},mousedown:function(t){e(t.currentTarget).addClass("wsite-active"),p=setInterval(function(){o(l)},250),t.preventDefault()},mouseup:function(e){i(e.currentTarget)},mouseout:function(e){i(e.currentTarget)}}),h.on({click:function(e){clearInterval(p),r(l)},mousedown:function(t){e(t.currentTarget).addClass("wsite-active"),p=setInterval(function(){r(l)},250),t.preventDefault()},mouseup:function(e){i(e.currentTarget)},mouseout:function(e){i(e.currentTarget)}})}function i(t){e(t).removeClass("wsite-active"),clearInterval(p)}function o(e){if(!e.is(":disabled")){var n=parseInt(e.val());isNaN(n)&&t.defaultVal&&(n=t.defaultVal);var i=n+t.interval;e.val(Math.min(i,parseInt(e.attr("data-max"))||t.max)).focus(),s()}}function r(e){if(!e.is(":disabled")){var n=parseInt(e.val());isNaN(n)&&t.defaultVal&&(n=t.defaultVal);var i=n-t.interval;e.val(Math.max(i,parseInt(e.data("data-min"))||t.min)).focus(),s()}}function s(){t.onChange&&t.onChange.call(l[0])}function a(e){if(e.is(":disabled"))return!1;var n=parseInt(e.val());return isNaN(n)?(n=void 0!=t.defaultVal?t.defaultVal:t.min,e.val(n)):n<parseInt(e.attr("data-min")||t.min)?e.val(t.min):n>parseInt(e.attr("data-max")||t.max)&&e.val(t.max),!0}var l,c,u,d,h,p,f={className:"wsite-spinner",height:void 0,min:1,max:1/0,theme:"light",interval:1};return t=e.extend(f,t),this.each(function(t,i){l=e(i),"INPUT"===i.nodeName&&n()}),this},wControlSpinner:function(t){t=t||{},this.each(function(){var n=e(this),i=e.extend({},t);i.incrementElement=n.parent().find(".spinner-inc"),i.decrementElement=n.parent().find(".spinner-dec"),i.defaultVal=14,n.wSpinner(i)})}})})},,,,,,,,,,,,,,,function(e,t,n){(function(t){var n=Class.create();n.resizing=!1,n.cache=new Array,n.cacheIndex=0,n.handleWidth=4,n.prototype={initialize:function(e,i,o,r,s,a){this.options={onStart:Prototype.emptyFunction,onDrag:Prototype.emptyFunction,onEnd:Prototype.emptyFunction,active:!1},Object.extend(this.options,a||{}),this.div1=t(e),this.div2=t(o),this.container=this.div1.parentNode,this.div1_width=i>.5?i:.5,this.div2_left=r,this.div2_width=s>.5?s:.5,n.cache[n.cacheIndex]=this,n.cacheIndex=n.cacheIndex+1},set:function(){Element.makePositioned(this.container),this.div1.style.width=this.div1_width-.1+"%",this.div2.style.width=this.div2_width-.1+"%",this.div2.style.left=this.div2_left-.1+"%",this.div1_width<.1&&(this.div1.style.width="0.5%"),this.div2_width<.1&&(this.div2.style.width="0.5%"),this.divider=document.createElement("DIV"),this.container.appendChild(this.divider),this.divider.className="splitpane-divider",this.divider.style.position="absolute",this.divider.style.width=n.handleWidth+"px",this.divider.style.top="0px",this.divider.style.zIndex=4,this.containerWidth=this.getWidth(this.container),this.setDividerX(),this.setDividerHeight(),this.options.active&&(this.eventMouseDown=this.startDrag.bindAsEventListener(this),this.eventMouseUp=this.endDrag.bindAsEventListener(this),this.eventChangeCursor=this.cursor.bindAsEventListener(this),this.eventMouseMove=this.update.bindAsEventListener(this),Event.observe(this.divider,"mousedown",this.eventMouseDown),Event.observe(document,"mouseup",this.eventMouseUp),Event.observe(this.divider,"mousemove",this.eventChangeCursor),Event.observe(document,"mousemove",this.eventMouseMove))},serialize:function(){return"div1="+this.div1.id+"&div1_left="+this.getXPercent(this.div1)+"&div1_width="+this.getWidthPercent(this.div1)+"&div2="+this.div2.id+"&div2_left="+this.getXPercent(this.div2)+"&div2_width="+this.getWidthPercent(this.div2)},dispose:function(){Event.stopObserving(this.divider,"mousedown",this.eventMouseDown),Event.stopObserving(document,"mouseup",this.eventMouseUp),Event.stopObserving(this.divider,"mousemove",this.eventChangeCursor),Event.stopObserving(document,"mousemove",this.eventMouseMove)},cursor:function(e){this.divider.style.cursor="e-resize"},startDrag:function(e){if(Event.isLeftClick(e)){this.active=!0;var t=Position.cumulativeOffset(this.divider);this.start_pointer=[Event.pointerX(e),Event.pointerY(e)],this.inset=this.start_pointer[0]-t[0],this.containerWidth=this.getWidth(this.container),this.start_div1_width=this.getWidth(this.div1),this.start_div2_left=this.getX(this.div2),this.start_div2_width=this.getWidth(this.div2),this.start_divider_x=this.getX(this.divider),Event.stop(e),this.options.onStart(this,e),n.resizing=!0}},endDrag:function(e){this.active&&(this.active=!1,Event.stop(e),this.setDividerX(),this.setDividerHeight(),this.options.onEnd(this,e),n.resizing=!1,resizeAllColumns())},update:function(e){if(this.active){var t=[Event.pointerX(e),Event.pointerY(e)],n=t[0]-this.start_pointer[0],i=100*n/this.containerWidth,o=this.start_div1_width+n;o<0&&(o=0,n=-this.start_div1_width);var r=this.start_div2_width-n;r<0&&(r=0,n=this.start_div2_width,o=this.start_div1_width+n),this.div1.style.width=100*o/this.containerWidth+"%",this.div2.style.left=100*(this.start_div2_left+n)/this.containerWidth+"%",this.div2.style.width=100*r/this.containerWidth+"%",this.divider.style.left=this.start_divider_x+n+"px",Event.stop(e),this.options.onDrag(this,e)}},setDividerX:function(){var e=this.getX(this.div1)+this.getWidth(this.div1),t=100*((this.getX(this.div2)-e-n.handleWidth)/2+e)/this.containerWidth+"%";this.divider.style.left=t},setDividerHeight:function(){var e=Math.max(this.getHeight(this.div1),this.getHeight(this.div2));this.divider.style.height=e+"px"},getX:function(e){return e.x?e.x:e.offsetLeft},getXPercent:function(e){var t="0";return t=Element.getStyle(e,"left"),t&&(t=t.replace("%","")),t?parseFloat(t):0},getWidthPercent:function(e){var t="0";return t=Element.getStyle(e,"width"),t&&(t=t.replace("%","")),t?parseFloat(t):0},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.currentStyle?e.offsetHeight:Element.getStyle(e,"height").replace("px","")}},n.setAll=function(){for(i=0;i<n.cache.length;i++)resizeColumns(n.cache[i].div1.down("ul"))},Event.observe(window,"load",n.setAll),e.exports=n}).call(t,n(22))},function(e,t,n){(function(t){var n=function(e,n){function i(e){return document.querySelectorAll?document.querySelectorAll(e):t(e)}function o(){var e=D-R;return n.freeMode&&(e=D-R),n.slidesPerView>S.slides.length&&(e=0),e<0&&(e=0),e}function r(){var e=0;return e}function s(){function e(e){var t=new Image;t.onload=function(){S.imagesLoaded++,S.imagesLoaded==S.imagesToLoad.length&&(S.reInit(),n.onImagesReady&&n.onImagesReady(S))},t.src=e}if(S.browser.ie10?(S.h.addEventListener(S.wrapper,S.touchEvents.touchStart,m,!1),S.h.addEventListener(document,S.touchEvents.touchMove,g,!1),S.h.addEventListener(document,S.touchEvents.touchEnd,v,!1)):(S.support.touch&&(S.h.addEventListener(S.wrapper,"touchstart",m,!1),S.h.addEventListener(S.wrapper,"touchmove",g,!1),S.h.addEventListener(S.wrapper,"touchend",v,!1)),n.simulateTouch&&(S.h.addEventListener(S.wrapper,"mousedown",m,!1),S.h.addEventListener(document,"mousemove",g,!1),S.h.addEventListener(document,"mouseup",v,!1))),n.autoResize&&S.h.addEventListener(window,"resize",S.resizeFix,!1),a(),S._wheelEvent=!1,n.mousewheelControl){void 0!==document.onmousewheel&&(S._wheelEvent="mousewheel");try{WheelEvent("wheel"),S._wheelEvent="wheel"}catch(e){}S._wheelEvent||(S._wheelEvent="DOMMouseScroll"),S._wheelEvent&&S.h.addEventListener(S.container,S._wheelEvent,u,!1)}if(n.keyboardControl&&S.h.addEventListener(document,"keydown",c,!1),n.updateOnImagesReady){document.querySelectorAll?S.imagesToLoad=S.container.querySelectorAll("img"):window.jQuery&&(S.imagesToLoad=i(S.container).find("img"));for(var t=0;t<S.imagesToLoad.length;t++)e(S.imagesToLoad[t].getAttribute("src"))}}function a(){if(n.preventLinks){var e=[];document.querySelectorAll?e=S.container.querySelectorAll("a"):window.jQuery&&(e=i(S.container).find("a"));for(var t=0;t<e.length;t++)S.h.addEventListener(e[t],"click",p,!1)}if(n.releaseFormElements)for(var o=document.querySelectorAll?S.container.querySelectorAll("input, textarea, select"):i(S.container).find("input, textarea, select"),t=0;t<o.length;t++)S.h.addEventListener(o[t],S.touchEvents.touchStart,f,!0);if(n.onSlideClick)for(var t=0;t<S.slides.length;t++)S.h.addEventListener(S.slides[t],"click",d,!1);if(n.onSlideTouch)for(var t=0;t<S.slides.length;t++)S.h.addEventListener(S.slides[t],S.touchEvents.touchStart,h,!1)}function l(){if(n.onSlideClick)for(var e=0;e<S.slides.length;e++)S.h.removeEventListener(S.slides[e],"click",d,!1);if(n.onSlideTouch)for(var e=0;e<S.slides.length;e++)S.h.removeEventListener(S.slides[e],S.touchEvents.touchStart,h,!1);if(n.releaseFormElements)for(var t=document.querySelectorAll?S.container.querySelectorAll("input, textarea, select"):i(S.container).find("input, textarea, select"),e=0;e<t.length;e++)S.h.removeEventListener(t[e],S.touchEvents.touchStart,f,!0);if(n.preventLinks){var o=[];document.querySelectorAll?o=S.container.querySelectorAll("a"):window.jQuery&&(o=i(S.container).find("a"));for(var e=0;e<o.length;e++)S.h.removeEventListener(o[e],"click",p,!1)}}function c(e){var t=e.keyCode||e.charCode;if(37==t||39==t||38==t||40==t){for(var n=!1,i=S.h.getOffset(S.container),o=S.h.windowScroll().left,r=S.h.windowScroll().top,s=S.h.windowWidth(),a=S.h.windowHeight(),l=[[i.left,i.top],[i.left+S.width,i.top],[i.left,i.top+S.height],[i.left+S.width,i.top+S.height]],c=0;c<l.length;c++){var u=l[c];u[0]>=o&&u[0]<=o+s&&u[1]>=r&&u[1]<=r+a&&(n=!0)}if(!n)return}M?(37!=t&&39!=t||(e.preventDefault?e.preventDefault():e.returnValue=!1),39==t&&S.swipeNext(),37==t&&S.swipePrev()):(38!=t&&40!=t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40==t&&S.swipeNext(),38==t&&S.swipePrev())}function u(e){var t=S._wheelEvent,i;if(e.detail?i=-e.detail:"mousewheel"==t?i=e.wheelDelta:"DOMMouseScroll"==t?i=-e.detail:"wheel"==t&&(i=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY),n.freeMode){var r=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y"),s,a;M?(s=S.getWrapperTranslate("x")+i,a=S.getWrapperTranslate("y"),s>0&&(s=0),s<-o()&&(s=-o())):(s=S.getWrapperTranslate("x"),a=S.getWrapperTranslate("y")+i,a>0&&(a=0),a<-o()&&(a=-o())),S.setWrapperTransition(0),S.setWrapperTranslate(s,a,0)}else i<0?S.swipeNext():S.swipePrev();return n.autoplay&&S.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function d(e){S.allowSlideClick&&(S.clickedSlide=this,S.clickedSlideIndex=S.slides.indexOf(this),n.onSlideClick(S))}function h(e){S.clickedSlide=this,S.clickedSlideIndex=S.slides.indexOf(this),n.onSlideTouch(S)}function p(e){if(!S.allowLinks)return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function f(e){return e.stopPropagation?e.stopPropagation():e.returnValue=!1,!1}function m(e){if(n.preventLinks&&(S.allowLinks=!0),S.isTouched||n.onlyExternal)return!1;if(n.noSwiping&&e.target&&e.target.className&&e.target.className.indexOf(n.noSwipingClass)>-1)return!1;if(z=!1,S.isTouched=!0,W="touchstart"==e.type,!W||1==e.targetTouches.length){n.loop&&S.fixLoop(),S.callPlugins("onTouchStartBegin"),W||(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=W?e.targetTouches[0].pageX:e.pageX||e.clientX,i=W?e.targetTouches[0].pageY:e.pageY||e.clientY;S.touches.startX=S.touches.currentX=t,S.touches.startY=S.touches.currentY=i,S.touches.start=S.touches.current=M?t:i,S.setWrapperTransition(0),S.positions.start=S.positions.current=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y"),M?S.setWrapperTranslate(S.positions.start,0,0):S.setWrapperTranslate(0,S.positions.start,0),S.times.start=(new Date).getTime(),k=void 0,n.moveStartThreshold>0&&($=!1),n.onTouchStart&&n.onTouchStart(S),S.callPlugins("onTouchStartEnd")}}function g(e){if(S.isTouched&&!n.onlyExternal&&(!W||"mousemove"!=e.type)){var t=W?e.targetTouches[0].pageX:e.pageX||e.clientX,i=W?e.targetTouches[0].pageY:e.pageY||e.clientY;if("undefined"==typeof k&&M&&(k=!!(k||Math.abs(i-S.touches.startY)>Math.abs(t-S.touches.startX))),"undefined"!=typeof k||M||(k=!!(k||Math.abs(i-S.touches.startY)<Math.abs(t-S.touches.startX))),k)return void(S.isTouched=!1);if(e.assignedToSwiper)return void(S.isTouched=!1);if(e.assignedToSwiper=!0,S.isMoved=!0,n.preventLinks&&(S.allowLinks=!1),n.onSlideClick&&(S.allowSlideClick=!1),n.autoplay&&S.stopAutoplay(),!W||1==e.touches.length){if(S.callPlugins("onTouchMoveStart"),e.preventDefault?e.preventDefault():e.returnValue=!1,S.touches.current=M?t:i,S.positions.current=(S.touches.current-S.touches.start)*n.touchRatio+S.positions.start,S.positions.current>0&&n.onResistanceBefore&&n.onResistanceBefore(S,S.positions.current),S.positions.current<-o()&&n.onResistanceBefore&&n.onResistanceAfter(S,Math.abs(S.positions.current+o())),n.resistance&&"100%"!=n.resistance){if(S.positions.current>0){var r=1-S.positions.current/R/2;r<.5?S.positions.current=R/2:S.positions.current=S.positions.current*r}if(S.positions.current<-o()){var s=(S.touches.current-S.touches.start)*n.touchRatio+(o()+S.positions.start),r=(R+s)/R,a=S.positions.current-s*(1-r)/2,l=-o()-R/2;a<l||r<=0?S.positions.current=l:S.positions.current=a}}if(n.resistance&&"100%"==n.resistance&&(S.positions.current>0&&(!n.freeMode||n.freeModeFluid)&&(S.positions.current=0),S.positions.current<-o()&&(!n.freeMode||n.freeModeFluid)&&(S.positions.current=-o())),!n.followFinger)return;return n.moveStartThreshold?Math.abs(S.touches.current-S.touches.start)>n.moveStartThreshold||$?($=!0,M?S.setWrapperTranslate(S.positions.current,0,0):S.setWrapperTranslate(0,S.positions.current,0)):S.positions.current=S.positions.start:M?S.setWrapperTranslate(S.positions.current,0,0):S.setWrapperTranslate(0,S.positions.current,0),(n.freeMode||n.watchActiveIndex)&&S.updateActiveSlide(S.positions.current),n.grabCursor&&(S.container.style.cursor="move",S.container.style.cursor="grabbing",S.container.style.cursor="-moz-grabbin",S.container.style.cursor="-webkit-grabbing"),V||(V=S.touches.current),U||(U=(new Date).getTime()),S.velocity=(S.touches.current-V)/((new Date).getTime()-U)/2,Math.abs(S.touches.current-V)<2&&(S.velocity=0),V=S.touches.current,U=(new Date).getTime(),S.callPlugins("onTouchMoveEnd"),n.onTouchMove&&n.onTouchMove(S),!1}}}function v(e){if(k&&S.swipeReset(),!n.onlyExternal&&S.isTouched){S.isTouched=!1,n.grabCursor&&(S.container.style.cursor="move",S.container.style.cursor="grab",S.container.style.cursor="-moz-grab",S.container.style.cursor="-webkit-grab"),S.positions.current||0===S.positions.current||(S.positions.current=S.positions.start),n.followFinger&&(M?S.setWrapperTranslate(S.positions.current,0,0):S.setWrapperTranslate(0,S.positions.current,0)),S.times.end=(new Date).getTime(),S.touches.diff=S.touches.current-S.touches.start,S.touches.abs=Math.abs(S.touches.diff),S.positions.diff=S.positions.current-S.positions.start,S.positions.abs=Math.abs(S.positions.diff);var t=S.positions.diff,i=S.positions.abs,r=S.times.end-S.times.start;if(i<5&&r<300&&0==S.allowLinks&&(n.freeMode||0==i||S.swipeReset(),n.preventLinks&&(S.allowLinks=!0),n.onSlideClick&&(S.allowSlideClick=!0)),setTimeout(function(){n.preventLinks&&(S.allowLinks=!0),n.onSlideClick&&(S.allowSlideClick=!0)},100),!S.isMoved)return S.isMoved=!1,n.onTouchEnd&&n.onTouchEnd(S),void S.callPlugins("onTouchEnd");S.isMoved=!1;var s=o();if(S.positions.current>0)return S.swipeReset(),n.onTouchEnd&&n.onTouchEnd(S),void S.callPlugins("onTouchEnd");if(S.positions.current<-s)return S.swipeReset(),n.onTouchEnd&&n.onTouchEnd(S),void S.callPlugins("onTouchEnd");if(n.freeMode){if(n.freeModeFluid){var a=1e3*n.momentumRatio,l=S.velocity*a,c=S.positions.current+l,u=!1,d,h=20*Math.abs(S.velocity)*n.momentumBounceRatio;c<-s&&(n.momentumBounce&&S.support.transitions?(c+s<-h&&(c=-s-h),d=-s,u=!0,z=!0):c=-s),c>0&&(n.momentumBounce&&S.support.transitions?(c>h&&(c=h),d=0,u=!0,z=!0):c=0),0!=S.velocity&&(a=Math.abs((c-S.positions.current)/S.velocity)),M?S.setWrapperTranslate(c,0,0):S.setWrapperTranslate(0,c,0),S.setWrapperTransition(a),n.momentumBounce&&u&&S.wrapperTransitionEnd(function(){z&&(n.onMomentumBounce&&n.onMomentumBounce(S),M?S.setWrapperTranslate(d,0,0):S.setWrapperTranslate(0,d,0),S.setWrapperTransition(300))}),S.updateActiveSlide(c)}return(!n.freeModeFluid||r>=300)&&S.updateActiveSlide(S.positions.current),n.onTouchEnd&&n.onTouchEnd(S),void S.callPlugins("onTouchEnd")}x=t<0?"toNext":"toPrev","toNext"==x&&r<=300&&(i<30||!n.shortSwipes?S.swipeReset():S.swipeNext(!0)),"toPrev"==x&&r<=300&&(i<30||!n.shortSwipes?S.swipeReset():S.swipePrev(!0));var p=0;if("auto"==n.slidesPerView){for(var f=Math.abs(M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y")),m=0,g,v=0;v<S.slides.length;v++)if(g=M?S.slides[v].getWidth(!0):S.slides[v].getHeight(!0),m+=g,m>f){p=g;break}p>R&&(p=R)}else p=O*n.slidesPerView;"toNext"==x&&r>300&&(i>=.5*p?S.swipeNext(!0):S.swipeReset()),"toPrev"==x&&r>300&&(i>=.5*p?S.swipePrev(!0):S.swipeReset()),n.onTouchEnd&&n.onTouchEnd(S),S.callPlugins("onTouchEnd")}}function b(e,t,i){function o(){s+=a,c="toNext"==l?s>e:s<e,c?(M?S.setWrapperTranslate(Math.round(s),0):S.setWrapperTranslate(0,Math.round(s)),S._DOMAnimating=!0,window.setTimeout(function(){o()},1e3/60)):(n.onSlideChangeEnd&&n.onSlideChangeEnd(S),M?S.setWrapperTranslate(e,0):S.setWrapperTranslate(0,e),S._DOMAnimating=!1)}if(S.support.transitions||!n.DOMAnimation){M?S.setWrapperTranslate(e,0,0):S.setWrapperTranslate(0,e,0);var r="to"==t&&i.speed>=0?i.speed:n.speed;S.setWrapperTransition(r)}else{var s=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y"),r="to"==t&&i.speed>=0?i.speed:n.speed,a=Math.ceil((e-s)/r*(1e3/60)),l=s>e?"toNext":"toPrev",c="toNext"==l?s>e:s<e;if(S._DOMAnimating)return;o()}S.updateActiveSlide(e),n.onSlideNext&&"next"==t&&n.onSlideNext(S,e),n.onSlidePrev&&"prev"==t&&n.onSlidePrev(S,e),n.onSlideReset&&"reset"==t&&n.onSlideReset(S,e),("next"==t||"prev"==t||"to"==t&&1==i.runCallbacks)&&w()}function w(){if(S.callPlugins("onSlideChangeStart"),n.onSlideChangeStart)if(n.queueStartCallbacks&&S.support.transitions){if(S._queueStartCallbacks)return;S._queueStartCallbacks=!0,n.onSlideChangeStart(S),S.wrapperTransitionEnd(function(){S._queueStartCallbacks=!1})}else n.onSlideChangeStart(S);if(n.onSlideChangeEnd)if(S.support.transitions)if(n.queueEndCallbacks){if(S._queueEndCallbacks)return;S._queueEndCallbacks=!0,S.wrapperTransitionEnd(n.onSlideChangeEnd)}else S.wrapperTransitionEnd(n.onSlideChangeEnd);else n.DOMAnimation||setTimeout(function(){n.onSlideChangeEnd(S)},10)}function y(){for(var e=S.paginationButtons,t=0;t<e.length;t++)S.h.removeEventListener(e[t],"click",E,!1)}function _(){for(var e=S.paginationButtons,t=0;t<e.length;t++)S.h.addEventListener(e[t],"click",E,!1)}function E(e){for(var t,n=e.target||e.srcElement,i=S.paginationButtons,o=0;o<i.length;o++)n===i[o]&&(t=o);S.swipeTo(t)}function T(){S.calcSlides(),n.loader.slides.length>0&&0==S.slides.length&&S.loadSlides(),n.loop&&S.createLoop(),S.init(),s(),n.pagination&&n.createPagination&&S.createPagination(!0),n.loop||n.initialSlide>0?S.swipeTo(n.initialSlide,0,!1):S.updateActiveSlide(0),n.autoplay&&S.startAutoplay()}if(document.body.__defineGetter__&&HTMLElement){var C=HTMLElement.prototype;C.__defineGetter__&&C.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof e&&(e.nodeType||0!==i(e).length)){var S=this;S.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},S.positions={start:0,abs:0,diff:0,current:0},S.times={start:0,end:0},S.id=(new Date).getTime(),S.container=e.nodeType?e:i(e)[0],S.isTouched=!1,S.isMoved=!1,S.activeIndex=0,S.activeLoaderIndex=0,S.activeLoopIndex=0,S.previousIndex=null,S.velocity=0,S.snapGrid=[],S.slidesGrid=[],S.imagesToLoad=[],S.imagesLoaded=0,S.wrapperLeft=0,S.wrapperRight=0,S.wrapperTop=0,S.wrapperBottom=0;var I,O,D,x,k,R,P={mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,simulateTouch:!0,followFinger:!0,shortSwipes:!0,moveStartThreshold:!1,autoplay:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,useCSS3Transforms:!0,loop:!1,loopAdditionalSlides:0,calculateHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};n=n||{};for(var A in P)if(A in n&&"object"==typeof n[A])for(var N in P[A])N in n[A]||(n[A][N]=P[A][N]);else A in n||(n[A]=P[A]);S.params=n,n.scrollContainer&&(n.freeMode=!0,n.freeModeFluid=!0),n.loop&&(n.resistance="100%");var M="horizontal"===n.mode;S.touchEvents={touchStart:S.support.touch||!n.simulateTouch?"touchstart":S.browser.ie10?"MSPointerDown":"mousedown",touchMove:S.support.touch||!n.simulateTouch?"touchmove":S.browser.ie10?"MSPointerMove":"mousemove",touchEnd:S.support.touch||!n.simulateTouch?"touchend":S.browser.ie10?"MSPointerUp":"mouseup"};for(var L=S.container.childNodes.length-1;L>=0;L--)if(S.container.childNodes[L].className)for(var B=S.container.childNodes[L].className.split(" "),K=0;K<B.length;K++)B[K]===n.wrapperClass&&(I=S.container.childNodes[L]);S.wrapper=I,S._extendSwiperSlide=function(e){return e.append=function(){return n.loop?(e.insertAfter(S.slides.length-S.loopedSlides),S.removeLoopedSlides(),S.calcSlides(),S.createLoop()):S.wrapper.appendChild(e),S.reInit(),e},e.prepend=function(){return n.loop?(S.wrapper.insertBefore(e,S.slides[S.loopedSlides]),S.removeLoopedSlides(),S.calcSlides(),S.createLoop()):S.wrapper.insertBefore(e,S.wrapper.firstChild),S.reInit(),e},e.insertAfter=function(t){if("undefined"==typeof t)return!1;var i;return n.loop?(i=S.slides[t+1+S.loopedSlides],S.wrapper.insertBefore(e,i),S.removeLoopedSlides(),S.calcSlides(),S.createLoop()):(i=S.slides[t+1],S.wrapper.insertBefore(e,i)),S.reInit(),e},e.clone=function(){return S._extendSwiperSlide(e.cloneNode(!0))},e.remove=function(){S.wrapper.removeChild(e),S.reInit()},e.html=function(t){return"undefined"==typeof t?e.innerHTML:(e.innerHTML=t,e)},e.index=function(){for(var t,n=S.slides.length-1;n>=0;n--)e===S.slides[n]&&(t=n);return t},e.isActive=function(){return e.index()===S.activeIndex},e.swiperSlideDataStorage||(e.swiperSlideDataStorage={}),e.getData=function(t){return e.swiperSlideDataStorage[t]},e.setData=function(t,n){return e.swiperSlideDataStorage[t]=n,e},e.data=function(t,n){return n?(e.setAttribute("data-"+t,n),e):e.getAttribute("data-"+t)},e.getWidth=function(t){return S.h.getWidth(e,t)},e.getHeight=function(t){return S.h.getHeight(e,t)},e.getOffset=function(){return S.h.getOffset(e)},e},S.calcSlides=function(e){var t=!!S.slides&&S.slides.length;S.slides=[],S.displaySlides=[];for(var i=0;i<S.wrapper.childNodes.length;i++)if(S.wrapper.childNodes[i].className)for(var o=S.wrapper.childNodes[i].className,r=o.split(" "),s=0;s<r.length;s++)r[s]===n.slideClass&&S.slides.push(S.wrapper.childNodes[i]);for(i=S.slides.length-1;i>=0;i--)S._extendSwiperSlide(S.slides[i]);t&&(t!==S.slides.length||e)&&(l(),a(),S.updateActiveSlide(),n.createPagination&&S.params.pagination&&S.createPagination(),S.callPlugins("numberOfSlidesChanged"))},S.createSlide=function(e,t,i){var t=t||S.params.slideClass,i=i||n.slideElement,o=document.createElement(i);return o.innerHTML=e||"",o.className=t,S._extendSwiperSlide(o)},S.appendSlide=function(e,t,n){if(e)return e.nodeType?S._extendSwiperSlide(e).append():S.createSlide(e,t,n).append()},S.prependSlide=function(e,t,n){if(e)return e.nodeType?S._extendSwiperSlide(e).prepend():S.createSlide(e,t,n).prepend()},S.insertSlideAfter=function(e,t,n,i){return"undefined"!=typeof e&&(t.nodeType?S._extendSwiperSlide(t).insertAfter(e):S.createSlide(t,n,i).insertAfter(e))},S.removeSlide=function(e){if(S.slides[e]){if(n.loop){if(!S.slides[e+S.loopedSlides])return!1;S.slides[e+S.loopedSlides].remove(),S.removeLoopedSlides(),S.calcSlides(),S.createLoop()}else S.slides[e].remove();return!0}return!1},S.removeLastSlide=function(){return S.slides.length>0&&(n.loop?(S.slides[S.slides.length-1-S.loopedSlides].remove(),S.removeLoopedSlides(),S.calcSlides(),S.createLoop()):S.slides[S.slides.length-1].remove(),!0)},S.removeAllSlides=function(){for(var e=S.slides.length-1;e>=0;e--)S.slides[e].remove()},S.getSlide=function(e){return S.slides[e]},S.getLastSlide=function(){return S.slides[S.slides.length-1]},S.getFirstSlide=function(){return S.slides[0]},S.activeSlide=function(){return S.slides[S.activeIndex]};var F=[];for(var H in S.plugins)if(n[H]){var j=S.plugins[H](S,n[H]);j&&F.push(j)}S.callPlugins=function(e,t){t||(t={});for(var n=0;n<F.length;n++)e in F[n]&&F[n][e](t)},S.browser.ie10&&!n.onlyExternal&&(M?S.wrapper.classList.add("swiper-wp8-horizontal"):S.wrapper.classList.add("swiper-wp8-vertical")),n.freeMode&&(S.container.className+=" swiper-free-mode"),S.initialized=!1,S.init=function(e,t){var i=S.h.getWidth(S.container),o=S.h.getHeight(S.container);if(i!==S.width||o!==S.height||e){S.width=i,S.height=o,R=M?i:o;var r=S.wrapper;if(e&&S.calcSlides(t),"auto"===n.slidesPerView){var s=0,a=0;n.slidesOffset>0&&(r.style.paddingLeft="",r.style.paddingRight="",r.style.paddingTop="",r.style.paddingBottom=""),r.style.width="",r.style.height="",n.offsetPxBefore>0&&(M?S.wrapperLeft=n.offsetPxBefore:S.wrapperTop=n.offsetPxBefore),n.offsetPxAfter>0&&(M?S.wrapperRight=n.offsetPxAfter:S.wrapperBottom=n.offsetPxAfter),n.centeredSlides&&(M?(S.wrapperLeft=(R-this.slides[0].getWidth(!0))/2,S.wrapperRight=(R-S.slides[S.slides.length-1].getWidth(!0))/2):(S.wrapperTop=(R-S.slides[0].getHeight(!0))/2,S.wrapperBottom=(R-S.slides[S.slides.length-1].getHeight(!0))/2)),M?(S.wrapperLeft>=0&&(r.style.paddingLeft=S.wrapperLeft+"px"),S.wrapperRight>=0&&(r.style.paddingRight=S.wrapperRight+"px")):(S.wrapperTop>=0&&(r.style.paddingTop=S.wrapperTop+"px"),S.wrapperBottom>=0&&(r.style.paddingBottom=S.wrapperBottom+"px"));var l=0,c=0;S.snapGrid=[],S.slidesGrid=[];for(var u=0,d=0;d<S.slides.length;d++){var h=S.slides[d].getWidth(!0),p=S.slides[d].getHeight(!0);n.calculateHeight&&(u=Math.max(u,p));var f=M?h:p;if(n.centeredSlides){var m=d===S.slides.length-1?0:S.slides[d+1].getWidth(!0),g=d===S.slides.length-1?0:S.slides[d+1].getHeight(!0),v=M?m:g;if(f>R){for(var b=0;b<=Math.floor(f/(R+S.wrapperLeft));b++)0===b?S.snapGrid.push(l+S.wrapperLeft):S.snapGrid.push(l+S.wrapperLeft+R*b);S.slidesGrid.push(l+S.wrapperLeft)}else S.snapGrid.push(c),S.slidesGrid.push(c);c+=f/2+v/2}else{if(f>R)for(var b=0;b<=Math.floor(f/R);b++)S.snapGrid.push(l+R*b);else S.snapGrid.push(l);S.slidesGrid.push(l)}l+=f,s+=h,a+=p}n.calculateHeight&&(S.height=u),M?(D=s+S.wrapperRight+S.wrapperLeft,r.style.width=s+"px",r.style.height=S.height+"px"):(D=a+S.wrapperTop+S.wrapperBottom,r.style.width=S.width+"px",r.style.height=a+"px")}else if(n.scrollContainer){r.style.width="",r.style.height="";var w=S.slides[0].getWidth(!0),y=S.slides[0].getHeight(!0);D=M?w:y,r.style.width=w+"px",r.style.height=y+"px",O=M?w:y}else{if(n.calculateHeight){var u=0,y=0;M||(S.container.style.height=""),r.style.height="";for(var d=0;d<S.slides.length;d++)S.slides[d].style.height="",u=Math.max(S.slides[d].getHeight(!0),u),M||(y+=S.slides[d].getHeight(!0));var p=u;if(M)var y=p;R=S.height=p,M||(S.container.style.height=R+"px")}else var p=M?S.height:S.height/n.slidesPerView,y=M?S.height:S.slides.length*p;var h=M?S.width/n.slidesPerView:S.width,w=M?S.slides.length*h:S.width;O=M?h:p,n.offsetSlidesBefore>0&&(M?S.wrapperLeft=O*n.offsetSlidesBefore:S.wrapperTop=O*n.offsetSlidesBefore),n.offsetSlidesAfter>0&&(M?S.wrapperRight=O*n.offsetSlidesAfter:S.wrapperBottom=O*n.offsetSlidesAfter),n.offsetPxBefore>0&&(M?S.wrapperLeft=n.offsetPxBefore:S.wrapperTop=n.offsetPxBefore),n.offsetPxAfter>0&&(M?S.wrapperRight=n.offsetPxAfter:S.wrapperBottom=n.offsetPxAfter),n.centeredSlides&&(M?(S.wrapperLeft=(R-O)/2,S.wrapperRight=(R-O)/2):(S.wrapperTop=(R-O)/2,S.wrapperBottom=(R-O)/2)),M?(S.wrapperLeft>0&&(r.style.paddingLeft=S.wrapperLeft+"px"),S.wrapperRight>0&&(r.style.paddingRight=S.wrapperRight+"px")):(S.wrapperTop>0&&(r.style.paddingTop=S.wrapperTop+"px"),
S.wrapperBottom>0&&(r.style.paddingBottom=S.wrapperBottom+"px")),D=M?w+S.wrapperRight+S.wrapperLeft:y+S.wrapperTop+S.wrapperBottom,r.style.width=w+"px",r.style.height=y+"px";var l=0;S.snapGrid=[],S.slidesGrid=[];for(var d=0;d<S.slides.length;d++)S.snapGrid.push(l),S.slidesGrid.push(l),l+=O,S.slides[d].style.width=h+"px",S.slides[d].style.height=p+"px"}S.initialized?S.callPlugins("onInit"):S.callPlugins("onFirstInit"),S.initialized=!0}},S.reInit=function(e){S.init(!0,e)},S.resizeFix=function(e){if(S.callPlugins("beforeResizeFix"),S.init(n.resizeReInit||e),n.freeMode){var t=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y");if(t<-o()){var i=M?-o():0,r=M?0:-o();S.setWrapperTransition(0),S.setWrapperTranslate(i,r,0)}}else n.loop?S.swipeTo(S.activeLoopIndex,0,!1):S.swipeTo(S.activeIndex,0,!1);S.callPlugins("afterResizeFix")},S.destroy=function(e){S.browser.ie10?(S.h.removeEventListener(S.wrapper,S.touchEvents.touchStart,m,!1),S.h.removeEventListener(document,S.touchEvents.touchMove,g,!1),S.h.removeEventListener(document,S.touchEvents.touchEnd,v,!1)):(S.support.touch&&(S.h.removeEventListener(S.wrapper,"touchstart",m,!1),S.h.removeEventListener(S.wrapper,"touchmove",g,!1),S.h.removeEventListener(S.wrapper,"touchend",v,!1)),n.simulateTouch&&(S.h.removeEventListener(S.wrapper,"mousedown",m,!1),S.h.removeEventListener(document,"mousemove",g,!1),S.h.removeEventListener(document,"mouseup",v,!1))),n.autoResize&&S.h.removeEventListener(window,"resize",S.resizeFix,!1),l(),n.paginationClickable&&y(),n.mousewheelControl&&S._wheelEvent&&S.h.removeEventListener(S.container,S._wheelEvent,u,!1),n.keyboardControl&&S.h.removeEventListener(document,"keydown",c,!1),n.autoplay&&S.stopAutoplay(),S.callPlugins("onDestroy")},n.grabCursor&&(S.container.style.cursor="move",S.container.style.cursor="grab",S.container.style.cursor="-moz-grab",S.container.style.cursor="-webkit-grab"),S.allowSlideClick=!0,S.allowLinks=!0;var W=!1,$,z=!0,V,U;S.swipeNext=function(e){!e&&n.loop&&S.fixLoop(),S.callPlugins("onSwipeNext");var t=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y"),i=t;if("auto"==n.slidesPerView){for(var r=0;r<S.snapGrid.length;r++)if(-t>=S.snapGrid[r]&&-t<S.snapGrid[r+1]){i=-S.snapGrid[r+1];break}}else{var s=O*n.slidesPerGroup;i=-(Math.floor(Math.abs(t)/Math.floor(s))*s+s)}return i<-o()&&(i=-o()),i!=t&&(b(i,"next"),!0)},S.swipePrev=function(e){!e&&n.loop&&S.fixLoop(),!e&&n.autoplay&&S.stopAutoplay(),S.callPlugins("onSwipePrev");var t=Math.ceil(M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y")),i;if("auto"==n.slidesPerView){i=0;for(var o=1;o<S.snapGrid.length;o++){if(-t==S.snapGrid[o]){i=-S.snapGrid[o-1];break}if(-t>S.snapGrid[o]&&-t<S.snapGrid[o+1]){i=-S.snapGrid[o];break}}}else{var r=O*n.slidesPerGroup;i=-(Math.ceil(-t/r)-1)*r}return i>0&&(i=0),i!=t&&(b(i,"prev"),!0)},S.swipeReset=function(){S.callPlugins("onSwipeReset");var e=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y"),t=O*n.slidesPerGroup,i,r=-o();if("auto"==n.slidesPerView){i=0;for(var s=0;s<S.snapGrid.length;s++){if(-e===S.snapGrid[s])return;if(-e>=S.snapGrid[s]&&-e<S.snapGrid[s+1]){i=S.positions.diff>0?-S.snapGrid[s+1]:-S.snapGrid[s];break}}-e>=S.snapGrid[S.snapGrid.length-1]&&(i=-S.snapGrid[S.snapGrid.length-1]),e<=-o()&&(i=-o())}else i=e<0?Math.round(e/t)*t:0;return n.scrollContainer&&(i=e<0?e:0),i<-o()&&(i=-o()),n.scrollContainer&&R>O&&(i=0),i!=e&&(b(i,"reset"),!0)},S.swipeTo=function(e,t,i){e=parseInt(e,10),S.callPlugins("onSwipeTo",{index:e,speed:t}),n.loop&&(e+=S.loopedSlides);var r=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y");if(!(e>S.slides.length-1||e<0)){var s;return s="auto"==n.slidesPerView?-S.slidesGrid[e]:-e*O,s<-o()&&(s=-o()),s!=r&&(i=i!==!1,b(s,"to",{index:e,speed:t,runCallbacks:i}),!0)}},S._queueStartCallbacks=!1,S._queueEndCallbacks=!1,S.updateActiveSlide=function(e){if(S.initialized&&0!=S.slides.length){if(S.previousIndex=S.activeIndex,e>0&&(e=0),"undefined"==typeof e&&(e=M?S.getWrapperTranslate("x"):S.getWrapperTranslate("y")),"auto"==n.slidesPerView){var t=0;if(S.activeIndex=S.slidesGrid.indexOf(-e),S.activeIndex<0){for(var i=0;i<S.slidesGrid.length-1&&!(-e>S.slidesGrid[i]&&-e<S.slidesGrid[i+1]);i++);var o=Math.abs(S.slidesGrid[i]+e),r=Math.abs(S.slidesGrid[i+1]+e);o<=r?S.activeIndex=i:S.activeIndex=i+1}}else n.visibilityFullFit?S.activeIndex=Math.ceil(-e/O):S.activeIndex=Math.round(-e/O);if(S.activeIndex==S.slides.length&&(S.activeIndex=S.slides.length-1),S.activeIndex<0&&(S.activeIndex=0),S.slides[S.activeIndex]){S.calcVisibleSlides(e);for(var s=new RegExp("\\s*"+n.slideActiveClass),a=new RegExp("\\s*"+n.slideVisibleClass),i=0;i<S.slides.length;i++)S.slides[i].className=S.slides[i].className.replace(s,"").replace(a,""),S.visibleSlides.indexOf(S.slides[i])>=0&&(S.slides[i].className+=" "+n.slideVisibleClass);if(S.slides[S.activeIndex].className+=" "+n.slideActiveClass,n.loop){var l=S.loopedSlides;S.activeLoopIndex=S.activeIndex-l,S.activeLoopIndex>=S.slides.length-2*l&&(S.activeLoopIndex=S.slides.length-2*l-S.activeLoopIndex),S.activeLoopIndex<0&&(S.activeLoopIndex=S.slides.length-2*l+S.activeLoopIndex)}else S.activeLoopIndex=S.activeIndex;n.pagination&&S.updatePagination(e)}}},S.createPagination=function(e){n.paginationClickable&&S.paginationButtons&&y();var t="",o=S.slides.length,r=o;n.loop&&(r-=2*S.loopedSlides);for(var s=0;s<r;s++)t+="<"+n.paginationElement+' class="'+n.paginationElementClass+'"></'+n.paginationElement+">";S.paginationContainer=n.pagination.nodeType?n.pagination:i(n.pagination)[0],S.paginationContainer.innerHTML=t,S.paginationButtons=[],document.querySelectorAll?S.paginationButtons=S.paginationContainer.querySelectorAll("."+n.paginationElementClass):window.jQuery&&(S.paginationButtons=i(S.paginationContainer).find("."+n.paginationElementClass)),e||S.updatePagination(),S.callPlugins("onCreatePagination"),n.paginationClickable&&_()},S.updatePagination=function(e){if(!(S.slides.length<1)){if(document.querySelectorAll)var t=S.paginationContainer.querySelectorAll("."+n.paginationActiveClass);else if(window.jQuery)var t=i(S.paginationContainer).find("."+n.paginationActiveClass);if(t){for(var o=S.paginationButtons,r=0;r<o.length;r++)o[r].className=n.paginationElementClass;var s=n.loop?S.loopedSlides:0;if(n.paginationAsRange){S.visibleSlides||S.calcVisibleSlides(e);for(var a=[],r=0;r<S.visibleSlides.length;r++){var l=S.slides.indexOf(S.visibleSlides[r])-s;n.loop&&l<0&&(l=S.slides.length-2*S.loopedSlides+l),n.loop&&l>=S.slides.length-2*S.loopedSlides&&(l=S.slides.length-2*S.loopedSlides-l,l=Math.abs(l)),a.push(l)}for(r=0;r<a.length;r++)o[a[r]]&&(o[a[r]].className+=" "+n.paginationVisibleClass);n.loop?o[S.activeLoopIndex].className+=" "+n.paginationActiveClass:o[S.activeIndex].className+=" "+n.paginationActiveClass}else n.loop?o[S.activeLoopIndex].className+=" "+n.paginationActiveClass+" "+n.paginationVisibleClass:o[S.activeIndex].className+=" "+n.paginationActiveClass+" "+n.paginationVisibleClass}}},S.calcVisibleSlides=function(e){var t=[],i=0,o=0,r=0;M&&S.wrapperLeft>0&&(e+=S.wrapperLeft),!M&&S.wrapperTop>0&&(e+=S.wrapperTop);for(var s=0;s<S.slides.length;s++){i+=o,o="auto"==n.slidesPerView?M?S.h.getWidth(S.slides[s],!0):S.h.getHeight(S.slides[s],!0):O,r=i+o;var a=!1;n.visibilityFullFit?(i>=-e&&r<=-e+R&&(a=!0),i<=-e&&r>=-e+R&&(a=!0)):(r>-e&&r<=-e+R&&(a=!0),i>=-e&&i<-e+R&&(a=!0),i<-e&&r>-e+R&&(a=!0)),a&&t.push(S.slides[s])}0==t.length&&(t=[S.slides[S.activeIndex]]),S.visibleSlides=t};var G=void 0;S.startAutoplay=function(){return"undefined"==typeof G&&(n.autoplay&&!n.loop&&(G=setInterval(function(){S.swipeNext(!0)||S.swipeTo(0)},n.autoplay)),n.autoplay&&n.loop&&(autoPlay=setInterval(function(){S.swipeNext()},n.autoplay)),void S.callPlugins("onAutoplayStart"))},S.stopAutoplay=function(){G&&clearInterval(G),G=void 0,S.callPlugins("onAutoplayStop")},S.loopCreated=!1,S.removeLoopedSlides=function(){if(S.loopCreated)for(var e=0;e<S.slides.length;e++)S.slides[e].getData("looped")===!0&&S.wrapper.removeChild(S.slides[e])},S.createLoop=function(){if(0!=S.slides.length){S.loopedSlides=n.slidesPerView+n.loopAdditionalSlides;for(var e="",t="",i=0;i<S.loopedSlides;i++)e+=S.slides[i].outerHTML;for(i=S.slides.length-S.loopedSlides;i<S.slides.length;i++)t+=S.slides[i].outerHTML;for(I.innerHTML=t+I.innerHTML+e,S.loopCreated=!0,S.calcSlides(),i=0;i<S.slides.length;i++)(i<S.loopedSlides||i>=S.slides.length-S.loopedSlides)&&S.slides[i].setData("looped",!0);S.callPlugins("onCreateLoop")}},S.fixLoop=function(){if(S.activeIndex<S.loopedSlides){var e=S.slides.length-3*S.loopedSlides+S.activeIndex;S.swipeTo(e,0,!1)}else if(S.activeIndex>S.slides.length-2*n.slidesPerView){var e=-S.slides.length+S.activeIndex+S.loopedSlides;S.swipeTo(e,0,!1)}},S.loadSlides=function(){var e="";S.activeLoaderIndex=0;for(var t=n.loader.slides,i=n.loader.loadAllSlides?t.length:n.slidesPerView*(1+n.loader.surroundGroups),o=0;o<i;o++)e+="outer"==n.loader.slidesHTMLType?t[o]:"<"+n.slideElement+' class="'+n.slideClass+'" data-swiperindex="'+o+'">'+t[o]+"</"+n.slideElement+">";S.wrapper.innerHTML=e,S.calcSlides(!0),n.loader.loadAllSlides||S.wrapperTransitionEnd(S.reloadSlides,!0)},S.reloadSlides=function(){var e=n.loader.slides,t=parseInt(S.activeSlide().data("swiperindex"),10);if(!(t<0||t>e.length-1)){S.activeLoaderIndex=t;var i=Math.max(0,t-n.slidesPerView*n.loader.surroundGroups),o=Math.min(t+n.slidesPerView*(1+n.loader.surroundGroups)-1,e.length-1);if(t>0){var r=-O*(t-i);M?S.setWrapperTranslate(r,0,0):S.setWrapperTranslate(0,r,0),S.setWrapperTransition(0)}if("reload"===n.loader.logic){S.wrapper.innerHTML="";for(var s="",a=i;a<=o;a++)s+="outer"==n.loader.slidesHTMLType?e[a]:"<"+n.slideElement+' class="'+n.slideClass+'" data-swiperindex="'+a+'">'+e[a]+"</"+n.slideElement+">";S.wrapper.innerHTML=s}else{for(var l=1e3,c=0,a=0;a<S.slides.length;a++){var u=S.slides[a].data("swiperindex");u<i||u>o?S.wrapper.removeChild(S.slides[a]):(l=Math.min(u,l),c=Math.max(u,c))}for(var a=i;a<=o;a++){if(a<l){var d=document.createElement(n.slideElement);d.className=n.slideClass,d.setAttribute("data-swiperindex",a),d.innerHTML=e[a],S.wrapper.insertBefore(d,S.wrapper.firstChild)}if(a>c){var d=document.createElement(n.slideElement);d.className=n.slideClass,d.setAttribute("data-swiperindex",a),d.innerHTML=e[a],S.wrapper.appendChild(d)}}}S.reInit(!0)}},T()}};n.prototype={plugins:{},wrapperTransitionEnd:function(e,t){function n(){if(e(i),i.params.queueEndCallbacks&&(i._queueEndCallbacks=!1),!t)for(var s=0;s<r.length;s++)o.removeEventListener(r[s],n,!1)}var i=this,o=i.wrapper,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(e)for(var s=0;s<r.length;s++)o.addEventListener(r[s],n,!1)},getWrapperTranslate:function(e){var t=this.wrapper,n,i;if(window.WebKitCSSMatrix){var o=new WebKitCSSMatrix(window.getComputedStyle(t,null).webkitTransform);n=o.toString().split(",")}else{var o=window.getComputedStyle(t,null).MozTransform||window.getComputedStyle(t,null).OTransform||window.getComputedStyle(t,null).MsTransform||window.getComputedStyle(t,null).msTransform||window.getComputedStyle(t,null).transform||window.getComputedStyle(t,null).getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");n=o.toString().split(",")}return this.params.useCSS3Transforms?("x"==e&&(i=16==n.length?parseFloat(n[12]):window.WebKitCSSMatrix?o.m41:parseFloat(n[4])),"y"==e&&(i=16==n.length?parseFloat(n[13]):window.WebKitCSSMatrix?o.m42:parseFloat(n[5]))):("x"==e&&(i=parseFloat(t.style.left,10)||0),"y"==e&&(i=parseFloat(t.style.top,10)||0)),i||0},setWrapperTranslate:function(e,t,n){var i=this.wrapper.style;e=e||0,t=t||0,n=n||0,this.params.useCSS3Transforms?this.support.transforms3d?i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform="translate3d("+e+"px, "+t+"px, "+n+"px)":(i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform="translate("+e+"px, "+t+"px)",this.support.transforms||(i.left=e+"px",i.top=t+"px")):(i.left=e+"px",i.top=t+"px"),this.callPlugins("onSetWrapperTransform",{x:e,y:t,z:n})},setWrapperTransition:function(e){var t=this.wrapper.style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:e})},h:{getWidth:function(e,t){var n=window.getComputedStyle(e,null).getPropertyValue("width"),i=parseFloat(n);return(isNaN(i)||n.indexOf("%")>0)&&(i=e.offsetWidth-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"))),t&&(i+=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"))),i},getHeight:function(e,t){if(t)return e.offsetHeight;var n=window.getComputedStyle(e,null).getPropertyValue("height"),i=parseFloat(n);return(isNaN(i)||n.indexOf("%")>0)&&(i=e.offsetHeight-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"))),t&&(i+=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"))),i},getOffset:function(e){var t=e.getBoundingClientRect(),n=document.body,i=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,r=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return document.documentElement&&!window.pageYOffset&&(r=document.documentElement.scrollTop,s=document.documentElement.scrollLeft),{top:t.top+r-i,left:t.left+s-o}},windowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){var e=0,t=0;return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)}},setTransform:function(e,t){var n=e.style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t},setTranslate:function(e,t){var n=e.style,i={x:t.x||0,y:t.y||0,z:t.z||0},o=this.support.transforms3d?"translate3d("+i.x+"px,"+i.y+"px,"+i.z+"px)":"translate("+i.x+"px,"+i.y+"px)";n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=o,this.support.transforms||(n.left=i.x+"px",n.top=i.y+"px")},setTransition:function(e,t){var n=e.style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div");return"webkitPerspective"in e.style||"MozPerspective"in e.style||"OPerspective"in e.style||"MsPerspective"in e.style||"perspective"in e.style}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){var e=document.createElement("div").style;return"transform"in e||"WebkitTransform"in e||"MozTransform"in e||"msTransform"in e||"MsTransform"in e||"OTransform"in e}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"MsTransition"in e||"OTransition"in e}()},browser:{ie8:function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e!=-1&&e<9}(),ie10:window.navigator.msPointerEnabled}},(window.jQuery||window.Zepto)&&!function(e){e.fn.swiper=function(t){var i=new n(e(this)[0],t);return e(this).data("swiper",i),i}}(window.jQuery||window.Zepto),e.exports=n}).call(t,n(1))},function(e,t,n){(function(t){Weebly=window.Weebly||{},Weebly.DropDowns={Version:"0.5",Author:"David Rusenko",Company:"Weebly, Inc.",activeMenu:null,dropdownsRef:[],dropdownsArray:[],init:function(){Event.observe(document,"click",Weebly.DropDowns.handleClick)},register:function(e){0==this.dropdownsArray.length&&this.init(),this.dropdownsRef[e.id]=e,this.dropdownsArray.push(e)},destroy:function(e){if(e.button&&(e.button.pare,e.button.onclick=null),e.element&&e.element.childNodes.length>0)for(var t=0;t<e.element.childNodes.length;t++)e.element.childNodes[t].onclick=null;e.element&&e.element.parentNode&&"weeblyDropDown"==e.element.parentNode.className&&e.element.parentNode.parentNode.removeChild(e.element.parentNode);for(var t=0;t<Weebly.DropDowns.dropdownsArray.length;t++)Weebly.DropDowns.dropdownsArray[t]==e&&Weebly.DropDowns.dropdownsArray.splice(t,1);delete Weebly.DropDowns.dropdownsRef[e.id],delete e},setValue:function(e,n,i){var o=Weebly.DropDowns.dropdownsRef[e];o.open(),o.options.rowFunction?o.close(t(e+"-"+n),i):o.close(n,i)},handleClick:function(e){var t;e.target?t=e.target:e.srcElement&&(t=e.srcElement),3==t.nodeType&&(t=t.parentNode)},refreshChildren:function(e){$H(this.dropdownsRef).each(function(n){"object"==typeof n.value&&t(n.value.element).descendantOf(e)&&n.value.adjustScroll()})}},Weebly.DropDown=Class.create(),Weebly.DropDown.prototype={isOpen:!1,initialize:function(e){e=t(e),this.options=Object.extend({width:"95",height:"21",openWidth:"195",openHeight:null,border:"1px solid #9f9f9f",marginRight:0,background:"#FFFFFF url(https://"+editorStatic+"/weebly/images/dropdown_background.jpg) repeat-x",overflowY:"scroll",dropDownButton:{src:"https://"+editorStatic+"/weebly/images/dropdown_arrow.gif",width:"21",height:"18"},containerClass:"",fieldName:e.name,rowFunction:null,rowCompareFunction:null,generateValueFunction:null,generateContentsFunction:null,rowMargin:"3px 0 2px 0",type:null,onClose:function(){},onOpen:function(){},updateFunction:function(){},noInitialUpdate:!0,rowHoverColor:"#B5D2F0",noRefresh:null,scaleBy:20,zIndex:20,availableValues:[]},arguments[1]||{}),this.id=Math.floor(10000001*Math.random());var n=this.id;this.formEl=e,this.values=[],"YesNo"==this.options.type&&(this.options.rowFunction=function(e){if(!(e>1))return e%2==0?["Yes","Yes"]:["No","No"]}),this.options.availableValues.size()>0&&(this.options.rowFunction=function(e){return"object"==typeof this.availableValues[e]&&this.availableValues[e]});var i=document.createElement("DIV");i.className="weeblyDropDown",i.style.position="relative",i.style.marginRight=this.options.marginRight+"px",i.style.width=this.options.width+"px",this.container=t(i);var o=document.createElement("DIV");o.id=this.id+"_dropdownButton",o.className="dropdownButton",o.onclick=function(){Weebly.DropDowns.dropdownsRef[n].open()},o.style.position="absolute",o.style.width=this.options.dropDownButton.width+"px",o.style.height=this.options.dropDownButton.height+"px",o.style.cursor="pointer",o.style.zIndex=this.options.zIndex- -1,o.style.top="3px",o.style.right=0,o.style.background="transparent url('"+this.options.dropDownButton.src+"') no-repeat top left",this.button=o;var r=document.createElement("DIV");if(r.id=this.id+"_dropdownContainer",t(r).addClassName("dropdownContainer"),r.style.width=this.options.width+"px",Prototype.Browser.IE?r.style.height=this.options.height- -0+"px":r.style.height=this.options.height+"px",r.style.position="absolute",r.style.border=this.options.border,r.style.background=this.options.background,r.style.zIndex=this.options.zIndex,r.style.overflowX="hidden",r.style.overflowY="hidden",this.options.containerClass&&t(r).addClassName(this.options.containerClass),this.element=t(r),i.appendChild(o),i.appendChild(r),e.parentNode.insertBefore(i,e.nextSibling),this.options.rowFunction){for(var s=0,a;(a=this.options.rowFunction(s))&&!(s>1e3);){var l=document.createElement("DIV");l.id=this.id+"-"+s,n=this.id;var c=this.options.noRefresh;l.onclick=function(){Weebly.DropDowns.dropdownsRef[n].close(this)};var u=this.options.rowHoverColor;l.onmouseover=function(){this.style.background=u},l.onmouseout=function(){this.style.background="none"},l.style.height=this.options.height+"px",l.style.overflow="hidden",l.style.cursor="pointer",l.style.paddingLeft="8px",l.innerHTML="<textarea style='display: none;' name='val'>"+a[0]+"</textarea><div style='line-height:"+this.options.height+"px;'>"+a[1]+"</div>",a[2]&&this.element.appendChild(a[2]),this.element.appendChild(l),e.value&&(this.options.rowCompareFunction?this.options.rowCompareFunction(e.value,a):e.value==a[0])&&(this.element.scrollTop=0,this.element.scrollTop=this.getScrollHeight(s),this.lastEl=l,this.scrollMe(this.getScrollHeight(s)),this.options.noInitialUpdate||this.options.updateFunction(e.value)),this.values[s]=a[0],s++}this.options.openHeight||(this.options.openHeight=s*this.options.height),e.value&&this.lastEl||(this.lastEl=r.firstChild)}else if("function"==typeof this.options.generateValueFunction&&"function"==typeof this.options.generateContentsFunction){var l=document.createElement("DIV");l.id=this.id+"-value",l.innerHTML=this.options.generateValueFunction(this),l.style.width=this.options.openWidth-10+"px",l.style.height=this.options.height+"px",l.style.cursor="pointer";var u=this.options.rowHoverColor;l.onmouseover=function(){this.style.background=u},l.onmouseout=function(){this.style.background="none"},n=this.id,l.onclick=function(){Weebly.DropDowns.dropdownsRef[n].close(this)},this.element.appendChild(l);var d=document.createElement("DIV");d.id=this.id+"-contents",d.style.width=this.options.openWidth-10+"px",d.style.display="none",this.element.appendChild(d)}Weebly.DropDowns.register(this)},open:function(){var e=this.element.scrollTop;if(this.element.scrollTop=0,this.checkGone(),1!=this.isOpen){if(Weebly.DropDowns.activeMenu&&Weebly.DropDowns.dropdownsRef[Weebly.DropDowns.activeMenu].closeMe(),"function"==typeof this.options.generateValueFunction&&"function"==typeof this.options.generateContentsFunction){var n=t(this.id+"-contents");n.innerHTML=this.options.generateContentsFunction(this),n.style.display="block",t(this.id+"-value").style.display="none"}this.adjustLeft=0,this.resizeWidth(this.options.openWidth),this.resizeHeight(this.options.openHeight),this.element.style.overflowY=this.options.overflowY,this.element.style.zIndex=this.options.zIndex- -2,this.container.style.zIndex=this.options.zIndex- -5,this.element.scrollTop=e,this.button.style.display="none",this.isOpen=!0,Weebly.DropDowns.activeMenu=this.id,this.options.onOpen(this)}},close:function(e,n){if(this.checkGone(),0==this.isOpen)return void this.open();if(Prototype.Browser.IE?this.resizeHeight(this.options.height- -2):this.resizeHeight(this.options.height),this.element.style.overflowY="hidden",this.options.rowFunction){var i=e.id.replace(/^[0-9]+\-([0-9]+)$/,"$1");this.scrollMe(this.getScrollHeight(i)),this.lastEl=e}else"function"==typeof this.options.generateValueFunction&&"function"==typeof this.options.generateContentsFunction&&(t(this.id+"-contents").style.display="none",t(this.id+"-contents").innerHTML="","undefined"!=typeof e&&(this.formEl.value=e,t(this.id+"-value").innerHTML=this.options.generateValueFunction(this)),t(this.id+"-value").style.display="block");this.element.style.zIndex=this.options.zIndex,this.container.style.zIndex=this.options.zIndex,this.button.style.display="block",n||(this.options.rowFunction?(this.formEl.value=e.firstChild.value,this.options.updateFunction(this.formEl.value)):"function"==typeof this.options.generateValueFunction&&"function"==typeof this.options.generateContentsFunction&&(this.formEl.value=e,this.options.updateFunction(e)),this.options.onClose(this.options.noRefresh)),this.isOpen=!1,Weebly.DropDowns.activeMenu=null,this.adjustScroll(),this.resizeWidth(this.options.width)},changeOptions:function(e){this.element.update(""),this.values=[];var t=0;e.each(function(e){var n=new Element("div",{id:this.id+"-"+t});n.onclick=function(){this.close(n)}.bind(this);var i=this.options.rowHoverColor;n.onmouseover=function(){this.style.background=i},n.onmouseout=function(){this.style.background="none"},n.setStyle({height:this.options.height+"px",overflow:"hidden",cursor:"pointer",paddingLeft:"8px"}),n.update("<textarea style='display: none;' name='val'>"+e[0]+"</textarea><div style='line-height:"+this.options.height+"px;'>"+e[1]+"</div>"),this.element.appendChild(n),this.values[t]=e[0],0==t&&(this.setValue(e[0]),this.formEl.value=e[0]),t++},this),this.options.openHeight=t*this.options.height},setValue:function(e){var n=0;this.scrollMe(this.getScrollHeight(n)),this.lastEl=t(this.id+"-"+n),this.values.each(function(i){i==e&&(this.scrollMe(this.getScrollHeight(n)),this.lastEl=t(this.id+"-"+n)),n++}.bind(this))},getValue:function(){return this.formEl.value},closeMe:function(){this.close(this.lastEl,1)},adjustScroll:function(){if(this.options.rowFunction&&this.lastEl){var e=this.lastEl.id.replace(/^[0-9]+\-([0-9]+)$/,"$1");this.scrollMe(this.getScrollHeight(e))}},getScrollHeight:function(e){var t=this.element,n=t.select("> div:not(.font-group-heading):eq("+e+")")[0];return n.cumulativeOffset().top-t.cumulativeOffset().top},checkGone:function(){this.element&&this.button||Weebly.DropDowns.destroy(this)},resizeWidth:function(e){var t=this.options.scaleBy,n=this.element,i=Element.getStyle(n,"width").replace(/px/,"");n.style.width=e+"px";var o=Position.cumulativeOffset(n);o[0]- -e>document.body.clientWidth&&e>this.options.width?n.style.marginLeft="-"+(e-this.options.width)+"px":n.style.marginLeft="0px"},resizeHeight:function(e){var t=this.options.scaleBy,n=this.element,i=Element.getStyle(n,"height").replace(/px/,"");n.style.height=e+"px","auto"==this.options.overflowY&&(n.style.height="")},scrollMe:function(e){Prototype.Browser.IE;var n=this.element;t(n.id).scrollTop=e}},e.exports=Weebly.DropDown}).call(t,n(22))},function(e,t,n){(function(t){window.rangy=function(){function e(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function t(e,t){return!("object"!=typeof e[t]||!e[t])}function n(e,t){return"undefined"!=typeof e[t]}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function o(e){return e&&h(e,d)&&f(e,u)}function r(e){window.alert("Rangy not supported in your browser. Reason: "+e),m.initialized=!0,m.supported=!1}function s(){if(!m.initialized){var n,i=!1,s=!1;for(e(document,"createRange")&&(n=document.createRange(),h(n,c)&&f(n,l)&&(i=!0),n.detach()),(n=t(document,"body")?document.body:document.getElementsByTagName("body")[0])&&e(n,"createTextRange")&&(n=n.createTextRange(),o(n)&&(s=!0)),!i&&!s&&r("Neither Range nor TextRange are implemented"),m.initialized=!0,m.features={implementsDomRange:i,implementsTextRange:s},i=v.concat(g),s=0,n=i.length;s<n;++s)try{i[s](m)}catch(n){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",n)}}}function a(e){this.name=e,this.supported=this.initialized=!1}var l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],u=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],d=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],h=i(e),p=i(t),f=i(n),m={version:"1.2.3",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:h,areHostObjects:p,areHostProperties:f,isTextRange:o},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};m.fail=r,m.warn=function(e){e="Rangy warning: "+e,m.config.alertOnWarn?window.alert(e):"undefined"!=typeof window.console&&"undefined"!=typeof window.console.log&&window.console.log(e)},{}.hasOwnProperty?m.util.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}:r("hasOwnProperty not supported");var g=[],v=[];m.init=s,m.addInitListener=function(e){m.initialized?e(m):g.push(e)};var b=[];m.addCreateMissingNativeApiListener=function(e){b.push(e)},m.createMissingNativeApi=function(e){e=e||window,s();for(var t=0,n=b.length;t<n;++t)b[t](e)},a.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+e)},a.prototype.warn=function(e){m.warn("Module "+this.name+": "+e)},a.prototype.createError=function(e){return Error("Error in Rangy "+this.name+" module: "+e)},m.createModule=function(e,t){var n=new a(e);m.modules[e]=n,v.push(function(e){t(e,n),n.initialized=!0,n.supported=!0})},m.requireModules=function(e){for(var t=0,n=e.length,i,o;t<n;++t){if(o=e[t],i=m.modules[o],!(i&&i instanceof a))throw Error("Module '"+o+"' not found");if(!i.supported)throw Error("Module '"+o+"' not supported")}};var w=!1;if(p=function(){w||(w=!0,m.initialized||s())},"undefined"==typeof window)r("No window found");else{if("undefined"!=typeof document)return e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",p,!1),e(window,"addEventListener")?window.addEventListener("load",p,!1):e(window,"attachEvent")?window.attachEvent("onload",p):r("Window does not have required addEventListener or attachEvent method"),m;r("No document found")}}(),rangy.createModule("DomUtil",function(e,t){function n(e){for(var t=0;e=e.previousSibling;)t++;return t}function i(e,t){var n=[],i;for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(f(n,i))return i;return null}function o(e,t,n){for(n=n?e:e.parentNode;n;){if(e=n.parentNode,e===t)return n;n=e}return null}function r(e){return e=e.nodeType,3==e||4==e||8==e}function s(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function a(e){if(9==e.nodeType)return e;if("undefined"!=typeof e.ownerDocument)return e.ownerDocument;if("undefined"!=typeof e.document)return e.document;if(e.parentNode)return a(e.parentNode);throw Error("getDocument: no document found for node")}function l(e){return e?r(e)?'"'+e.data+'"':1==e.nodeType?"<"+e.nodeName+(e.id?' id="'+e.id+'"':"")+">["+e.childNodes.length+"]":e.nodeName:"[No node]"}function c(e){this._next=this.root=e}function u(e,t){this.node=e,this.offset=t}function d(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var h=e.util;h.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),h.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var p=document.createElement("div");h.areHostMethods(p,["insertBefore","appendChild","cloneNode"])||t.fail("Incomplete Element implementation"),h.isHostProperty(p,"innerHTML")||t.fail("Element is missing innerHTML property"),p=document.createTextNode("test"),h.areHostMethods(p,["splitText","deleteData","insertData","appendData","cloneNode"])||t.fail("Incomplete Text Node implementation");var f=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next,t;if(this._current)if(t=e.firstChild)this._next=t;else{
for(t=null;e!==this.root&&!(t=e.nextSibling);)e=e.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},u.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}},d.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},d.prototype.toString=function(){return this.message},e.dom={arrayContains:f,isHtmlNamespace:function(e){var t;return"undefined"==typeof e.namespaceURI||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){return e=e.parentNode,1==e.nodeType?e:null},getNodeIndex:n,getNodeLength:function(e){var t;return r(e)?e.length:(t=e.childNodes)?t.length:0},getCommonAncestor:i,isAncestorOf:function(e,t,n){for(t=n?t:t.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},getClosestAncestorIn:o,isCharacterDataNode:r,insertAfter:s,splitDataNode:function(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),s(n,e),n},getDocument:a,getWindow:function(e){if(e=a(e),"undefined"!=typeof e.defaultView)return e.defaultView;if("undefined"!=typeof e.parentWindow)return e.parentWindow;throw Error("Cannot get a window object for node")},getIframeWindow:function(e){if("undefined"!=typeof e.contentWindow)return e.contentWindow;if("undefined"!=typeof e.contentDocument)return e.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(e){if("undefined"!=typeof e.contentDocument)return e.contentDocument;if("undefined"!=typeof e.contentWindow)return e.contentWindow.document;throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(e){return h.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,r,s){var a;if(e==r)return t===s?0:t<s?-1:1;if(a=o(r,e,!0))return t<=n(a)?-1:1;if(a=o(e,r,!0))return n(a)<s?-1:1;if(t=i(e,r),e=e===t?t:o(e,t,!0),r=r===t?t:o(r,t,!0),e===r)throw Error("comparePoints got to case 4 and childA and childB are the same!");for(t=t.firstChild;t;){if(t===e)return-1;if(t===r)return 1;t=t.nextSibling}throw Error("Should not be here!")},inspectNode:l,fragmentFromNodeChildren:function(e){for(var t=a(e).createDocumentFragment(),n;n=e.firstChild;)t.appendChild(n);return t},createIterator:function(e){return new c(e)},DomPosition:u},e.DOMException=d}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(N.isAncestorOf(e,t.startContainer,!0)||N.isAncestorOf(e,t.endContainer,!0))}function n(e){return N.getDocument(e.startContainer)}function i(e,t,n){if(t=e._listeners[t])for(var i=0,o=t.length;i<o;++i)t[i].call(e,{target:e,args:n})}function o(e){return new M(e.parentNode,N.getNodeIndex(e))}function r(e){return new M(e.parentNode,N.getNodeIndex(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return N.isCharacterDataNode(t)?n==t.length?N.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:N.splitDataNode(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function a(e){for(var t,i,o=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(t=e.getSubtreeIterator(),i.appendChild(a(t)),t.detach(!0)),10==i.nodeType)throw new L("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function l(e,t,n){var i,o;for(n=n||{stop:!1};i=e.next();)if(e.isPartiallySelectedSubtree()){if(t(i)===!1)return void(n.stop=!0);if(i=e.getSubtreeIterator(),l(i,t,n),i.detach(!0),n.stop)return}else for(i=N.createIterator(i);o=i.next();)if(t(o)===!1)return void(n.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function u(e){for(var t,i=n(e.range).createDocumentFragment(),o;t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),o=e.getSubtreeIterator(),t.appendChild(u(o)),o.detach(!0)):e.remove(),10==t.nodeType)throw new L("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function d(e,t,n){var i=!(!t||!t.length),o,r=!!n;i&&(o=RegExp("^("+t.join("|")+")$"));var s=[];return l(new p(e,!1),function(e){i&&!o.test(e.nodeType)||r&&!n(e)||s.push(e)}),s}function h(e){return"["+("undefined"==typeof e.getName?"Range":e.getName())+"("+N.inspectNode(e.startContainer)+":"+e.startOffset+", "+N.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&N.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||N.isCharacterDataNode(this.sc)?N.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||N.isCharacterDataNode(this.ec)?N.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function f(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function m(e,t,n){this.nodes=d(e,t,n),this._next=this.nodes[0],this._position=0}function g(e){return function(t,n){for(var i,o=n?t:t.parentNode;o;){if(i=o.nodeType,N.arrayContains(e,i))return o;o=o.parentNode}return null}}function v(e,t){if(z(e,t))throw new f("INVALID_NODE_TYPE_ERR")}function b(e){if(!e.startContainer)throw new L("INVALID_STATE_ERR")}function w(e,t){if(!N.arrayContains(t,e.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function y(e,t){if(t<0||t>(N.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new L("INDEX_SIZE_ERR")}function _(e,t){if(W(e,!0)!==W(t,!0))throw new L("WRONG_DOCUMENT_ERR")}function E(e){if($(e,!0))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function T(e,t){if(!e)throw new L(t)}function C(e){return!!e.startContainer&&!!e.endContainer&&!(!N.arrayContains(K,e.startContainer.nodeType)&&!W(e.startContainer,!0))&&!(!N.arrayContains(K,e.endContainer.nodeType)&&!W(e.endContainer,!0))&&e.startOffset<=(N.isCharacterDataNode(e.startContainer)?e.startContainer.length:e.startContainer.childNodes.length)&&e.endOffset<=(N.isCharacterDataNode(e.endContainer)?e.endContainer.length:e.endContainer.childNodes.length)}function S(e){if(b(e),!C(e))throw Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function I(){}function O(e){e.START_TO_START=q,e.START_TO_END=Y,e.END_TO_END=X,e.END_TO_START=J,e.NODE_BEFORE=Q,e.NODE_AFTER=Z,e.NODE_BEFORE_AND_AFTER=ee,e.NODE_INSIDE=te}function D(e){O(e),O(e.prototype)}function x(e,t){return function(){S(this);var n=this.startContainer,i=this.startOffset,o=this.commonAncestorContainer,s=new p(this,!0);return n!==o&&(n=N.getClosestAncestorIn(n,o,!0),i=r(n),n=i.node,i=i.offset),l(s,E),s.reset(),o=e(s),s.detach(),t(this,n,i,n,i),o}}function k(n,i,s){function a(e,t){return function(n){b(this),w(n,B),w(j(n),K),n=(e?o:r)(n),(t?l:d)(this,n.node,n.offset)}}function l(e,t,n){var o=e.endContainer,r=e.endOffset;t===e.startContainer&&n===e.startOffset||(j(t)==j(o)&&1!=N.comparePoints(t,n,o,r)||(o=t,r=n),i(e,t,n,o,r))}function d(e,t,n){var o=e.startContainer,r=e.startOffset;t===e.endContainer&&n===e.endOffset||(j(t)==j(o)&&N.comparePoints(t,n,o,r)!=-1||(o=t,r=n),i(e,o,r,t,n))}n.prototype=new I,e.util.extend(n.prototype,{setStart:function(e,t){b(this),v(e,!0),y(e,t),l(this,e,t)},setEnd:function(e,t){b(this),v(e,!0),y(e,t),d(this,e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){S(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){b(this),v(e,!0),i(this,e,0,e,N.getNodeLength(e))},selectNode:function(e){b(this),v(e,!1),w(e,B);var t=o(e);e=r(e),i(this,t.node,t.offset,e.node,e.offset)},extractContents:x(u,i),deleteContents:x(c,i),canSurroundContents:function(){S(this),E(this.startContainer),E(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},detach:function(){s(this)},splitBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,o=this.endOffset,r=e===n;N.isCharacterDataNode(n)&&o>0&&o<n.length&&N.splitDataNode(n,o),N.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=N.splitDataNode(e,t),r?(o-=t,n=e):n==e.parentNode&&o>=N.getNodeIndex(e)&&o++,t=0),i(this,e,t,n,o)},normalizeBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,o=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,o=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},s=function(i){var r=i.previousSibling;if(r&&r.nodeType==i.nodeType){e=i;var s=i.length;t=r.length,i.insertData(0,r.data),r.parentNode.removeChild(r),e==n?(o+=t,n=e):n==i.parentNode&&(r=N.getNodeIndex(i),o==r?(n=i,o=s):o>r&&o--)}},a=!0;N.isCharacterDataNode(n)?n.length==o&&r(n):(o>0&&(a=n.childNodes[o-1])&&N.isCharacterDataNode(a)&&r(a),a=!this.collapsed),a?N.isCharacterDataNode(e)?0==t&&s(e):t<e.childNodes.length&&(r=e.childNodes[t])&&N.isCharacterDataNode(r)&&s(r):(e=n,t=o),i(this,e,t,n,o)},collapseToPoint:function(e,t){b(this),v(e,!0),y(e,t),e===this.startContainer&&t===this.startOffset&&e===this.endContainer&&t===this.endOffset||i(this,e,t,e,t)}}),D(n)}function R(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:N.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,n,o,r){var s=e.startContainer!==t||e.startOffset!==n,a=e.endContainer!==o||e.endOffset!==r;e.startContainer=t,e.startOffset=n,e.endContainer=o,e.endOffset=r,R(e),i(e,"boundarychange",{startMoved:s,endMoved:a})}function A(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},R(this)}e.requireModules(["DomUtil"]);var N=e.dom,M=N.DomPosition,L=e.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,N.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e=this._current,t,n;!N.isCharacterDataNode(e)||e!==this.sc&&e!==this.ec?e.parentNode&&e.parentNode.removeChild(e):(t=e===this.sc?this.so:0,n=e===this.ec?this.eo:e.length,t!=n&&e.deleteData(t,n-t))},isPartiallySelectedSubtree:function(){return t(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new A(n(this.range));var t=this._current,i=t,o=0,r=t,s=N.getNodeLength(t);N.isAncestorOf(t,this.sc,!0)&&(i=this.sc,o=this.so),N.isAncestorOf(t,this.ec,!0)&&(r=this.ec,s=this.eo),P(e,i,o,r,s)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},f.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},f.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var B=[1,3,4,5,7,8,10],K=[2,9,11],F=[1,3,4,5,7,8,10,11],H=[1,3,4,5,7,8],j=N.getRootContainer,W=g([9,11]),$=g([5,6,10,12]),z=g([6,10,12]),V=document.createElement("style"),U=!1;try{V.innerHTML="<b>x</b>",U=3==V.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=U;var G=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],q=0,Y=1,X=2,J=3,Q=0,Z=1,ee=2,te=3;I.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){S(this),_(this.startContainer,t.startContainer);var n=e==J||e==q?"start":"end",i=e==Y||e==q?"start":"end";return N.comparePoints(this[n+"Container"],this[n+"Offset"],t[i+"Container"],t[i+"Offset"])},insertNode:function(e){if(S(this),w(e,F),E(this.startContainer),N.isAncestorOf(e,this.startContainer,!0))throw new L("HIERARCHY_REQUEST_ERR");this.setStartBefore(s(e,this.startContainer,this.startOffset))},cloneContents:function(){S(this);var e,t;return this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&N.isCharacterDataNode(this.startContainer)?(e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t):(t=new p(this,!0),e=a(t),t.detach(),e)},canSurroundContents:function(){S(this),E(this.startContainer),E(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(w(e,H),!this.canSurroundContents())throw new f("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){S(this);for(var e=new A(n(this)),t=G.length,i;t--;)i=G[t],e[i]=this[i];return e},toString:function(){S(this);var e=this.startContainer;if(e===this.endContainer&&N.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[];return e=new p(this,!0),l(e,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),e.detach(),t.join("")},compareNode:function(e){S(this);var t=e.parentNode,n=N.getNodeIndex(e);if(!t)throw new L("NOT_FOUND_ERR");return e=this.comparePoint(t,n),t=this.comparePoint(t,n+1),e<0?t>0?ee:Q:t>0?Z:te},comparePoint:function(e,t){return S(this),T(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),N.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:N.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:U?function(e){var t=this.startContainer,n=N.getDocument(t);if(!t)throw new L("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:N.isCharacterDataNode(t)&&(i=N.parentElement(t)),i=null===i||"HTML"==i.nodeName&&N.isHtmlNamespace(N.getDocument(i).documentElement)&&N.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,N.fragmentFromNodeChildren(i)}:function(e){b(this);var t=n(this).createElement("body");return t.innerHTML=e,N.fragmentFromNodeChildren(t)},toHtml:function(){S(this);var e=n(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(S(this),T(e,"NOT_FOUND_ERR"),N.getDocument(e)!==n(this))return!1;var i=e.parentNode,o=N.getNodeIndex(e);T(i,"NOT_FOUND_ERR");var r=N.comparePoints(i,o,this.endContainer,this.endOffset);return i=N.comparePoints(i,o+1,this.startContainer,this.startOffset),t?r<=0&&i>=0:r<0&&i>0},isPointInRange:function(e,t){return S(this),T(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),N.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&N.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(S(this),n(e)!=n(this))throw new L("WRONG_DOCUMENT_ERR");var i=N.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),o=N.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?i<=0&&o>=0:i<0&&o>0},intersection:function(e){if(this.intersectsRange(e)){var t=N.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=N.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return t==-1&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return N.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(e.startContainer,e.startOffset),1==N.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new f("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==te},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,N.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);return n.length>0?(t.setStart(n[0],0),e=n.pop(),t.setEnd(e,e.length),e=this.containsRange(t),t.detach(),e):this.containsNodeContents(e)},createNodeIterator:function(e,t){return S(this),new m(this,e,t)},getNodes:function(e,t){return S(this),d(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){b(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){b(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return A.rangesEqual(this,e)},isValid:function(){return C(this)},inspect:function(){return h(this)}},k(A,P,function(e){b(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,i(e,"detach",null),e._listeners=null}),e.rangePrototype=I.prototype,A.rangeProperties=G,A.RangeIterator=p,A.copyComparisonConstants=D,A.createPrototypeRange=k,A.inspect=h,A.getRangeDocument=n,A.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=A,e.RangeException=f}),rangy.createModule("WrappedRange",function(e){function t(e,t,n,i){var s=e.duplicate();s.collapse(n);var a=s.parentElement();if(o.isAncestorOf(t,a,!0)||(a=t),!a.canHaveHTML)return new r(a.parentNode,o.getNodeIndex(a));t=o.getDocument(a).createElement("span");var l,c=n?"StartToStart":"StartToEnd";do a.insertBefore(t,t.previousSibling),s.moveToElementText(t);while((l=s.compareEndPoints(c,e))>0&&t.previousSibling);if(c=t.nextSibling,l==-1&&c&&o.isCharacterDataNode(c)){if(s.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(c.data))for(a=s.duplicate(),n=a.text.replace(/\r\n/g,"\r").length,n=a.moveStart("character",n);a.compareEndPoints("StartToEnd",a)==-1;)n++,a.moveStart("character",1);else n=s.text.length;a=new r(c,n)}else c=(i||!n)&&t.previousSibling,a=(n=(i||n)&&t.nextSibling)&&o.isCharacterDataNode(n)?new r(n,0):c&&o.isCharacterDataNode(c)?new r(c,c.length):new r(a,o.getNodeIndex(t));return t.parentNode.removeChild(t),a}function n(e,t){var n,i,r=e.offset,s=o.getDocument(e.node),a=s.body.createTextRange(),l=o.isCharacterDataNode(e.node);return l?(n=e.node,i=n.parentNode):(n=e.node.childNodes,n=r<n.length?n[r]:null,i=e.node),s=s.createElement("span"),s.innerHTML="&#feff;",n?i.insertBefore(s,n):i.appendChild(s),a.moveToElementText(s),a.collapse(!t),i.removeChild(s),l&&a[t?"moveStart":"moveEnd"]("character",r),a}e.requireModules(["DomUtil","DomRange"]);var i,o=e.dom,r=o.DomPosition,s=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){i=function(e){this.textRange=e,this.refresh()},i.prototype=new s(document),i.prototype.refresh=function(){var e,n,i=this.textRange;e=i.parentElement();var r=i.duplicate();r.collapse(!0),n=r.parentElement(),r=i.duplicate(),r.collapse(!1),i=r.parentElement(),n=n==i?n:o.getCommonAncestor(n,i),n=n==e?n:o.getCommonAncestor(e,n),0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?n=e=t(this.textRange,n,!0,!0):(e=t(this.textRange,n,!0,!1),n=t(this.textRange,n,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(n.node,n.offset)},s.copyComparisonConstants(i);var a=function(){return this}();"undefined"==typeof a.Range&&(a.Range=i),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else!function(){function t(e){for(var t=r.length,n;t--;)n=r[t],e[n]=e.nativeRange[n]}var n,r=s.rangeProperties,a,l;i=function(e){if(!e)throw Error("Range must be specified");this.nativeRange=e,t(this)},s.createPrototypeRange(i,function(e,t,n,i,o){var r=e.endContainer!==i||e.endOffset!=o;(e.startContainer!==t||e.startOffset!=n||r)&&(e.setEnd(i,o),e.setStart(t,n))},function(e){e.nativeRange.detach(),e.detached=!0;for(var t=r.length,n;t--;)n=r[t],e[n]=null}),n=i.prototype,n.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},n.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},n.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},n.collapse=function(e){this.nativeRange.collapse(e),t(this)},n.cloneRange=function(){return new i(this.nativeRange.cloneRange())},n.refresh=function(){t(this)},n.toString=function(){return this.nativeRange.toString()};var c=document.createTextNode("test");o.getBody(document).appendChild(c);var u=document.createRange();u.setStart(c,0),u.setEnd(c,0);try{u.setStart(c,1),a=!0,n.setStart=function(e,n){this.nativeRange.setStart(e,n),t(this)},n.setEnd=function(e,n){this.nativeRange.setEnd(e,n),t(this)},l=function(e){return function(n){this.nativeRange[e](n),t(this)}}}catch(e){a=!1,n.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(t){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}t(this)},n.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(t){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}t(this)},l=function(e,n){return function(i){try{this.nativeRange[e](i)}catch(t){this.nativeRange[n](i),this.nativeRange[e](i)}t(this)}}}n.setStartBefore=l("setStartBefore","setEndBefore"),n.setStartAfter=l("setStartAfter","setEndAfter"),n.setEndBefore=l("setEndBefore","setStartBefore"),n.setEndAfter=l("setEndAfter","setStartAfter"),u.selectNodeContents(c),n.selectNodeContents=u.startContainer==c&&u.endContainer==c&&0==u.startOffset&&u.endOffset==c.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,s.getEndOffset(e))},u.selectNodeContents(c),u.setEnd(c,3),a=document.createRange(),a.selectNodeContents(c),a.setEnd(c,4),a.setStart(c,2),n.compareBoundaryPoints=u.compareBoundaryPoints(u.START_TO_END,a)==-1&1==u.compareBoundaryPoints(u.END_TO_START,a)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(u,"createContextualFragment")&&(n.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),o.getBody(document).removeChild(c),u.detach(),a.detach()}(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(i.rangeToTextRange=function(e){if(e.collapsed)return n(new r(e.startContainer,e.startOffset),!0);var t=n(new r(e.startContainer,e.startOffset),!0),i=n(new r(e.endContainer,e.endOffset),!1);return e=o.getDocument(e.startContainer).body.createTextRange(),e.setEndPoint("StartToStart",t),e.setEndPoint("EndToEnd",i),e}),i.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=i,e.createRange=function(t){return t=t||document,new i(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new s(e)},e.createIframeRange=function(t){return e.createRange(o.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(o.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){t=t.document,"undefined"==typeof t.createRange&&(t.createRange=function(){return e.createRange(this)}),t=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function n(e){return(e||window).getSelection()}function i(e){return(e||window).document.selection}function o(e,t,n){var i=n?"end":"start";n=n?"start":"end",e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[n+"Container"],e.focusOffset=t[n+"Offset"]}function r(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function s(t){var n;return t instanceof v?(n=t._selectionNativeRange,n||(n=e.createNativeRange(m.getDocument(t.startContainer)),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=n,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof b?n=t.nativeRange:e.features.implementsDomRange&&t instanceof m.getWindow(t.startContainer).Range&&(n=t),n}function a(e){var t=e.getNodes(),n;e:if(t.length&&1==t[0].nodeType){n=1;for(var i=t.length;n<i;++n)if(!m.isAncestorOf(t[0],t[n])){n=!1;break e}n=!0}else n=!1;if(!n)throw Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function l(e,t){var n=new b(t);e._ranges=[n],o(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function c(t){if(t._ranges.length=0,"None"==t.docSelection.type)r(t);else{var n=t.docSelection.createRange();if(n&&"undefined"!=typeof n.text)l(t,n);else{t.rangeCount=n.length;for(var i,s=m.getDocument(n.item(0)),a=0;a<t.rangeCount;++a)i=e.createRange(s),i.selectNode(n.item(a)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,o(t,t._ranges[t.rangeCount-1],!1)}}}function u(e,t){var n=e.docSelection.createRange(),i=a(t),o=m.getDocument(n.item(0));o=m.getBody(o).createControlRange();for(var r=0,s=n.length;r<s;++r)o.add(n.item(r));try{o.add(i)}catch(e){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),c(e)}function d(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function h(e,t){var n=m.getDocument(t[0].startContainer);n=m.getBody(n).createControlRange();for(var i=0,o;i<rangeCount;++i){o=a(t[i]);try{n.add(o)}catch(e){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}n.select(),c(e)}function p(e,t){if(e.anchorNode&&m.getDocument(e.anchorNode)!==m.getDocument(t))throw new w("WRONG_DOCUMENT_ERR")}function f(e){var t=[],n=new y(e.anchorNode,e.anchorOffset),i=new y(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var r=0,s=e.rangeCount;r<s;++r)t[r]=v.inspect(e.getRangeAt(r));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var m=e.dom,g=e.util,v=e.DomRange,b=e.WrappedRange,w=e.DOMException,y=m.DomPosition,_,E,T=e.util.isHostMethod(window,"getSelection"),C=e.util.isHostObject(document,"selection"),S=C&&(!T||e.config.preferTextRange);S?(_=i,e.isSelectionValid=function(e){e=(e||window).document;var t=e.selection;return"None"!=t.type||m.getDocument(t.createRange().parentElement())==e}):T?(_=n,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=_,T=_();var I=e.createNativeRange(document),O=m.getBody(document),D=g.areHostObjects(T,g.areHostProperties(T,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=D;var x=g.isHostMethod(T,"extend");e.features.selectionHasExtend=x;var k="number"==typeof T.rangeCount;e.features.selectionHasRangeCount=k;var R=!1,P=!0;g.areHostMethods(T,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof T.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");e.frameBorder=0,e.style.position="absolute",e.style.left="-10000px",O.appendChild(e);var t=m.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var n=m.getIframeWindow(e).getSelection(),i=t.documentElement.lastChild.firstChild;t=t.createRange(),t.setStart(i,1),t.collapse(!0),n.addRange(t),P=1==n.rangeCount,n.removeAllRanges();var o=t.cloneRange();t.setStart(i,0),o.setEnd(i,2),n.addRange(t),n.addRange(o),R=2==n.rangeCount,t.detach(),o.detach(),O.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=R,e.features.collapsedNonEditableSelectionsSupported=P;var A=!1,N;O&&g.isHostMethod(O,"createControlRange")&&(N=O.createControlRange(),g.areHostProperties(N,["item","add"])&&(A=!0)),e.features.implementsControlRange=A,E=D?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var M;if(g.isHostMethod(T,"getRangeAt")?M=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:D&&(M=function(t){var n=m.getDocument(t.anchorNode);return n=e.createRange(n),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(t.focusNode,t.focusOffset),n.setEnd(t.anchorNode,t.anchorOffset)),n}),e.getSelection=function(e){e=e||window;var t=e._rangySelection,n=_(e),o=C?i(e):null;return t?(t.nativeSelection=n,t.docSelection=o,t.refresh(e)):(t=new d(n,o,e),e._rangySelection=t),t},e.getIframeSelection=function(t){return e.getSelection(m.getIframeWindow(t))},N=d.prototype,!S&&D&&g.areHostMethods(T,["removeAllRanges","addRange"])){N.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),r(this)};var L=function(t,n){var i=v.getRangeDocument(n);i=e.createRange(i),i.collapseToPoint(n.endContainer,n.endOffset),t.nativeSelection.addRange(s(i)),t.nativeSelection.extend(n.startContainer,n.startOffset),t.refresh()};N.addRange=k?function(t,n){if(A&&C&&"Control"==this.docSelection.type)u(this,t);else if(n&&x)L(this,t);else{var i;R?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(s(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1?(e.config.checkSelectionRanges&&(i=M(this.nativeSelection,this.rangeCount-1))&&!v.rangesEqual(i,t)&&(t=new b(i)),this._ranges[this.rangeCount-1]=t,o(this,t,F(this.nativeSelection)),this.isCollapsed=E(this)):this.refresh()}}:function(e,t){t&&x?L(this,e):(this.nativeSelection.addRange(s(e)),this.refresh())},N.setRanges=function(e){if(A&&e.length>1)h(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(g.isHostMethod(T,"empty")&&g.isHostMethod(I,"select")&&A&&S))return t.fail("No means of selecting a Range or TextRange was found"),!1;N.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=m.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=m.getDocument(t.item(0)).body.createTextRange())}e&&(e.body.createTextRange().select(),this.docSelection.empty())}}catch(e){}r(this)},N.addRange=function(e){"Control"==this.docSelection.type?u(this,e):(b.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,e,!1))},N.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?h(this,e):t&&this.addRange(e[0])}}N.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new w("INDEX_SIZE_ERR");return this._ranges[e]};var B;if(S)B=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=m.getBody(t.win.document).createTextRange(),n.collapse(!0)),"Control"==t.docSelection.type?c(t):n&&"undefined"!=typeof n.text?l(t,n):r(t)};else if(g.isHostMethod(T,"getRangeAt")&&"number"==typeof T.rangeCount)B=function(t){
if(A&&C&&"Control"==t.docSelection.type)c(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;n<i;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));o(t,t._ranges[t.rangeCount-1],F(t.nativeSelection)),t.isCollapsed=E(t)}else r(t)};else{if(!D||"boolean"!=typeof T.isCollapsed||"boolean"!=typeof I.collapsed||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;B=function(e){var t;t=e.nativeSelection,t.anchorNode?(t=M(t,0),e._ranges=[t],e.rangeCount=1,t=e.nativeSelection,e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset,e.isCollapsed=E(e)):r(e)}}N.refresh=function(e){var t=e?this._ranges.slice(0):null;if(B(this),e){if(e=t.length,e!=this._ranges.length)return!1;for(;e--;)if(!v.rangesEqual(t[e],this._ranges[e]))return!1;return!0}};var K=function(e,t){var n=e.getAllRanges(),i=!1;e.removeAllRanges();for(var o=0,s=n.length;o<s;++o)i||t!==n[o]?e.addRange(n[o]):i=!0;e.rangeCount||r(e)};N.removeRange=A?function(e){if("Control"==this.docSelection.type){var t=this.docSelection.createRange();e=a(e);var n=m.getDocument(t.item(0));n=m.getBody(n).createControlRange();for(var i,o=!1,r=0,s=t.length;r<s;++r)i=t.item(r),i!==e||o?n.add(t.item(r)):o=!0;n.select(),c(this)}else K(this,e)}:function(e){K(this,e)};var F;!S&&D&&e.features.implementsDomRange?(F=function(e){var t=!1;return e.anchorNode&&(t=1==m.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},N.isBackwards=function(){return F(this)}):F=N.isBackwards=function(){return!1},N.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},N.collapse=function(t,n){p(this,t);var i=e.createRange(m.getDocument(t));i.collapseToPoint(t,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},N.collapseToStart=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},N.collapseToEnd=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},N.selectAllChildren=function(t){p(this,t);var n=e.createRange(m.getDocument(t));n.selectNodeContents(t),this.removeAllRanges(),this.addRange(n)},N.deleteFromDocument=function(){if(A&&C&&"Control"==this.docSelection.type){for(var e=this.docSelection.createRange(),t;e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){e=this.getAllRanges(),this.removeAllRanges(),t=0;for(var n=e.length;t<n;++t)e[t].deleteContents();this.addRange(e[n-1])}},N.getAllRanges=function(){return this._ranges.slice(0)},N.setSingleRange=function(e){this.setRanges([e])},N.containsNode=function(e,t){for(var n=0,i=this._ranges.length;n<i;++n)if(this._ranges[n].containsNode(e,t))return!0;return!1},N.toHtml=function(){var e="";if(this.rangeCount){e=v.getRangeDocument(this._ranges[0]).createElement("div");for(var t=0,n=this._ranges.length;t<n;++t)e.appendChild(this._ranges[t].cloneContents());e=e.innerHTML}return e},N.getName=function(){return"WrappedSelection"},N.inspect=function(){return f(this)},N.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null},d.inspect=f,e.Selection=d,e.selectionPrototype=N,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})}),e.exports=rangy}).call(t,n(22))},function(e,t,n){var i=n(205);CKEDITOR.lang.en={wsc:{btnIgnore:"Ignore",btnIgnoreAll:"Ignore All",btnReplace:"Replace",btnReplaceAll:"Replace All",btnUndo:"Undo",changeTo:"Change to",errorLoading:"Error loading application service host: %s.",ieSpellDownload:"Spell checker not installed. Do you want to download it now?",manyChanges:"Spell check complete: %1 words changed",noChanges:"Spell check complete: No words changed",noMispell:"Spell check complete: No misspellings found",noSuggestions:"- No suggestions -",notAvailable:"Sorry, but service is unavailable now.",notInDic:"Not in dictionary",oneChange:"Spell check complete: One word changed",progress:"Spell check in progress...",title:"Spell Checker",toolbar:"Check Spelling"},undo:{redo:"Redo",undo:"Undo"},toolbar:{toolbarCollapse:"Collapse Toolbar",toolbarExpand:"Expand Toolbar",toolbarGroups:{document:"Document",clipboard:"Clipboard/Undo",editing:"Editing",forms:"Forms",basicstyles:"Basic Styles",paragraph:"Paragraph",links:"Links",insert:"Insert",styles:"Styles",colors:"Colors",tools:"Tools"},toolbars:"Editor toolbars"},table:{border:"Border size",caption:"Caption",cell:{menu:"Cell",insertBefore:"Insert Cell Before",insertAfter:"Insert Cell After",deleteCell:"Delete Cells",merge:"Merge Cells",mergeRight:"Merge Right",mergeDown:"Merge Down",splitHorizontal:"Split Cell Horizontally",splitVertical:"Split Cell Vertically",title:"Cell Properties",cellType:"Cell Type",rowSpan:"Rows Span",colSpan:"Columns Span",wordWrap:"Word Wrap",hAlign:"Horizontal Alignment",vAlign:"Vertical Alignment",alignBaseline:"Baseline",bgColor:"Background Color",borderColor:"Border Color",data:"Data",header:"Header",yes:"Yes",no:"No",invalidWidth:"Cell width must be a number.",invalidHeight:"Cell height must be a number.",invalidRowSpan:"Rows span must be a whole number.",invalidColSpan:"Columns span must be a whole number.",chooseColor:"Choose"},cellPad:"Cell padding",cellSpace:"Cell spacing",column:{menu:"Column",insertBefore:"Insert Column Before",insertAfter:"Insert Column After",deleteColumn:"Delete Columns"},columns:"Columns",deleteTable:"Delete Table",headers:"Headers",headersBoth:"Both",headersColumn:"First column",headersNone:"None",headersRow:"First Row",invalidBorder:"Border size must be a number.",invalidCellPadding:"Cell padding must be a positive number.",invalidCellSpacing:"Cell spacing must be a positive number.",invalidCols:"Number of columns must be a number greater than 0.",invalidHeight:"Table height must be a number.",invalidRows:"Number of rows must be a number greater than 0.",invalidWidth:"Table width must be a number.",menu:"Table Properties",row:{menu:"Row",insertBefore:"Insert Row Before",insertAfter:"Insert Row After",deleteRow:"Delete Rows"},rows:"Rows",summary:"Summary",title:"Table Properties",toolbar:"Table",widthPc:"percent",widthPx:"pixels",widthUnit:"width unit"},stylescombo:{label:"Styles",panelTitle:"Formatting Styles",panelTitle1:"Block Styles",panelTitle2:"Inline Styles",panelTitle3:"Object Styles"},specialchar:{options:"Special Character Options",title:"Select Special Character",toolbar:"Insert Special Character"},sourcearea:{toolbar:"Source"},scayt:{btn_about:"About SCAYT",btn_dictionaries:"Dictionaries",btn_disable:"Disable SCAYT",btn_enable:"Enable SCAYT",btn_langs:"Languages",btn_options:"Options",text_title:"Spell Check As You Type"},removeformat:{toolbar:"Remove Format"},pastetext:{button:"Paste as plain text",title:"Paste as Plain Text"},pastefromword:{confirmCleanup:"The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?",error:"It was not possible to clean up the pasted data due to an internal error",title:"Paste from Word",toolbar:"Paste from Word"},maximize:{maximize:"Maximize",minimize:"Minimize"},magicline:{title:"Insert paragraph here"},list:{bulletedlist:"Insert/Remove Bulleted List",numberedlist:"Insert/Remove Numbered List"},link:{acccessKey:"Access Key",advanced:"Advanced",advisoryContentType:"Advisory Content Type",advisoryTitle:"Advisory Title",anchor:{toolbar:"Anchor",menu:"Edit Anchor",title:"Anchor Properties",name:"Anchor Name",errorName:"Please type the anchor name",remove:"Remove Anchor"},anchorId:"By Element Id",anchorName:"By Anchor Name",charset:"Linked Resource Charset",cssClasses:"Stylesheet Classes",emailAddress:"E-Mail Address",emailBody:"Message Body",emailSubject:"Message Subject",id:"Id",info:"Link Info",langCode:"Language Code",langDir:"Language Direction",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",menu:"Edit Link",name:"Name",noAnchors:"(No anchors available in the document)",noEmail:"Please type the e-mail address",noUrl:"Please type the link URL",other:"<other>",popupDependent:"Dependent (Netscape)",popupFeatures:"Popup Window Features",popupFullScreen:"Full Screen (IE)",popupLeft:"Left Position",popupLocationBar:"Location Bar",popupMenuBar:"Menu Bar",popupResizable:"Resizable",popupScrollBars:"Scroll Bars",popupStatusBar:"Status Bar",popupToolbar:"Toolbar",popupTop:"Top Position",rel:"Relationship",selectAnchor:"Select an Anchor",styles:"Style",tabIndex:"Tab Index",target:"Target",targetFrame:"<frame>",targetFrameName:"Target Frame Name",targetPopup:"<popup window>",targetPopupName:"Popup Window Name",title:"Link",toAnchor:"Link to anchor in the text",toEmail:"E-mail",toUrl:"URL",toolbar:"Link",type:"Link Type",unlink:"Unlink",upload:"Upload"},indent:{indent:"Increase Indent",outdent:"Decrease Indent"},image:{alertUrl:"Please type the image URL",alt:"Alternative Text",border:"Border",btnUpload:"Send it to the Server",button2Img:"Do you want to transform the selected image button on a simple image?",hSpace:"HSpace",img2Button:"Do you want to transform the selected image on a image button?",infoTab:"Image Info",linkTab:"Link",lockRatio:"Lock Ratio",menu:"Image Properties",resetSize:"Reset Size",title:"Image Properties",titleButton:"Image Button Properties",upload:"Upload",urlMissing:"Image source URL is missing.",vSpace:"VSpace",validateBorder:"Border must be a whole number.",validateHSpace:"HSpace must be a whole number.",validateVSpace:"VSpace must be a whole number."},horizontalrule:{toolbar:"Insert Horizontal Line"},format:{label:"Format",panelTitle:"Paragraph Format",tag_address:"Address",tag_div:"Normal (DIV)",tag_h1:"Heading 1",tag_h2:"Heading 2",tag_h3:"Heading 3",tag_h4:"Heading 4",tag_h5:"Heading 5",tag_h6:"Heading 6",tag_p:"Normal",tag_pre:"Formatted"},fakeobjects:{anchor:"Anchor",flash:"Flash Animation",hiddenfield:"Hidden Field",iframe:"IFrame",unknown:"Unknown Object"},elementspath:{eleLabel:"Elements path",eleTitle:"%1 element"},contextmenu:{options:"Context Menu Options"},clipboard:{copy:"Copy",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",cut:"Cut",cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",paste:"Paste",pasteArea:"Paste Area",pasteMsg:"Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK",securityMsg:"Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.",title:"Paste"},button:{selectedLabel:"%1 (Selected)"},blockquote:{toolbar:"Block Quote"},basicstyles:{bold:"Bold",italic:"Italic",strike:"Strikethrough",subscript:"Subscript",superscript:"Superscript",underline:"Underline"},about:{copy:"Copyright &copy; $1. All rights reserved.",dlgTitle:"About CKEditor",help:"Check $1 for help.",moreInfo:"For licensing information please visit our web site:",title:"About CKEditor",userGuide:"CKEditor User's Guide"},editor:"Rich Text Editor",editorPanel:"Rich Text Editor panel",common:{editorHelp:"Press ALT 0 for help",browseServer:"Browse Server",url:"URL",protocol:"Protocol",upload:"Upload",uploadSubmit:"Send it to the Server",image:"Image",flash:"Flash",form:"Form",checkbox:"Checkbox",radio:"Radio Button",textField:"Text Field",textarea:"Textarea",hiddenField:"Hidden Field",button:"Button",select:"Selection Field",imageButton:"Image Button",notSet:"<not set>",id:"Id",name:"Name",langDir:"Language Direction",langDirLtr:"Left to Right (LTR)",langDirRtl:"Right to Left (RTL)",langCode:"Language Code",longDescr:"Long Description URL",cssClass:"Stylesheet Classes",advisoryTitle:"Advisory Title",cssStyle:"Style",ok:"OK",cancel:"Cancel",close:"Close",preview:"Preview",resize:"Resize",generalTab:"General",advancedTab:"Advanced",validateNumberFailed:"This value is not a number.",confirmNewPage:"Any unsaved changes to this content will be lost. Are you sure you want to load new page?",confirmCancel:"You have changed some options. Are you sure you want to close the dialog window?",options:"Options",target:"Target",targetNew:"New Window (_blank)",targetTop:"Topmost Window (_top)",targetSelf:"Same Window (_self)",targetParent:"Parent Window (_parent)",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",styles:"Style",cssClasses:"Stylesheet Classes",width:"Width",height:"Height",align:"Alignment",alignLeft:"Left",alignRight:"Right",alignCenter:"Center",alignJustify:"Justify",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",alignNone:"None",invalidValue:"Invalid value.",invalidHeight:"Height must be a number.",invalidWidth:"Width must be a number.",invalidCssLength:'Value specified for the "%1" field must be a positive number with or without a valid CSS measurement unit (px, %, in, cm, mm, em, ex, pt, or pc).',invalidHtmlLength:'Value specified for the "%1" field must be a positive number with or without a valid HTML measurement unit (px or %).',invalidInlineStyle:'Value specified for the inline style must consist of one or more tuples with the format of "name : value", separated by semi-colons.',cssLengthTooltip:"Enter a number for a value in pixels or a number with a valid CSS unit (px, %, in, cm, mm, em, ex, pt, or pc).",unavailable:'%1<span class="cke_accessibility">, unavailable</span>'}}},function(e,t,n){var i=n(205);CKEDITOR.stylesSet.add("default",[{name:"Italic Title",element:"h2",styles:{"font-style":"italic"}},{name:"Subtitle",element:"h3",styles:{color:"#aaa","font-style":"italic"}},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Marker",element:"span",attributes:{class:"marker"}},{name:"Big",element:"big"},{name:"Small",element:"small"},{name:"Typewriter",element:"tt"},{name:"Computer Code",element:"code"},{name:"Keyboard Phrase",element:"kbd"},{name:"Sample Text",element:"samp"},{name:"Variable",element:"var"},{name:"Deleted Text",element:"del"},{name:"Inserted Text",element:"ins"},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Language: RTL",element:"span",attributes:{dir:"rtl"}},{name:"Language: LTR",element:"span",attributes:{dir:"ltr"}},{name:"Styled image (left)",element:"img",attributes:{class:"left"}},{name:"Styled image (right)",element:"img",attributes:{class:"right"}},{name:"Compact table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}}])},function(e,t,n){var i=n(1);!function(e){e.fn.touchit=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on touchit"):t.init.apply(this,arguments)};var t={init:function(t){return this.data("touchit",e.extend({doubleTapTimeout:500,doubleTapWaiting:!1,preTouchStart:!1,onTouchStart:function(e,t){},onTouchMove:function(e,t){},onTouchEnd:function(e,t){},onDoubleTap:function(e,t){},onPinch:function(e){}},t)),this.each(function(){function t(e){var t="ongesturestart"in e;t&&(e.addEventListener("gesturechange",n,!1),e.addEventListener("gestureend",i,!1));var r="ontouchstart"in e;r&&(e.addEventListener("touchstart",o,!1),e.addEventListener("touchmove",o,!0),e.addEventListener("touchend",o,!0),e.addEventListener("touchcancel",o,!0))}function n(t){var n=e(this);r=!0,n.data("touchit").onPinch.call(this,t.scale),n.data("touchit").preTouchStart=!0,t.preventDefault()}function i(e){r=!1,e.preventDefault()}function o(t){if(1!=r){var n=e(this),i=t.changedTouches,o=i[0],s="";switch(t.type){case"touchstart":s="mousedown",n.data("touchit").onTouchStart.call(this,o.screenX,o.screenY),n.data("touchit").preTouchStart=!0;break;case"touchmove":s="mousemove",n.data("touchit").onTouchMove.call(this,o.screenX,o.screenY),n.data("touchit").preTouchStart=!1,t.preventDefault();break;case"touchend":s="mouseup",n.data("touchit").onTouchEnd.call(this,o.screenX,o.screenY),1==n.data("touchit").doubleTapWaiting&&1==n.data("touchit").preTouchStart?n.data("touchit").onDoubleTap.call(this,o.screenX,o.screenY):(n.data("touchit").doubleTapWaiting=!0,n.data("touchit").onTouchEnd.call(this,o.screenX,o.screenY),window.setTimeout(function(){n.data("touchit").doubleTapWaiting=!1},n.data("touchit").doubleTapTimeout)),n.data("touchit").preTouchStart=!1;break;default:return}var a=document.createEvent("MouseEvent");a.initMouseEvent(s,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(a)}}t(this);var r=!1})},destroy:function(){return this.each(function(){var t=e(this),n=t.data("touchit");n&&t.removeData("touchit")})}}}(i)},function(e,t){e.exports=[{value:"America/Los_Angeles",name:"json.timezones.AmericaLosAngeles"},{value:"Pacific/Midway",name:"json.timezones.PacificMidway"},{value:"Pacific/Samoa",name:"json.timezones.PacificSamoa"},{value:"Pacific/Honolulu",name:"json.timezones.PacificHonolulu"},{value:"US/Alaska",name:"json.timezones.USAlaska"},{value:"America/Tijuana",name:"json.timezones.AmericaTijuana"},{value:"US/Arizona",name:"json.timezones.USArizona"},{value:"America/Chihuahua",name:"json.timezones.AmericaChihuahua"},{value:"America/Mazatlan",name:"json.timezones.AmericaMazatlan"},{value:"US/Mountain",name:"json.timezones.USMountain"},{value:"America/Managua",name:"json.timezones.AmericaManagua"},{value:"US/Central",name:"json.timezones.USCentral"},{value:"America/Mexico_City",name:"json.timezones.AmericaMexicoCity"},{value:"America/Monterrey",name:"json.timezones.AmericaMonterrey"},{value:"Canada/Saskatchewan",name:"json.timezones.CanadaSaskatchewan"},{value:"America/Bogota",name:"json.timezones.AmericaBogota"},{value:"US/Eastern",name:"json.timezones.USEastern"},{value:"US/East-Indiana",name:"json.timezones.USEastIndiana"},{value:"America/Lima",name:"json.timezones.AmericaLima"},{value:"America/Bogota",name:"json.timezones.AmericaBogota"},{value:"Canada/Atlantic",name:"json.timezones.CanadaAtlantic"},{value:"America/Caracas",name:"json.timezones.AmericaCaracas"},{value:"America/La_Paz",name:"json.timezones.AmericaLaPaz"},{value:"America/Santiago",name:"json.timezones.AmericaSantiago"},{value:"Canada/Newfoundland",name:"json.timezones.CanadaNewfoundland"},{value:"America/Sao_Paulo",name:"json.timezones.AmericaSaoPaulo"},{value:"America/Argentina/Buenos_Aires",name:"json.timezones.AmericaArgentinaBuenosAires"},{value:"America/Godthab",name:"json.timezones.AmericaGodthab"},{value:"America/Noronha",name:"json.timezones.AmericaNoronha"},{value:"Atlantic/Azores",name:"json.timezones.AtlanticAzores"},{value:"Atlantic/Cape_Verde",name:"json.timezones.AtlanticCapeVerde"},{value:"Africa/Casablanca",name:"json.timezones.AfricaCasablanca"},{value:"Etc/Greenwich",name:"json.timezones.EtcGreenwich"},{value:"Europe/Lisbon",name:"json.timezones.EuropeLisbon"},{value:"Europe/London",name:"json.timezones.EuropeLondon"},{value:"Africa/Monrovia",name:"json.timezones.AfricaMonrovia"},{value:"UTC",name:"json.timezones.UTC"},{value:"Europe/Amsterdam",name:"json.timezones.EuropeAmsterdam"},{value:"Europe/Belgrade",name:"json.timezones.EuropeBelgrade"},{value:"Europe/Berlin",name:"json.timezones.EuropeBerlin"},{value:"Europe/Bratislava",name:"json.timezones.EuropeBratislava"},{value:"Europe/Brussels",name:"json.timezones.EuropeBrussels"},{value:"Europe/Budapest",name:"json.timezones.EuropeBudapest"},{value:"Europe/Copenhagen",name:"json.timezones.EuropeCopenhagen"},{value:"Europe/Ljubljana",name:"json.timezones.EuropeLjubljana"},{value:"Europe/Madrid",name:"json.timezones.EuropeMadrid"},{value:"Europe/Paris",name:"json.timezones.EuropeParis"},{value:"Europe/Prague",name:"json.timezones.EuropePrague"},{value:"Europe/Rome",name:"json.timezones.EuropeRome"},{value:"Europe/Sarajevo",name:"json.timezones.EuropeSarajevo"},{value:"Europe/Skopje",name:"json.timezones.EuropeSkopje"},{value:"Europe/Stockholm",name:"json.timezones.EuropeStockholm"},{value:"Europe/Vienna",name:"json.timezones.EuropeVienna"},{value:"Europe/Warsaw",name:"json.timezones.EuropeWarsaw"},{value:"Africa/Lagos",name:"json.timezones.AfricaLagos"},{value:"Europe/Zagreb",name:"json.timezones.EuropeZagreb"},{value:"Europe/Athens",name:"json.timezones.EuropeAthens"},{value:"Europe/Bucharest",name:"json.timezones.EuropeBucharest"},{value:"Africa/Cairo",name:"json.timezones.AfricaCairo"},{value:"Africa/Harare",name:"json.timezones.AfricaHarare"},{value:"Europe/Helsinki",name:"json.timezones.EuropeHelsinki"},{value:"Europe/Istanbul",name:"json.timezones.EuropeIstanbul"},{value:"Asia/Jerusalem",name:"json.timezones.AsiaJerusalem"},{value:"Africa/Johannesburg",name:"json.timezones.AfricaJohannesburg"},{value:"Europe/Riga",name:"json.timezones.EuropeRiga"},{value:"Europe/Sofia",name:"json.timezones.EuropeSofia"},{value:"Europe/Tallinn",name:"json.timezones.EuropeTallinn"},{value:"Europe/Vilnius",name:"json.timezones.EuropeVilnius"},{value:"Asia/Baghdad",name:"json.timezones.AsiaBaghdad"},{value:"Asia/Kuwait",name:"json.timezones.AsiaKuwait"},{value:"Europe/Minsk",name:"json.timezones.EuropeMinsk"},{value:"Africa/Nairobi",name:"json.timezones.AfricaNairobi"},{value:"Asia/Riyadh",name:"json.timezones.AsiaRiyadh"},{value:"Europe/Volgograd",name:"json.timezones.EuropeVolgograd"},{value:"Asia/Tehran",name:"json.timezones.AsiaTehran"},{value:"Asia/Baku",name:"json.timezones.AsiaBaku"},{value:"Europe/Moscow",name:"json.timezones.EuropeMoscow"},{value:"Asia/Muscat",name:"json.timezones.AsiaMuscat"},{value:"Asia/Tbilisi",name:"json.timezones.AsiaTbilisi"},{value:"Asia/Yerevan",name:"json.timezones.AsiaYerevan"},{value:"Asia/Kabul",name:"json.timezones.AsiaKabul"},{value:"Asia/Karachi",name:"json.timezones.AsiaKarachi"},{value:"Asia/Tashkent",name:"json.timezones.AsiaTashkent"},{value:"Asia/Calcutta",name:"json.timezones.AsiaCalcutta"},{value:"Asia/Kolkata",name:"json.timezones.AsiaKolkata"},{value:"Asia/Katmandu",name:"json.timezones.AsiaKatmandu"},{value:"Asia/Almaty",name:"json.timezones.AsiaAlmaty"},{value:"Asia/Dhaka",name:"json.timezones.AsiaDhaka"},{value:"Asia/Yekaterinburg",name:"json.timezones.AsiaYekaterinburg"},{value:"Asia/Rangoon",name:"json.timezones.AsiaRangoon"},{value:"Asia/Bangkok",name:"json.timezones.AsiaBangkok"},{value:"Asia/Jakarta",name:"json.timezones.AsiaJakarta"},{value:"Asia/Novosibirsk",name:"json.timezones.AsiaNovosibirsk"},{value:"Asia/Chongqing",name:"json.timezones.AsiaChongqing"},{value:"Asia/Hong_Kong",name:"json.timezones.AsiaHongKong"},{value:"Asia/Krasnoyarsk",name:"json.timezones.AsiaKrasnoyarsk"},{value:"Asia/Kuala_Lumpur",name:"json.timezones.AsiaKualaLumpur"},{value:"Australia/Perth",name:"json.timezones.AustraliaPerth"},{value:"Asia/Singapore",name:"json.timezones.AsiaSingapore"},{value:"Asia/Taipei",name:"json.timezones.AsiaTaipei"},{value:"Asia/Ulan_Bator",name:"json.timezones.AsiaUlanBator"},{value:"Asia/Urumqi",name:"json.timezones.AsiaUrumqi"},{value:"Asia/Irkutsk",name:"json.timezones.AsiaIrkutsk"},{value:"Asia/Seoul",name:"json.timezones.AsiaSeoul"},{value:"Asia/Tokyo",name:"json.timezones.AsiaTokyo"},{value:"Australia/Adelaide",name:"json.timezones.AustraliaAdelaide"},{value:"Australia/Darwin",name:"json.timezones.AustraliaDarwin"},{value:"Australia/Brisbane",name:"json.timezones.AustraliaBrisbane"},{value:"Australia/Canberra",name:"json.timezones.AustraliaCanberra"},{value:"Pacific/Guam",name:"json.timezones.PacificGuam"},{value:"Australia/Hobart",name:"json.timezones.AustraliaHobart"},{value:"Australia/Melbourne",name:"json.timezones.AustraliaMelbourne"},{value:"Pacific/Port_Moresby",name:"json.timezones.PacificPortMoresby"},{value:"Australia/Sydney",name:"json.timezones.AustraliaSydney"},{value:"Asia/Yakutsk",name:"json.timezones.AsiaYakutsk"},{value:"Asia/Vladivostok",name:"json.timezones.AsiaVladivostok"},{value:"Pacific/Auckland",name:"json.timezones.PacificAuckland"},{value:"Pacific/Fiji",name:"json.timezones.PacificFiji"},{value:"Pacific/Kwajalein",name:"json.timezones.PacificKwajalein"},{value:"Asia/Kamchatka",name:"json.timezones.AsiaKamchatka"},{value:"Asia/Magadan",name:"json.timezones.AsiaMagadan"},{value:"Pacific/Fiji",name:"json.timezones.PacificFiji"},{value:"Pacific/Tongatapu",name:"json.timezones.PacificTongatapu"}]},,function(e,t){e.exports='<input class="w-upload-input" type="file" name="files[]" {{#multiple}}multiple{{/multiple}} {{#accept}}accept="{{accept}}"{{/accept}} />\n'},,function(e,t,n){var i,o;!function(r){"use strict";i=r,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=v({},t),e[B]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in n)!(i in t)&&(t[i]=n[i]);q(t);for(var r in this)"_"===r.charAt(0)&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&j,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),U.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){_&&_.state!==e&&(a(_,"display",e?"none":""),!e&&_.state&&E.insertBefore(_,b),_.state=e)}function n(e,t,n){if(e){n=n||F,t=t.split(".");var i=t.shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do if(">*"===i&&e.parentNode===n||(""===i||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(o)||[]).length==t.length))return e;while(e!==n&&(e=e.parentNode))}return null}function i(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}function s(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(L," ")}}function a(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return F.defaultView&&F.defaultView.getComputedStyle?n=F.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function l(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function c(e,t,n,i,o,r,s){var a=F.createEvent("Event"),l=(e||t[B]).options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);a.initEvent(n,!0,!0),a.to=t,a.from=o||t,a.item=i||t,a.clone=_,a.oldIndex=r,a.newIndex=s,t.dispatchEvent(a),l[c]&&l[c].call(e,a)}function u(e,t,n,i,o,r){var s,a=e[B],l=a.options.onMove,c;return s=F.createEvent("Event"),s.initEvent("move",!0,!0),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=o||t,s.relatedRect=r||t.getBoundingClientRect(),e.dispatchEvent(s),l&&(c=l.call(a,s)),c}function d(e){e.draggable=!1}function h(){$=!1}function p(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&n}function f(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function m(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function g(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function v(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var b,w,y,_,E,T,C,S,I,O,D,x,k,R,P={},A,N,M,L=/\s+/g,B="Sortable"+(new Date).getTime(),K=window,F=K.document,H=K.parseInt,j=!!("draggable"in F.createElement("div")),W=function(e){return e=F.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),$=!1,z=Math.abs,V=[].slice,U=[],G=g(function(e,t,n){if(n&&t.scroll){var i,o,r=t.scrollSensitivity,s=t.scrollSpeed,a=e.clientX,l=e.clientY,c=window.innerWidth,u=window.innerHeight,d,h;if(S!==n&&(C=t.scroll,S=n,C===!0)){C=n;do if(C.offsetWidth<C.scrollWidth||C.offsetHeight<C.scrollHeight)break;while(C=C.parentNode)}C&&(i=C,o=C.getBoundingClientRect(),d=(z(o.right-a)<=r)-(z(o.left-a)<=r),h=(z(o.bottom-l)<=r)-(z(o.top-l)<=r)),d||h||(d=(c-a<=r)-(a<=r),h=(u-l<=r)-(l<=r),(d||h)&&(i=K)),P.vx===d&&P.vy===h&&P.el===i||(P.el=i,P.vx=d,P.vy=h,clearInterval(P.pid),i&&(P.pid=setInterval(function(){i===K?K.scrollTo(K.pageXOffset+d*s,K.pageYOffset+h*s):(h&&(i.scrollTop+=h*s),d&&(i.scrollLeft+=d*s))},24)))}},30),q=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,i=this.el,o=this.options,r=e.type,s=e.touches&&e.touches[0],a=(s||e).target,l=a,u=o.filter;if(!("mousedown"===r&&0!==e.button||o.disabled)&&(a=n(a,o.draggable,i))){if(x=m(a),"function"==typeof u){if(u.call(this,e,a,this))return c(t,l,"filter",a,i,x),void e.preventDefault()}else if(u&&(u=u.split(",").some(function(e){if(e=n(l,e.trim(),i))return c(t,e,"filter",a,i,x),!0})))return void e.preventDefault();o.handle&&!n(l,o.handle,i)||this._prepareDragStart(e,s,a)}},_prepareDragStart:function(e,t,n){var i=this,r=i.el,a=i.options,c=r.ownerDocument,u;n&&!b&&n.parentNode===r&&(A=e,E=r,b=n,w=b.parentNode,T=b.nextSibling,R=a.group,u=function(){i._disableDelayedDrag(),b.draggable=!0,s(b,i.options.chosenClass,!0),i._triggerDragStart(t)},a.ignore.split(",").forEach(function(e){l(b,e.trim(),d)}),o(c,"mouseup",i._onDrop),o(c,"touchend",i._onDrop),o(c,"touchcancel",i._onDrop),a.delay?(o(c,"mouseup",i._disableDelayedDrag),o(c,"touchend",i._disableDelayedDrag),o(c,"touchcancel",i._disableDelayedDrag),o(c,"mousemove",i._disableDelayedDrag),o(c,"touchmove",i._disableDelayedDrag),i._dragStartTimer=setTimeout(u,a.delay)):u())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),r(e,"mouseup",this._disableDelayedDrag),r(e,"touchend",this._disableDelayedDrag),r(e,"touchcancel",this._disableDelayedDrag),r(e,"mousemove",this._disableDelayedDrag),r(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(A={target:b,clientX:e.clientX,clientY:e.clientY},this._onDragStart(A,"touch")):this.nativeDraggable?(o(b,"dragend",this),o(E,"dragstart",this._onDragStart)):this._onDragStart(A,!0);try{F.selection?F.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){E&&b&&(s(b,this.options.ghostClass,!0),e.active=this,c(this,E,"start",b,E,x))},_emulateDragOver:function(){if(N){if(this._lastX===N.clientX&&this._lastY===N.clientY)return;this._lastX=N.clientX,this._lastY=N.clientY,W||a(y,"display","none");var e=F.elementFromPoint(N.clientX,N.clientY),t=e,n=" "+this.options.group.name,i=U.length;if(t)do{if(t[B]&&t[B].options.groups.indexOf(n)>-1){for(;i--;)U[i]({clientX:N.clientX,clientY:N.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);W||a(y,"display","")}},_onTouchMove:function(t){if(A){e.active||this._dragStarted(),this._appendGhost();var n=t.touches?t.touches[0]:t,i=n.clientX-A.clientX,o=n.clientY-A.clientY,r=t.touches?"translate3d("+i+"px,"+o+"px,0)":"translate("+i+"px,"+o+"px)";
M=!0,N=n,a(y,"webkitTransform",r),a(y,"mozTransform",r),a(y,"msTransform",r),a(y,"transform",r),t.preventDefault()}},_appendGhost:function(){if(!y){var e=b.getBoundingClientRect(),t=a(b),n=this.options,i;y=b.cloneNode(!0),s(y,n.ghostClass,!1),s(y,n.fallbackClass,!0),a(y,"top",e.top-H(t.marginTop,10)),a(y,"left",e.left-H(t.marginLeft,10)),a(y,"width",e.width),a(y,"height",e.height),a(y,"opacity","0.8"),a(y,"position","fixed"),a(y,"zIndex","100000"),a(y,"pointerEvents","none"),n.fallbackOnBody&&F.body.appendChild(y)||E.appendChild(y),i=y.getBoundingClientRect(),a(y,"width",2*e.width-i.width),a(y,"height",2*e.height-i.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==R.pull&&(_=b.cloneNode(!0),a(_,"display","none"),E.insertBefore(_,b)),t?("touch"===t?(o(F,"touchmove",this._onTouchMove),o(F,"touchend",this._onDrop),o(F,"touchcancel",this._onDrop)):(o(F,"mousemove",this._onTouchMove),o(F,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,b)),o(F,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var i=this.el,o,r,s,l=this.options,c=l.group,d=c.put,f=R===c,m=l.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),M=!0,R&&!l.disabled&&(f?m||(s=!E.contains(b)):R.pull&&d&&(R.name===c.name||d.indexOf&&~d.indexOf(R.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(G(e,l,this.el),$)return;if(o=n(e.target,l.draggable,i),r=b.getBoundingClientRect(),s)return t(!0),void(_||T?E.insertBefore(b,_||T):m||E.appendChild(b));if(0===i.children.length||i.children[0]===y||i===e.target&&(o=p(i,e))){if(o){if(o.animated)return;g=o.getBoundingClientRect()}t(f),u(E,i,b,r,o,g)!==!1&&(b.contains(i)||(i.appendChild(b),w=i),this._animate(r,b),o&&this._animate(g,o))}else if(o&&!o.animated&&o!==b&&void 0!==o.parentNode[B]){I!==o&&(I=o,O=a(o),D=a(o.parentNode));var g=o.getBoundingClientRect(),v=g.right-g.left,C=g.bottom-g.top,S=/left|right|inline/.test(O.cssFloat+O.display)||"flex"==D.display&&0===D["flex-direction"].indexOf("row"),x=o.offsetWidth>b.offsetWidth,k=o.offsetHeight>b.offsetHeight,P=(S?(e.clientX-g.left)/v:(e.clientY-g.top)/C)>.5,A=o.nextElementSibling,N=u(E,i,b,r,o,g),L;if(N!==!1){if($=!0,setTimeout(h,30),t(f),1===N||N===-1)L=1===N;else if(S){var K=b.offsetTop,F=o.offsetTop;L=K===F?o.previousElementSibling===b&&!x||P&&x:F>K}else L=A!==b&&!k||P&&k;b.contains(i)||(L&&!A?i.appendChild(b):o.parentNode.insertBefore(b,L?A:o)),w=b.parentNode,this._animate(r,b),this._animate(g,o)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();a(t,"transition","none"),a(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,a(t,"transition","all "+n+"ms"),a(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){a(t,"transition",""),a(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;r(F,"touchmove",this._onTouchMove),r(e,"mouseup",this._onDrop),r(e,"touchend",this._onDrop),r(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(P.pid),clearTimeout(this._dragStartTimer),r(F,"mousemove",this._onTouchMove),this.nativeDraggable&&(r(F,"drop",this),r(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(M&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),y&&y.parentNode.removeChild(y),b&&(this.nativeDraggable&&r(b,"dragend",this),d(b),s(b,this.options.ghostClass,!1),s(b,this.options.chosenClass,!1),E!==w?(k=m(b),k>=0&&(c(null,w,"sort",b,E,x,k),c(this,E,"sort",b,E,x,k),c(null,w,"add",b,E,x,k),c(this,E,"remove",b,E,x,k))):(_&&_.parentNode.removeChild(_),b.nextSibling!==T&&(k=m(b),k>=0&&(c(this,E,"update",b,E,x,k),c(this,E,"sort",b,E,x,k)))),e.active&&(null!==k&&k!==-1||(k=x),c(this,E,"end",b,E,x,k),this.save())),E=b=w=y=T=_=C=S=A=N=M=k=I=O=R=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?b&&(this._onDragOver(e),i(e)):"drop"!==t&&"dragend"!==t||this._onDrop(e)},toArray:function(){for(var e=[],t,i=this.el.children,o=0,r=i.length,s=this.options;o<r;o++)t=i[o],n(t,s.draggable,this.el)&&e.push(t.getAttribute(s.dataIdAttr)||f(t));return e},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,o){var r=i.children[o];n(r,this.options.draggable,i)&&(t[e]=r)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&q(n)))},destroy:function(){var e=this.el;e[B]=null,r(e,"mousedown",this._onTapStart),r(e,"touchstart",this._onTapStart),this.nativeDraggable&&(r(e,"dragover",this),r(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),U.splice(U.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:o,off:r,css:a,find:l,is:function(e,t){return!!n(e,t,e)},extend:v,throttle:g,closest:n,toggleClass:s,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e})},function(e,t,n){var i,o;(function(r){!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;if(0)if("undefined"!=typeof t){var l=require("underscore");t=s(a,l)}else a._W=a._W||{},a._W.Sender=s(a,a._);else i=[n(2)],o=function(e){return s(a,e)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(function(e,t){var i={GALib:"//www.google-analytics.com/analytics.js",SPProdLib:"//cdn2.editmysite.com/js/wsnbn/snowday261.js",SPDevLib:"//d1fc8wv8zag5ca.cloudfront.net/2.6.1/sp.js",SPProdEndpoint:"ec.weebly.com",SPDevEndpoint:"52.24.132.34:8080",GATrackerName:"_w",SPTrackerName:"_w"},o=function(e){t.extend(this,i,{GAID:null,SPID:null,uidFn:function(){return null},contextFn:function(){return null},updateUIDForAction:function(){},cookieDomain:document.location.hostname,GAColumnMapping:{},dontRecord:!1},e),this.gaCommerceLoaded=!1,this.HasUID=!1,this.lastPageView=null,this.trackers={GA:"ga",SP:"_wsp"},this.initialize()};return t.extend(o.prototype,{trackEvent:function(t,n,i,o){o=o||{};var r=o.contexts||{};o.model&&(r.context_changeset=this.modelChangelog(o.model)),r=this.buildContext(r),this.updateUIDForAction(n),this.identify(),this.dontRecord||(this.trackers.GA&&e[this.trackers.GA](this.GATrackerName+".send","event",t,n,i,r.GA),this.trackers.SP&&e[this.trackers.SP]("trackStructEvent:"+this.SPTrackerName,t,n,i,o&&"property"in o?o.property:null,o&&"value"in o?o.value:null,r.SP))},pageView:function(t,n,i){this.identify(),i=this.buildContext(i),n=n||document.title;var o=t||e.location.pathname+e.location.hash;this.lastPageView!==o&&(this.dontRecord||(this.trackers.GA&&(t&&(i.GA.page=t),e[this.trackers.GA](this.GATrackerName+".send","pageview",i.GA)),this.trackers.SP&&(t&&e[this.trackers.SP]("setCustomUrl:"+this.SPTrackerName,t),e[this.trackers.SP]("trackPageView:"+this.SPTrackerName,n,i.SP)),this.lastPageView=o))},trackPurchase:function(n,i){!this.gaCommerceLoaded&&this.trackers.GA&&(e[this.trackers.GA](this.GATrackerName+".require","ec"),this.gaCommerceLoaded=!0),this.identify();var o=this.buildContext();this.dontRecord||(this.trackers.GA&&(e[this.trackers.GA](this.GATrackerName+".set","&cu",n.currency),t.each(i,function(t){e[this.trackers.GA](this.GATrackerName+".ec:addProduct",{id:t.id,name:t.name,price:t.price,quantity:t.quantity||1})},this),e[this.trackers.GA](this.GATrackerName+".ec:setAction","purchase",{id:n.id,revenue:n.total,tax:n.tax}),e[this.trackers.GA](this.GATrackerName+".send","event","billing","purchase")),this.trackers.SP&&(e[this.trackers.SP]("addTrans:"+this.SPTrackerName,n.id,null,n.total,n.shipping||"0.00",n.city||null,n.state||null,n.country,n.currency,o.SP),t.each(i,function(t){e[this.trackers.SP]("addItem:"+this.SPTrackerName,n.id,t.id,t.name,null,t.price,t.quantity||1)},this),e[this.trackers.SP]("trackTrans:"+this.SPTrackerName)))},buildContext:function(e){var n=this.contextFn()||{};t.isObject(e)&&(n=t.extendOwn({},n,e));var i=t.flatten(t.values(n),!0),o={};return t.each(n,function(e,n){t.isObject(e)&&t.each(e.data,function(e,i){i=n+":"+i,t.has(this.GAColumnMapping,i)&&(i=this.GAColumnMapping[i],o[i]=e)},this)},this),{GA:o,SP:i}},initialize:function(){var n=function(e){var t=document.createElement("script");t.async=1,t.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)};if(this.GAID){var i=e.GoogleAnalyticsObject=e.GoogleAnalyticsObject||this.trackers.GA;this.trackers.GA=i,void 0===e[i]&&(e[i]=function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=(new Date).getTime(),n(this.GALib)),e[this.trackers.GA]("create",{trackingId:this.GAID,name:this.GATrackerName,cookieDomain:this.cookieDomain})}else this.trackers.GA=null;if(this.SPID){var o=this.useDebugEndpoint?this.SPDevEndpoint:this.SPProdEndpoint,r=this.useDebugEndpoint?this.SPDevLib:this.SPProdLib;if(t.isFunction(e[this.trackers.SP]))e[this.trackers.SP]("newTracker",this.SPTrackerName,o,{appId:this.SPID,cookieDomain:this.cookieDomain,post:!0,contexts:{webPage:!0,gaCookies:!0}});else{var s=this.trackers.SP;e.GlobalSnowplowNamespace=e.GlobalSnowplowNamespace||[],e.GlobalSnowplowNamespace.push(this.trackers.SP),e[s]=function(){(e[s].q=e[s].q||[]).push(arguments)},e[this.trackers.SP]("newTracker",this.SPTrackerName,o,{appId:this.SPID,cookieDomain:this.cookieDomain,post:!0,contexts:{webPage:!0,gaCookies:!0}}),n(r)}}else this.trackers.SP=null},identify:function(t){this.HasUID&&!t||(t||(t=this.uidFn()),t&&(this.HasUID=!0,this.trackers.GA&&e[this.trackers.GA](this.GATrackerName+".set","&uid",t),this.trackers.SP&&e[this.trackers.SP]("setUserId:"+this.SPTrackerName,t)))},wrapData:function(e,t,n){return{schema:"iglu:com.weebly/"+e+"/jsonschema/"+t,data:n}},modelChangelog:function(e){var n=e.changedAttributes(),i=t.map(n,function(t,n){var i=e.previous(n);return""===t?t=null:("string"==typeof t||t instanceof String)&&(t=t.replace(/\0/g,""),t=t.replace(/\\u0000/g,"")),""===i?i=null:("string"==typeof i||i instanceof String)&&(i=i.replace(/\0/g,""),i=i.replace(/\\u0000/g,"")),t===i?null:this.wrapData("context_changeset","2-0-0",{key:n,to:t,from:i})},this);return i=t.filter(i,t.isObject)}}),o.migrateCooke=function(e){var t=function(e,t,n,i,o,r){return arguments.length>1?document.cookie=e+"="+escape(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString():"")+(i?"; path="+i:"")+(o?"; domain="+o:"")+(r?"; secure":""):unescape((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])},i=n(474),o=i(document.location.host+"/").toString().slice(0,4),r=i(e+"/").toString().slice(0,4),s="_sp_id."+o,a="_sp_id."+r,l="_sp_ses."+o,c="_sp_ses."+r,u=t(s),d=t(a);""!==u&&""===d&&t(a,u,63072e3,"/",e);var h=t(l);""!==h&&""===d&&t(c,h,1800,"/",e)},o})}).call(t,function(){return this}())},function(e,t,n){!function(n,i){e.exports=t=i()}(this,function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},o=i.lib={},r=o.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=o.WordArray=r.extend({init:function(e,n){e=this.words=e||[],n!=t?this.sigBytes=n:this.sigBytes=4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++){var s=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=s<<24-(i+r)%4*8}else for(var r=0;r<o;r+=4)t[i+r>>>2]=n[r>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=function(t){var t=t,n=987654321,i=4294967295;return function(){n=36969*(65535&n)+(n>>16)&i,t=18e3*(65535&t)+(t>>16)&i;var o=(n<<16)+t&i;return o/=4294967296,o+=.5,o*(e.random()>.5?1:-1)}},o=0,r;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=i.enc={},l=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,a=4*r,l=o/a;l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0);var c=l*r,u=e.min(4*c,o);if(c){for(var d=0;d<c;d+=r)this._doProcessBlock(i,d);var h=i.splice(0,c);n.sigBytes-=u}return new s.init(h,u)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=o.Hasher=d.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),p=i.algo={};return i}(Math);return e})},function(e,t,n){!function(i,o){e.exports=t=o(n(473))}(this,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,o=n.Hasher,r=t.algo,s=[],a=r.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],l=n[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var u=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=u<<1|u>>>31}var d=(i<<5|i>>>27)+l+s[c];d+=c<20?(o&r|~o&a)+1518500249:c<40?(o^r^a)+1859775393:c<60?(o&r|o&a|r&a)-1894007588:(o^r^a)-899497514,l=a,a=r,r=o<<30|o>>>2,o=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(i+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=o._createHelper(a),t.HmacSHA1=o._createHmacHelper(a)}(),e.SHA1})},function(e,t,n){var i,o;!function(r,s){i=[n(477),n(491)],o=function(e,t){return s(r,e,t)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(window,function e(t,n,i){"use strict";function o(){}function r(e,t){for(var n in t)e[n]=t[n];return e}function s(e){return e instanceof HTMLElement}function a(e,t){this.element="string"==typeof e?c.querySelector(e):e,f&&(this.$element=f(this.element)),this.options=r({},this.constructor.defaults),this.option(t),this._create()}function l(e,t,n){return n=n||"round",t?Math[n](e/t)*t:e}var c=t.document,u=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,d=0;u||(u=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-d)),i=setTimeout(e,n);return d=t+n,i});var h=c.documentElement,p="string"==typeof h.style.transform?"transform":"WebkitTransform",f=t.jQuery,m=a.prototype=Object.create(i.prototype);a.defaults={},m.option=function(e){r(this.options,e)};var g={relative:!0,absolute:!0,fixed:!0};return m._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=r({},this.position);var e=getComputedStyle(this.element);g[e.position]||(this.element.style.position="relative"),this.enable(),this.setHandles()},m.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},m.dispatchEvent=function(e,n,i){var o=[n].concat(i);this.emitEvent(e,o);var r=t.jQuery;if(r&&this.$element)if(n){var s=r.Event(n);s.type=e,this.$element.trigger(s,i)}else this.$element.trigger(e,i)},m._getPosition=function(){var e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},m._getPositionCoord=function(e,t){if(e.indexOf("%")!=-1){var i=n(this.element.parentNode);return i?parseFloat(e)/100*i[t]:0}return parseInt(e,10)},m._addTransformPosition=function(e){var t=e[p];if(0===t.indexOf("matrix")){var n=t.split(","),i=0===t.indexOf("matrix3d")?12:4,o=parseInt(n[i],10),r=parseInt(n[i+1],10);this.position.x+=o,this.position.y+=r}},m.pointerDown=function(e,t){this._dragPointerDown(e,t);var n=c.activeElement;n&&n.blur&&n!=c.body&&n.blur(),this._bindPostStartEvents(e),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",e,[t])},m.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},m.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},m.measureContainment=function(){var e=this.options.containment;if(e){var t=s(e)?e:"string"==typeof e?c.querySelector(e):this.element.parentNode,i=n(this.element),o=n(t),r=this.element.getBoundingClientRect(),a=t.getBoundingClientRect(),l=o.borderLeftWidth+o.borderRightWidth,u=o.borderTopWidth+o.borderBottomWidth,d=this.relativeStartPosition={x:r.left-(a.left+o.borderLeftWidth),y:r.top-(a.top+o.borderTopWidth)};this.containSize={width:o.width-l-d.x-i.width,height:o.height-u-d.y-i.height}}},m.dragMove=function(e,t,n){if(this.isEnabled){var i=n.x,o=n.y,r=this.options.grid,s=r&&r[0],a=r&&r[1];i=l(i,s),o=l(o,a),i=this.containDrag("x",i,s),o=this.containDrag("y",o,a),i="y"==this.options.axis?0:i,o="x"==this.options.axis?0:o,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+o,this.dragPoint.x=i,this.dragPoint.y=o,this.dispatchEvent("dragMove",e,[t,n])}},m.containDrag=function(e,t,n){if(!this.options.containment)return t;var i="x"==e?"width":"height",o=this.relativeStartPosition[e],r=l(-o,n,"ceil"),s=this.containSize[i];return s=l(s,n,"floor"),Math.min(s,Math.max(r,t))},m.pointerUp=function(e,t){this.element.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},m.dragEnd=function(e,t){this.isEnabled&&(p&&(this.element.style[p]="",this.setLeftTop()),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},m.animate=function(){if(this.isDragging){this.positionDrag();var e=this;u(function t(){e.animate()})}},m.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},m.positionDrag=function(){this.element.style[p]="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},m.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},m.enable=function(){this.isEnabled=!0},m.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},m.destroy=function(){this.disable(),this.element.style[p]="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},m._init=o,f&&f.bridget&&f.bridget("draggabilly",a),a})},function(e,t,n){var i,o;!function(r,s){i=s,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}("undefined"!=typeof window?window:this,function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return i.indexOf(t)==-1&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{},i=n[e]=n[e]||{};return i[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return i!=-1&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,o=n[i];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];o;){var s=r&&r[o];s&&(this.off(e,o),delete r[o]),o.apply(this,t),i+=s?0:1,o=n[i]}return this}},e})},function(e,t,n){var i;!function(o,r){"use strict";i=function(){return r()}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(window,function e(){"use strict";function t(e){var t=parseFloat(e),n=e.indexOf("%")==-1&&!isNaN(t);return n&&t}function n(){}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<c;t++){var n=l[t];e[n]=0}return e}function o(e){var t=getComputedStyle(e);return t||a("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function r(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var i=o(e);s.isBoxSizeOuter=d=200==t(i.width),n.removeChild(e)}}function s(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=o(e);if("none"==n.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var a=s.isBorderBox="border-box"==n.boxSizing,u=0;u<c;u++){var h=l[u],p=n[h],f=parseFloat(p);s[h]=isNaN(f)?0:f}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,b=s.marginTop+s.marginBottom,w=s.borderLeftWidth+s.borderRightWidth,y=s.borderTopWidth+s.borderBottomWidth,_=a&&d,E=t(n.width);E!==!1&&(s.width=E+(_?0:m+w));var T=t(n.height);return T!==!1&&(s.height=T+(_?0:g+y)),s.innerWidth=s.width-(m+w),s.innerHeight=s.height-(g+y),s.outerWidth=s.width+v,s.outerHeight=s.height+b,s}}var a="undefined"==typeof console?n:function(e){console.error(e)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1,d;return s})},function(e,t,n){var i,o;!function(r,s){i=[n(1)],o=function(e){return s(r,e)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(window,function e(t,n){"use strict";function i(e,i,s){function l(t,n,i){var o,r="$()."+e+'("'+n+'")';return t.each(function(t,l){var c=s.data(l,e);if(!c)return void a(e+" not initialized. Cannot call methods, i.e. "+r);var u=c[n];if(!u||"_"==n.charAt(0))return void a(r+" is not a valid method");var d=u.apply(c,i);o=void 0===o?d:o}),void 0!==o?o:t}function c(t,n){t.each(function(t,o){var r=s.data(o,e);r?(r.option(n),r._init()):(r=new i(o,n),s.data(o,e,r))})}s=s||n||t.jQuery,s&&(i.prototype.option||(i.prototype.option=function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))}),s.fn[e]=function(e){if("string"==typeof e){var t=r.call(arguments,1);return l(this,e,t)}return c(this,e),this},o(s))}function o(e){!e||e&&e.bridget||(e.bridget=i)}var r=Array.prototype.slice,s=t.console,a="undefined"==typeof s?function(){}:function(e){s.error(e)};return o(n||t.jQuery),i})},,,function(e,t,n){var i,o;!function(r){i=[n(1)],o=function(e){return r(e)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(function(e){"use strict";function t(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],i={},o={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:n[0]||""};if(o.browser&&(i[o.browser]=!0,i.version=o.version,i.versionNumber=parseInt(o.versionNumber,10)),o.platform&&(i[o.platform]=!0),(i.android||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"])&&(i.mobile=!0),(i.cros||i.mac||i.linux||i.win)&&(i.desktop=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),i.rv||i.iemobile){var r="msie";o.browser=r,i[r]=!0}if(i.edge){delete i.edge;var s="msedge";o.browser=s,i[s]=!0}if(i.safari&&i.blackberry){var a="blackberry";o.browser=a,i[a]=!0}if(i.safari&&i.playbook){var l="playbook";o.browser=l,i[l]=!0}if(i.bb){var c="blackberry";o.browser=c,i[c]=!0}if(i.opr){var u="opera";o.browser=u,i[u]=!0}if(i.safari&&i.android){var d="android";o.browser=d,i[d]=!0}if(i.safari&&i.kindle){var h="kindle";o.browser=h,i[h]=!0}if(i.safari&&i.silk){var p="silk";o.browser=p,i[p]=!0}return i.name=o.browser,i.platform=o.platform,i}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser})},function(e,t,n){var i,o,r,o,s,o,i,a,o,l,i,c,o,u,i,d,o,r;!function(i,s){"use strict";o=[n(1)],r=function(e){s(i,e)}.apply(t,o),!(void 0!==r&&(e.exports=r))}(window,function e(t,n){"use strict";function i(e,i,s){function l(t,n,i){var o,r="$()."+e+'("'+n+'")';return t.each(function(t,l){var c=s.data(l,e);if(!c)return void a(e+" not initialized. Cannot call methods, i.e. "+r);var u=c[n];if(!u||"_"==n.charAt(0))return void a(r+" is not a valid method");var d=u.apply(c,i);o=void 0===o?d:o}),void 0!==o?o:t}function c(t,n){t.each(function(t,o){var r=s.data(o,e);r?(r.option(n),r._init()):(r=new i(o,n),s.data(o,e,r))})}s=s||n||t.jQuery,s&&(i.prototype.option||(i.prototype.option=function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))}),s.fn[e]=function(e){if("string"==typeof e){var t=r.call(arguments,1);return l(this,e,t)}return c(this,e),this},o(s))}function o(e){!e||e&&e.bridget||(e.bridget=i)}var r=Array.prototype.slice,s=t.console,a="undefined"==typeof s?function(){}:function(e){s.error(e)};return o(n||t.jQuery),i}),function(o,r){i=r,!(d="function"==typeof i?i.call(t,n,t,e):i)}(this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return i.indexOf(t)==-1&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{},i=n[e]=n[e]||{};return i[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return i!=-1&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,o=n[i];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];o;){var s=r&&r[o];s&&(this.off(e,o),delete r[o]),o.apply(this,t),i+=s?0:1,o=n[i]}return this}},e}),function(e,n){"use strict";o=[],!(u=function(){return n()}.apply(t,o))}(window,function e(){"use strict";function t(e){var t=parseFloat(e),n=e.indexOf("%")==-1&&!isNaN(t);return n&&t}function n(){}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<c;t++){var n=l[t];e[n]=0}return e}function o(e){var t=getComputedStyle(e);return t||a("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function r(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var i=o(e);s.isBoxSizeOuter=d=200==t(i.width),n.removeChild(e)}}function s(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=o(e);if("none"==n.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var a=s.isBorderBox="border-box"==n.boxSizing,u=0;u<c;u++){var h=l[u],p=n[h],f=parseFloat(p);s[h]=isNaN(f)?0:f}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,b=s.marginTop+s.marginBottom,w=s.borderLeftWidth+s.borderRightWidth,y=s.borderTopWidth+s.borderBottomWidth,_=a&&d,E=t(n.width);E!==!1&&(s.width=E+(_?0:m+w));var T=t(n.height);return T!==!1&&(s.height=T+(_?0:g+y)),s.innerWidth=s.width-(m+w),s.innerHeight=s.height-(g+y),s.outerWidth=s.width+v,s.outerHeight=s.height+b,s}}var a="undefined"==typeof console?n:function(e){console.error(e)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1,d;return s}),function(o,r){"use strict";i=r,!(c="function"==typeof i?i.call(t,n,t,e):i)}(window,function e(){"use strict";var t=function(){var e=Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n],o=i+"MatchesSelector";if(e[o])return o}}();return function e(n,i){return n[t](i)}}),function(e,n){o=[c],!(l=function(t){return n(e,t)}.apply(t,o))}(window,function e(t,n){var i={};i.extend=function(e,t){for(var n in t)e[n]=t[n];return e},i.modulo=function(e,t){return(e%t+t)%t},i.makeArray=function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t},i.removeFrom=function(e,t){var n=e.indexOf(t);n!=-1&&e.splice(n,1)},i.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,n(e,t))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,t){e=i.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement){if(!t)return void o.push(e);n(e,t)&&o.push(e);for(var i=e.querySelectorAll(t),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(e,t,n){var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,t),delete r[o]},n||100)}},i.docReady=function(e){"complete"==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var r=i.toDashed(n),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),c=i.makeArray(a).concat(i.makeArray(l)),u=s+"-options",d=t.jQuery;
c.forEach(function(t){var i=t.getAttribute(s)||t.getAttribute(u),r;try{r=i&&JSON.parse(i)}catch(e){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,r);d&&d.data(t,n,a)})})},i}),function(e,n){o=[d,u],i=n,!(a="function"==typeof i?i.apply(t,o):i)}(window,function e(t,n){"use strict";function i(e){for(var t in e)return!1;return t=null,!0}function o(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function r(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var s=document.documentElement.style,a="string"==typeof s.transition?"transition":"WebkitTransition",l="string"==typeof s.transform?"transform":"WebkitTransform",c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],u={transform:l,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},d=o.prototype=Object.create(t.prototype);d.constructor=o,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.getSize=function(){this.size=n(this.element)},d.css=function(e){var t=this.element.style;for(var n in e){var i=u[n]||n;t[i]=e[n]}},d.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],o=e[n?"top":"bottom"],r=this.layout.size,s=i.indexOf("%")!=-1?parseFloat(i)/100*r.width:parseInt(i,10),a=o.indexOf("%")!=-1?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=t?r.paddingLeft:r.paddingRight,a-=n?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},d.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",s=n?"right":"left",a=this.position.x+e[o];t[r]=this.getXValue(a),t[s]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",u=i?"bottom":"top",d=this.position.y+e[l];t[c]=this.getYValue(d),t[u]="",this.css(t),this.emitEvent("layout",[this])},d.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},d.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},d._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(e,10),r=parseInt(t,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return void this.layoutPosition();var a=e-n,l=t-i,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(e,t){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return e=n?e:-e,t=i?t:-t,"translate3d("+e+"px, "+t+"px, 0)"},d.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},d._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},d.transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var i=this.element.offsetHeight;i=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var h="opacity,"+r(l);d.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:h,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(c,this,!1)}},d.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},d.onotransitionend=function(e){this.ontransitionend(e)};var p={"-webkit-transform":"transform"};d.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=p[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],i(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var o=t.onEnd[n];o.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},d._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(f)},d.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("visibleStyle");t[n]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},d.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");t[n]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(e,n){"use strict";o=[d,u,l,a],!(s=function(t,i,o,r){return n(e,t,i,o,r)}.apply(t,o))}(window,function e(t,n,i,o,r){"use strict";function s(e,t){var n=o.getQueryElement(e);if(!n)return void(c&&c.error("Bad element for "+this.constructor.namespace+": "+(n||e)));this.element=n,u&&(this.$element=u(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(t);var i=++h;this.element.outlayerGUID=i,p[i]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function a(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}function l(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var o=m[i]||1;return n*o}var c=t.console,u=t.jQuery,d=function(){},h=0,p={};s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=s.prototype;o.extend(f,n.prototype),f.option=function(e){o.extend(this.options,e)},f._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");e&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0;o<t.length;o++){var r=t[o],s=new n(r,this);i.push(s)}return i},f._filterFindItemElements=function(e){return o.filterFindElements(e,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(e){return e.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(e,t){var n=this.options[e],o;n?("string"==typeof n?o=this.element.querySelector(n):n instanceof HTMLElement&&(o=n),this[e]=o?i(o)[t]:n):this[e]=0},f.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},f._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},f._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},f.updateStagger=function(){var e=this.options.stagger;return null===e||void 0===e?void(this.stagger=0):(this.stagger=l(e),this.stagger)},f._positionItem=function(e,t,n,i,o){i?e.goTo(t,n):(e.stagger(o*this.stagger),e.moveTo(t,n))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var e=this._getOption("resizeContainer");if(e){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=d,f._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},f._emitCompleteOnItems=function(e,t){function n(){o.dispatchEvent(e+"Complete",null,[t])}function i(){s++,s==r&&n()}var o=this,r=t.length;if(!t||!r)return void n();var s=0;t.forEach(function(t){t.once(e,i)})},f.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),u)if(this.$element=this.$element||u(this.element),t){var o=u.Event(t);o.type=e,this.$element.trigger(o,n)}else this.$element.trigger(e,n)},f.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},f.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},f.stamp=function(e){e=this._find(e),e&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},f.unstamp=function(e){e=this._find(e),e&&e.forEach(function(e){o.removeFrom(this.stamps,e),this.unignore(e)},this)},f._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=o.makeArray(e)},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},f._manageStamp=d,f._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,o=i(e),r={left:t.left-n.left-o.marginLeft,top:t.top-n.top-o.marginTop,right:n.right-t.right-o.marginRight,bottom:n.bottom-t.bottom-o.marginBottom};return r},f.handleEvent=o.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},o.debounceMethod(s,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var e=i(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},f.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},f.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},f.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},f.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.reveal()})}},f.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.hide()})}},f.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},f.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},f.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},f.getItems=function(e){e=o.makeArray(e);var t=[];return e.forEach(function(e){var n=this.getItem(e);n&&t.push(n)},this),t},f.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),o.removeFrom(this.items,e)},this)},f.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete p[t],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(e){e=o.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&p[t]},s.create=function(e,t){var n=a(s);return n.defaults=o.extend({},s.defaults),o.extend(n.defaults,t),n.compatOptions=o.extend({},s.compatOptions),n.namespace=e,n.data=s.data,n.Item=a(r),o.htmlInit(n,e),u&&u.bridget&&u.bridget(e,n),n};var m={ms:1,s:1e3};return s.Item=r,s}),function(n,a){o=[s,u],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(window,function e(t,n){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&n(t).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i,a=s&&s<1?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var e=this._getOption("fitWidth"),t=e?this.element.parentNode:this.element,i=n(t);this.containerWidth=i&&i.innerWidth},i.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=t&&t<1?"round":"ceil",i=Math[n](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),r=Math.min.apply(Math,o),s=o.indexOf(r),a={x:this.columnWidth*s,y:r},l=r+e.size.outerHeight,c=this.cols+1-o.length,u=0;u<c;u++)this.colYs[s+u]=l;return a},i.prototype._getColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++){var o=this.colYs.slice(i,i+e);t[i]=Math.max.apply(Math,o)}return t},i.prototype._manageStamp=function(e){var t=n(e),i=this._getElementOffset(e),o=this._getOption("originLeft"),r=o?i.left:i.right,s=r+t.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var l=Math.floor(s/this.columnWidth);l-=s%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),u=(c?i.top:i.bottom)+t.outerHeight,d=a;d<=l;d++)this.colYs[d]=Math.max(u,this.colYs[d])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},i})},function(e,t,n){!function(e,t){e(function(){"use strict";function e(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function n(e,t){var n,i,o=e.length;if(!o||!t)return!1;for(n=t.toLowerCase(),i=0;i<o;++i)if(n===e[i].toLowerCase())return!0;return!1}function i(e){for(var t in e)s.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function o(e,t){this.ua=e||"",this._cache={},this.maxPhoneWidth=t||600}var r={};r.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"\\bSamsung\\b|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",
MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris [E|M]10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},r.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var s=Object.prototype.hasOwnProperty,a;return r.FALLBACK_PHONE="UnknownPhone",r.FALLBACK_TABLET="UnknownTablet",r.FALLBACK_MOBILE="UnknownMobile",a="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function e(){var t,n,o,l,c,u,d=r.mobileDetectRules;for(t in d.props)if(s.call(d.props,t)){for(n=d.props[t],a(n)||(n=[n]),c=n.length,l=0;l<c;++l)o=n[l],u=o.indexOf("[VER]"),u>=0&&(o=o.substring(0,u)+"([\\w._\\+]+)"+o.substring(u+5)),n[l]=new RegExp(o,"i");d.props[t]=n}i(d.oss),i(d.phones),i(d.tablets),i(d.uas),i(d.utils),d.oss0={WindowsPhoneOS:d.oss.WindowsPhoneOS,WindowsMobileOS:d.oss.WindowsMobileOS}}(),r.findMatch=function(e,t){for(var n in e)if(s.call(e,n)&&e[n].test(t))return n;return null},r.findMatches=function(e,t){var n=[];for(var i in e)s.call(e,i)&&e[i].test(t)&&n.push(i);return n},r.getVersionStr=function(e,t){var n=r.mobileDetectRules.props,i,o,a,l;if(s.call(n,e))for(i=n[e],a=i.length,o=0;o<a;++o)if(l=i[o].exec(t),null!==l)return l[1];return null},r.getVersion=function(e,t){var n=r.getVersionStr(e,t);return n?r.prepareVersionNo(n):NaN},r.prepareVersionNo=function(e){var t;return t=e.split(/[a-z._ \/\-]/i),1===t.length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},r.isMobileFallback=function(e){return r.detectMobileBrowsers.fullPattern.test(e)||r.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},r.isTabletFallback=function(e){return r.detectMobileBrowsers.tabletPattern.test(e)},r.prepareDetectionCache=function(e,n,i){if(e.mobile===t){var s,a,l;return(a=r.findMatch(r.mobileDetectRules.tablets,n))?(e.mobile=e.tablet=a,void(e.phone=null)):(s=r.findMatch(r.mobileDetectRules.phones,n))?(e.mobile=e.phone=s,void(e.tablet=null)):void(r.isMobileFallback(n)?(l=o.isPhoneSized(i),l===t?(e.mobile=r.FALLBACK_MOBILE,e.tablet=e.phone=null):l?(e.mobile=e.phone=r.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=r.FALLBACK_TABLET,e.phone=null)):r.isTabletFallback(n)?(e.mobile=e.tablet=r.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null)}},r.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile")<=5.2,"C")},r.detectOS=function(e){return r.findMatch(r.mobileDetectRules.oss0,e)||r.findMatch(r.mobileDetectRules.oss,e)},r.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},o.prototype={constructor:o,mobile:function(){return r.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return r.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return r.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=r.findMatch(r.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=r.findMatches(r.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=r.detectOS(this.ua)),this._cache.os},version:function(e){return r.getVersion(e,this.ua)},versionStr:function(e){return r.getVersionStr(e,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(r.findMatches(r.mobileDetectRules.utils,this.ua),t)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return o.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=r.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?o.isPhoneSized=function(e){return e<0?t:r.getDeviceSmallerSide()<=e}:o.isPhoneSized=function(){},o._impl=r,o.version="1.3.7 2017-09-06",o})}(function(t){if("undefined"!=typeof e&&e.exports)return function(t){e.exports=t()};if(0){if("undefined"!=typeof window)return function(e){window.MobileDetect=e()};throw new Error("unknown environment")}return n(874)}())},function(e,t,n){var i;!function(){"use strict";function o(e){return"undefined"==typeof this||Object.getPrototypeOf(this)!==o.prototype?new o(e):(D=this,D.version="3.3.1",D.tools=new O,D.isSupported()?(D.tools.extend(D.defaults,e||{}),r(D.defaults),D.store={elements:{},containers:[]},D.sequences={},D.history=[],D.uid=0,D.initialized=!1):"undefined"!=typeof console&&null!==console&&console.log("ScrollReveal is not supported in this browser."),D)}function r(e){if(e&&e.container){if("string"==typeof e.container)return window.document.documentElement.querySelector(e.container);if(D.tools.isNode(e.container))return e.container;console.log('ScrollReveal: invalid container "'+e.container+'" provided.'),console.log("ScrollReveal: falling back to default container.")}return D.defaults.container}function s(e,t){return"string"==typeof e?Array.prototype.slice.call(t.querySelectorAll(e)):D.tools.isNode(e)?[e]:D.tools.isNodeList(e)?Array.prototype.slice.call(e):[]}function a(){return++D.uid}function l(e,t,n){t.container&&(t.container=n),e.config?e.config=D.tools.extendClone(e.config,t):e.config=D.tools.extendClone(D.defaults,t),"top"===e.config.origin||"bottom"===e.config.origin?e.config.axis="Y":e.config.axis="X"}function c(e){var t=window.getComputedStyle(e.domEl);e.styles||(e.styles={transition:{},transform:{},computed:{}},e.styles.inline=e.domEl.getAttribute("style")||"",e.styles.inline+="; visibility: visible; ",e.styles.computed.opacity=t.opacity,t.transition&&"all 0s ease 0s"!==t.transition?e.styles.computed.transition=t.transition+", ":e.styles.computed.transition=""),e.styles.transition.instant=u(e,0),e.styles.transition.delayed=u(e,e.config.delay),e.styles.transform.initial=" -webkit-transform:",e.styles.transform.target=" -webkit-transform:",d(e),e.styles.transform.initial+="transform:",e.styles.transform.target+="transform:",d(e)}function u(e,t){var n=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; transition: "+e.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; "}function d(e){var t=e.config,n,i=e.styles.transform;n="top"===t.origin||"left"===t.origin?/^-/.test(t.distance)?t.distance.substr(1):"-"+t.distance:t.distance,parseInt(t.distance)&&(i.initial+=" translate"+t.axis+"("+n+")",i.target+=" translate"+t.axis+"(0)"),t.scale&&(i.initial+=" scale("+t.scale+")",i.target+=" scale(1)"),t.rotate.x&&(i.initial+=" rotateX("+t.rotate.x+"deg)",i.target+=" rotateX(0)"),t.rotate.y&&(i.initial+=" rotateY("+t.rotate.y+"deg)",i.target+=" rotateY(0)"),t.rotate.z&&(i.initial+=" rotateZ("+t.rotate.z+"deg)",i.target+=" rotateZ(0)"),i.initial+="; opacity: "+t.opacity+";",i.target+="; opacity: "+e.styles.computed.opacity+";"}function h(e){var t=e.config.container;t&&D.store.containers.indexOf(t)===-1&&D.store.containers.push(e.config.container),D.store.elements[e.id]=e}function p(e,t,n){var i={target:e,config:t,interval:n};D.history.push(i)}function f(){if(D.isSupported()){v();for(var e=0;e<D.store.containers.length;e++)D.store.containers[e].addEventListener("scroll",m),D.store.containers[e].addEventListener("resize",m);D.initialized||(window.addEventListener("scroll",m),window.addEventListener("resize",m),D.initialized=!0)}return D}function m(){x(v)}function g(){var e,t,n,i;D.tools.forOwn(D.sequences,function(o){i=D.sequences[o],e=!1;for(var r=0;r<i.elemIds.length;r++)n=i.elemIds[r],t=D.store.elements[n],I(t)&&!e&&(e=!0);i.active=e})}function v(){var e,t;g(),D.tools.forOwn(D.store.elements,function(n){t=D.store.elements[n],e=_(t),y(t)?(t.config.beforeReveal(t.domEl),e?t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed):t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant),w("reveal",t,e),t.revealing=!0,t.seen=!0,t.sequence&&b(t,e)):E(t)&&(t.config.beforeReset(t.domEl),t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant),w("reset",t),t.revealing=!1)})}function b(e,t){var n=0,i=0,o=D.sequences[e.sequence.id];o.blocked=!0,t&&"onload"===e.config.useDelay&&(i=e.config.delay),e.sequence.timer&&(n=Math.abs(e.sequence.timer.started-new Date),window.clearTimeout(e.sequence.timer)),e.sequence.timer={started:new Date},e.sequence.timer.clock=window.setTimeout(function(){o.blocked=!1,e.sequence.timer=null,m()},Math.abs(o.interval)+i-n)}function w(e,t,n){var i=0,o=0,r="after";switch(e){case"reveal":o=t.config.duration,n&&(o+=t.config.delay),r+="Reveal";break;case"reset":o=t.config.duration,r+="Reset"}t.timer&&(i=Math.abs(t.timer.started-new Date),window.clearTimeout(t.timer.clock)),t.timer={started:new Date},t.timer.clock=window.setTimeout(function(){t.config[r](t.domEl),t.timer=null},o-i)}function y(e){if(e.sequence){var t=D.sequences[e.sequence.id];return t.active&&!t.blocked&&!e.revealing&&!e.disabled}return I(e)&&!e.revealing&&!e.disabled}function _(e){var t=e.config.useDelay;return"always"===t||"onload"===t&&!D.initialized||"once"===t&&!e.seen}function E(e){if(e.sequence){var t=D.sequences[e.sequence.id];return!t.active&&e.config.reset&&e.revealing&&!e.disabled}return!I(e)&&e.config.reset&&e.revealing&&!e.disabled}function T(e){return{width:e.clientWidth,height:e.clientHeight}}function C(e){if(e&&e!==window.document.documentElement){var t=S(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function S(e){var t=0,n=0,i=e.offsetHeight,o=e.offsetWidth;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft),e=e.offsetParent;while(e);return{top:t,left:n,height:i,width:o}}function I(e){function t(){var t=c+a*s,n=u+l*s,i=d-a*s,p=h-l*s,f=r.y+e.config.viewOffset.top,m=r.x+e.config.viewOffset.left,g=r.y-e.config.viewOffset.bottom+o.height,v=r.x-e.config.viewOffset.right+o.width;return t<g&&i>f&&n>m&&p<v}function n(){return"fixed"===window.getComputedStyle(e.domEl).position}var i=S(e.domEl),o=T(e.config.container),r=C(e.config.container),s=e.config.viewFactor,a=i.height,l=i.width,c=i.top,u=i.left,d=c+a,h=u+l;return t()||n()}function O(){}var D,x;o.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(e){},afterReveal:function(e){},beforeReset:function(e){},afterReset:function(e){}},o.prototype.isSupported=function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e},o.prototype.reveal=function(e,t,n,i){var o,u,d,m,g,v;if(void 0!==t&&"number"==typeof t?(n=t,t={}):void 0!==t&&null!==t||(t={}),o=r(t),u=s(e,o),!u.length)return console.log('ScrollReveal: reveal on "'+e+'" failed, no elements found.'),D;n&&"number"==typeof n&&(v=a(),g=D.sequences[v]={id:v,interval:n,elemIds:[],active:!1});for(var b=0;b<u.length;b++)m=u[b].getAttribute("data-sr-id"),m?d=D.store.elements[m]:(d={id:a(),domEl:u[b],seen:!1,revealing:!1},d.domEl.setAttribute("data-sr-id",d.id)),g&&(d.sequence={id:g.id,index:g.elemIds.length},g.elemIds.push(d.id)),l(d,t,o),c(d),h(d),D.tools.isMobile()&&!d.config.mobile||!D.isSupported()?(d.domEl.setAttribute("style",d.styles.inline),d.disabled=!0):d.revealing||d.domEl.setAttribute("style",d.styles.inline+d.styles.transform.initial);return!i&&D.isSupported()&&(p(e,t,n),D.initTimeout&&window.clearTimeout(D.initTimeout),D.initTimeout=window.setTimeout(f,0)),D},o.prototype.sync=function(){if(D.history.length&&D.isSupported()){for(var e=0;e<D.history.length;e++){var t=D.history[e];D.reveal(t.target,t.config,t.interval,!0)}f()}else console.log("ScrollReveal: sync failed, no reveals found.");return D},O.prototype.isObject=function(e){return null!==e&&"object"==typeof e&&e.constructor===Object},O.prototype.isNode=function(e){return"object"==typeof window.Node?e instanceof window.Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},O.prototype.isNodeList=function(e){var t=Object.prototype.toString.call(e),n=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==typeof window.NodeList?e instanceof window.NodeList:e&&"object"==typeof e&&n.test(t)&&"number"==typeof e.length&&(0===e.length||this.isNode(e[0]))},O.prototype.forOwn=function(e,t){if(!this.isObject(e))throw new TypeError('Expected "object", but received "'+typeof e+'".');for(var n in e)e.hasOwnProperty(n)&&t(n)},O.prototype.extend=function(e,t){return this.forOwn(t,function(n){this.isObject(t[n])?(e[n]&&this.isObject(e[n])||(e[n]={}),this.extend(e[n],t[n])):e[n]=t[n]}.bind(this)),e},O.prototype.extendClone=function(e,t){return this.extend(this.extend({},e),t)},O.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},i=function(){return o}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}()},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(12),c=i(l),u=n(15),d=i(u),h=n(10),p=i(h),f=n(13),m=i(f),g=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.timeout=6e4,n.interval=50,"function"!=typeof e.condition)throw new Error("You must pass in a condition function");return(0,d.default)(n,e),n}return s(t,e),a(t,[{key:"condition",value:function(e){return!0}}]),a(t,[{key:"watch",value:function(e,t){var n=new c.default;if(this.condition(e))return n.resolve(e),n.promise;this.observer||this.startObserving();var i=this.watchList.get(e);return i||(i=[],i.created=Date.now(),i.timeout=t,this.watchList.set(e,i)),i.push(n),n.promise}},{key:"unwatch",value:function(e,t){var n=["Unwatching",e];if(!t)return this.forDeferreds(e,function(e){return e.reject(n)});var i=this.watchList.get(e);if(i){var o=(0,p.default)(i,function(e){return e.promise===t});if(o){var r=i.indexOf(o);i.splice(r,1),o.reject(n),0===i.length&&(this.watchList.delete(e),this.checkWatchList())}}}}]),t}(m.default);e.exports=g},function(e,t,n){e.exports=!n(2)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(19);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(7),o=n(6);e.exports=function(e){return i(o(e))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n,i=Object(e),o=i.length>>>0,r=arguments[1],s=0;s<o;s++)if(n=i[s],t.call(r,n,s,i))return n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(14),a=i(s),l=function(){function e(){o(this,e),this.watchList=new a.default}return r(e,[{key:"checkWatchList",value:function(){0===this.watchList.size&&this.stopObserving()}},{key:"forDeferreds",value:function(e,t){var n=this.watchList.get(e);if(n){for(var i,o=function(e){setTimeout(function(){return t(e)},0)};i=n.pop();)o(i);this.watchList.delete(e),this.checkWatchList()}}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),r=function e(){var t=this;i(this,e),this.promise=new o.Promise(function(e,n){t.resolve=e,t.reject=n})};t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),c=i(l),u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"startObserving",value:function(){var e=this;this.observer=window.setInterval(function(){e.watchList.forEach(function(t,n){e.condition(n)?e.forDeferreds(n,function(e){return e.resolve(n)}):Date.now()-t.created>(t.timeout||e.timeout)&&e.forDeferreds(n,function(e){return e.reject([new Error("Watching timed out"),n])})})},this.interval)}},{key:"stopObserving",value:function(){window.clearInterval(this.observer),this.observer=null}}]),t}(c.default);t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this.keys=[],this.values=[],this.size=0}return i(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);if(t!==-1)return this.values[t]}},{key:"set",value:function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t),void this.size++):void(this.values[n]=t)}},{key:"delete",value:function(e){var t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),this.values.splice(t,1),this.size--)}},{key:"forEach",value:function(e){for(var t=0;t<this.keys.length;t++)e(this.values[t],this.keys[t])}}]),e}();t.default=window.Map||o},function(e,t,n){n(41),e.exports=n(5).Object.assign},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(4);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(9),o=n(37),r=n(36);e.exports=function(e){return function(t,n,s){var a,l=i(t),c=o(l.length),u=r(s,c);if(e&&n!=n){for(;c>u;)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(16);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(4),o=n(3).document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(3),o=n(5),r=n(20),s=n(25),a="prototype",l=function(e,t,n){var c,u,d,h=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,b=p?o:o[t]||(o[t]={}),w=b[a],y=p?i:f?i[t]:(i[t]||{})[a];p&&(n=t);for(c in n)u=!h&&y&&void 0!==y[c],u&&c in b||(d=u?y[c]:n[c],b[c]=p&&"function"!=typeof y[c]?n[c]:g&&u?r(d,i):v&&y[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[a]=e[a],t}(d):m&&"function"==typeof d?r(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[c]=d,e&l.R&&w&&!w[c]&&s(w,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(28),o=n(33);e.exports=n(1)?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(1)&&!n(2)(function(){return 7!=Object.defineProperty(n(21)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(31),o=n(29),r=n(32),s=n(38),a=n(7),l=Object.assign;e.exports=!l||n(2)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=s(e),l=arguments.length,c=1,u=o.f,d=r.f;l>c;)for(var h,p=a(arguments[c++]),f=u?i(p).concat(u(p)):i(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(n[h]=p[h]);return n}:l},function(e,t,n){var i=n(17),o=n(26),r=n(39),s=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(24),o=n(9),r=n(18)(!1),s=n(34)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),l=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~r(c,n)||c.push(n));return c}},function(e,t,n){var i=n(30),o=n(22);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(35)("keys"),o=n(40);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var i=n(3),o="__core-js_shared__",r=i[o]||(i[o]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(8),o=Math.max,r=Math.min;e.exports=function(e,t){return e=i(e),e<0?o(e+t,0):r(e,t)}},function(e,t,n){var i=n(8),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t,n){var i=n(6);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(4);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(23);i(i.S+i.F,"Object",{assign:n(27)})},function(e,t,n){var i;(function(e,o,r){(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function a(e){return"function"==typeof e}function l(e){X=e}function c(e){ee=e}function u(){return function(){e.nextTick(m)}}function d(){return function(){Y(m)}}function h(){var e=0,t=new ie(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(m,1)}}function m(){for(var e=0;e<Z;e+=2){var t=se[e],n=se[e+1];t(n),se[e]=void 0,se[e+1]=void 0}Z=0}function g(){try{var e=n(46);return Y=e.runOnLoop||e.runOnContext,d()}catch(e){return f()}}function v(e,t){var n=this,i=new this.constructor(w);void 0===i[ce]&&K(i);var o=n._state;if(o){var r=arguments[o-1];ee(function(){M(o,i,r,n._result)})}else R(n,i,e,t);return i}function b(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(w);return O(n,e),n}function w(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function E(e){try{return e.then}catch(e){return pe.error=e,pe}}function T(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function C(e,t,n){ee(function(e){var i=!1,o=T(n,t,function(n){i||(i=!0,t!==n?O(e,n):x(e,n))},function(t){i||(i=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&o&&(i=!0,k(e,o))},e)}function S(e,t){t._state===de?x(e,t._result):t._state===he?k(e,t._result):R(t,void 0,function(t){O(e,t)},function(t){k(e,t)})}function I(e,t,n){t.constructor===e.constructor&&n===ae&&constructor.resolve===le?S(e,t):n===pe?k(e,pe.error):void 0===n?x(e,t):a(n)?C(e,t,n):x(e,t)}function O(e,t){e===t?k(e,y()):s(t)?I(e,t,E(t)):x(e,t)}function D(e){e._onerror&&e._onerror(e._result),P(e)}function x(e,t){e._state===ue&&(e._result=t,e._state=de,0!==e._subscribers.length&&ee(P,e))}function k(e,t){e._state===ue&&(e._state=he,e._result=t,ee(D,e))}function R(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+de]=n,o[r+he]=i,0===r&&e._state&&ee(P,e)}function P(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,o,r=e._result,s=0;s<t.length;s+=3)i=t[s],o=t[s+n],i?M(n,i,o,r):o(r);e._subscribers.length=0}}function A(){this.error=null}function N(e,t){try{return e(t)}catch(e){return fe.error=e,fe}}function M(e,t,n,i){var o,r,s,l,c=a(n);if(c){if(o=N(n,i),o===fe?(l=!0,r=o.error,o=null):s=!0,t===o)return void k(t,_())}else o=i,s=!0;t._state!==ue||(c&&s?O(t,o):l?k(t,r):e===de?x(t,o):e===he&&k(t,o))}function L(e,t){try{t(function(t){O(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function B(){return me++}function K(e){e[ce]=me++,e._state=void 0,e._result=void 0,e._subscribers=[]}function F(e){return new ye(this,e).promise}function H(e){var t=this;return new t(Q(e)?function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function j(e){var t=this,n=new t(w);return k(n,e),n}function W(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[ce]=B(),this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&W(),this instanceof z?L(this,e):$())}function V(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[ce]||K(this.promise),Q(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):k(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function G(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=we)}var q;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y,X,J,Q=q,Z=0,ee=function(e,t){se[Z]=e,se[Z+1]=t,Z+=2,2===Z&&(X?X(m):J())},te="undefined"!=typeof window?window:void 0,ne=te||{},ie=ne.MutationObserver||ne.WebKitMutationObserver,oe="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),re="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,se=new Array(1e3);J=oe?u():ie?h():re?p():void 0===te?g():f();var ae=v,le=b,ce=Math.random().toString(36).substring(16),ue=void 0,de=1,he=2,pe=new A,fe=new A,me=0,ge=F,ve=H,be=j,we=z;z.all=ge,z.race=ve,z.resolve=le,z.reject=be,z._setScheduler=l,z._setAsap=c,z._asap=ee,z.prototype={constructor:z,then:ae,catch:function(e){return this.then(null,e)}};var ye=V;V.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ue&&n<e;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===le){var o=E(e);if(o===ae&&e._state!==ue)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===we){var r=new n(w);I(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(i(e),t)},V.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ue&&(this._remaining--,e===he?k(i,n):this._result[t]=n),0===this._remaining&&x(i,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;R(e,void 0,function(e){n._settledAt(de,t,e)},function(e){n._settledAt(he,t,e)})};var _e=G,Ee={Promise:we,polyfill:_e};n(44).amd?(i=function(){return Ee}.call(t,n,t,r),!(void 0!==i&&(r.exports=i))):"undefined"!=typeof r&&r.exports?r.exports=Ee:"undefined"!=typeof this&&(this.ES6Promise=Ee),_e()}).call(this)}).call(t,n(43),function(){return this}(),n(45)(e))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&a())}function a(){if(!m){var e=o(s);m=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,m=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,h=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,f=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){}])})}).call(t,n(22),n(2))},function(e,t,n){var i,o;i=[n(1),n(2),n(50),n(69)],o=function(e,t,n,i){function o(e){var t=e.data("adv-placeholder");t||(t=new a({el:e}),e.data("adv-placeholder",t)),t.refresh()}function r(t){o(e(this))}var s={},a=n.extend({slideDistance:20,placeholderGutter:20,initialize:function(){this.render()},render:function(){var e=this.$el.is(":focus");this.$el.after('<div class="form-control__placeholder">'+this.$el.attr("placeholder")+"</div>"),e&&this.$el.focus(),this.$placeholder=this.$el.siblings(".form-control__placeholder"),this.inputPaddingRight=parseInt(this.$el.css("padding-right").split("px")[0],10),this.$placeholder.css("line-height",this.$el.css("height"))},showPlaceholder:function(){this.$placeholder.addClass("is-visible").css("padding-right",this.inputPaddingRight+"px").on("click",this.$el.focus())},hidePlaceholder:function(){this.$placeholder.removeClass("is-visible").css("padding-right",this.inputPaddingRight+this.queryOption("slideDistance")+"px").off("click","**")},refresh:function(){if(this.$el.val()){var e=this.$el.width(),t=i.detectInputWidth(this.$el),n=this.$placeholder.width();t+n+this.queryOption("placeholderGutter")>e?this.hidePlaceholder():this.showPlaceholder()}else this.hidePlaceholder()}}),s={initialize:function(){var n=200;e(document).off("keyup.adv-placeholder").on("keyup.adv-placeholder","[data-adv-placeholder]",t.throttle(r,n))},updatePlaceholder:o};return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(9)],o=function(e){var t=e.Model.extend({defaults:{hsv:{h:0,s:1,v:1},rgb:{},hex:""},initialize:function(e){this.on({"change:hsv":this.onChangeHsv,"change:rgb":this.onChangeRgb,"change:hex":this.onChangeHex})},toJSON:function(e){return JSON.parse(JSON.stringify(this.attributes))},set:function(t,n,i){"hsv"===t?n.h%=360:"object"==typeof t&&t.hsv&&(t.hsv.h%=360),e.Model.prototype.set.apply(this,arguments)},onChangeHsv:function(e,t){var n=this.hsv2rgb(t);this.set({rgb:n,hex:n.hex},{silent:!0})},onChangeRgb:function(e,t){this.set({hex:this.rgb2hex(t),hsv:this.rgb2hsv(t)},{silent:!0})},onChangeHex:function(e,t){this.set({rgb:this.hex2rgb(t),hsv:this.hex2hsv(t)},{silent:!0})},hsv2rgb:function(e){var t,n,i,o,r,s=e.h%360/60;r=e.v*e.s,o=r*(1-Math.abs(s%2-1)),t=n=i=e.v-r,s=~~s,t+=[r,o,0,0,o,r][s],n+=[o,r,r,o,0,0][s],i+=[0,0,o,r,r,o][s];var a=Math.floor(255*t),l=Math.floor(255*n),c=Math.floor(255*i);return{r:a,g:l,b:c,hex:"#"+(16777216|c|l<<8|a<<16).toString(16).slice(1)}},hsv2hex:function(e){return this.hsv2rgb(e).hex},rgb2hsv:function(e){var t=e.r,n=e.g,i=e.b;(e.r>1||e.g>1||e.b>1)&&(t/=255,n/=255,i/=255);var o,r,s,a;return s=Math.max(t,n,i),a=s-Math.min(t,n,i),o=0==a?null:s==t?(n-i)/a+(n<i?6:0):s==n?(i-t)/a+2:(t-n)/a+4,o=o%6*60,r=0==a?0:a/s,{h:o,s:r,v:s}},rgb2hex:function(e){return this.hsv2rgb(this.rgb2hsv(e)).hex},hex2hsv:function(e){return this.rgb2hsv(this.hex2rgb(e))},hex2rgb:function(e){return 4===e.length&&(e=this.shorthand2hex(e)),{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)}},shorthand2hex:function(e){return e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]},isHexColor:function(e){var t=/(^[0-9a-f]{6}$)|(^[0-9a-f]{3}$)/i;return t.test(e)}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(485)],o=function(e){var t=new e({isVisible:function(e){return e.offsetWidth>0||e.offsetHeight>0},condition:function(e){return document.body.contains(e)&&this.isVisible(e)}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(9),n(4),n(50)],o=function(e,t,n,i,o){var r=n.Model.extend({defaults:{icon:null,text:null,textHtml:null,value:null,selected:!1}}),s=n.Collection.extend({model:r}),a=n.View.extend({tagName:"li",className:"group__item",template:'<label class="switcher__form-control form-control form-control--radio-check form-control--borderless">\n<input type="radio" name="{{name}}" value="{{value}}" {{#selected}}checked{{/selected}}>\n<span class="form-control__indicator"></span>\n{{#icon}}<span class="icon switcher__icon">{{icon}}</span>{{/icon}}\n<span class="switcher__text" {{#iconAfterText}}data-icon-after="{{iconAfterText}}"{{/iconAfterText}}>{{text}}</span>\n{{{textHtml}}}\n</label>',events:{"click input[type=radio]":"select"},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){this.$el.html(i.render(this.template,this.model.attributes));var e=this.model.get("selected");return this.$el.toggleClass("is-selected",e).find("input:radio").attr("checked",e),this},select:function(){this.model.set("selected",!0),this.trigger("item:selected")}}),l=o.extend({selectedModel:null,isOpen:!1,tagName:"ul",className:"switcher group group--flush",_initialize:function(){this.setElement(this.queryOption("el")),this.buildOptions(this.queryOption("items")||[])},render:function(e){return this.collection.each(function(e){var t=new a({model:e});this.$el.append(t.render().el),this.listenTo(t,"item:selected",function(){this.handleOptionSelected(t.model),this.toggle()})}.bind(this)),this.$el.addClass(this.isOpen?"is-open":"is-closed"),this},buildOptions:function(e){var n=this,i=new s,o=t.uniqueId("switcher__");this.isOpen=!0,e.forEach(function(e){var t;if("object"!=typeof e)throw new TypeError("Switcher Items must be an object");t=new r({name:o,text:e.text,textHtml:e.textHtml,icon:e.icon,iconAfterText:e.iconAfterText,value:e.value,selected:e.selected}),t.get("selected")&&(n.selectedModel=t,n.isOpen=!1),i.add(t)}),this.collection=i},select:function(e){var t;e&&(t=this.collection.findWhere({value:e})),t?(t&&t.set("selected",!0),this.handleOptionSelected(t)):this.unselect()},handleOptionSelected:function(e){this.selectedModel!=e&&(this.selectedModel&&this.selectedModel.set("selected",!1),this.selectedModel=e,this.isOpen||this.updateObscuredOptions(),this._trigger("option:changed",e.get("value")))},unselect:function(){this.selectedModel&&(this.selectedModel.set("selected",!1),this.selectedModel=null,this._trigger("option:changed",null),this.open())},toggle:function(){this.isOpen?this.close():this.open()},open:function(){var e=this;this.isOpen||(this.$el.find(".group__item").slideDown(200,"swing",function(){e.$el.addClass("is-open").removeClass("is-closed")}),this.isOpen=!0,this._trigger("open"))},close:function(){var e=this;this.isOpen&&this.selectedModel&&(this.$el.find(".group__item.is-selected").siblings().slideToggle(200,"swing",function(){e.$el.addClass("is-closed").removeClass("is-open")}),this.isOpen=!1,this._trigger("close"))},updateObscuredOptions:function(){this.$el.find(".group__item.is-selected").css("display","").siblings().css("display","none")},getSelectedOption:function(){return this.selectedModel?this.selectedModel.get("value"):null}});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;!function(r,s){i=[n(492)],o=function(e){return s(r,e)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(window,function e(t,n){"use strict";function i(){}function o(){}var r=o.prototype=Object.create(n.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)};var s=t.navigator;return r._bindHandles=function(e){e=void 0===e||!!e;var t;t=s.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:s.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:i;for(var n=e?"addEventListener":"removeEventListener",o=0;o<this.handles.length;o++){var r=this.handles[o];this._bindStartEvent(r,e),t(r),r[n]("click",this)}},r.pointerDown=function(e,t){if("INPUT"==e.target.nodeName&&"range"==e.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,t);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},r._dragPointerDown=function(e,t){this.pointerDownPoint=n.getPointerPoint(t);var i=this.canPreventDefaultOnPointerDown(e,t);i&&e.preventDefault()},r.canPreventDefaultOnPointerDown=function(e){return"SELECT"!=e.target.nodeName},r.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},r._dragPointerMove=function(e,t){var i=n.getPointerPoint(t),o={x:i.x-this.pointerDownPoint.x,y:i.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(o)&&this._dragStart(e,t),o},r.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},r._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},r._dragStart=function(e,t){this.isDragging=!0,this.dragStartPoint=n.getPointerPoint(t),this.isPreventingClicks=!0,this.dragStart(e,t)},r.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},r._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},r.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},r._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},r.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},r.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},r._staticClick=function(e,t){if(!this.isIgnoringMouseUp||"mouseup"!=e.type){var n=e.target.nodeName;"INPUT"!=n&&"TEXTAREA"!=n||e.target.focus(),this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},r.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},o.getPointerPoint=n.getPointerPoint,o})},function(e,t,n){var i,o;!function(r,s){i=[n(476)],o=function(e){return s(r,e)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(window,function e(t,n){"use strict";function i(){}function o(){}var r=o.prototype=Object.create(n.prototype);r.bindStartEvent=function(e){this._bindStartEvent(e,!0)},r.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},r._bindStartEvent=function(e,n){n=void 0===n||!!n;var i=n?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[i]("pointerdown",this):t.navigator.msPointerEnabled?e[i]("MSPointerDown",this):(e[i]("mousedown",this),e[i]("touchstart",this))},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},r.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},r.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},r.onMSPointerDown=r.onpointerdown=function(e){this._pointerDown(e,e)},r._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},r.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var s={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return r._bindPostStartEvents=function(e){if(e){var n=s[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},r.onmousemove=function(e){this._pointerMove(e,e)},r.onMSPointerMove=r.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},r.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},r._pointerMove=function(e,t){this.pointerMove(e,t)},r.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},r.onmouseup=function(e){this._pointerUp(e,e)},r.onMSPointerUp=r.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},r.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},r._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},r._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},r.pointerDone=i,r.onMSPointerCancel=r.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},r.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},r._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},r.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},o.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},o})},function(e,t,n){(function(e){!function(e,t,n){VimeoPlayer={player:null,defaults:{videoId:"139480129",mute:!0,loop:!0,autoplay:!0},init:function t(n,i){var o=this;return o.userOptions=i,o.$node=e(n),o.options=e.extend(!0,{},o.defaults,o.userOptions),o.ID=(new Date).getTime(),o.createBackgroundVideo(),
o},createBackgroundVideo:function n(){var i=this,o="https://player.vimeo.com/video/{video-id}?title=0&byline=0&portrait=0&badge=0&autoplay={autoplay}&loop={loop}";o=o.replace("{video-id}",i.options.videoId),o=o.replace("{autoplay}",i.options.autoplay),o=o.replace("{loop}",i.options.loop);var r=e("<div/>",{class:"vimeoplayer-container",id:"vimeoplayer-container-"+i.ID}),s=e("<div/>",{class:"vimeoplayer-shield"}),a=e("<iframe/>",{src:o,id:i.ID,class:"vimeoplayer-player",frameborder:0});i.resize(a),r.append(a,s),i.$container=r,i.$node.append(r);var l=this.onIframeReady.bind(this);t.addEventListener?t.addEventListener("message",l,!1):t.attachEvent("onmessage",l,!1)},destroy:function(){var e=this;e.$node.removeData("VimeoPlayer"),e.$container.remove(),e.$node=null,e.$container=null},resize:function(e){var t=this.$node.outerWidth(),n=16/9,i=Math.ceil(t/n);e.prop({width:t,height:i})},onIframeReady:function(t){if("string"==typeof t.data){var n=this,i=JSON.parse(t.data);if("ready"===i.event&&n.volumeSet!==!0){n.volumeSet=!0;var o=e('iframe[id="'+n.ID+'"]'),r=n.options.mute?"0":"100",i=JSON.stringify({method:"setVolume",value:r});o[0].contentWindow.postMessage(i,o.attr("src"))}}}},e.fn.VimeoPlayer=function(t){return this.each(function(){var n=this,i=Object.create(VimeoPlayer);i.init(n,t),e.data(n,"VimeoPlayer",i)})}}(e,window,document)}).call(t,n(1))},function(e,t,n){(function(e){"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n){var i=function e(i){var r=n.createElement("script"),s=n.getElementsByTagName("head")[0];"file://"==t.location.origin?r.src="http://www.youtube.com/iframe_api":r.src="//www.youtube.com/iframe_api",s.appendChild(r),s=null,r=null,o(i)},o=function n(i){"undefined"==typeof YT&&"undefined"==typeof t.loadingPlayer?(t.loadingPlayer=!0,t.dfd=e.Deferred(),t.onYouTubeIframeAPIReady=function(){t.onYouTubeIframeAPIReady=null,t.dfd.resolve("done"),i()}):"object"==typeof YT?i():t.dfd.done(function(e){i()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:e(t).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function n(o,r){var s=this;return s.userOptions=r,s.$node=e(o),s.$window=e(t),s.defaults.events={onReady:function(e){s.onPlayerReady(e),s.options.pauseOnScroll&&s.pauseOnScroll(),"function"==typeof s.options.callback&&s.options.callback.call(this)},onStateChange:function(e){1===e.data?s.$node.addClass("loaded"):0===e.data&&s.options.repeat&&s.player.seekTo(s.options.start)}},s.options=e.extend(!0,{},s.defaults,s.userOptions),s.options.height=Math.ceil(s.options.width/s.options.ratio),s.ID=(new Date).getTime(),s.holderID="YTPlayer-ID-"+s.ID,s.createBackgroundVideo(),s.$window.on("resize.YTplayer"+s.ID,function(){s.resize(s)}),i(s.onYouTubeIframeAPIReady.bind(s)),s.resize(s),s},pauseOnScroll:function e(){var t=this;t.$window.on("scroll.YTplayer"+t.ID,function(){var e=t.player.getPlayerState();1===e&&t.player.pauseVideo()}),t.$window.scrollStopped(function(){var e=t.player.getPlayerState();2===e&&t.player.playVideo()})},createBackgroundVideo:function t(){var n=this,i=e('<div id="ytplayer-container'+n.ID+'">\t\t\t\t\t\t\t\t\t\t<div id="'+n.holderID+'" class="ytplayer-player"></div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div id="ytplayer-shield" class="ytplayer-shield"></div>');n.$node.append(i),n.$YTPlayerString=i,i=null},resize:function n(i){var o=e(t);i.options.fitToBackground||(o=i.$node);var r=o.outerWidth(),s=o.outerHeight(),a,l,c=e("#"+i.holderID);r/i.options.ratio<s?(a=Math.ceil(s*i.options.ratio),c.width(a).height(s).css({left:(r-a)/2,top:0})):(l=Math.ceil(r/i.options.ratio),c.width(r).height(l).css({left:0,top:(s-l)/2})),c=null,o=null},onYouTubeIframeAPIReady:function e(){var n=this;n.player=new t.YT.Player(n.holderID,n.options)},onPlayerReady:function e(t){this.options.mute&&t.target.mute(),this.options.playerVars&&this.options.playerVars.autoplay&&t.target.playVideo()},getPlayer:function e(){return this.player},destroy:function n(){var i=this;i.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),i.$YTPlayerString.remove(),e(t).off("resize.YTplayer"+i.ID),e(t).off("scroll.YTplayer"+i.ID),i.$node=null,i.$YTPlayerString=null,i.player.destroy(),i.player=null}},e.fn.scrollStopped=function(t){var n=e(this),i=this;n.scroll(function(){n.data("scrollTimeout")&&clearTimeout(n.data("scrollTimeout")),n.data("scrollTimeout",setTimeout(t,250,i))})},e.fn.YTPlayer=function(t){return this.each(function(){var n=this;e(n).data("yt-init",!0);var i=Object.create(YTPlayer);i.init(n,t),e.data(n,"ytPlayer",i)})}}(e,window,document)}).call(t,n(1))},,function(module,exports){!function(){function m(){return function(){}}function p(e){return function(){return this[e]}}function s(e){return function(){return e}}function u(e,t,n){if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),u.wa[e])return u.wa[e];e=u.v(e)}if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new u.w(e,t,n)}function D(e){e.t("vjs-lock-showing")}function E(e,t,n,i){return n!==b?(e.a.style[t]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",i||e.j("resize"),e):e.a?(n=e.a.style[t],i=n.indexOf("px"),-1!==i?parseInt(n.slice(0,i),10):parseInt(e.a["offset"+u.$(t)],10)):0}function F(e,t){var n,i,o,r;return n=e.a,i=u.Zc(n),r=o=n.offsetWidth,n=e.handle,e.g.Ad?(r=i.top,i=t.changedTouches?t.changedTouches[0].pageY:t.pageY,n&&(n=n.v().offsetHeight,r+=n/2,o-=n),Math.max(0,Math.min(1,(r-i+o)/o))):(o=i.left,i=t.changedTouches?t.changedTouches[0].pageX:t.pageX,n&&(n=n.v().offsetWidth,o+=n/2,r-=n),Math.max(0,Math.min(1,(i-o)/r)))}function ca(e,t){e.Z(t),t.d("click",u.bind(e,function(){D(this)}))}function H(e){e.oa=f,e.va.n("vjs-lock-showing"),e.a.setAttribute("aria-pressed",f),e.I&&0<e.I.length&&e.I[0].v().focus()}function G(e){e.oa=l,D(e.va),e.a.setAttribute("aria-pressed",l)}function da(e){var t={sources:[],tracks:[]};if(u.k.B(t,u.wb(e)),e.hasChildNodes()){var n,i,o,r;for(e=e.childNodes,o=0,r=e.length;o<r;o++)n=e[o],i=n.nodeName.toLowerCase(),"source"===i?t.sources.push(u.wb(n)):"track"===i&&t.tracks.push(u.wb(n))}return t}function J(e,t,n){e.h?(e.aa=l,e.h.D(),e.Db&&(e.Db=l,clearInterval(e.Qa)),e.Eb&&K(e),e.h=l):"Html5"!==t&&e.M&&(u.l.gc(e.M),e.M=j),e.ia=t,e.aa=l;var i=u.k.B({source:n,parentEl:e.a},e.g[t.toLowerCase()]);n&&(n.src==e.u.src&&0<e.u.currentTime&&(i.startTime=e.u.currentTime),e.u.src=n.src),e.h=new window.videojs[t](e,i),e.h.L(function(){if(this.b.Ta(),!this.m.progressEvents){var e=this.b;e.Db=f,e.Qa=setInterval(u.bind(e,function(){this.u.kb<this.buffered().end(0)?this.j("progress"):1==this.Ia()&&(clearInterval(this.Qa),this.j("progress"))}),500),e.h.U("progress",function(){this.m.progressEvents=f;var e=this.b;e.Db=l,clearInterval(e.Qa)})}this.m.timeupdateEvents||(e=this.b,e.Eb=f,e.d("play",e.Ac),e.d("pause",e.ya),e.h.U("timeupdate",function(){this.m.timeupdateEvents=f,K(this.b)}))})}function K(e){e.Eb=l,e.ya(),e.o("play",e.Ac),e.o("pause",e.ya)}function M(e,t,n){if(e.h&&!e.h.aa)e.h.L(function(){this[t](n)});else try{e.h[t](n)}catch(e){throw u.log(e),e}}function L(e,t){if(e.h&&e.h.aa)try{return e.h[t]()}catch(n){throw e.h[t]===b?u.log("Video.js: "+t+" method not defined for "+e.ia+" playback technology.",n):"TypeError"==n.name?(u.log("Video.js: "+t+" unavailable on "+e.ia+" playback technology element.",n),e.h.aa=l):u.log(n),n}}function N(e){e.ad=l,u.o(document,"keydown",e.ic),document.documentElement.style.overflow=e.Wc,u.t(document.body,"vjs-full-window"),e.j("exitFullWindow")}function I(e,t){return t!==b?(t=!!t,t!==e.Ob&&((e.Ob=t)?(e.ja=f,e.t("vjs-user-inactive"),e.n("vjs-user-active"),e.j("useractive")):(e.ja=l,e.h.U("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),e.t("vjs-user-active"),e.n("vjs-user-inactive"),e.j("userinactive"))),e):e.Ob}function ea(){var e=u.media.Ua[i];return function(){throw Error('The "'+e+"\" method is not available on the playback technology's API")}}function fa(){var e=S[U],t=e.charAt(0).toUpperCase()+e.slice(1);R["set"+t]=function(t){return this.a.vjs_setProperty(e,t)}}function V(e){R[e]=function(){return this.a.vjs_getProperty(e)}}function W(e){return e.za=e.za||[],e.za}function X(e,t,n){for(var i=e.za,o=0,r=i.length,s,a;o<r;o++)s=i[o],s.id()===t?(s.show(),a=s):n&&s.J()==n&&0<s.mode()&&s.disable();(t=a?a.J():n?n:l)&&e.j(t+"trackchange")}function Y(e){0===e.ha&&e.load(),0===e.ga&&(e.b.d("timeupdate",u.bind(e,e.update,e.Q)),e.b.d("ended",u.bind(e,e.reset,e.Q)),("captions"===e.A||"subtitles"===e.A)&&e.b.V.textTrackDisplay.Z(e))}function ga(e){var t=e.split(":");e=0;var n,i,o;return 3==t.length?(n=t[0],i=t[1],t=t[2]):(n=0,i=t[0],t=t[1]),t=t.split(/\s+/),t=t.splice(0,1)[0],t=t.split(/\.|,/),o=parseFloat(t[1]),t=t[0],e+=3600*parseFloat(n),e+=60*parseFloat(i),e+=parseFloat(t),o&&(e+=o/1e3),e}function $(e,t){var n=e.split("."),i=ha;!(n[0]in i)&&i.execScript&&i.execScript("var "+n[0]);for(var o;n.length&&(o=n.shift());)n.length||t===b?i=i[o]?i[o]:i[o]={}:i[o]=t}var b=void 0,f=!0,j=null,l=!1,t;document.createElement("video"),document.createElement("audio"),document.createElement("track");var v=u;window.Rd=window.Sd=u,u.Rb="4.2",u.Dc="https:"==document.location.protocol?"https://":"http://",u.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==u.Rb&&(v.options.flash.swf=u.Dc+"vjs.zencdn.net/"+u.Rb+"/video-js.swf"),u.wa={},u.ka=u.CoreObject=m(),u.ka.extend=function(e){var t,n;e=e||{},t=e.init||e.i||this.prototype.init||this.prototype.i||m(),n=function(){t.apply(this,arguments)},n.prototype=u.k.create(this.prototype),n.prototype.constructor=n,n.extend=u.ka.extend,n.create=u.ka.create;for(var i in e)e.hasOwnProperty(i)&&(n.prototype[i]=e[i]);return n},u.ka.create=function(){var e=u.k.create(this.prototype);return this.apply(e,arguments),e},u.d=function(e,t,n){var i=u.getData(e);i.z||(i.z={}),i.z[t]||(i.z[t]=[]),n.s||(n.s=u.s++),i.z[t].push(n),i.W||(i.disabled=l,i.W=function(t){if(!i.disabled){t=u.hc(t);var n=i.z[t.type];if(n)for(var n=n.slice(0),o=0,r=n.length;o<r&&!t.mc();o++)n[o].call(e,t)}}),1==i.z[t].length&&(document.addEventListener?e.addEventListener(t,i.W,l):document.attachEvent&&e.attachEvent("on"+t,i.W))},u.o=function(e,t,n){if(u.lc(e)){var i=u.getData(e);if(i.z)if(t){var o=i.z[t];if(o){if(n){if(n.s)for(i=0;i<o.length;i++)o[i].s===n.s&&o.splice(i--,1)}else i.z[t]=[];u.dc(e,t)}}else for(o in i.z)t=o,i.z[t]=[],u.dc(e,t)}},u.dc=function(e,t){var n=u.getData(e);0===n.z[t].length&&(delete n.z[t],document.removeEventListener?e.removeEventListener(t,n.W,l):document.detachEvent&&e.detachEvent("on"+t,n.W)),u.Ab(n.z)&&(delete n.z,delete n.W,delete n.disabled),u.Ab(n)&&u.sc(e)},u.hc=function(e){function t(){return f}function n(){return l}if(!e||!e.Bb){var i=e||window.event;e={};for(var o in i)"layerX"!==o&&"layerY"!==o&&(e[o]=i[o]);if(e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=l,e.zb=t},e.zb=n,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=f,e.Bb=t},e.Bb=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.mc=t,e.stopPropagation()},e.mc=n,e.clientX!=j){o=document.documentElement;var r=document.body;e.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!=j&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},u.j=function(e,t){var n=u.lc(e)?u.getData(e):{},i=e.parentNode||e.ownerDocument;return"string"==typeof t&&(t={type:t,target:e}),t=u.hc(t),n.W&&n.W.call(e,t),i&&!t.Bb()&&t.bubbles!==l?u.j(i,t):i||t.zb()||(n=u.getData(t.target),!t.target[t.type])||(n.disabled=f,"function"==typeof t.target[t.type]&&t.target[t.type](),n.disabled=l),!t.zb()},u.U=function(e,t,n){function i(){u.o(e,t,i),n.apply(this,arguments)}i.s=n.s=n.s||u.s++,u.d(e,t,i)};var w=Object.prototype.hasOwnProperty;u.e=function(e,t){var n,i;n=document.createElement(e||"div");for(i in t)w.call(t,i)&&(-1!==i.indexOf("aria-")||"role"==i?n.setAttribute(i,t[i]):n[i]=t[i]);return n},u.$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u.k={},u.k.create=Object.create||function(e){function t(){}return t.prototype=e,new t},u.k.ta=function(e,t,n){for(var i in e)w.call(e,i)&&t.call(n||this,i,e[i])},u.k.B=function(e,t){if(!t)return e;for(var n in t)w.call(t,n)&&(e[n]=t[n]);return e},u.k.fc=function(e,t){var n,i,o;e=u.k.copy(e);for(n in t)w.call(t,n)&&(i=e[n],o=t[n],e[n]=u.k.nc(i)&&u.k.nc(o)?u.k.fc(i,o):t[n]);return e},u.k.copy=function(e){return u.k.B({},e)},u.k.nc=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},u.bind=function(e,t,n){function i(){return t.apply(e,arguments)}return t.s||(t.s=u.s++),i.s=n?n+"_"+t.s:t.s,i},u.qa={},u.s=1,u.expando="vdata"+(new Date).getTime(),u.getData=function(e){var t=e[u.expando];return t||(t=e[u.expando]=u.s++,u.qa[t]={}),u.qa[t]},u.lc=function(e){return e=e[u.expando],!(!e||u.Ab(u.qa[e]))},u.sc=function(e){var t=e[u.expando];if(t){delete u.qa[t];try{delete e[u.expando]}catch(t){e.removeAttribute?e.removeAttribute(u.expando):e[u.expando]=j}}},u.Ab=function(e){for(var t in e)if(e[t]!==j)return l;return f},u.n=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},u.t=function(e,t){var n,i;if(-1!=e.className.indexOf(t)){for(n=e.className.split(" "),i=n.length-1;0<=i;i--)n[i]===t&&n.splice(i,1);e.className=n.join(" ")}},u.ma=u.e("video"),u.F=navigator.userAgent,u.Jc=/iPhone/i.test(u.F),u.Ic=/iPad/i.test(u.F),u.Kc=/iPod/i.test(u.F),u.Hc=u.Jc||u.Ic||u.Kc;var aa=u,x,y=u.F.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b,aa.Dd=x,u.Fc=/Android/i.test(u.F);var ba=u,z,A=u.F.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),B,C;A?(B=A[1]&&parseFloat(A[1]),C=A[2]&&parseFloat(A[2]),z=B&&C?parseFloat(A[1]+"."+A[2]):B?B:j):z=j,ba.Ec=z,u.Lc=u.Fc&&/webkit/i.test(u.F)&&2.3>u.Ec,u.Gc=/Firefox/i.test(u.F),u.Ed=/Chrome/i.test(u.F),u.Oc="ontouchstart"in window,u.wb=function(e){var t,n,i,o;if(t={},e&&e.attributes&&0<e.attributes.length){n=e.attributes;for(var r=n.length-1;0<=r;r--)i=n[r].name,o=n[r].value,"boolean"!=typeof e[i]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+i+",")||(o=o!==j?f:l),t[i]=o}return t},u.Id=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),n},u.yb=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},u.Nb={},u.v=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),document.getElementById(e)},u.Ka=function(e,t){t=t||e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),r=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||1/0===e)&&(o=i=n="-"),o=0<o||0<s?o+":":"",o+(((o||10<=r)&&10>i?"0"+i:i)+":")+(10>n?"0"+n:n)},u.Rc=function(){document.body.focus(),document.onselectstart=s(l)},u.zd=function(){document.onselectstart=s(f)},u.trim=function(e){return(e+"").replace(/^\s+|\s+$/g,"")},u.round=function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},u.sb=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},u.get=function(e,t,n){var i,o;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("This browser does not support XMLHttpRequest.")}),o=new XMLHttpRequest;try{o.open("GET",e)}catch(e){n(e)}i=0===e.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===e.indexOf("http"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||i&&0===o.status?t(o.responseText):n&&n())};try{o.send()}catch(e){n&&n(e)}},u.rd=function(e){try{var t=window.localStorage||l;t&&(t.volume=e)}catch(e){22==e.code||1014==e.code?u.log("LocalStorage Full (VideoJS)",e):18==e.code?u.log("LocalStorage not allowed (VideoJS)",e):u.log("LocalStorage Error (VideoJS)",e)}},u.jc=function(e){return e.match(/^https?:\/\//)||(e=u.e("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},u.log=function(){u.log.history=u.log.history||[],u.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},u.Zc=function(e){var t,n;return e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),t?(e=document.documentElement,n=document.body,{left:t.left+(window.pageXOffset||n.scrollLeft)-(e.clientLeft||n.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(e.clientTop||n.clientTop||0)}):{left:0,top:0}},u.c=u.ka.extend({i:function(e,t,n){if(this.b=e,this.g=u.k.copy(this.g),t=this.options(t),this.Q=t.id||(t.el&&t.el.id?t.el.id:e.id()+"_component_"+u.s++),this.ed=t.name||j,this.a=t.el||this.e(),this.G=[],this.pb={},this.V={},(e=this.g)&&e.children){var i=this;u.k.ta(e.children,function(e,t){t!==l&&!t.loadEvent&&(i[e]=i.Z(e,t))})}this.L(n)}}),t=u.c.prototype,t.D=function(){if(this.j("dispose"),this.G)for(var e=this.G.length-1;0<=e;e--)this.G[e].D&&this.G[e].D();this.V=this.pb=this.G=j,this.o(),this.a.parentNode&&this.a.parentNode.removeChild(this.a),u.sc(this.a),this.a=j},t.K=p("b"),t.options=function(e){return e===b?this.g:this.g=u.k.fc(this.g,e)},t.e=function(e,t){return u.e(e,t)},t.v=p("a"),t.id=p("Q"),t.name=p("ed"),t.children=p("G"),t.Z=function(e,t){var n,i;return"string"==typeof e?(i=e,t=t||{},n=t.componentClass||u.$(i),t.name=i,n=new window.videojs[n](this.b||this,t)):n=e,this.G.push(n),"function"==typeof n.id&&(this.pb[n.id()]=n),(i=i||n.name&&n.name())&&(this.V[i]=n),"function"==typeof n.el&&n.el()&&(this.ra||this.a).appendChild(n.el()),n},t.removeChild=function(e){if("string"==typeof e&&(e=this.V[e]),e&&this.G){for(var t=l,n=this.G.length-1;0<=n;n--)if(this.G[n]===e){t=f,this.G.splice(n,1);break}t&&(this.pb[e.id]=j,this.V[e.name]=j,(t=e.v())&&t.parentNode===(this.ra||this.a)&&(this.ra||this.a).removeChild(e.v()))}},t.T=s(""),t.d=function(e,t){return u.d(this.a,e,u.bind(this,t)),this},t.o=function(e,t){return u.o(this.a,e,t),this},t.U=function(e,t){return u.U(this.a,e,u.bind(this,t)),this},t.j=function(e,t){return u.j(this.a,e,t),this},t.L=function(e){return e&&(this.aa?e.call(this):(this.Ra===b&&(this.Ra=[]),this.Ra.push(e))),this},t.Ta=function(){this.aa=f;var e=this.Ra;if(e&&0<e.length){for(var t=0,n=e.length;t<n;t++)e[t].call(this);this.Ra=[],this.j("ready")}},t.n=function(e){return u.n(this.a,e),this},t.t=function(e){return u.t(this.a,e),this},t.show=function(){return this.a.style.display="block",this},t.C=function(){return this.a.style.display="none",this},t.disable=function(){this.C(),this.show=m()},t.width=function(e,t){return E(this,"width",e,t)},t.height=function(e,t){return E(this,"height",e,t)},t.Vc=function(e,t){return this.width(e,f).height(t)},u.q=u.c.extend({i:function(e,t){u.c.call(this,e,t);var n=l;this.d("touchstart",function(e){e.preventDefault(),n=f}),this.d("touchmove",function(){n=l});var i=this;this.d("touchend",function(e){n&&i.p(e),e.preventDefault()}),this.d("click",this.p),this.d("focus",this.Na),this.d("blur",this.Ma)}}),t=u.q.prototype,t.e=function(e,t){return t=u.k.B({className:this.T(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.pa||"Need Text")+"</span></div>",od:"button","aria-live":"polite",tabIndex:0},t),u.c.prototype.e.call(this,e,t)},t.T=function(){return"vjs-control "+u.c.prototype.T.call(this)},t.p=m(),t.Na=function(){u.d(document,"keyup",u.bind(this,this.ba))},t.ba=function(e){32!=e.which&&13!=e.which||(e.preventDefault(),this.p())},t.Ma=function(){u.o(document,"keyup",u.bind(this,this.ba))},u.O=u.c.extend({i:function(e,t){u.c.call(this,e,t),this.Qc=this.V[this.g.barName],this.handle=this.V[this.g.handleName],e.d(this.qc,u.bind(this,this.update)),this.d("mousedown",this.Oa),this.d("touchstart",this.Oa),this.d("focus",this.Na),this.d("blur",this.Ma),this.d("click",this.p),this.b.d("controlsvisible",u.bind(this,this.update)),e.L(u.bind(this,this.update)),this.P={}}}),t=u.O.prototype,t.e=function(e,t){return t=t||{},t.className+=" vjs-slider",t=u.k.B({od:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),u.c.prototype.e.call(this,e,t)},t.Oa=function(e){e.preventDefault(),u.Rc(),this.P.move=u.bind(this,this.Gb),this.P.end=u.bind(this,this.Hb),u.d(document,"mousemove",this.P.move),u.d(document,"mouseup",this.P.end),u.d(document,"touchmove",this.P.move),u.d(document,"touchend",this.P.end),this.Gb(e)},t.Hb=function(){u.zd(),u.o(document,"mousemove",this.P.move,l),u.o(document,"mouseup",this.P.end,l),u.o(document,"touchmove",this.P.move,l),u.o(document,"touchend",this.P.end,l),this.update()},t.update=function(){if(this.a){var e,t=this.xb(),n=this.handle,i=this.Qc;if(isNaN(t)&&(t=0),e=t,n){e=this.a.offsetWidth;var o=n.v().offsetWidth;e=o?o/e:0,t*=1-e,e=t+e/2,n.v().style.left=u.round(100*t,2)+"%"}i.v().style.width=u.round(100*e,2)+"%"}},t.Na=function(){u.d(document,"keyup",u.bind(this,this.ba))},t.ba=function(e){37==e.which?(e.preventDefault(),this.wc()):39==e.which&&(e.preventDefault(),this.xc())},t.Ma=function(){u.o(document,"keyup",u.bind(this,this.ba))},t.p=function(e){e.stopImmediatePropagation(),e.preventDefault()},u.ea=u.c.extend(),u.ea.prototype.defaultValue=0,u.ea.prototype.e=function(e,t){return t=t||{},t.className+=" vjs-slider-handle",t=u.k.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t),u.c.prototype.e.call(this,"div",t)},u.la=u.c.extend(),u.la.prototype.e=function(){var e=this.options().Tc||"ul";return this.ra=u.e(e,{className:"vjs-menu-content"}),e=u.c.prototype.e.call(this,"div",{append:this.ra,className:"vjs-menu"}),e.appendChild(this.ra),u.d(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},u.N=u.q.extend({i:function(e,t){u.q.call(this,e,t),this.selected(t.selected)}}),u.N.prototype.e=function(e,t){return u.q.prototype.e.call(this,"li",u.k.B({className:"vjs-menu-item",innerHTML:this.g.label},t))},u.N.prototype.p=function(){this.selected(f)},u.N.prototype.selected=function(e){e?(this.n("vjs-selected"),this.a.setAttribute("aria-selected",f)):(this.t("vjs-selected"),this.a.setAttribute("aria-selected",l))},u.R=u.q.extend({i:function(e,t){u.q.call(this,e,t),this.va=this.Ja(),this.Z(this.va),this.I&&0===this.I.length&&this.C(),this.d("keyup",this.ba),this.a.setAttribute("aria-haspopup",f),this.a.setAttribute("role","button")}}),t=u.R.prototype,t.oa=l,t.Ja=function(){var e=new u.la(this.b);if(this.options().title&&e.v().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.$(this.A),xd:-1})),this.I=this.createItems())for(var t=0;t<this.I.length;t++)ca(e,this.I[t]);return e},t.sa=m(),t.T=function(){return this.className+" vjs-menu-button "+u.q.prototype.T.call(this)},t.Na=m(),t.Ma=m(),t.p=function(){this.U("mouseout",u.bind(this,function(){D(this.va),this.a.blur()})),this.oa?G(this):H(this)},t.ba=function(e){e.preventDefault(),32==e.which||13==e.which?this.oa?G(this):H(this):27==e.which&&this.oa&&G(this)},u.w=u.c.extend({i:function(e,t,n){this.M=e,t=u.k.B(da(e),t),this.u={},this.rc=t.poster,this.rb=t.controls,e.controls=l,u.c.call(this,this,t,n),this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled"),this.U("play",function(e){u.j(this.a,{type:"firstplay",target:this.a})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}),this.d("ended",this.fd),this.d("play",this.Jb),this.d("firstplay",this.gd),this.d("pause",this.Ib),this.d("progress",this.jd),this.d("durationchange",this.pc),this.d("error",this.Fb),this.d("fullscreenchange",this.hd),u.wa[this.Q]=this,t.plugins&&u.k.ta(t.plugins,function(e,t){this[e](t)},this);var i,o,r,s;i=this.tc,e=function(){i(),clearInterval(o),o=setInterval(u.bind(this,i),250)},t=function(){i(),clearInterval(o)},this.d("mousedown",e),this.d("mousemove",i),this.d("mouseup",t),this.d("keydown",i),this.d("keyup",i),this.d("touchstart",e),this.d("touchmove",i),this.d("touchend",t),this.d("touchcancel",t),r=setInterval(u.bind(this,function(){this.ja&&(this.ja=l,I(this,f),clearTimeout(s),s=setTimeout(u.bind(this,function(){this.ja||I(this,l)}),2e3))}),250),this.d("dispose",function(){clearInterval(r),clearTimeout(s)})}}),t=u.w.prototype,t.g=u.options,t.D=function(){this.j("dispose"),this.o("dispose"),u.wa[this.Q]=j,this.M&&this.M.player&&(this.M.player=j),this.a&&this.a.player&&(this.a.player=j),clearInterval(this.Qa),this.ya(),this.h&&this.h.D(),u.c.prototype.D.call(this)},t.e=function(){var e=this.a=u.c.prototype.e.call(this,"div"),t=this.M;if(t.removeAttribute("width"),t.removeAttribute("height"),t.hasChildNodes()){var n,i,o,r,s;for(n=t.childNodes,i=n.length,s=[];i--;)o=n[i],r=o.nodeName.toLowerCase(),"track"===r&&s.push(o);for(n=0;n<s.length;n++)t.removeChild(s[n])}return t.id=t.id||"vjs_video_"+u.s++,e.id=t.id,e.className=t.className,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.n("vjs-paused"),this.width(this.g.width,f),this.height(this.g.height,f),t.parentNode&&t.parentNode.insertBefore(e,t),u.yb(t,e),e},t.Ac=function(){this.ec&&this.ya(),this.ec=setInterval(u.bind(this,function(){this.j("timeupdate")}),250)},t.ya=function(){clearInterval(this.ec)},t.fd=function(){this.g.loop&&(this.currentTime(0),this.play())},t.Jb=function(){u.t(this.a,"vjs-paused"),u.n(this.a,"vjs-playing")},t.gd=function(){this.g.starttime&&this.currentTime(this.g.starttime),this.n("vjs-has-started")},t.Ib=function(){u.t(this.a,"vjs-playing"),u.n(this.a,"vjs-paused")},t.jd=function(){1==this.Ia()&&this.j("loadedalldata")},t.pc=function(){this.duration(L(this,"duration"))},t.Fb=function(e){u.log("Video Error",e)},t.hd=function(){this.H?this.n("vjs-fullscreen"):this.t("vjs-fullscreen")},t.play=function(){return M(this,"play"),this},t.pause=function(){return M(this,"pause"),this},t.paused=function(){return L(this,"paused")===l?l:f},t.currentTime=function(e){return e!==b?(this.u.oc=e,M(this,"setCurrentTime",e),this.Eb&&this.j("timeupdate"),this):this.u.currentTime=L(this,"currentTime")||0},t.duration=function(e){return e!==b?(this.u.duration=parseFloat(e),this):(this.u.duration===b&&this.pc(),this.u.duration)},t.buffered=function(){var e=L(this,"buffered"),t=e.length-1,n=this.u.kb=this.u.kb||0;return e&&0<=t&&e.end(t)!==n&&(n=e.end(t),this.u.kb=n),u.sb(0,n)},t.Ia=function(){return this.duration()?this.buffered().end(0)/this.duration():0},t.volume=function(e){return e!==b?(e=Math.max(0,Math.min(1,parseFloat(e))),this.u.volume=e,M(this,"setVolume",e),u.rd(e),this):(e=parseFloat(L(this,"volume")),isNaN(e)?1:e)},t.muted=function(e){return e!==b?(M(this,"setMuted",e),this):L(this,"muted")||l},t.Sa=function(){return L(this,"supportsFullScreen")||l},t.xa=function(){var e=u.Nb.xa;return this.H=f,e?(u.d(document,e.ub,u.bind(this,function(t){this.H=document[e.H],this.H===l&&u.o(document,e.ub,arguments.callee),this.j("fullscreenchange")})),this.a[e.uc]()):this.h.Sa()?M(this,"enterFullScreen"):(this.ad=f,this.Wc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.ic)),document.documentElement.style.overflow="hidden",u.n(document.body,"vjs-full-window"),this.j("enterFullWindow"),this.j("fullscreenchange")),this},t.nb=function(){var e=u.Nb.xa;return this.H=l,e?document[e.mb]():this.h.Sa()?M(this,"exitFullScreen"):(N(this),this.j("fullscreenchange")),this},t.ic=function(e){27===e.keyCode&&(this.H===f?this.nb():N(this))},t.src=function(e){if(e instanceof Array){var t;e:{t=e;for(var n=0,i=this.g.techOrder;n<i.length;n++){var o=u.$(i[n]),r=window.videojs[o];if(r.isSupported())for(var s=0,a=t;s<a.length;s++){var c=a[s];if(r.canPlaySource(c)){t={source:c,h:o};break e}}}t=l}t?(e=t.source,t=t.h,t==this.ia?this.src(e):J(this,t,e)):this.a.appendChild(u.e("p",{innerHTML:this.options().notSupportedMessage}))}else e instanceof Object?window.videojs[this.ia].canPlaySource(e)?this.src(e.src):this.src([e]):(this.u.src=e,this.aa?(M(this,"src",e),"auto"==this.g.preload&&this.load(),this.g.autoplay&&this.play()):this.L(function(){this.src(e)}));return this},t.load=function(){return M(this,"load"),this},t.currentSrc=function(){return L(this,"currentSrc")||this.u.src||""},t.Pa=function(e){return e!==b?(M(this,"setPreload",e),this.g.preload=e,this):L(this,"preload")},t.autoplay=function(e){return e!==b?(M(this,"setAutoplay",e),this.g.autoplay=e,this):L(this,"autoplay")},t.loop=function(e){return e!==b?(M(this,"setLoop",e),this.g.loop=e,this):L(this,"loop")},t.poster=function(e){return e!==b&&(this.rc=e),this.rc},t.controls=function(e){return e!==b?(e=!!e,this.rb!==e&&((this.rb=e)?(this.t("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.j("controlsenabled")):(this.t("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.j("controlsdisabled"))),this):this.rb},u.w.prototype.Qb,t=u.w.prototype,t.Pb=function(e){return e!==b?(e=!!e,this.Qb!==e&&((this.Qb=e)?(this.n("vjs-using-native-controls"),this.j("usingnativecontrols")):(this.t("vjs-using-native-controls"),this.j("usingcustomcontrols"))),this):this.Qb},t.error=function(){return L(this,"error")},t.seeking=function(){return L(this,"seeking")},t.ja=f,t.tc=function(){this.ja=f},t.Ob=f;var O,P,Q;Q=document.createElement("div"),P={},Q.Fd!==b?(P.uc="requestFullscreen",P.mb="exitFullscreen",P.ub="fullscreenchange",P.H="fullScreen"):(document.mozCancelFullScreen?(O="moz",P.H=O+"FullScreen"):(O="webkit",P.H=O+"IsFullScreen"),Q[O+"RequestFullScreen"]&&(P.uc=O+"RequestFullScreen",P.mb=O+"CancelFullScreen"),P.ub=O+"fullscreenchange"),document[P.mb]&&(u.Nb.xa=P),u.Ea=u.c.extend(),u.Ea.prototype.g={Kd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},u.Ea.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})},u.Wb=u.q.extend({i:function(e,t){u.q.call(this,e,t),e.d("play",u.bind(this,this.Jb)),e.d("pause",u.bind(this,this.Ib))}}),t=u.Wb.prototype,t.pa="Play",t.T=function(){return"vjs-play-control "+u.q.prototype.T.call(this)},t.p=function(){this.b.paused()?this.b.play():this.b.pause()},t.Jb=function(){u.t(this.a,"vjs-paused"),u.n(this.a,"vjs-playing"),this.a.children[0].children[0].innerHTML="Pause"},t.Ib=function(){u.t(this.a,"vjs-playing"),u.n(this.a,"vjs-paused"),this.a.children[0].children[0].innerHTML="Play"},u.Xa=u.c.extend({i:function(e,t){u.c.call(this,e,t),e.d("timeupdate",u.bind(this,this.Ba))}}),u.Xa.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(u.e("div").appendChild(this.content)),e},u.Xa.prototype.Ba=function(){var e=this.b.Lb?this.b.u.currentTime:this.b.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.Ka(e,this.b.duration());
},u.Ya=u.c.extend({i:function(e,t){u.c.call(this,e,t),e.d("timeupdate",u.bind(this,this.Ba))}}),u.Ya.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),e.appendChild(u.e("div").appendChild(this.content)),e},u.Ya.prototype.Ba=function(){var e=this.b.duration();e&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.Ka(e))},u.$b=u.c.extend({i:function(e,t){u.c.call(this,e,t)}}),u.$b.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},u.eb=u.c.extend({i:function(e,t){u.c.call(this,e,t),e.d("timeupdate",u.bind(this,this.Ba))}}),u.eb.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),e.appendChild(u.e("div").appendChild(this.content)),e},u.eb.prototype.Ba=function(){this.b.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.Ka(this.b.duration()-this.b.currentTime()))},u.Fa=u.q.extend({i:function(e,t){u.q.call(this,e,t)}}),u.Fa.prototype.pa="Fullscreen",u.Fa.prototype.T=function(){return"vjs-fullscreen-control "+u.q.prototype.T.call(this)},u.Fa.prototype.p=function(){this.b.H?(this.b.nb(),this.a.children[0].children[0].innerHTML="Fullscreen"):(this.b.xa(),this.a.children[0].children[0].innerHTML="Non-Fullscreen")},u.cb=u.c.extend({i:function(e,t){u.c.call(this,e,t)}}),u.cb.prototype.g={children:{seekBar:{}}},u.cb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},u.Xb=u.O.extend({i:function(e,t){u.O.call(this,e,t),e.d("timeupdate",u.bind(this,this.Aa)),e.L(u.bind(this,this.Aa))}}),t=u.Xb.prototype,t.g={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},t.qc="timeupdate",t.e=function(){return u.O.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},t.Aa=function(){var e=this.b.Lb?this.b.u.currentTime:this.b.currentTime();this.a.setAttribute("aria-valuenow",u.round(100*this.xb(),2)),this.a.setAttribute("aria-valuetext",u.Ka(e,this.b.duration()))},t.xb=function(){var e;return"Flash"===this.b.ia&&this.b.seeking()?(e=this.b.u,e=e.oc?e.oc:this.b.currentTime()):e=this.b.currentTime(),e/this.b.duration()},t.Oa=function(e){u.O.prototype.Oa.call(this,e),this.b.Lb=f,this.Bd=!this.b.paused(),this.b.pause()},t.Gb=function(e){e=F(this,e)*this.b.duration(),e==this.b.duration()&&(e-=.1),this.b.currentTime(e)},t.Hb=function(e){u.O.prototype.Hb.call(this,e),this.b.Lb=l,this.Bd&&this.b.play()},t.xc=function(){this.b.currentTime(this.b.currentTime()+5)},t.wc=function(){this.b.currentTime(this.b.currentTime()-5)},u.$a=u.c.extend({i:function(e,t){u.c.call(this,e,t),e.d("progress",u.bind(this,this.update))}}),u.$a.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},u.$a.prototype.update=function(){this.a.style&&(this.a.style.width=u.round(100*this.b.Ia(),2)+"%")},u.Vb=u.c.extend({i:function(e,t){u.c.call(this,e,t)}}),u.Vb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},u.fb=u.ea.extend(),u.fb.prototype.defaultValue="00:00",u.fb.prototype.e=function(){return u.ea.prototype.e.call(this,"div",{className:"vjs-seek-handle"})},u.hb=u.c.extend({i:function(e,t){u.c.call(this,e,t),e.h&&e.h.m&&e.h.m.volumeControl===l&&this.n("vjs-hidden"),e.d("loadstart",u.bind(this,function(){e.h.m&&e.h.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}}),u.hb.prototype.g={children:{volumeBar:{}}},u.hb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},u.gb=u.O.extend({i:function(e,t){u.O.call(this,e,t),e.d("volumechange",u.bind(this,this.Aa)),e.L(u.bind(this,this.Aa)),setTimeout(u.bind(this,this.update),0)}}),t=u.gb.prototype,t.Aa=function(){this.a.setAttribute("aria-valuenow",u.round(100*this.b.volume(),2)),this.a.setAttribute("aria-valuetext",u.round(100*this.b.volume(),2)+"%")},t.g={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},t.qc="volumechange",t.e=function(){return u.O.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},t.Gb=function(e){this.b.volume(F(this,e))},t.xb=function(){return this.b.muted()?0:this.b.volume()},t.xc=function(){this.b.volume(this.b.volume()+.1)},t.wc=function(){this.b.volume(this.b.volume()-.1)},u.ac=u.c.extend({i:function(e,t){u.c.call(this,e,t)}}),u.ac.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},u.ib=u.ea.extend(),u.ib.prototype.defaultValue="00:00",u.ib.prototype.e=function(){return u.ea.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},u.da=u.q.extend({i:function(e,t){u.q.call(this,e,t),e.d("volumechange",u.bind(this,this.update)),e.h&&e.h.m&&e.h.m.volumeControl===l&&this.n("vjs-hidden"),e.d("loadstart",u.bind(this,function(){e.h.m&&e.h.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}}),u.da.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.da.prototype.p=function(){this.b.muted(this.b.muted()?l:f)},u.da.prototype.update=function(){var e=this.b.volume(),t=3;for(0===e||this.b.muted()?t=0:.33>e?t=1:.67>e&&(t=2),this.b.muted()?"Unmute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Mute"),e=0;4>e;e++)u.t(this.a,"vjs-vol-"+e);u.n(this.a,"vjs-vol-"+t)},u.na=u.R.extend({i:function(e,t){u.R.call(this,e,t),e.d("volumechange",u.bind(this,this.update)),e.h&&e.h.m&&e.h.m.Bc===l&&this.n("vjs-hidden"),e.d("loadstart",u.bind(this,function(){e.h.m&&e.h.m.Bc===l?this.n("vjs-hidden"):this.t("vjs-hidden")})),this.n("vjs-menu-button")}}),u.na.prototype.Ja=function(){var e=new u.la(this.b,{Tc:"div"}),t=new u.gb(this.b,u.k.B({Ad:f},this.g.Td));return e.Z(t),e},u.na.prototype.p=function(){u.da.prototype.p.call(this),u.R.prototype.p.call(this)},u.na.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.na.prototype.update=u.da.prototype.update,u.bb=u.q.extend({i:function(e,t){u.q.call(this,e,t),(!e.poster()||!e.controls())&&this.C(),e.d("play",u.bind(this,this.C))}}),u.bb.prototype.e=function(){var e=u.e("div",{className:"vjs-poster",tabIndex:-1}),t=this.b.poster();return t&&("backgroundSize"in e.style?e.style.backgroundImage='url("'+t+'")':e.appendChild(u.e("img",{src:t}))),e},u.bb.prototype.p=function(){this.K().controls()&&this.b.play()},u.Ub=u.c.extend({i:function(e,t){u.c.call(this,e,t),e.d("canplay",u.bind(this,this.C)),e.d("canplaythrough",u.bind(this,this.C)),e.d("playing",u.bind(this,this.C)),e.d("seeked",u.bind(this,this.C)),e.d("seeking",u.bind(this,this.show)),e.d("seeked",u.bind(this,this.C)),e.d("error",u.bind(this,this.show)),e.d("waiting",u.bind(this,this.show))}}),u.Ub.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},u.Va=u.q.extend(),u.Va.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})},u.Va.prototype.p=function(){this.b.play()},u.r=u.c.extend({i:function(e,t,n){u.c.call(this,e,t,n);var i,o;o=this,i=this.K(),e=function(){if(i.controls()&&!i.Pb()){var e,t;o.d("mousedown",o.p),o.d("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t=I(this.b)}),e=function(e){e.stopPropagation(),t&&this.b.tc()},o.d("touchmove",e),o.d("touchleave",e),o.d("touchcancel",e),o.d("touchend",e);var n,r,s;n=0,o.d("touchstart",function(){n=(new Date).getTime(),s=f}),e=function(){s=l},o.d("touchmove",e),o.d("touchleave",e),o.d("touchcancel",e),o.d("touchend",function(){s===f&&(r=(new Date).getTime()-n,250>r&&this.j("tap"))}),o.d("tap",o.kd)}},t=u.bind(o,o.nd),this.L(e),i.d("controlsenabled",e),i.d("controlsdisabled",t)}}),u.r.prototype.nd=function(){this.o("tap"),this.o("touchstart"),this.o("touchmove"),this.o("touchleave"),this.o("touchcancel"),this.o("touchend"),this.o("click"),this.o("mousedown")},u.r.prototype.p=function(e){0===e.button&&this.K().controls()&&(this.K().paused()?this.K().play():this.K().pause())},u.r.prototype.kd=function(){I(this.K(),!I(this.K()))},u.r.prototype.m={volumeControl:f,fullscreenResize:l,progressEvents:l,timeupdateEvents:l},u.media={},u.media.Ua="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");for(var i=u.media.Ua.length-1;0<=i;i--)u.r.prototype[u.media.Ua[i]]=ea();u.l=u.r.extend({i:function(e,t,n){if(this.m.volumeControl=u.l.Sc(),this.m.movingMediaElementInDOM=!u.Hc,this.m.fullscreenResize=f,u.r.call(this,e,t,n),(t=t.source)&&this.a.currentSrc===t.src&&0<this.a.networkState?e.j("loadstart"):t&&(this.a.src=t.src),u.Oc&&e.options().nativeControlsForTouch!==l){var i,o,r,s;i=this,o=this.K(),t=o.controls(),i.a.controls=!!t,r=function(){i.a.controls=f},s=function(){i.a.controls=l},o.d("controlsenabled",r),o.d("controlsdisabled",s),t=function(){o.o("controlsenabled",r),o.o("controlsdisabled",s)},i.d("dispose",t),o.d("usingcustomcontrols",t),o.Pb(f)}for(e.L(function(){this.M&&this.g.autoplay&&this.paused()&&(delete this.M.poster,this.play())}),e=u.l.Za.length-1;0<=e;e--)u.d(this.a,u.l.Za[e],u.bind(this.b,this.Yc));this.Ta()}}),t=u.l.prototype,t.D=function(){u.r.prototype.D.call(this)},t.e=function(){var e=this.b,t=e.M,n;t&&this.m.movingMediaElementInDOM!==l||(t?(n=t.cloneNode(l),u.l.gc(t),t=n,e.M=j):t=u.e("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),t.player=e,u.yb(t,e.v())),n=["autoplay","preload","loop","muted"];for(var i=n.length-1;0<=i;i--){var o=n[i];e.g[o]!==j&&(t[o]=e.g[o])}return t},t.Yc=function(e){this.j(e),e.stopPropagation()},t.play=function(){this.a.play()},t.pause=function(){this.a.pause()},t.paused=function(){return this.a.paused},t.currentTime=function(){return this.a.currentTime},t.qd=function(e){try{this.a.currentTime=e}catch(e){u.log(e,"Video is not ready. (Video.js)")}},t.duration=function(){return this.a.duration||0},t.buffered=function(){return this.a.buffered},t.volume=function(){return this.a.volume},t.vd=function(e){this.a.volume=e},t.muted=function(){return this.a.muted},t.td=function(e){this.a.muted=e},t.width=function(){return this.a.offsetWidth},t.height=function(){return this.a.offsetHeight},t.Sa=function(){return"function"!=typeof this.a.webkitEnterFullScreen||!/Android/.test(u.F)&&/Chrome|Mac OS X 10.5/.test(u.F)?l:f},t.src=function(e){this.a.src=e},t.load=function(){this.a.load()},t.currentSrc=function(){return this.a.currentSrc},t.Pa=function(){return this.a.Pa},t.ud=function(e){this.a.Pa=e},t.autoplay=function(){return this.a.autoplay},t.pd=function(e){this.a.autoplay=e},t.controls=function(){return this.a.controls},t.loop=function(){return this.a.loop},t.sd=function(e){this.a.loop=e},t.error=function(){return this.a.error},t.seeking=function(){return this.a.seeking},u.l.isSupported=function(){return!!u.ma.canPlayType},u.l.lb=function(e){try{return!!u.ma.canPlayType(e.type)}catch(e){return""}},u.l.Sc=function(){var e=u.ma.volume;return u.ma.volume=e/2+.1,e!==u.ma.volume},u.l.Za="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),u.l.gc=function(e){if(e){for(e.player=j,e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&e.load()}},u.Lc&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&-1!=e.toLowerCase().indexOf("video/mp4")?"maybe":""}),u.f=u.r.extend({i:function(e,t,n){u.r.call(this,e,t,n);var i=t.source;n=t.parentEl;var o=this.a=u.e("div",{id:e.id()+"_temp_flash"}),r=e.id()+"_flash_api";e=e.g;var s=u.k.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.Pa,loop:e.loop,muted:e.muted},t.flashVars),a=u.k.B({wmode:"opaque",bgcolor:"#000000"},t.params),l=u.k.B({id:r,name:r,class:"vjs-tech"},t.attributes);if(i&&(i.type&&u.f.cd(i.type)?(e=u.f.yc(i.src),s.rtmpConnection=encodeURIComponent(e.qb),s.rtmpStream=encodeURIComponent(e.Mb)):s.src=encodeURIComponent(u.jc(i.src))),u.yb(o,n),t.startTime&&this.L(function(){this.load(),this.play(),this.currentTime(t.startTime)}),t.iFrameMode!==f||u.Gc)u.f.Xc(t.swf,o,s,a,l);else{var c=u.e("iframe",{id:r+"_iframe",name:r+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});s.readyFunction="ready",s.eventProxyFunction="events",s.errorEventProxyFunction="errors",u.d(c,"load",u.bind(this,function(){var e,n=c.contentWindow;e=c.contentDocument?c.contentDocument:c.contentWindow.document,e.write(u.f.kc(t.swf,s,a,l)),n.player=this.b,n.ready=u.bind(this.b,function(t){var n=this.h;n.a=e.getElementById(t),u.f.ob(n)}),n.events=u.bind(this.b,function(e,t){this&&"flash"===this.ia&&this.j(t)}),n.errors=u.bind(this.b,function(e,t){u.log("Flash Error",t)})})),o.parentNode.replaceChild(c,o)}}}),t=u.f.prototype,t.D=function(){u.r.prototype.D.call(this)},t.play=function(){this.a.vjs_play()},t.pause=function(){this.a.vjs_pause()},t.src=function(e){if(u.f.bd(e)?(e=u.f.yc(e),this.Od(e.qb),this.Pd(e.Mb)):(e=u.jc(e),this.a.vjs_src(e)),this.b.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},t.currentSrc=function(){var e=this.a.vjs_getProperty("currentSrc");if(e==j){var t=this.Md(),n=this.Nd();t&&n&&(e=u.f.wd(t,n))}return e},t.load=function(){this.a.vjs_load()},t.poster=function(){this.a.vjs_getProperty("poster")},t.buffered=function(){return u.sb(0,this.a.vjs_getProperty("buffered"))},t.Sa=s(l);var R=u.f.prototype,S="rtmpConnection rtmpStream preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),T="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),U;for(U=0;U<S.length;U++)V(S[U]),fa();for(U=0;U<T.length;U++)V(T[U]);if(u.f.isSupported=function(){return 10<=u.f.version()[0]},u.f.lb=function(e){if(e.type in u.f.$c||e.type in u.f.zc)return"maybe"},u.f.$c={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},u.f.zc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},u.f.onReady=function(e){e=u.v(e);var t=e.player||e.parentNode.player,n=t.h;e.player=t,n.a=e,u.f.ob(n)},u.f.ob=function(e){e.v().vjs_getProperty?e.Ta():setTimeout(function(){u.f.ob(e)},50)},u.f.onEvent=function(e,t){u.v(e).player.j(t)},u.f.onError=function(e,t){u.v(e).player.j("error"),u.log("Flash Error",t,e)},u.f.version=function(){var e="0,0,0";try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},u.f.Xc=function(e,t,n,i,o){e=u.f.kc(e,n,i,o),e=u.e("div",{innerHTML:e}).childNodes[0],n=t.parentNode,t.parentNode.replaceChild(e,t);var r=n.childNodes[0];setTimeout(function(){r.style.display="block"},1e3)},u.f.kc=function(e,t,n,i){var o="",r="",s="";return t&&u.k.ta(t,function(e,t){o+=e+"="+t+"&amp;"}),n=u.k.B({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),u.k.ta(n,function(e,t){r+='<param name="'+e+'" value="'+t+'" />'}),i=u.k.B({data:e,width:"100%",height:"100%"},i),u.k.ta(i,function(e,t){s+=e+'="'+t+'" '}),'<object type="application/x-shockwave-flash"'+s+">"+r+"</object>"},u.f.wd=function(e,t){return e+"&"+t},u.f.yc=function(e){var t={qb:"",Mb:""};if(!e)return t;var n=e.indexOf("&"),i;return-1!==n?i=n+1:(n=i=e.lastIndexOf("/")+1,0===n&&(n=i=e.length)),t.qb=e.substring(0,n),t.Mb=e.substring(i,e.length),t},u.f.cd=function(e){return e in u.f.zc},u.f.Nc=/^rtmp[set]?:\/\//i,u.f.bd=function(e){return u.f.Nc.test(e)},u.Mc=u.c.extend({i:function(e,t,n){if(u.c.call(this,e,t,n),e.g.sources&&0!==e.g.sources.length)e.src(e.g.sources);else for(t=0,n=e.g.techOrder;t<n.length;t++){var i=u.$(n[t]),o=window.videojs[i];if(o&&o.isSupported()){J(e,i);break}}}}),u.X=u.c.extend({i:function(e,t){u.c.call(this,e,t),this.Q=t.id||"vjs_"+t.kind+"_"+t.language+"_"+u.s++,this.vc=t.src,this.Uc=t.default||t.dflt,this.yd=t.title,this.Jd=t.srclang,this.dd=t.label,this.fa=[],this.bc=[],this.ga=this.ha=0,this.b.d("fullscreenchange",u.bind(this,this.Pc))}}),t=u.X.prototype,t.J=p("A"),t.src=p("vc"),t.tb=p("Uc"),t.title=p("yd"),t.label=p("dd"),t.readyState=p("ha"),t.mode=p("ga"),t.Pc=function(){this.a.style.fontSize=this.b.H?140*(screen.width/this.b.width())+"%":""},t.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})},t.show=function(){Y(this),this.ga=2,u.c.prototype.show.call(this)},t.C=function(){Y(this),this.ga=1,u.c.prototype.C.call(this)},t.disable=function(){2==this.ga&&this.C(),this.b.o("timeupdate",u.bind(this,this.update,this.Q)),this.b.o("ended",u.bind(this,this.reset,this.Q)),this.reset(),this.b.V.textTrackDisplay.removeChild(this),this.ga=0},t.load=function(){0===this.ha&&(this.ha=1,u.get(this.vc,u.bind(this,this.ld),u.bind(this,this.Fb)))},t.Fb=function(e){this.error=e,this.ha=3,this.j("error")},t.ld=function(e){var t,n;e=e.split("\n");for(var i="",o=1,r=e.length;o<r;o++)if(i=u.trim(e[o])){for(-1==i.indexOf("-->")?(t=i,i=u.trim(e[++o])):t=this.fa.length,t={id:t,index:this.fa.length},n=i.split(" --> "),t.startTime=ga(n[0]),t.ua=ga(n[1]),n=[];e[++o]&&(i=u.trim(e[o]));)n.push(i);t.text=n.join("<br/>"),this.fa.push(t)}this.ha=2,this.j("loaded")},t.update=function(){if(0<this.fa.length){var e=this.b.currentTime();if(this.Kb===b||e<this.Kb||this.La<=e){var t=this.fa,n=this.b.duration(),i=0,o=l,r=[],s,a,c,u;for(e>=this.La||this.La===b?u=this.vb!==b?this.vb:0:(o=f,u=this.Cb!==b?this.Cb:t.length-1);;){if(c=t[u],c.ua<=e)i=Math.max(i,c.ua),c.Ha&&(c.Ha=l);else if(e<c.startTime){if(n=Math.min(n,c.startTime),c.Ha&&(c.Ha=l),!o)break}else o?(r.splice(0,0,c),a===b&&(a=u),s=u):(r.push(c),s===b&&(s=u),a=u),n=Math.min(n,c.ua),i=Math.max(i,c.startTime),c.Ha=f;if(o){if(0===u)break;u--}else{if(u===t.length-1)break;u++}}for(this.bc=r,this.La=n,this.Kb=i,this.vb=s,this.Cb=a,e=this.bc,t="",n=0,i=e.length;n<i;n++)t+='<span class="vjs-tt-cue">'+e[n].text+"</span>";this.a.innerHTML=t,this.j("cuechange")}}},t.reset=function(){this.La=0,this.Kb=this.b.duration(),this.Cb=this.vb=0},u.Sb=u.X.extend(),u.Sb.prototype.A="captions",u.Yb=u.X.extend(),u.Yb.prototype.A="subtitles",u.Tb=u.X.extend(),u.Tb.prototype.A="chapters",u.Zb=u.c.extend({i:function(e,t,n){if(u.c.call(this,e,t,n),e.g.tracks&&0<e.g.tracks.length){t=this.b,e=e.g.tracks;var i;for(n=0;n<e.length;n++){i=e[n];var o=t,r=i.kind,s=i.label,a=i.language,l=i;i=o.za=o.za||[],l=l||{},l.kind=r,l.label=s,l.language=a,r=u.$(r||"subtitles"),o=new window.videojs[r+"Track"](o,l),i.push(o)}}}}),u.Zb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},u.Y=u.N.extend({i:function(e,t){var n=this.ca=t.track;t.label=n.label(),t.selected=n.tb(),u.N.call(this,e,t),this.b.d(n.J()+"trackchange",u.bind(this,this.update))}}),u.Y.prototype.p=function(){u.N.prototype.p.call(this),X(this.b,this.ca.Q,this.ca.J())},u.Y.prototype.update=function(){this.selected(2==this.ca.mode())},u.ab=u.Y.extend({i:function(e,t){t.track={J:function(){return t.kind},K:e,label:function(){return t.kind+" off"},tb:s(l),mode:s(l)},u.Y.call(this,e,t),this.selected(f)}}),u.ab.prototype.p=function(){u.Y.prototype.p.call(this),X(this.b,this.ca.Q,this.ca.J())},u.ab.prototype.update=function(){for(var e=W(this.b),t=0,n=e.length,i,o=f;t<n;t++)i=e[t],i.J()==this.ca.J()&&2==i.mode()&&(o=l);this.selected(o)},u.S=u.R.extend({i:function(e,t){u.R.call(this,e,t),1>=this.I.length&&this.C()}}),u.S.prototype.sa=function(){var e=[],t;e.push(new u.ab(this.b,{kind:this.A}));for(var n=0;n<W(this.b).length;n++)t=W(this.b)[n],t.J()===this.A&&e.push(new u.Y(this.b,{track:t}));return e},u.Ca=u.S.extend({i:function(e,t,n){u.S.call(this,e,t,n),this.a.setAttribute("aria-label","Captions Menu")}}),u.Ca.prototype.A="captions",u.Ca.prototype.pa="Captions",u.Ca.prototype.className="vjs-captions-button",u.Ga=u.S.extend({i:function(e,t,n){u.S.call(this,e,t,n),this.a.setAttribute("aria-label","Subtitles Menu")}}),u.Ga.prototype.A="subtitles",u.Ga.prototype.pa="Subtitles",u.Ga.prototype.className="vjs-subtitles-button",u.Da=u.S.extend({i:function(e,t,n){u.S.call(this,e,t,n),this.a.setAttribute("aria-label","Chapters Menu")}}),t=u.Da.prototype,t.A="chapters",t.pa="Chapters",t.className="vjs-chapters-button",t.sa=function(){for(var e=[],t,n=0;n<W(this.b).length;n++)t=W(this.b)[n],t.J()===this.A&&e.push(new u.Y(this.b,{track:t}));return e},t.Ja=function(){for(var e=W(this.b),t=0,n=e.length,i,o,r=this.I=[];t<n;t++)if(i=e[t],i.J()==this.A&&i.tb()){if(2>i.readyState())return this.Gd=i,void i.d("loaded",u.bind(this,this.Ja));o=i;break}if(e=this.va=new u.la(this.b),e.a.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.$(this.A),xd:-1})),o){i=o.fa;for(var s,t=0,n=i.length;t<n;t++)s=i[t],s=new u.Wa(this.b,{track:o,cue:s}),r.push(s),e.Z(s)}return 0<this.I.length&&this.show(),e},u.Wa=u.N.extend({i:function(e,t){var n=this.ca=t.track,i=this.cue=t.cue,o=e.currentTime();t.label=i.text,t.selected=i.startTime<=o&&o<i.ua,u.N.call(this,e,t),n.d("cuechange",u.bind(this,this.update))}}),u.Wa.prototype.p=function(){u.N.prototype.p.call(this),this.b.currentTime(this.cue.startTime),this.update(this.cue.startTime)},u.Wa.prototype.update=function(){var e=this.cue,t=this.b.currentTime();this.selected(e.startTime<=t&&t<e.ua)},u.k.B(u.Ea.prototype.g.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=d(o,n),i!==b?o[n]=i:delete o[n]);return c.call(e,t,o)}var e;if(a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}u.cc=function(){var e,t,n=document.getElementsByTagName("video");if(n&&0<n.length)for(var i=0,o=n.length;i<o;i++){if(!(t=n[i])||!t.getAttribute){u.jb();break}t.player===b&&(e=t.getAttribute("data-setup"),e!==j&&(e=u.JSON.parse(e||"{}"),v(t,e)))}else u.Cc||u.jb()},u.jb=function(){setTimeout(u.cc,1)},"complete"===document.readyState?u.Cc=f:u.U(window,"load",function(){u.Cc=f}),u.jb(),u.md=function(e,t){u.w.prototype[e]=t};var ha=this;ha.Cd=f,$("videojs",u),$("_V_",u),$("videojs.options",u.options),$("videojs.players",u.wa),$("videojs.cache",u.qa),$("videojs.Component",u.c),u.c.prototype.player=u.c.prototype.K,u.c.prototype.dispose=u.c.prototype.D,u.c.prototype.createEl=u.c.prototype.e,u.c.prototype.el=u.c.prototype.v,u.c.prototype.addChild=u.c.prototype.Z,u.c.prototype.children=u.c.prototype.children,u.c.prototype.on=u.c.prototype.d,u.c.prototype.off=u.c.prototype.o,u.c.prototype.one=u.c.prototype.U,u.c.prototype.trigger=u.c.prototype.j,u.c.prototype.triggerReady=u.c.prototype.Ta,u.c.prototype.show=u.c.prototype.show,u.c.prototype.hide=u.c.prototype.C,u.c.prototype.width=u.c.prototype.width,u.c.prototype.height=u.c.prototype.height,u.c.prototype.dimensions=u.c.prototype.Vc,u.c.prototype.ready=u.c.prototype.L,u.c.prototype.addClass=u.c.prototype.n,u.c.prototype.removeClass=u.c.prototype.t,$("videojs.Player",u.w),u.w.prototype.dispose=u.w.prototype.D,u.w.prototype.requestFullScreen=u.w.prototype.xa,u.w.prototype.cancelFullScreen=u.w.prototype.nb,u.w.prototype.bufferedPercent=u.w.prototype.Ia,u.w.prototype.usingNativeControls=u.w.prototype.Pb,$("videojs.MediaLoader",u.Mc),$("videojs.TextTrackDisplay",u.Zb),$("videojs.ControlBar",u.Ea),$("videojs.Button",u.q),$("videojs.PlayToggle",u.Wb),$("videojs.FullscreenToggle",u.Fa),$("videojs.BigPlayButton",u.Va),$("videojs.LoadingSpinner",u.Ub),$("videojs.CurrentTimeDisplay",u.Xa),$("videojs.DurationDisplay",u.Ya),$("videojs.TimeDivider",u.$b),$("videojs.RemainingTimeDisplay",u.eb),$("videojs.Slider",u.O),$("videojs.ProgressControl",u.cb),$("videojs.SeekBar",u.Xb),$("videojs.LoadProgressBar",u.$a),$("videojs.PlayProgressBar",u.Vb),$("videojs.SeekHandle",u.fb),$("videojs.VolumeControl",u.hb),$("videojs.VolumeBar",u.gb),$("videojs.VolumeLevel",u.ac),$("videojs.VolumeMenuButton",u.na),$("videojs.VolumeHandle",u.ib),$("videojs.MuteToggle",u.da),$("videojs.PosterImage",u.bb),$("videojs.Menu",u.la),$("videojs.MenuItem",u.N),$("videojs.MenuButton",u.R),u.R.prototype.createItems=u.R.prototype.sa,u.S.prototype.createItems=u.S.prototype.sa,u.Da.prototype.createItems=u.Da.prototype.sa,$("videojs.SubtitlesButton",u.Ga),$("videojs.CaptionsButton",u.Ca),$("videojs.ChaptersButton",u.Da),$("videojs.MediaTechController",u.r),u.r.prototype.features=u.r.prototype.m,u.r.prototype.m.volumeControl=u.r.prototype.m.Bc,u.r.prototype.m.fullscreenResize=u.r.prototype.m.Hd,u.r.prototype.m.progressEvents=u.r.prototype.m.Ld,u.r.prototype.m.timeupdateEvents=u.r.prototype.m.Qd,$("videojs.Html5",u.l),u.l.Events=u.l.Za,u.l.isSupported=u.l.isSupported,u.l.canPlaySource=u.l.lb,u.l.prototype.setCurrentTime=u.l.prototype.qd,u.l.prototype.setVolume=u.l.prototype.vd,u.l.prototype.setMuted=u.l.prototype.td,u.l.prototype.setPreload=u.l.prototype.ud,u.l.prototype.setAutoplay=u.l.prototype.pd,u.l.prototype.setLoop=u.l.prototype.sd,$("videojs.Flash",u.f),u.f.isSupported=u.f.isSupported,u.f.canPlaySource=u.f.lb,u.f.onReady=u.f.onReady,$("videojs.TextTrack",u.X),u.X.prototype.label=u.X.prototype.label,$("videojs.CaptionsTrack",u.Sb),$("videojs.SubtitlesTrack",u.Yb),$("videojs.ChaptersTrack",u.Tb),$("videojs.autoSetup",u.cc),$("videojs.plugin",u.md),$("videojs.createTimeRange",u.sb)}(),!function(e,t,n,i,o){o=t.location,e.src="//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-2&utmn=1&utmhn="+i(o.hostname)+"&utmsr="+t.screen.availWidth+"x"+t.screen.availHeight+"&utmul="+(n.language||n.userLanguage||"").toLowerCase()+"&utmr="+i(o.href)+"&utmp="+i(o.hostname+o.pathname)+"&utmcc=__utma%3D1."+Math.floor(1e10*Math.random())+".1.1.1.1%3B&utme=8(vjsv)9(v4.2.2)"}(new Image,window,navigator,encodeURIComponent)},function(e,t,n){var i,o;i=[n(9)],o=function(e){var t=e.Model.extend({defaults:{name:"",segments:[],user:{variables:{}}},getVariable:function(e){return this.get("user").variables[e]},getSegment:function(){return this.get("user").segment}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,function(e,t,n){var i,o;i=[n(2),n(7),n(31)],o=function(e,t,n){"use strict";var i=n.extend({fetch:function(n){var i=this;return n=n?e.clone(n):{},t.request("editor:commerce:categories:fetch",n).done(function(e){i.set(e)})}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(7),n(14),n(77)],o=function(e,t,n,i){"use strict";var o=i.extend({fetch:function(n){var i=this;return n=n?e.clone(n):{},t.request("editor:commerce:categoryHierarchy:fetch",n).done(function(e){i.set(e)})}});return n.vent.on("site:initialized",function(){i.prototype.defaults.owner_id=window.com_userID,i.prototype.defaults.site_id=window.com_currentSite}),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(6),n(5),n(3),n(8),n(749)],o=function(e,t,n,i,o){var r=n.Marionette.Layout.extend({className:"published-ecom-feature-upsell",template:o,templateHelpers:function(){var e=this;return{upsellToPlan:function(){var n=e.usingPlanLvl,i=t.Restrictions.levelToName(n);return t.utl("ecommerce.editor.store_demo.editor.must_upgrade_enable_features",i)},features:this.descriptions}},ui:{upgradeBtn:".js-upgrade-btn"},events:{"click @ui.upgradeBtn":"promptUpgrade"},initialize:function(){var e=t.Restrictions.level,n=this.checkFeatureUsage(e);e<n&&0<this.descriptions.length&&this.render()},onRender:function(){this.$el.addClass("published-ecom-feature-upsell")},featureDescriptors:{com_product_limit:function(e){return t.utl("ecommerce.editor.store_demo.editor.products")},com_manage_gift_cards:function(){return t.utl("ecommerce.editor.store_demo.editor.gift_cards")},com_shipping_settings:function(){return t.utl("ecommerce.editor.store_demo.editor.shipping")},com_real_time_shipping:function(){return t.utl("ecommerce.editor.store_demo.editor.real_time_shipping")},com_promote_store_email:function(){return t.utl("ecommerce.editor.store_demo.editor.customized_store_emails")},com_abandoned_carts:function(){return t.utl("ecommerce.editor.store_demo.editor.abandoned_cart_recovery")},com_coupons:function(){return t.utl("ecommerce.editor.store_demo.editor.coupons")},com_tax_settings:function(){return t.utl("ecommerce.editor.store_demo.editor.taxes")},com_digital_products:function(){return t.utl("ecommerce.editor.store_demo.editor.digital_products")},com_inventory_tracking:function(){return t.utl("ecommerce.editor.store_demo.editor.inventory_tracking")}},checkHasAccess:function(e,n){var i=t.Restrictions.hasAccess(e);if(!i)return i;var o=Number(t.Restrictions.accessValue(e)),r=Number(n)>o;return i=!r},checkFeatureUsage:function(e){this.usingPlanLvl=e;var n=this.options.usedFeatures,i=this.descriptions=[];for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r){var s=this.checkHasAccess(o,r),a=Number(t.Restrictions.isUpgradable(o)),l=!s&&a;if(l){this.usingPlanLvl<a&&(this.usingPlanLvl=a,this.upgradeRestrictionId=o);var c=this.featureDescriptors[o];i.push(c())}}}return this.usingPlanLvl},promptUpgrade:function(t){t.preventDefault(),this.upgradeRestrictionId&&(e.vent.trigger("billing:upgrade:window",{level:this.usingPlanLvl,restrictionID:this.upgradeRestrictionId,restrictionType:"feature",refer:"commerce"}),i.trackEvent("plan","upgrade_window","publish_modal"))}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(44)],o=function(e,t){var n={saveProductChanges:function(n,i,o,r){r=r||{};var s=t.findOrCreate({site_product_id:i}),a=s.fetch();a.done(function(){if("title"==n)o.text().length?(s.set("name",o.text()),s.save({entry_point:r.entryPoint})):o.text(s.get("name")),r.productPage&&e("#wsite-com-breadcrumbs").find(".wsite-com-link-text:last").text(o.text());else if("description"==n){
var t=o.html();t==o.attr("placeholder")&&(t=""),s.set("short_description",t),s.save({entry_point:r.entryPoint})}}),a.fail(function(){console.log("product load failed")})}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(13),n(4),n(6),n(14),n(7),n(504),n(505),n(128),n(372),n(183),n(304),n(389)],o=function(e,t,n,i,o,r,s,a,l,c){"use strict";function u(t,n){function i(){return t.find(n.items||"> *")}var o=e.extend({},n,{helper:"clone",start:function(){t.sortable("refreshPositions");var e=d(i());i().css("height",e),n.start&&n.start.apply(t[0],arguments)},stop:function(){n.stop&&n.stop.apply(t[0],arguments)}});t.sortable(o)}function d(t){var n=0;return t.each(function(){n=Math.max(n,e(this).height())}),n}var h=o.module("commerce.category");return h.on("start",function(){h.listenTo(o.vent,{pageRendered:function(){Weebly.Commerce&&Weebly.COMMERCE_ENABLED&&!t.chromeless&&h.onUpdateElementList()}}),h.listenTo(i,{"commerce:category:page:change":function(){Category.Page.onUpdateElementList()}})}),h.onUpdateElementList=function(){return Weebly.view.isMobileView?void Weebly.Commerce.Site.Mobile.Category.initialize():(e(".wsite-com-category-product, .wsite-com-category-product-featured, .wsite-com-category-subcategory").attr("title","Drag to reorder"),void(e("#wsite-com-area-category").length&&this.initialize()))},h.initialize=function(){var t=Weebly.Commerce.Site.Category.View.ProductList,i=e("#wsite-com-area-category");if(Weebly.Permissions.store_settings){var o=i.attr("data-id"),r=l.storefrontSettings.get("storefront_category_id"),s=o==r;i.append(n.render(c,{type:"category",uiFramework:!0,buttons:[{id:"commerce_editor_category_editinstoretab",text:s?_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_2"):_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_3")},{id:"commerce_editor_add_product_by_category",text:_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_4")}]})),h.showCategoryEditToolbar()}h.initializeEvents(),h.initializeCategories(),setTimeout(function(){t.clearHeights(),t.setHeights()},500),setTimeout(function(){t.clearHeights(),t.setHeights()},1250)},h.initializeCategories=function(){var t=Weebly.Commerce.Site.Category.View.ProductList,n=e("#wsite-com-area-category"),i=n.data("id"),o=new s,l=a.findOrCreate();o.fetch().then(function(){return l.fetch()}).done(function(){var s=n.find(".wsite-com-category-subcategory-group"),a=o.findWhere({site_category_id:i+""});u(s,{update:function(){var t=s.find("[data-id]").map(function(){var t=e(this).attr("data-id"),n=l.find(t);return n}).toArray(),n=l.find(i);n.children=t,l.once("sync",function(){r.execute("editor:commerce:categoryHierarchy:force")}),l.save()}});var c=n.find(".wsite-com-category-product-featured-group");u(c,{items:".wsite-com-category-product-featured, .wsite-com-category-product",update:function(){var n=c.find("[data-id]").map(function(){return e(this).attr("data-id")}).toArray(),i=t.offset||0,o=a.get("preferred_order_product_ids");o.splice.apply(o,[i,n.length].concat(n)),a.set("preferred_order_product_ids",o),a.once("sync",function(){r.execute("editor:commerce:categories:force")}),a.save()}});var d=n.find(".wsite-com-category-product-group");u(d,{items:".wsite-com-category-product",update:function(){var t=d.find("[data-id]").map(function(){return e(this).attr("data-id")}).toArray(),n=Weebly.Commerce.Site.Category.View.ProductList.offset||0,i=a.get("preferred_order_product_ids");i.splice.apply(i,[n,t.length].concat(t)),a.set("preferred_order_product_ids",i),a.once("sync",function(){r.execute("editor:commerce:categories:force")}),a.save()}});var h=e("body").hasClass("wsite-theme-light")?"wsite-theme-light":"wsite-theme-dark",p=e("#wsite-com-empty-category");p.addClass(h),e.merge(p.find(".com-empty-action"),e("#commerce_editor_add_product_by_category")).on("click",function(){r.execute("store:product:addOrList",a.get("site_category_id"))})})},h.initializeEvents=function(){var t=e("#wsite-com-area-category"),n=Weebly.Commerce.Site.Category.View.ProductList;e("#commerce_editor_category_editinstoretab").on("click",this.editCategoryInStore),e("#wsite-com-category-product-group-pagelist").on("click","a",function(i){var s=window.userID,a=window.currentSite,l=t.data("id"),c=i.target.getAttribute("data-page"),u=e("#wsite-com-category-product-group-pagelimit").val();i.preventDefault(),i.stopPropagation(),r.execute("loading:start","CategoryPageEdit::pageListClick"),Weebly.Commerce.RPC.Category.generateProductList(s,a,l,c,u).always(function(){r.execute("loading:stop","CategoryPageEdit::pageListClick")}).done(function(t){e("#wsite-com-category-product-group").replaceWith(t.content),e("#wsite-com-category-product-group-pagelist").html(t.pagelist),o.execute("element:setHandlers"),n.total=t.total,n.offset=c*u,n.setHeights(),e(window).scrollTop(0),h.initializeCategories()})})},h.editCategoryInStore=function(t){var n=e("#wsite-com-area-category").attr("data-id");r.execute("store:category:edit",n)},h.showCategoryEditToolbar=function(t){if(0==e("#commerce_editor_category_saveheader").length){var n=e("#wsite-com-area-category").attr("data-id"),i=e("#"+currentSite+"c"+n).children().length;e("#commerce_editor_category_editheader > span").text(0==i?_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_5"):_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_6")),e("#commerce_editor_category_editchoices").show()}},h.hideCategoryEditToolbar=function(t){e("#commerce_editor_category_editchoices").hide()},h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(13),n(4),n(14),n(7),n(507),n(67),n(305),n(390),n(372)],o=function(e,t,n,i,o,r,s,a,l,c){"use strict";var u=i.module("commerce.product");return u.on("start",function(){u.listenTo(i.vent,{pageRendered:function(){Weebly.Commerce&&Weebly.COMMERCE_ENABLED&&!t.chromeless&&u.onUpdateElementList()}})}),u.onUpdateElementList=function(){var t=e("#wsite-com-product-area");if(t.length&&Weebly.Permissions.store_settings){e("#commerce_editor_editproductinstore").length||(e("#wsite-com-area-product").prepend(n.render(c,{type:"product",uiFramework:!0,buttons:[{id:"commerce_editor_editproductinstore",text:_W.utl("javascript.commerce.editor.view.elements.ProductPageEdit_2")}]})),e("#commerce_editor_editproductinstore").bind("click",u.editProductInStoreTab)),e("#commerce_editor_product_editchoices").show();var i=e("#wsite-com-product-gen").attr("data-id"),o=t.find("#wsite-com-product-title"),d=t.find("#wsite-com-product-short-description").find(".paragraph"),h=_W.utl("javascript.commerce.editor.view.elements.ProductPageEdit_3");e("#wsite-com-product-add-to-cart").attr("data-content",_W.utl("javascript.commerce.editor.view.elements.ProductPageEdit_4")).popover({trigger:"hover",placement:"top",container:"#_editor-ui",delay:{show:500,hide:100}}).removeAttr("data-original-title"),o.attr("placeholder",""),s.makeElementContentEditable(o.get(0),{richTextControls:!1,saveCallback:function(){var e={productPage:!0,entryPoint:"productPageTitleEdit"};r.saveProductChanges("title",i,o,e)}}),d.attr("placeholder",h),s.makeElementContentEditable(d.get(0),{saveCallback:function(){r.saveProductChanges("description",i,d,{entryPoint:"productPageDescriptionEdit"})}})}(new a).initialize(),Weebly.view.isMobileView&&e("#wsite-com-area-product").length&&(new l).initialize()},u.editProductInStoreTab=function(t){var n=e("#wsite-com-product-gen").attr("data-id");o.execute("store:product:edit",n,!0)},u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(6),n(770)],o=function(e,t,n,i,o){var r=t.Marionette.ItemView.extend({template:n.compile(o),tagName:"li",className:"product-item-empty"});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(3),n(4),n(79),n(772)],o=function(e,t,n,i,o){var r=t.Marionette.ItemView.extend({template:n.compile(o),tagName:"li",className:"product-sku-item",templateHelpers:function(){var t=this.options.product;return{hasSku:function(){return this.optionchoices.size()>0},variation:function(){var t=[],n;return e.each(this.optionchoices,function(e){n=i.filterOptionText(e.choice),t.push(n)}),t.join(", ")},thumb:function(){return t.thumbnail(null,this.image_order?this.image_order[0]:null)}}},events:{"click .connect-product-button":"selectProduct"},initialize:function(e){this.options=e},selectProduct:function(){this.trigger("select",this.model)}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(511),n(771)],o=function(e,t,n,i){var o=e.Marionette.CompositeView.extend({template:t.compile(i),itemView:n,itemViewContainer:".product-skus",tagName:"li",className:"product-item",ui:{skus:".product-skus",skuToggle:".toggle-product-button span"},events:{"click .toggle-product-button":"toggleProduct","click .connect-single-product-button":"selectProduct"},templateHelpers:function(){var e=this.model;return{thumb:function(){return e.thumbnail()},productName:function(){return this.name},hasSku:function(){return!!(this.skus.length>1&&this.options2.length)||null}}},initialize:function(){this.model.get("skus").size()>1&&(this.collection=this.model.get("skus"))},itemViewOptions:function(){return{product:this.model}},toggleProduct:function(e){var t=this.ui.skus,n=t.is(":visible")?"w-icon-increase":"w-icon-decrease";this.ui.skuToggle.attr("class",n),t.toggle()},selectProduct:function(){this.trigger("select",this.model.get("skus").first())},onItemviewSelect:function(e,t){this.trigger("select",t)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(11),n(514),n(773)],o=function(e,t,n,i,o){var r=e.Marionette.Layout.extend({template:t.compile(o),ui:{search:"input[name=search]",addNewBtn:".product-element-add-product",scrollInner:".scroll-inner"},regions:{listRegion:".list-region"},events:{"keyup input[name=search]":"search","click @ui.addNewBtn":"addNewProduct","click .btn-cancel":"dialogCancel"},dialog:{title:_W.utl("javascript.commerce.editor.view.elements.ProductSelectListLayoutView_1"),buttons:[{group:"pull-right",buttons:[{text:_W.utl("javascript.commerce.editor.view.elements.ProductSelectListLayoutView_2"),className:"btn-com btn-cancel"}]}],dialogClass:"product-element-chose-product-dialog"},initialize:function(e){this.deferred=e},onRender:function(){this.renderList(),this.ui.scrollInner.weeblyScroll(),Weebly.Permissions.store_settings||this.ui.addNewBtn.remove()},onClose:function(){this.ui.scrollInner.weeblyScroll("destroy")},renderList:function(){var e=this,t=new i({searchText:e.searchText});e.listRegion.show(t),e.listenTo(t,"select",function(t){e.trigger("dialog:close"),e.deferred.resolve({site_product_id:t.get("site_product_id"),site_product_sku_id:t.get("site_product_sku_id")})})},dialogCancel:function(){this.deferred.reject(),this.trigger("dialog:close")},search:function(e){var t=this,n=e.which||e.keyCode,i=13==n?0:250;clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.searchText=t.ui.search.val(),t.renderList()},i)},addNewProduct:function(){var e=this;e.trigger("dialog:close"),editorApp.vent.triggerCascade("store:product:addOrList",{onSave:function(t){var n=t.get("skus");1==n.size()&&e.deferred.resolve({site_product_id:n.first().get("site_product_id"),site_product_sku_id:n.first().get("site_product_sku_id")})},closeStoreTab:!0})}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(6),n(42),n(512),n(510),n(122),n(291)],o=function(e,t,n,i,o,r,s,a){var l=t.Marionette.CollectionView,c=l.prototype,u=l.extend({tagName:"ul",itemView:r,emptyView:t.View,initialize:function(e){var t=this;t.currentProduct=e.currentProduct,t.pagedCollection=new o([],{mode:"infinite",state:{pageSize:10},searchText:e.searchText,view:"detail"}),t.collection=t.pagedCollection.fullCollection,t.fetchPromise=t.pagedCollection.fetch({allowGiftCards:!0}).done(function(){t.emptyView=s,!t.isClosed&&t.collection.isEmpty()&&t.render()})},_initialEvents:function(){var t=this;c._initialEvents.apply(t,arguments),t.listenTo(t.collection,"add remove reset",function(){e.waypoints("refresh")})},onShow:function(){var t=this,n=t.pagedCollection,i=t.parent=t.$el.parent(),o=new a({el:e("<div>").insertAfter(t.$el).addClass("loading")}).render(),r=function(){n.hasNext()||o.close()};t.fetchPromise.done(r),t.$el.waypoint({context:i,offset:"bottom-in-view",handler:function(e){"down"==e&&n.hasNext()&&n.getNextPage().done(r)}})},onClose:function(){this.parent.weeblyScroll("destroy")},onItemviewSelect:function(e,t){this.trigger("select",t)}});return u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(2),n(9),n(4),n(79)],o=function(e,t,n,i,o){var r=n.View.extend({tagName:"div",initialize:function(e){this.options=e,this.render()},render:function(){var t='<input type="hidden" name="item_name_{{ itemNumber }}" value="{{ name }}"><input type="hidden" name="amount_{{ itemNumber }}" value="{{ price }}"><input type="hidden" name="quantity_{{ itemNumber }}" value="{{ quantity }}">',n=this.model.get("name");n||(n=this.model.get("short_description")?this.model.get("short_description").substring(0,60):e.stl("javascript.commerce.site.view.checkout.OrderItem.PaypalItem_1"));var o={quantity:this.model.get("quantity"),name:n,price:this.model.get("discounted_price"),itemNumber:this.options.itemNumber+1};return t=i.render(t,o),t+=this.renderOptions(),this.$el.html(t),this},renderOptions:function(){var e=this,n="",r='<input type="hidden" name="on{{ index }}_{{ itemNumber }}" value="{{ name }}"><input type="hidden" name="os{{ index }}_{{ itemNumber }}" value="{{ value }}">';if(!t.isEmpty(this.model.get("options"))){var s=0;t.each(this.model.get("options"),function(t,a){var l={itemNumber:e.options.itemNumber+1,value:o.filterOptionText(t),name:a,index:s++};n+=i.render(r,l)})}return n}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(9),n(4),n(132),n(302),n(79),n(147),n(192),n(572)],o=function(e,t,n,i,o,r,s,a,l,c,u){var d=i.View.extend({tagName:"li",className:"wsite-product-item",events:{"click .wsite-remove-button":"handleDeleteButton"},initialize:function(e){this.options=e,this.render(),this.model.on("change",this.handleModelChange,this),this.model.on("remove",this.handleModelRemove,this)},render:function(){var t=this.options.template,i=this.model.get("discounted_price");i=Number(i).toFixed(2);var s=this.model.get("name"),d=this.model.get("product_type"),h=this.model.get("options"),p=n.map(h,function(e,t){var n=a.filterOptionText(e);return{name:t,value:n}});"giftcard"===d&&(p=[{name:e.stl("ecommerce.checkout.gift_card.for_email"),value:p[u.RECIPIENT_EMAIL].value}]);var f={thumbnail_html:r("wsite-list",this.model.get("image_info"),80,1),url:this.model.get("product_url"),title_html:s,options:p,price_number:l.formatCurrency(i,c.customerLocale,this.options.currency),quantity:this.model.get("quantity")};return this.template=o.render(t,f),this.$el.html(this.template),this},handleModelRemove:function(){this.$el.fadeOut(200,function(){t(this).remove()})},handleModelChange:function(){var e=this.model.changedAttributes();e&&0===e.quantity&&this.model.destroy()},handleDeleteButton:function(e){this.model.save({quantity:0,total_price:0});var n=t(e.currentTarget);this.updateQuantity(n,0)},updateQuantity:function(n,i){var o=t.isNumeric(i)?i:parseInt(n.val()),r=this.model.get("quantity"),a=this;return t("#wsite-com-checkout-cart .wsite-checkout-server-error").remove(),""===o||isNaN(o)?void n.val(this.model.get("quantity")):void e.Commerce.RPC.OrderItem.updateQuantity({site_order_id:this.model.get("site_order_id"),site_order_item_id:this.model.get("site_order_item_id"),quantity:o}).done(function(e){var t=e.data.quantity;if(e.success){a.model.save({quantity:t,total_price:a.model.get("discounted_price")*t});var i=t-r,o={site_product_id:a.model.get("site_product_id"),site_product_sku_id:a.model.get("site_product_sku_id"),name:a.model.get("name"),optionshash:a.model.get("options"),price:a.model.get("current_price")},l={site_order_id:a.model.get("site_order_id")};i<=0?(o.quantity=i*-1,s.trackRemoveFromCart("mini_cart",o,l)):(o.quantity=i,s.trackAddToCart("mini_cart",o,l))}else n.val(t).focus(),a.trigger("error",e.message)})}});return d}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(9),n(4)],o=function(e,t){var n=e.View.extend({tagName:"li",initialize:function(e){var t=this;t.options=e,t.render()},render:function(){var e=this,n=e.options.template,i={};return e.template=t.render(n,i),e.$el.html(e.template),e}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(9),n(516),n(517)],o=function(e,t,n){var i=e.View.extend({tagName:"ul",className:"wsite-product-list",initialize:function(e){this.options=e,this.render(),this.collection.on("change",this.handleCollectionChange,this)},render:function(){var e=this,i=e.options,o;return this.collection.length?this.collection.each(function(n){o=new t({template:i.template,model:n,id:"item-"+n.get("site_product_id")+"-"+n.get("site_product_sku_id"),currency:i.currency}),e.$el.append(o.el)}):(o=new n({template:i.emptyTemplate}),e.$el.html(o.el)),e},handleCollectionChange:function(){0===this.collection.length&&this.render()}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(461)],o=function(e){var t={indexMap:{},$slider:null,initialize:function(){var t=this;e("#wsite-com-product-slider .wsite-com-slide").each(function(){var n=e(this),i=n.data("image-id");t.indexMap[i]=n.index()}),this.$slider=e("#wsite-com-product-slider .wsite-com-product-images").swiper({pagination:"#wsite-com-product-slider .wsite-images-pager",slideClass:"wsite-com-slide",wrapperClass:"wsite-com-slides",paginationElementClass:"wsite-page-button",paginationVisibleClass:"wsite-page-button-visible",paginationActiveClass:"wsite-page-button-active",slideActiveClass:"wsite-slide-active",slideVisibleClass:"wsite-slide-visible",loop:!0,grabCursor:!0,paginationClickable:!0,calculateHeight:!0,resizeReInit:!0,centeredSlides:!1})}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1)],o=function(e,t){var n={initialize:function(e){var n=e.find(".cloud-zoom, .cloud-zoom-gallery");n.CloudZoom&&n.CloudZoom(),t(document).off("keydown",this.navigateProductImages).on("keydown",this.navigateProductImages)},navigateProductImages:function(n){var i=["input","textarea"];if(0!==t.inArray(n.target.nodeName.toLowerCase(),i)&&t("#wsite-com-product-images-strip").children("a.wsite-com-product-images-secondary").length&&(!e.Commerce.Editor||t("#wsite-com-product-area").length&&"true"!=n.target.contentEditable)){var o=t("#wsite-com-product-images-strip").children("a.wsite-com-product-images-secondary"),r=t("#zoom1")[0],s=o.filter(function(){return this.href==r.href});37!=n.keyCode||s.prev().click().length?39!=n.keyCode||s.next().click().length||o.first().click():o.last().click()}}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1)],o=function(e,t){var n={initialize:function(n){t(".wsite-product, .product").each(function(i,o){var r=t(o),s=r.find("[data-add-to-cart]"),a=r.find(".product-text-option");s.length&&e.Commerce.RPC.Product.isInStock&&(e.Commerce.RPC.Product.isInStock(s.data("site-product-id"),s.data("site-product-sku-id")).done(function(e){e||s.addClass("wsite-soldout-product-button")}),s.on({click:function(e){n(e,a)},keypress:function(e){32!==e.which&&13!==e.which||n(e)}}))})}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1)],o=function(e,t){var n={networks:{twitter:{height:440,width:585},pinterest:{height:340,width:765},facebook:{height:315,width:485},plus:{height:600,width:600}},initialize:function(t){if(!window.inEditor||!window.inEditor()){var i;t.find("#wsite-com-product-social-sharing").on("click","a",function(t){i=n.networks[t.currentTarget.getAttribute("data-network")],i=i?i:{height:500,width:500},window.open(t.currentTarget.href,e.utl("Share"),"height="+i.height+", width="+i.width+" scrollbars=no, resizeable=no"),t.preventDefault()})}}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(4),n(164)],o=function(e,t,n,i,o){function r(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}var s=i.compile(['<div class="wsite-com-product-option-color-container {{^available}}wsite-com-product-option-color-unavailable{{/available}}">','<span class="wsite-com-product-option-color-select"></span>','<span class="wsite-com-product-option-color-swatch" style="background-color:{{color}}" title="{{name}}" data-value="{{value}}" tabindex="0"></span>',"</div>"].join("")),a=r(o,{initializeEvents:function(){var e=this;this.select=this.$el.find("select"),this.container=t(document.createElement("div")).addClass("wsite-com-product-option-swatches"),this.select.after(this.container),this.$el.on("click",".wsite-com-product-option-color-swatch",function(){e.setValue(this.getAttribute("data-value"))}),this.$el.on("keypress",".wsite-com-product-option-color-swatch",function(t){n.indexOf([32,13],t.which)!==-1&&(t.preventDefault(),t.stopPropagation(),e.setValue(t.target.getAttribute("data-value")))})},setValue:function(e){var t={};t[this.select.attr("name")]=e,this.select.val(e),this.onChange(t),this.highlight(e)},render:function(){var n=this,i,o,r,a;this.select.addClass("w-input-offscreen").attr("tabindex","-1"),this.select.children().each(function(l,c){return""===c.value||(i=c.getAttribute("data-color-hex"),o=c.getAttribute("data-color-name"),r="1"===c.getAttribute("data-available"),a=t(s({available:r,color:i,name:r?o:o+"&nbsp;"+e.stl("javascript.commerce.site.view.renderers.ColorRenderer_1"),value:c.value})),void n.container.append(a))}),this.highlight(this.select.val())},highlight:function(e){this.container.find(".wsite-selected").removeClass("wsite-selected"),e&&this.container.find(".wsite-com-product-option-color-swatch").filter('[data-value="'+e+'"]').addClass("wsite-selected")},update:function(e){var n,i,o=this,r=this.select.val();this.container.children(".wsite-com-product-option-color-container").each(function(o,r){n=t(r),i=n.find("[data-value]").attr("data-value"),""!==i&&n.toggleClass("wsite-com-product-option-color-unavailable",!e[i])})}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(164),n(79)],o=function(e,t,n,i){function o(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}var r=o(n,{initializeEvents:function(){var e=this,t;this.select=this.$el.find("select"),this.select.on("change",function(t){e.onChange.call(this,e)})},render:function(){},update:function(t){var n=this.select.val(),o=this.select;this.select.children("option").each(function(n,o){if(""!==o.value){var r=i.filterOptionText(o.value);o.innerText=r+(t[o.value]?"":e.stl("javascript.commerce.site.view.renderers.DropdownRenderer_1"))}})}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(164)],o=function(e,t,n){function i(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}var o=i(n,{initializeEvents:function(){var e=this,t;this.radios=this.$el.find("input[type=radio]"),this.radios.on("change",function(n){t={},t[this.name]=this.value,e.onChange.call(e,t)})},render:function(){},update:function(n){var i=this.radios.val(),o=this.radios;this.radios.each(function(i,o){if(""!==o.value){var r=t(o),s=r.closest("label");s=0===s.length?r.siblings("label"):s,s.toggleClass("wsite-com-product-option-label-unavailable",!n[o.value]).find(".wsite-com-product-option-radio-availability").text(n[o.value]?"":e.stl("javascript.commerce.site.view.renderers.RadioRenderer_1"))}})}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(164),n(79)],o=function(e,t,n){function i(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}var o=i(t,{initializeEvents:function(){var e=this;e.input=e.$el.find(".text-option-input"),e.input.val(""),e.errorMessageDiv=e.$el.find(".product-option-error-message"),e.input.on("keyup change blur",function(t){e.onChange.call(this,e),e.validate||(e.validate=e.validateTextOption)})},update:function(e){var t=this.input.val();t=t.replace(/\r?\n/g,"\r\n"),this.validate&&this.errorMessageDiv.text(this.validate(e[t].options,t))},validateTextOption:function(e,t){if(void 0===t||null===t);else{if(e.required&&0===t.length)return"Text input is required";if(e.max_length&&t.length>e.max_length)return"Maximum number of characters is "+e.max_length}return""}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(18),n(560)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"Authorization"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(18),n(400)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"CategoryImage"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(18),n(402)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"EmailCustomMsg"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(18),n(561)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"Manufacturer"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2),n(18),n(167)],o=function(e,t,n){var i=t,o=i.prototype;return i.extend({model:n,useServerGeneratedDefaultsFor:"PaymentGateway"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(18),n(562)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductExternalMap"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(18),n(404)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductImage"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(18),n(405)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductOption"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(18),n(406)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSku"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(18),n(563)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSkuFile"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(18),n(407)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSkuOptionchoice"},{})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(214),n(313)],o=function(e,t){var n=e.extend({model:t});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(18),n(565)],o=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ShippingRate"})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,,,,,,,,function(e,t,n){var i,o;i=[n(5),n(2),n(100)],o=function(e,t,n){var i={validate:function(i){var o={},r=this;if(i.name||(o.name=e.utl("ecommerce.settings.shipping.validation.method.name.required")),i.type||(o.type=e.utl("ecommerce.settings.shipping.validation.method.type.required")),"free"===i.type){if("price"===i.subtype||"weight"===i.subtype){var s=i.rates[0].min,a=i.rates[0].max,l=this._validateMinMax(s,a);null!==l&&(o.rates=[l])}}else if("flat"===i.type){var c=this._validateShippingRate(i.default_rate);null!==c&&(o.default_rate=c)}else"realtime"===i.type?t.isEmpty(i.rates)&&(o.rates=e.utl("ecommerce.settings.shipping.validation.method.realtime.required")):t.contains(["price","weight","quantity"],i.type)&&(n.isEmpty(i.default_rate)||n.isPositiveNumberOrZero(i.default_rate)||(o.default_rate=e.utl("ecommerce.setting.shipping.validation.default_rate_must_be_greater_equal_0")),t.each(i.rates,function(t,s){var a=r._validateMinMax(t.min,t.max);null!==a&&(o.rates=o.rates||[],o.rates[s]=a);var l=r._validateShippingRate(t.shipping_rate);null!==l&&(o.rates=o.rates||[],o.rates[s]=o.rates[s]||{},o.rates[s].shipping_rate=l),"quantity"===i.type&&(n.isInteger(t.min)||(o.rates=o.rates||[],o.rates[s]=o.rates[s]||{},o.rates[s].min||(o.rates[s].min=e.utl("ecommerce.settings.shipping.validation.method.rates.min.integer"))),n.isIntegerOrEmpty(t.max)||(o.rates=o.rates||[],o.rates[s]=o.rates[s]||{},o.rates[s].max||(o.rates[s].max=e.utl("ecommerce.settings.shipping.validation.method.rates.max.integer"))))}));return t.isEmpty(o)?null:o},_validateMinMax:function(i,o){var r={};return n.isEmpty(i)?r.min=e.utl("ecommerce.settings.shipping.validation.method.rates.min.required"):isNaN(i)?r.min=e.utl("ecommerce.settings.shipping.validation.method.rates.min.invalid"):n.isPositiveNumberOrZero(i)||(r.min=e.utl("ecommerce.settings.shipping.validation.method.rates.min.gte0")),!n.isEmpty(o)&&isNaN(o)?r.max=e.utl("ecommerce.settings.shipping.validation.method.rates.max.invalid"):!n.isEmpty(o)&&!r.min&&Number(o)<Number(i)&&(r.max=e.utl("ecommerce.settings.shipping.validation.method.rates.max.gt_min")),t.isEmpty(r)?null:r},_validateShippingRate:function(t){return n.isEmpty(t)?e.utl("ecommerce.settings.shipping.validation.method.shipping_rate.required"):isNaN(t)?e.utl("ecommerce.settings.shipping.validation.method.shipping_rate.invalid"):n.isPositiveNumberOrZero(t)?null:e.utl("ecommerce.settings.shipping.validation.method.shipping_rate.gte0")}};return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(3),n(16)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"Authorization"})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(16)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"Manufacturer"})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(16)],o=function(e,t){var n=t.extend({useServerGeneratedDefaultsFor:"ProductExternalMap"});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(16)],o=function(e){var t=e.extend({useServerGeneratedDefaultsFor:"ProductSkuFile",rollback:function(){e.prototype.rollback.apply(this,arguments)}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(3),n(16)],o=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"ShippingRate",get:function(e){return"coupons"==e?this.getRelated("coupon_ids","site_coupon_id",n(187)):t.prototype.get.apply(this,arguments)},saveWithRegionRates:function(){return this.get("region_rates").each(function(e){e.hasChanged()&&(0==e.get("rate_disabled")&&0==e.get("price_adjustment")?e.destroy():e.save())}),this.save()},resetWithRegionRates:function(){this.get("region_rates").each(function(e){e.hasChanged()&&e.rollback()}),this.hasChanged()&&this.rollback()},maxGreaterThanMin:function(e,t,n){if(n.minimum&&parseFloat(n.maximum)<=parseFloat(n.minimum))return _W.utl("javascript.commerce.editor.model.ShippingRate_1")},minOrMaxRequired:function(e,t,n){if(""==n.minimum&&""==n.maximum)return _W.utl("javascript.commerce.editor.model.ShippingRate_2")},requiredNonZeroNumber:function(t,n,i){t=parseFloat(t);var o=e.Validation.patterns.number.test(t);if(!o||t<=0)return _W.utl("javascript.commerce.editor.model.ShippingRate_3")},requiredNumber:function(t,n,i){t=parseFloat(t);var o=e.Validation.patterns.number.test(t);if(!o||t<0)return _W.utl("javascript.commerce.editor.model.ShippingRate_4")},optionalNonZeroNumber:function(e,t,n){if(e)return this.requiredNonZeroNumber(e,t,n)},optionalNumber:function(e,t,n){if(e)return this.requiredNumber(e,t,n)}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,function(e,t,n){var i;
i=function(){return{AMOUNT:0,SENDER_NAME:1,RECIPIENT_NAME:2,RECIPIENT_EMAIL:3,GIFT_MESSAGE:4}}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},,,,,function(e,t,n){var i,o;i=[n(194)],o=function(e){"use strict";var t=new e(window.bridgeTarget);return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(2),n(5),n(13),n(29),n(25),n(123),n(624),n(74)],o=function(e,t,n,i,o,s,a,l,c){function u(e){return e=e.replace(/wSlideshow\.render\((\{.*?\})\)/g,function(e,t){var n=t;return n=n.replace(/images:\}$/,"images:[]}"),n=n.evalJSON(),c.generateHTML(n.elementID,n),setTimeout(function(){whenThemeCSSLoaded(function(){c.init(n.elementID)})},0),""}),i.chromeless&&(e=e.replace(/(['"\(])\s*(\/uploads|weebly\/)/gi,"$1http://"+configSiteName+"$2"),e=e.replace(/(['"'\(])\s*\/\//gi,"$1http://")),e}var d=Class.create(s,{initialize:function($super,e,t){$super(e,t),this.elID="secondlist",this.template=e.template,e.main_elements&&(this.main=new a({elements:e.main_elements},t)),e.sidebar_elements&&(this.sidebar=new a({elements:e.sidebar_elements},t))},getHTML:function(){return"<div id='"+this.elID+"' class='weebly-area wsite-not-footer'>"+this.getInnerHTML()+"</div>"},getInnerHTML:function(){return"<ul class='weebly-content-area'>"+u(this.template)+"</ul>"},afterRender:function($super){$super();var t=currentPage.replace(/^(\d+).*/,"$1"),n=this.main,o;n?(n.elID=e(".blog-content").children('[id$="-blog"]').attr("id"),n.el=r(n.elID),n.innerElID="secondlist-blog",n.beforeRender(),n.el.innerHTML="<div>"+n.getInnerHTML()+"</div>",n.afterRender(),r("secondlist-blog").removeClassName("weebly-content-area").setStyle({margin:0,padding:0,width:"100%","min-height":"400px",position:"relative"})):(o=e(this.el),l.init(o));var s=this.sidebar,a=$$(".blog-sidebar .column-blog");s&&a.length&&(s.elID=a[0].id,s.el=r(s.elID),s.beforeRender(),s.el.innerHTML='<div class="blog-sidebar-separator">'+s.getInnerHTML()+"</div>",s.afterRender(),r(s.el).down().down().removeClassName("weebly-content-area").addClassName("columnlist-blog").setStyle({margin:0,padding:0})),i.chromeless&&e("#blog-navigation, #blog-navigation-placeholder").hide()},unrender:function(){this.main&&this.main.unrender(),this.sidebar&&this.sidebar.unrender()}});return t.each(["addColumn","addElement","removeEmptyColumns","removeElement","spliceExistingElements","replaceElement","spliceElement","findElement","moveBelow","moveAbove","moveToColumn","insertEmptyMessage"],function(e){d.prototype[e]=function(){if(this.main)return this.main[e].apply(this.main,arguments);if(this.sidebar)return this.sidebar[e].apply(this.sidebar,arguments)}}),n.BlogArea=d,s.register(function(e){return e.is_blog===!0},d),d}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},function(e,t,n){var i,o;i=[n(1),n(2),n(6),n(14),n(4),n(7),n(26),n(129),n(352),n(661),n(29),n(71),n(25),n(12),n(99),n(24),n(843)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g){var v=Class.create(h,l,{hasSectionsInTheme:!1,initialize:function($super,e,t){$super(e,t),this.sections=new c(e.sections,{context:t}),this.sections.on({"sections:updated":function(){i.execute("themeBackground:extend",this.sections.getImageEditorObject()),i.vent.trigger("section:background:image:render")},"section:shift":this.renderShiftedSections},this),this.context=t,this.hasSectionsInTheme=this.hasSections(),this.elID="",this.isMain()&&(this.elID="secondlist"),s.inEditorContext()&&n.vent.trigger("editor:elementareacollection:unrender").on({"section:add:after":this.addSection,"editor:elementareacollection:unrender":function(){n.vent.off(["section:add:after","editor:elementareacollection:unrender"].join(" "),null,this)}},this)},attachEventListeners:function(){this.detachAllEvents(),r.commands.setHandlers({"section:background:image:update":this.updateSectionBackgroundImage.bind(this)}),r.on({"section:add:after":this.addSection,"section:remove:after":this.removeSection},this)},detachAllEvents:function(){r.commands.removeHandlers(["section:background:image:update"]),r.off(["section:add:after","section:remove:after"].join(" "),null,this)},hasSections:function(){var e=window.getPageType(currentPage,currentThemeData,_W.view.isMobileView),t=m.currentThemeData.page_type_templates[e];return u.pageHasSectionsMarkup(t)&&this.isMain()},getHTML:function(){var e={elId:this.elID,containerClassName:"footer"==this.name||"footer"==this.type?" wsite-footer":" wsite-not-footer"};return e.sections=this.sections.reduce(function(e,t){return e+t.get("elementArea").getHTML()},""),o.render(g,e)},getInnerHTML:function(){return this.el.innerHTML},renderShiftedSections:function(e,t,n){var i=d.getSectionElement(t),o=d.getSectionElement(e),r=i.parent("."+p.SECTION_WRAP_NAME),s=o.parent("."+p.SECTION_WRAP_NAME);n<0?r.before(s):r.after(s),f.scrollToElement(s),this.afterRender(),this.sections.get(e).trigger("sections:shifted")},afterRender:function(){this.hasSectionsInTheme&&this.attachEventListeners(),this.sections.each(function(e){e.get("elementArea").afterRender()},this)},addSection:function(t){var n=t.section_order-1,i=this.sections.add(t,{at:n,context:this.context});if(!s.inEditorContext()){var o=i.get("elementArea"),r=o.getHTML(),a=e("#"+this.elID),l=a.children(),c=l.eq(n);if(c.length?c=c.before(r).prev():(a.append(r),c=d.getSectionElement(t.section_id)),1===l.length){var h=l.eq(0),p=h.find(".empty-element-message");p.length&&(p.height(0),u.resizeEmptyMessage(h))}o.afterNewSection()}},removeSection:function(e){if(!s.inEditorContext()&&(d.getSectionElement(e).parent().remove(),1===this.sections.length)){var t=d.getSectionElement(this.sections.first().id);u.resizeEmptyMessage(t)}},getAreaFromSectionId:function(e){return this.sections.get(e).get("elementArea")},getSectionFromElementId:function(e){var t;return this.sections.some(function(n){var i=n.get("elementArea").findElement(n.get("elementArea").elements,e);if(i)return t=n,!0}),t},updateSectionBackgroundImage:function(e,t){this.sections.updateSectionBackgroundImage(e,t)},spliceElement:function(e){var t=this.getSectionFromElementId(e);return t?t.get("elementArea").spliceElement(e):null},moveAbove:function(e,t){var n=this.getSectionFromElementId(e);if(!n)throw"Target element: "+e+", does not exist in sections.";n.get("elementArea").moveAbove(e,t)},moveBelow:function(e,t){var n=this.getSectionFromElementId(e);if(!n)throw"Target element: "+e+", does not exist in sections.";n.get("elementArea").moveBelow(e,t)},moveToSection:function(e,t){var n=this.getAreaFromSectionId(t);if(!n)throw"Section: "+t+" does not exist in sections.";n.relocateElement(e,0)},afterRemoveElement:function(){this.sections.each(function(e){e.get("elementArea").afterRemoveElement()})},getElements:function(e){return this.getAreaFromSectionId(e).elements},isMain:function(){return("content"===this.type||"blog"==this.context.kind&&currentBlog.postId)&&!this.name&&"store"!=this.context.kind},unrender:function(){this.detachAllEvents(),this.sections.each(function(e){e.get("elementArea").unrender()})}});return h.register(function(e){return"content"===e.type&&!e.name&&Object.keys(e).indexOf("sections")!==-1},v),v}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(25),n(35)],o=function(e,t,n){var i=Class.create(t,{getHTML:function(){return n.isMobileView?"<span id='"+this.elID+"' class='wsite-area wsite-buttonheader' >"+this.getInnerHTML()+"</span>":"<span id='"+this.elID+"'></span>"},getInnerHTML:function(){return"<a class='wsite-cart-link' href='#'><span class='wsite-cart-link-inner disable-user-select'></span></a>"},afterRender:function($super){$super(),e(this.el).find(".wsite-cart-link").on("click",function(){return!1});var t=Weebly.Commerce&&Weebly.Commerce.hasCart===!0;t&&void 0!==window.initCommerceModels||e(this.el).hide()}});Weebly.HeaderButtonArea=i,t.register("headerbutton",i)}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(13),n(14),n(129),n(7),n(315),n(24),n(662),n(229),n(29),n(71),n(99),n(844),n(376),n(377),n(12),n(25)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b){var w=Class.create(a,{initialize:function($super,e,t){var n=this;$super(e,t),this.parentString=e.parent_string,this.section=new c(e.header_section),this.containerID=v.HEADER_SECTION_AREA_ID,this.section.on("headerSection:updated",function(){o.execute("themeBackground:extend",this.section.getImageEditorObject()),o.vent.trigger("headerSection:background:image:render")},this),this.section.get("setting").on({"change:header_setting_id":function(e,t){this.updateBackgroundId(t)}},this)},afterRender:function($super){this.innerElID=this.innerElID||this.elID,this.elID=this.containerID,$super(),this.innerEl=e("#"+this.innerElID)[0]},insertEmptyMessage:function(){var t="";if(i.chromeless)t=n.render(m,{});else{var o={content_area:this.name,has_sections:!0,is_header_section:!0};t=n.render(g,o);var r=e(t);t=r[0].outerHTML}return t},getHTML:function(){var e=this.getInnerHTML(),t=l.currentThemeData,i=t.page_type_templates[window.currentPageType],o={el_id:this.containerID,style:this.section.getSectionStyle(),content:e,class_names:this.getWrapperClassNames(),highlight_class_name:v.SECTION_HIGHLIGHT_CLASS_NAME,prefix_html:i.header_prefix_mustache,postfix_html:i.header_postfix_mustache};return this.parentString&&(o.data=[{key:v.HEADER_SECTION_PARENT_STRING_NAME,value:this.parentString}]),n.render(f,o)},rerender:function(){var t=e(this.getHTML()).find("."+v.HEADER_SECTION_CLASS_NAME)[0];this.el.innerHTML=t.innerHTML,this.afterRender()},getWrapperClassNames:function($super){var e=[$super(),"wsite-header-elements"];if(this.name===v.HEADER_SECTION_TAG_NAME){var t=v.HEADER_SECTION_BACKGROUND_CLASS_NAME;this.section.hasNewSetting()||(t=t+"-"+this.section.get("setting").id),e.push(t)}return e.join(" ")},attachEditModeListeners:function($super){$super(),s.commands.setHandlers({"headerSection:hideEditBox":this.hideEditMode.bind(this),"headerSection:clear":this.clearSection.bind(this)}),s.on({"headerSection:layoutSave":this.onLayoutSave,"headerSection:set:properties:after":this.setStyle,"pageLayouts:headerSectionLayoutApplied":this.onLayoutApplied},this)},detachEditModeListeners:function($super){$super(),s.commands.removeHandlers(["headerSection:clear","headerSection:hideEditBox"]),s.off(["headerSection:layoutSave","headerSection:set:properties:after","pageLayouts:headerSectionLayoutApplied"].join(" "),null,this)},showEditMode:function($super){if(!this.control){var e=this.section.get("setting"),t=e.isCustomized(),n=this.section.isBackgroundEditable(),i=0===this.elements.length,o=!t&&i;this.control=this.initializeControlView({model:e,isHeaderSection:!0,isSectionEmpty:i,showEdit:n,showDelete:!1,showAddLayout:o,showChangeLayout:!o,showMove:!1,fallbackAlignment:this.$sectionEl.css("vertical-align"),baseSetting:this.section.getBaseSetting(),forceRepositionBelow:!0});var r=u.CONTROL_HEIGHT+u.CONTROL_ARROW_HEIGHT;p.scrollToElement(this.$sectionEl,{centerFallback:"bottom",paddingBottom:r}),$super()}},chooseSectionLayout:function(){var e=this.section.id,t=this.section.generateSelector();return r.show("section:chooseSectionLayout",t,{sectionId:e,parentString:this.parentString,isHeaderSection:!0,placement:"bottom"}).always(function(){r.close("section:chooseSectionLayout"),this.hideEditMode()}.bind(this))},applyVideoStillImage:function(e){o.themeBackground.applyBackgroundToElement(e,"header-section-"+this.section.id)},replaceArea:function(t){var n=e(this.getHTML());e(t).parents("."+v.SECTION_WRAP_NAME).replaceWith(n),this.el=n.find(".weebly-content-area")[0]},updateBackgroundId:function(t){var n=e(this.el),i=v.HEADER_SECTION_BACKGROUND_CLASS_NAME+"-"+t,o=new RegExp(v.HEADER_SECTION_BACKGROUND_CLASS_NAME+"-\\d+","ig");n.is("."+i)||(n.attr("class",function(e,t){return t.replace(o,"")}),n.addClass(i))},onLayoutSave:function(){if(t.result(this.section,"hasBackgroundVideo")){var n=e(this.el);h.destroyVideoBackground(n)}},onLayoutApplied:function(){if(t.result(this.section,"hasBackgroundVideo")){var n=e(this.el),i=this.section.getBackgroundContent();h.applyBackgroundVideo(n,i,!0)}this.hideEditMode()},onControlBackgroundOpen:function(e,t){var n=t?"editor:background:replace":"editor:background:open",i="header-section";this.section.hasNewSetting()||(i=i+"-"+this.section.get("setting").id),this.hideEditMode(),s.execute(n,i),p.scrollToElement(this.$sectionEl)},onControlLayoutChange:function(){var e={sectionId:this.section.id,isHeaderSection:!0};this.control.close(),r.show("section:confirmDeleteElements",this.section.generateSelector(),e).always(function(){r.close("section:confirmDeleteElements")}).fail(function(){this.hideEditMode()}.bind(this)).done(function(){this.chooseSectionLayout()}.bind(this))}});return b.register(function(e){return"content"===e.type&&e.name===v.HEADER_SECTION_TAG_NAME&&e.elements},w),w}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(25),n(17)],o=function(e,t,n,i){var o=Class.create(n,{getHTML:function($super){return t.view.isMobileView?"<span id='"+this.elID+"' class='weebly-area wsite-homepage'>"+this.getInnerHTML()+"</span>":"<span id='"+this.elID+"'></span>"},getInnerHTML:function(){return"<a class='wsite-home-link'><span class='wsite-home-link-inner disable-user-select'></span></a>"},afterRender:function($super){$super(),e(this.el).find(".wsite-home-link").on("click",function(e){var t=i.getHomepage();t&&window.goUpdateList(t.id,1),e.preventDefault()})}});return t.HomeButtonArea=o,n.register("homebutton",o),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(24),n(17),n(328),n(841),n(25),n(101),n(35),n(434),n(7),n(594),n(316),n(32)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){var f=Class.create(h,{removeResizing:null,isImage:function(){return this.data.type?Boolean("image"===this.data.type&&this.data.image):this.data.isImage},setIsImage:function(e){this.data.type=e?"image":"text"},getInnerHTML:function(){var i=this.attrs,s=this.data,a=n.currentThemeData.logo_margin_top,l=n.currentThemeData.logo_margin_left,c=n.currentThemeData.logo_margin_right,u=!t.isUndefined(a)||!t.isUndefined(l)||!t.isUndefined(c),d=this.isImage(),h=!1,p,f,m;d?(p="cursor:pointer;",a&&(p+="margin-top:"+a+"px;"),l&&(p+="margin-left:"+l+"px;"),c&&(p+="margin-right:"+c+"px;"),f=i["max-width"]?i["max-width"]:!!n.currentThemeData.logo_max_width&&n.currentThemeData.logo_max_width,m=i["max-height"]?i["max-height"]-(a||0):!!n.currentThemeData.logo_max_height&&n.currentThemeData.logo_max_height,f!==!1&&(p+="max-width:"+f+"px;"),m!==!1&&(p+="max-height:"+m+"px;"),u&&(m=!1)):h=hideTitle||!e.trim(currentSiteTitle.replace(/<br[^>]*>/gi,""));var g="";d&&(s.image?g=s.image.editorUrl:(g=s.url,g&&!g.match("://")&&(g="/uploads/"+g)));var v=e(o.render("shared/areas/logo",r,{is_image:d,max_height:m,image_url:g,image_css:p,is_hidden_text:h,text:currentSiteTitle})),b=v.find("a").removeAttr("href").eq(0);return d?v.find("img").eq(0).attr("onload","refreshNavCondense()"):b.html(e("<span>",{html:b.html(),class:"editable-text",attr:{contenteditable:"true",id:"wsite-title"}})),v=v[0].outerHTML},afterRender:function($super){$super();var t=this.data,n=this.isImage(),o=e(this.el),r=i.getHomepage();if(!n&&l.isMobileView?o.css("display","inline"):(o.css("display","inline-block"),o.on("click",".wsite-logo",function(t){e(t.currentTarget).find("img").length&&u.request("page:navigate:go",r.id)})),n){var s=this;this.removeResizing=d(o,{startResize:function(){s.resizing=!0,s.toolbar.hide()},stopResize:function(e,t){u.execute("loading:start","logoArea:resized"),s.resizing=!1,Weebly.Editor.RPC.ImageEditor.resizeImageArea({page_id:0,type:s.type,name:s.name},s.data,t.size.width,t.size.height).done(function(e){s.data=e,s.rerender(),u.execute("loading:stop","logoArea:resized")})},onResize:function(){}})}},renderToolbar:function(){var t=this,i=t.toolbar=new a({targetElement:t.el,parent:"_editor-ui",align:"left",beforeShow:function(){return!t.resizing}}),o=i.getInnerElement(),r=this.data,s=this.attrs;e(o).addClass("logo-toolbar");var l=e("<span>",{class:"hover-toolbar-logooff",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_1"),appendTo:o}).on("click",function(){t.setIsImage(!1);var e={};hideTitle=!0,e.hide_title=!0,t.save(e),t.rerender(),refreshNavCondense()}),u=e("<span>",{class:"hover-toolbar-logotext",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_2"),appendTo:o}).on("click",function(){var n={};hideTitle=!1,n.show_title=!0,e.trim(currentSiteTitle.replace(/<br[^>]*>/gi,""))||(currentSiteTitle="Site Title"),t.setIsImage(!1),t.save(n),t.rerender(),refreshNavCondense()}),d=e("<span>",{class:"hover-toolbar-logoimage",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_3"),appendTo:o}).on("click",function(){r.image&&r.image.editorUrl?(t.setIsImage(!0),t.save(),t.rerender(),refreshNavCondense()):(i.hide(),t.chooseImage({type:"area",area_type:"logo",area_name:t.name||"logo",disableStockMedia:!0,width:s["max-width"]||400,height:s["max-height"]||100}))});if(this.isImage())d.addClass("hover-toolbar-logoimage-pressed");else{var h=t.name?r.hideTitle||!1:hideTitle;h||!e.trim(currentSiteTitle.replace(/<br[^>]*>/gi,""))?l.addClass("hover-toolbar-logooff-pressed"):u.addClass("hover-toolbar-logotext-pressed")}if(this.isImage()){var f=e("<span>",{class:"hover-toolbar-edit",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_4"),appendTo:o});t.initEditButton(f),e("<span>",{class:"hover-toolbar-remove",appendTo:o}).on("click",function(){p.confirm({parent:"#_editor-ui ._editor-ui__framework",outerClassName:"modal--transparent",isModalLight:!1,title:_W.utl("html.weebly.libraries.classes.areas.LogoArea_5"),message:_W.utl("html.weebly.libraries.classes.areas.LogoArea_6"),proceedButton:{text:_W.utl("html.weebly.libraries.classes.areas.LogoArea_7"),className:"btn--destructive"},cancelButton:{text:_W.utl("html.weebly.libraries.classes.areas.LogoArea_8")},isModal:!0,isPositionFixed:!0}).done(function(){c.hideTooltips(),t.setIsImage(!1),delete t.data.image;var e={theme_id:currentTheme,remove_logo_margins:!0,logo_max_width:"",logo_max_height:"",show_title:!0};hideTitle=!1,e.show_title=!0,delete n.currentThemeData.logo_margin_top,delete n.currentThemeData.logo_margin_left,delete n.currentThemeData.logo_margin_right,delete n.currentThemeData.logo_max_width,delete n.currentThemeData.logo_max_height,t.save(e),t.rerender(),refreshNavCondense()})})}},initEditButton:function(e){e.on("click",function(){this.toolbar.hide();var e={mode:"area",imageEditorData:this.data,area:{page_id:this.context.pageID||"",type:this.type,name:this.name}};this.editImage(e)}.bind(this))},unrender:function($super){$super(),this.removeResizing&&this.removeResizing()}});return Weebly.LogoArea=f,s.register("logo",f),f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(25)],o=function(e,t){var n=window.Class.create(t,{elID:"wsite-nav-login-a",getHTML:function(){return"<span class='wsite-custom-membership-wrapper' id='member-login'><a href='#' id='"+this.elID+"'></a></span>"}});return e.CustomMembershipArea=n,t.register("membership",n),n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(25)],o=function(e,t,n){var i=window.Class.create(n,{getHTML:function($super){return t.view.isMobileView?"<span id='"+this.elID+"' class='weebly-area wsite-menubutton'>"+this.getInnerHTML()+"</span>":"<span id='"+this.elID+"'></span>"},getInnerHTML:function(){return'<a class="wsite-menu-button"><span class="wsite-menu-button-text disable-user-select">Menu</span><div class="wsite-menu-button-bars"><span class="wsite-menu-button-bar"></span><span class="wsite-menu-button-bar"></span><span class="wsite-menu-button-bar"></span></div></a>'},afterRender:function($super){$super(),e(this.el).find(".wsite-menu-button").on("click",t.mobile_navigation.menuTap)}});return t.MenuButtonArea=i,n.register("menubutton",i),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(25)],o=function(e,t){var n=window.Class.create(t,{elID:"wsite-nav-cart-a",getHTML:function(){return"<span class='wsite-custom-cart-wrapper'><a href='#' id='"+this.elID+"'></a></span>"}});return e.CustomMinicartArea=n,t.register("minicart",n),n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(2),n(5),n(25),n(123)],o=function(e,t,n,i,o){var s=Class.create(i,{initialize:function($super,e,t){$super(e,t),this.elID="secondlist",this.template=e.template;var n=e.long_description_elements;n&&(this.descriptionArea=new o({elements:n},t))},getInnerHTML:function(){return"<ul>"+this.template+"</ul>"},afterRender:function(){var t=this.descriptionArea;if(t){var n=e(".wsite-com-long-description")[0];if(n){n.wrap("div");var i=n.up();i.id=n.id+"-up",t.elID=n.id,t.el=i,t.rerender(),r(n.id).className=n.className,r(n.id).style.position="relative"}}}});return t.each(["addColumn","addElement","removeEmptyColumns","removeElement","spliceExistingElements","replaceElement","spliceElement","findElement","moveBelow","moveAbove","moveToColumn"],function(e){s.prototype[e]=function(){return this.descriptionArea[e].apply(this.descriptionArea,arguments)}}),n.ProductArea=s,i.register(function(e){return"long_description_elements"in e},s),s}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},function(e,t,n){var i,o;i=[n(1),n(13),n(7),n(25),n(101),n(35),n(34),n(290)],o=function(e,t,n,i,o,r,s){function a(e,t){t.select(".hover-toolbar-option-pressed").invoke("removeClassName","hover-toolbar-option-pressed"),e.addClassName("hover-toolbar-option-pressed")}var l=Class.create(i,{getHTML:function(){var e=s.hasAccess("show_settings_site_search");return e?"<span id='"+this.elID+"' class='weebly-area wsite-search'>"+this.getInnerHTML()+"</span>":"<span id='"+this.elID+"'></span>"},getInnerHTML:function(){return"<input type='text' class='wsite-search-input' autocomplete='off' placeholder='"+_W.utl("html.weebly.libraries.classes.areas.SearchArea_1")+"' /><span class='wsite-search-button'><span class='wsite-search-button-inner'></span></span>"},afterRender:function($super){var n=this;$super(),e(this.el).find("input").popover({content:_W.utl("javascript.editor-site-shared.build.areas.SearchArea_4"),trigger:"focus",placement:"bottom",container:"#_editor-ui",delay:{show:500,hide:100}}).on({"shown.bs.popover":function(){n.toolbar.hide()},mouseleave:function(){e(this).popover("hide")}}),this.toolbar&&this.toolbar.destroy(),t.chromeless||this.renderToolbar()},renderToolbar:function(){var e=this,t=new o({targetElement:e.el,afterHide:e.handleAfterHide.bind(e),parent:"_editor-ui"}),n=t.getInnerElement();n.addClassName("search-toolbar"),n.innerHTML='<span class="toolbar-show hover-toolbar-option hover-toolbar-option-left hover-toolbar-option-pressed">'+_W.utl("html.weebly.libraries.classes.areas.SearchArea_2")+'</span><span class="toolbar-hide hover-toolbar-option hover-toolbar-option-right">'+_W.utl("html.weebly.libraries.classes.areas.SearchArea_3")+"</span>",n.down(".toolbar-hide").observe("click",e.handleHideToolbar.bind(this)),e.showButton=n.down(".toolbar-show").observe("click",e.handleShowToolbar.bind(this)),this.toolbar=t},handleAfterHide:function(){a(this.showButton,this.toolbar.getInnerElement())},handleShowToolbar:function(e){e.target.className.match(/hover-toolbar-option-pressed/)||(this.show(),r.isMobileView?n.execute("mobile:area:setHidden",!1,this.type,this.name,this.context===Weebly.siteContext):n.execute("design:showSiteArea",!0,"search")),a(e.target,this.toolbar.getInnerElement())},handleHideToolbar:function(e){e.target.className.match(/hover-toolbar-option-pressed/)||(this.hide(),r.isMobileView?n.execute("mobile:area:setHidden",!0,this.type,this.name,this.context===Weebly.siteContext):n.execute("design:hideSiteArea",!0,"search")),a(e.target,this.toolbar.getInnerElement())},unrender:function(){this.toolbar&&this.toolbar.destroy()}});Weebly.SearchArea=l,i.register("search",l)}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(5),n(9),n(4),n(8),n(14),n(129),n(7),n(25),n(315),n(23),n(659),n(229),n(99),n(71),n(29),n(626),n(331),n(24),n(12),n(26),n(845),n(440)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w,y,_,E){var T=Class.create(u,{isSection:!1,initialize:function($super,e,t){$super(e,t),e.section&&(this.section=e.section,this.isSection=!0),"secondlist"===this.elID&&(this.elID=c.getNewElID()),e.sections&&!e.elements?this.elements=t.loadElements(e.sections[0]||[]):this.elements=t.loadElements(e.elements)},afterNewSection:function(){this.afterRender(),f.scrollToElement(this.$sectionEl);var e=this.$sectionEl.parent(),t=this.$sectionEl.find(".wsite-section-content"),n=e.attr("style")||"";e.addClass("new-section"),e.css({"min-height":0}),t.slideUp(0).slideDown(500,"easeOutCubic",function(){g.resizeEmptyMessage(this.$sectionEl),e.attr("style",n).removeClass("new-section"),this.showEditMode(),this.chooseSectionLayout(),s.vent.trigger("editor:sections:newSectionRendered")}.bind(this))},attachEditModeListeners:function($super){$super(),l.commands.setHandlers({"section:hideEditBox":this.hideEditMode.bind(this),"section:clear":this.clearSection.bind(this)}),l.on({"section:set:properties:after":this.setStyle,"pageLayouts:gallery:show:after":this.hideEditMode},this)},detachEditModeListeners:function($super){$super(),l.commands.removeHandlers(["section:hideEditBox","section:clear"]),l.off(["section:set:properties:after","pageLayouts:gallery:show:after"].join(" "),null,this)},showEditMode:function($super){if(!this.control){var e=this.section.isCustomized(),t=0===this.elements.length,n=!e&&t,i=1===this.section.collection.length&&(!t||e);this.control=this.initializeControlView({model:this.section,showDelete:this.section.collection.length>1&&!i,showClear:i,showAddLayout:n,isSectionEmpty:t,fallbackAlignment:this.$sectionEl.css("vertical-align")});var o=p.CONTROL_HEIGHT+p.CONTROL_ARROW_HEIGHT;f.scrollToElement(this.$sectionEl,{paddingTop:this.control.options.preferTop?o:0,paddingBottom:this.control.options.preferTop?0:o}),$super()}},showMoveCopyDialog:function(){var e=this.moveCopyDialog=new v({section:this.section,parent:"._editor-ui__framework",pointAt:this.$sectionEl,preferTop:this.control.options.preferTop,preferBottom:this.control.options.preferBottom});e.open().on({"page:selected":function(t,i){var o,s;switch(t){case b.MODE_COPY:o="copyToPage",s="copy";break;case b.MODE_MOVE:o="moveToPage",s="move";break;default:return void(o=!1)}if(o){e.setIsLoading(!0);var a=i.pageID;n.Section.RPC.Section[o](a,this.section.id).always(function(){e.setIsLoading(!1)}).done(function(){r.trackEvent("section",s),e.close();var t="page:navigate"+(a===window.currentPage?"":":go");l.request(t,a)}).fail(function(){e.alert({title:n.utl("javascript.site.editor.sections.SectionControlView_movecopy_error_title"),message:n.utl("javascript.site.editor.sections.SectionControlView_movecopy_error_text")})})}},close:function(){this.control&&this.control.show()},"section:shift:up":function(){this.section.collection.shiftSections(this.section.id,-1)},"section:shift:down":function(){this.section.collection.shiftSections(this.section.id,1)}},this),e.listenTo(this.section,"sections:shifted",function(){e.updatePosition()})},chooseSectionLayout:function(){var e=this.section.id,t=this.section.generateSelector();return _.inEditorContext()||(e=window.userID+"-"+window.currentSite+"-"+e),this.control.close(),a.show("section:chooseSectionLayout",t,{sectionId:e}).done(function(){this.hideEditMode()}.bind(this))},confirmClearSection:function(t){var n=e.Deferred(),i=new h({parent:"._editor-ui__framework",onBeforeProceed:function(){return n.resolve().then(function(){return t})}});return i.open(),n.promise()},applyVideoStillImage:function(e){s.themeBackground.applyBackgroundToElement(e,"section-"+this.section.id)},removeEmptyColumns:function(){var t=this;e("#"+this.elID+" .wsite-multicol-li").each(function(){var n=e(this),i=n.prop("id").replace("inside_",""),o=d.getElementObject(i);o.removeEmptyColumns(t.getSectionId())})},removeElement:function(e){var t=this.context.deleteElement(e);this.spliceElement(t.id),this.afterRemoveElement()},moveBelow:function(t,n){var i=e("#inside_"+n.id),o=e("#inside_"+t);if(o.after(i),o.parent().hasClass("columnlist"))this.moveToColumn(n,t);else{for(var r=0,s=0;s<this.elements.length;s++){var a=this.elements[s];if(a.id==t){r=s;break}}this.elements.splice(r+1,0,n)}},moveAbove:function(t,n){var i=e("#inside_"+n.id),o=e("#inside_"+t);if(o.before(i),o.parent().hasClass("columnlist"))this.moveToColumn(n,t,!0);else{for(var r=0,s=0;s<this.elements.length;s++){var a=this.elements[s];if(a.id==t){r=s;break}}this.elements.splice(r,0,n)}},getClassNames:function(){return""},getSectionId:function(){return this.section.id},getHTML:function($super){var e=w.currentThemeData,t=e.page_type_templates[window.currentPageType],n=this.isSection?t.section_prefix_mustache:"",i=this.isSection?t.section_postfix_mustache:"",r=this.isSection?this.getInnerHTML():$super(),s={content:r,style:this.section.getSectionStyle(),class_names:this.getWrapperClassNames(),highlight_class_name:y.SECTION_HIGHLIGHT_CLASS_NAME,prefix_html:n,postfix_html:i,data:[{key:"section",value:this.section.id}]};return o.render(E,s)},getWrapperClassNames:function($super){var e=$super().split(" ");return e=t.without(e,"weebly-area","wsite-elements","wsite-not-footer"),e.push(y.SECTION_BACKGROUND_CLASS_NAME+this.section.id),e.join(" ")},onControlBackgroundOpen:function(e,t){var n=t?"editor:background:replace":"editor:background:open";this.hideEditMode(),l.execute(n,"section-"+e),f.scrollToElement(this.$sectionEl)},onControlRemove:function(t){var n=e.Deferred();this.control.hide(),this.confirmClearSection(n.promise()).then(function(){return this.hideEditMode(),this.section.collection.remove(t,!0)}.bind(this)).done(function(){n.resolve()}.bind(this)).fail(function(){this.control.show()}.bind(this))},onControlMove:function(e){this.showMoveCopyDialog(this.$sectionEl,e),this.control.hide()},onControlClear:function(){var t=e.Deferred();this.control.hide(),this.confirmClearSection(t.promise()).then(function(){return this.section.setEmptyBackground(),this.section.clearElements()}.bind(this)).done(function(){this.removeAllElements(),this.hideEditMode(),g.resizeEmptyMessage(this.$sectionEl),t.resolve()}.bind(this)).fail(function(){this.control.show()}.bind(this))}});return T}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(25),n(34)],o=function(e,t,n){var i='<div class="wsite-footer-separator"></div>',o='<div class="wsite-footer-version">'+e.utl("html.weebly.libraries.classes.areas.SimpleFooterArea_1")+' <span class="wsite-footer-version-text">'+e.utl("html.weebly.libraries.classes.areas.SimpleFooterArea_2")+' <span class="wsite-footer-vertical">|</span> <a class="wsite-version-web" href="#">'+e.utl("html.weebly.libraries.classes.areas.SimpleFooterArea_3")+"</a></span></div>",r=window.Class.create(t,{getHTML:function($super){var t=$super();return e.view.isMobileView?(t+='<div class="wsite-mobile-footer">',e.Reseller&&e.Reseller.isResellerUser?t+=o:(t+='<span id="weeblyfootertext"></span>',e.view.isNativeApp||(t+=i+o)),t+="</div>"):t+='<span id="weeblyfootertext"></span>',t}});return t.register(function(e){return("content"==e.type&&"footer"==e.name||"footer"==e.type)&&!(window.ENABLE_ADVANCED_FOOTER&&n.hasAccess("edit_footer"))},r),r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(25)],o=function(e,t){var n=Class.create(t,{initialize:function($super,e,t){$super(e,t),this.element=t.loadElement(e.element)},getInnerHTML:function(){return"<ul class='weebly-single-area'>"+this.element.renderHTML(!1)+"</ul>"},beforeRender:function($super){$super(),this.context.elementsByID[this.element.id].beforeRender()},afterRender:function($super){$super(),this.element.afterRender(this.el.down("#inside_"+this.element.id))}});return e.SingleElementArea=n,t.register(["social","button"],n),n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(5),n(13),n(7),n(25),n(59),n(328),n(842)],
o=function(e,t,n,i,o,s,a){var l=Class.create(i,{tagName:"span",getInnerHTML:function(){var e=this.data.text||"";return e=e.strip(),e=e||t.areaDefaultPlaceholderText[this.name]||t.defaultPlaceholderText,s.render("shared/areas/text",a,{phone:"phone"==this.name,headline:"headline"==this.name,headline_paragraph:"headline-paragraph"==this.name,text:e})},afterRender:function($super){$super();var e=this,i=e.el.down();i.id="wsite-"+e.name,i.style.minHeight="1em",i.style.paddingRight="1px",makeElementContentEditable(i,{richTextControls:"phone"!=e.name&&!t.chromeless,emptyText:t.areaDefaultPlaceholderText[e.name]||t.defaultPlaceholderText,saveCallback:function(t,n){e.data.text=n,e.save();var o=r(i).closest("table");o.hide(),setTimeout(function(){o.css("display","")},0)},startedEditingCallback:function(){n.trigger(o.EVENTS.AREA_TEXT_EDITING_START,e.type,e.name)}})}});return e.TextArea=l,i.register("text",l),l}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(1))},function(e,t,n){var i,o;i=[n(5),n(13),n(25)],o=function(e,t,n){var i=window.Class.create(n,{elID:"wsite-title",getHTML:function(){return"<div id='"+this.elID+"' class='editable-text' contenteditable='true'>"+this.getInnerHTML()+"</div>"},getInnerHTML:function(){return window.currentSiteTitle},afterRender:function($super){$super(),window.hideTitle?this.el.style.visibility="hidden":this.el.style.visibility=""}});return e.TitleArea=i,n.register("title",i),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(98),n(178)],o=function(e,t){return function e(n,i){function o(){a.data("ui-resizable")||s(),l&&l.show()}function r(){l&&l.hide()}function s(){if(!a.length||a.data("ui-resizable")||a.width()<=0||a.height()<=0||!a[0].complete)return!1;var e=a.css("max-width")+"",n=a.css("max-height")+"";return e=e.match(/^(\d+)(?:px)?$/),e&&(e=parseInt(e[1],10)),n=n.match(/^(\d+)(?:px)?$/),n&&(n=parseInt(n[1],10)),a.resizable({handles:"se",aspectRatio:!0,maxWidth:e,maxHeight:n,start:i.startResize,stop:i.stopResize,resize:i.onResize}).closest(".ui-wrapper").css({display:"inline-block",overflow:"visible","vertical-align":a.css("vertical-align")}),l=a.siblings(".ui-resizable-handle").addClass("imageresizer"),t.init(l,window._W.utl("javascript.editor.build.images.resizing_1"),!0),!0}var a=n.find("img").eq(0),l=null,c={mouseover:o,mouseout:r};return n.on(c),function e(){a.data("ui-resizable")&&(a.resizable("destroy"),l=null,n.off(c))}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(171),n(19),n(363)],o=function(e,t,n,i){var o=!1,r,s=Class.create(i,{mediaElement:null,afterRender:function($super,t,n){$super(t,n);var i=e(this.li),s=this.findWidth(i),a=this.getPropertyResult("<!TRACKTITLE!>"),l=this.getPropertyResult("<!ARTIST!>"),c=i.find("audio");c.attr("preload","none");var u=this.getPropertyResult("<!AUTOSTART!>");u="yes"===u,this.id==r&&u===!1&&(o=!1),!o&&u?(o=!0,r=this.id):u=!1,u&&c.attr("autoplay","autoplay");var d={audioWidth:s,enableKeyboard:!1,isVideo:!1,success:this.blurControls},h=c.attr("src");"undefined"!=typeof h&&null!==h&&""!=h||(d.type="audio/mp3");for(var p=mejs.players.length,f=0;f<p;f++){var m=mejs.players[f];if(m.id===this.id){m.paused||m.ended||m.pause(),m.remove(),mejs.players.splice(f,1),delete c[0].player;break}}this.mediaElement=new mejs.MediaElementPlayer(c,d),this.mediaElement.id=this.id,this.mediaElement.autostart=u;var g=i.find(".mejs-container");if(g.length>0){var v=a&&a.length>0,b=l&&l.length>0,w='<div class="wsite-mejs-track">';v&&b?w+='<span class="wsite-mejs-title">'+a+'</span><span class="wsite-mejs-track-sep"> - </span><span class="wsite-mejs-artist">'+l+"</span></div>":v?w+='<span class="wsite-mejs-title">'+a+"</span></div>":b?w+='<span class="wsite-mejs-artist">'+l+"</span></div>":w="",g.append(w)}},blurControls:function(t,n){var i=e(n).closest(".mejs-container").find("button");t.addEventListener("play",function(){i.blur()},!1),t.addEventListener("pause",function(){i.blur()},!1)},getPropertyResult:function(e){var t=this.getContentField().getProperty(e);if(t)return t.property_result},reposition:function($super){$super(),this.setWidth()},findWidth:function(e){var t=e.innerWidth();return t=t&&t<400?t<235?235:t:400},setWidth:function(){var t=e(this.li),n=this.findWidth(t);this.mediaElement.setPlayerSize(n,this.mediaElement.height),this.mediaElement.setControlsSize()}});return e(function(){var e=function(e){var t=!1;"updateList"==e&&(t=!0);for(var n=0,i=mejs.players.length;n<i;n++){var r=mejs.players[n];r.paused||r.ended||r.pause(),r.hasFocus=!1,t&&r.remove()}t&&(mejs.players=[],o=!1)};n.addListener("navPageChange",e)}),i.register("67748238",s),s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(13),n(19)],o=function(e,t,n,i){var o=Class.create(i,{processHTML:function($super,t,i){var o=null,r=null,s=[];return t=$super(t),s=e.parseHTML(t),s&&e(s).filter(".element").length&&(o=e(t).find(".wsite-button-inner"),o.length&&(r=o.html(),r&&(t=o.html(r).closest(".element")[0].outerHTML))),t=t.replace(/<a /gi,"<span "),t=t.replace(/<\/a>/gi,"</span>"),n.chromeless&&t.replace(/javascript:;/gi,""),t},afterRender:function($super,n,i){$super(n,i);var o=n.down(".wsite-button-inner");makeElementContentEditable(o,{richTextControls:!1,saveCallback:function(e,n){n=n||t.utl("html.weebly.libraries.classes.elements.ButtonElement_1"),this.setPropertyResult("<!TEXT!>",n),this.save(),this.rerender()}.bind(this)}),o&&e(o).css("cursor","text")},getPropertyResult:function(e){var t=this.getContentField().getProperty(e);if(t)return t.property_result},setPropertyResult:function(e,t){var n=this.getContentField().getProperty(e);n&&(n.property_result=t)},save:function(){this.getContentField().saveProperties()}});return i.register("59396708",o),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(13),n(7),n(19),n(317),n(231),n(26),n(252),n(783),n(782),n(784)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h){var p=window.Class.create(s,{renderHTML:function($super){return u=i.chromeless?d:u,$super(u)},rerenderContentField:function($super,i,o,r,s){var l,d,p=e(o);this.mapProperties(i,s).then(function(e){this.propertiesModel=e;var f=i.getProperty("<!CATSPERPAGE!>").ucfpid,m=i.getProperty("<!PAGINATIONOPTS!>").ucfpid,g=i.getProperty("<!LAYOUT!>").ucfpid,v=i.getProperty("<!SEQUENCE!>").ucfpid,b=!1,w=this.propertiesModel.INFOPLACEMENT;(this.propertiesModel.SHOWIMAGE||this.propertiesModel.SHOWBUTTON||this.propertiesModel.SHOWNAME)&&(this.propertiesModel.SHOWIMAGE||"hover"!==w&&"over"!==w)?0===e.models.length?(d=n.render(u),l=n.render(c,{layout_html:d}),p.find(".commerce-elements-wrapper").html(l)):b=!0:(d=n.render(h),l=n.render(c,{layout_html:d}),p.find(".commerce-elements-wrapper").html(l)),b?t.isUndefined(s[f])&&t.isUndefined(s[g])&&t.isUndefined(s[m])&&t.isUndefined(s[v])?(l=this.renderLayout(e),p.find(".commerce-layout-wrapper").html(l),this.maxPage>1&&a.resetPagination(p.find(".product-pagination"),this.$initialPaginationEl),this.afterRerenderContentField(i,o,r)):this.rerenderCategories(p,i,r):this.afterRerenderContentField(i,o,r)}.bind(this))},paginationCallback:function(e,t){"singlerow"!==this.propertiesModel.LAYOUT&&e.find(".pagination__overlay").show(),this.fetchModelsPage(this.propertiesModel,t).done(this.renderItemsPage.bind(this,e))},fetchModelsPage:function(e,t){var n=e.SEQUENCE,i=parseInt(e.CATSPERPAGE),r=t*i,s=this.getContentField();return o.execute("loading:start","categories-element::pagination-fetch"),o.request("categories-element:pagination:fetch",s.ucfid,n,r,i).always(o.execute.bind(o,"loading:stop","categories-element::pagination-fetch")).then(function(e){return e.data})},openSequenceSelectDialog:function($super,e){o.execute("categories-element:select-categories",{origin:"empty-element",ucfid:e.ucfid,sequence:JSON.parse(e.getProperty("<!SEQUENCE!>").property_result),imageData:JSON.parse(e.getProperty("<!IMAGEDATA!>").property_result)})},shouldFetchModels:function($super,e,n){var i=e.getProperty("<!SEQUENCE!>").ucfpid,o=e.getProperty("<!CATSPERPAGE!>").ucfpid;return!t.isUndefined(n[i])||!t.isUndefined(n[o])},rerenderCategories:function(e,t,n){var i=parseInt(this.propertiesModel.CATSPERPAGE),o=this.propertiesModel.SEQUENCE;this.maxPage=Math.ceil(o.length/i);var r=this.renderModels(t);e.html(r),this.afterRerenderContentField(t,e.get(0),n)}});return r.register("90123933",p),p}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(6),__webpack_require__(19),__webpack_require__(13),__webpack_require__(12)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,editorApp,Element,Config,UICONST){var ContentAreaElement=window.Class.create(Element,{initialize:function($super,e,t){$super(e,t);var n=this;n.context=t,n.children&&(n.children=t.loadElements(n.children))},afterRender:function($super,li,isRerender){$super(li,isRerender);var element=this,elementLi=$(li);elementLi.addClass("content-area-element"),elementLi.attr("data-ucfid",Object.keys(element.content_fields)[0]),elementLi.attr("data-peid",element.id),element.children&&0==element.children.length?Config.chromeless||elementLi.append('<div class="empty-content-area-element">'+_W.utl("javascript.editor-site-shared.build.elements.ContentAreaElement_2")+'<ul class="content-area-list"></ul></div>'):(elementLi.append('<ul class="content-area-list"></ul>'),_.each(element.children,function(childData,index){var childElement=element.context.elementsByID[childData.id];childElement.beforeRender(isRerender);var childHtml=childElement.renderHTML();childElement.li=$(childHtml)[0];var scriptsToEval=[];$(childHtml).length>0&&_.each($(childHtml),function(e){$(e).is("script")&&scriptsToEval.push(e)}),$(childElement.li).attr("data-page-element-order",childData.page_element_order),elementLi.find(".content-area-list").first().append(childElement.li),childElement.afterRender(childElement.li,isRerender),_.each(scriptsToEval,function(oneScript){eval($(oneScript).html())})}))}});return Element.register(UICONST.CONTENT_AREA_ELEMENT_ID,ContentAreaElement),ContentAreaElement}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var i,o;(function(r){i=[n(1),n(2),n(5),n(13),n(168)],o=function(e,t,n,i,o){var s="92495494",a="58377875",l="77980269",c=Class.create({initialize:function(e,i){var o=n.Elements?n.Elements.unsyncedProperties:{};this.ucfid=i.ucfid,this.eid=e,this.cfid=i.cfid,this.properties={},t.each(i.properties,function(e){var t=e.property_result;this.ucfid&&o.hasOwnProperty(this.ucfid)&&(t=o[this.ucfid]),this.properties[e.cfpid]={cfpid:e.cfpid,ucfpid:e.ucfpid,property_result:t,reference_property:e.reference_property}},this),this.content=i.content,this.contentFieldContent=i.content_field_content,this.contentFieldAlign=i.content_field_align},getProperty:function(e){return"number"==typeof e&&(e+=""),"string"==typeof e&&(e=e.match(/^<!\w+!>$/)?{reference_property:e}:{ucfpid:e}),hashSearch(this.properties,e)},fetchDefinition:function(){var e=o.getDefinition(this.eid);return e?e.contentfields[this.cfid]:null},parseTagType:function(t){return e(t).prop("tagName")},parseTagAttributes:function(t){for(var n={},i=e(t)[0].attributes,o=0;o<i.length;o++){var r=i.item(o).nodeName,s=i.item(o).nodeValue;n[r]=s}return n},createStartTag:function(e,n){var i="<"+e;return t.each(n,function(e,t){i+=" "+t+'="'+e+'"'}),i+">"},render:function(){var e=this.fetchDefinition();if(!e)return"";var o=e.contentFieldProperties,r=e.htmlStart,s=this.parseTagType(r),a="",l="",c="",u="",d="";return s&&(a=this.parseTagAttributes(r),a.class||(a.class="")),1==e.hasContent?(l=this.contentFieldContent,l||(l=n.utl("html.weebly.libraries.classes.Element_2")),i.chromeless&&l.match("Click here to edit.")&&(l=n.utl("html.weebly.libraries.classes.Element_3")),l=l.replace(/^(title|paragraph).*click here to edit\.$/i,n.utl("html.weebly.libraries.classes.Element_4")),this.contentFieldAlign&&(u+="text-align:"+this.contentFieldAlign)):2==e.hasContent&&(c=e.customContent,c=c.replace(/%%ELEMENTID%%/gi,this.ucfid),c=c.replace(/%%PAGEELEMENTID%%/gi,this.cfid),c=c.safeReplace(/%%WEEBLYCONFIGDOMAIN%%/gi,configSiteName),c=c.safeReplace(/%%WEEBLYSUBDOMAIN%%/gi,configSiteName.replace(/\.weebly\.com$/,"")),c=c.safeReplace(/%%WHITELABELDOMAIN%%/gi,n.WHITE_LABEL_DOMAIN)),t.each(o,function(e){var t=null,n=e.property,i=this.properties[e.cfpid];i&&"undefined"!=typeof i.property_result&&(t=i.property_result),null!==t&&""!==t||(t=e.propertyDefault),"css"==e.markupType?u+=n+":"+t+";":"html"==e.markupType?a[n]=t:"custom"==e.markupType&&(t=e.resultInEditor||t,"%%CUSTOM%%"==n&&(t=t.replace("<embed",'<embed wmode="transparent" allownetworking="internal"')),n&&(d=new RegExp(n,"mg"),c=c.replace(d,t)))},this),c=c.replace("%%WEEBLYUSERID%%",window.userID),c=c.replace("%%INEDITOR%%",n.EDITOR?1:0),c=c.replace(/<weebly only_export[^>]*>([\S\s]*?)<\/weebly>/i,""),i.chromeless&&(this.isPlaceholder()?(a.class+=" tablet-placeholder",c=this.addPlaceholderHTML(c)):a.class=a.class.replace("tablet-placeholder"," ")),e.selectable&&(a.class+=" element"),1==e.hasContent&&1!=e.hidden&&(a.contentEditable="true",a.class+=" editable-text"),a.id=this.ucfid,u&&(a.style=a.style?a.style+";"+u:u),this.createStartTag(s,a)+c+l+e.htmlEnd},isPlaceholder:function(e){var t=!1,n=this.getProperty("<!DATA!>")||{},i=n.property_result||"{}",o={};try{o=JSON.parse(i)}catch(e){console.log("Malformed JSON data")}var r=this.getProperty("<!SRC!>")||this.getProperty("<!VIDEOFILE!>")||this.getProperty("<!IMAGESET!>")||this.getProperty("<!IMAGES!>")||this.getProperty("<!PRODUCTID!>")||{},s=r.property_result;return o.placeholder&&(t=!0),"string"==typeof s&&s.match(/na.png/g)&&(t=!0),"string"!=typeof s||""!=s&&"[]"!=s||(t=!0),t},addPlaceholderHTML:function(e){return e=e.replace(/<img[^>]*>[^<]*/gim,'<span class="icon icon-image"></span>'+n.utl("html.weebly.libraries.classes.Element_5")),e=e.replace(/<iframe[^>]*>[^<]*<\/iframe>/gim,'<a><span class="icon icon-video"></span>'+n.utl("html.weebly.libraries.classes.Element_6")+"</a>"),e=e.replace(/<!WEEBLYGALLERY2?\-.*?!>/g,'<a><span class="icon icon-gallery"></span>'+n.utl("html.weebly.libraries.classes.Element_7")+"</a>"),e=e.replace(/<!WEEBLYSLIDESHOW\-.*?!>/g,'<a><span class="icon icon-slideshow"></span>'+n.utl("html.weebly.libraries.classes.Element_8")+"</a>"),e=e.replace(/282/gi,"auto"),e=e.replace(/^(<div><!PRODUCT!><\/div>)/gim,'<div class="product-placeholder"><a><span class="icon icon-product"></span>'+n.utl("html.weebly.libraries.classes.Element_9")+"</a></div>")},saveProperties:function(e){if(i.chromeless)try{throw new Error("Invalid element property save attempted in script")}catch(e){return void console.log(e.message)}Weebly.Editor.RPC.Elements.saveProperties(this.ucfid,Object.toJSON(this.properties)).done(e||r.noop).fail(window.errFunc)},isEmbedCodeWithHTMLProperty:function(e){return this.eid===s&&this.cfid===a&&e===l}});return c}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(1))},function(e,t,n){var i,o;i=[n(27)],o=function(){var e=Class.create({initialize:function(e,t){this.cfid=e,this.name=t.name,this.htmlStart=t.html_start,this.htmlEnd=t.html_end,this.hasContent=t.has_content,this.hasImage=t.has_image,this.hidden=t.hidden,this.customContent=t.custom_content,this.elementonChangeJs=t.element_onchange_js,this.elementJs=t.element_js,this.selectable=t.selectable,this.contentFieldProperties=t.content_field_properties.map(function(e){return{cfpid:e.cfpid,title:e.title,options:e.options,property:e.property,result:e.result,markupType:e.markup_type,advanced:e.advanced,propertyDefault:e.property_default,resultInEditor:e.result_in_editor,displayOrder:e.display_order,referenceProperty:e.reference_property,hidden:e.hidden}})},getProperty:function(e){return"number"==typeof e&&(e+=""),"string"==typeof e&&(e=e.match(/^%%\w+%%$/)?{property:e}:e.match(/^<!\w+!>$/)?{referenceProperty:e}:{cfpid:e}),arraySearch(this.contentFieldProperties,e)}});return e}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(19),n(58),n(805),n(806),n(14)],o=function(e,t,n,i,o,r,s,a){function l(e){var n=e.data;t.defer(t.bind(n.afterRender,n,this))}var c=window.Class.create(o,{resizeFrameInterval:null,written:!1,85662917:function(t,n){var i=this.getContentField(),o=i.ucfid,r=e("#custom-frame-"+o,this.li),s=r[0].contentWindow||r[0];s.updateAlign&&s.updateAlign(t)},appendIframeCover:function(t){var i=n.render(s),o=e(i),r=t.parent();this.$frameBlocker=o.find(".customhtml-blocker"),t.detach(),this.$frameBlocker.after(t),r.append(o),this.setFrameBlockerEvents()},afterRender:function($super,i,o){$super(i,o);var s=e(i);if(s.off("dragstop:drop",l).on("dragstop:drop",this,l),!o){var c=this.getContentField(),u=c.getProperty("<!HTML!>").property_result;u=u.replace(/<script[^>]*www.clickbook.net[^>]*cb_mode1\.js[^>]*>\s*<\/script>/i,"");var d=s.find("iframe");this.appendIframeCover(d);var h=d[0].contentWindow||d[0],p=e("#wsite-theme-"+window.currentTheme+"-file").html(),f=e("#designOptionsStyle");f.length&&(p+=f.html());var m=p.split("@media");if(m.length>1){p=m[0];for(var g=1;g<m.length;g++){var v=m[g].split(/\n\s*\}\s*\n/,2);2===v.length&&(p+=v[1])}}var b=e('script[src*="jquery"]').eq(0).attr("src"),w=e("#wsite-base-style").eq(0).attr("href");h.ucfid=c.ucfid;var y=null,_=function(){var t=e("#secondlist",this.document).outerHeight();t>0&&y!==t&&this.parent.resizeCustomHtml&&(y=t,this.parent.resizeCustomHtml(c.ucfid,y),a.vent.trigger("forceDocumentSizeChange"))},E=function(e,t){var i=n.render(r,{theme:window.currentTheme,align:c.getProperty("<!ALIGN!>").property_result,content:e,jquery_url:b,sites_css_url:w,theme_css:p,ucfid:c.ucfid});if(t&&(this.written=!1),this.written){var o=new DOMParser,s=o.parseFromString(i,"text/html");h.document.childNodes[0].replaceChild(s.body,h.document.body)}else h.document.open(),h.document.write(i),h.document.close(),h.resizeFrame=_,h.setContent=E,h.updateAlign=T,this.written=!0}.bind(this),T=function(t){t&&e("#customhtml-content").css({"text-align":t})};h.resizeFrame=_,h.setContent=E,h.updateAlign=T,this.resizeFrameInterval&&clearInterval(this.resizeFrameInterval),this.resizeFrameInterval=setInterval(t.bind(h.resizeFrame,h),500),h.setContent(u)}},unrender:function($super){$super(),this.resizeFrameInterval&&clearInterval(this.resizeFrameInterval),this.unsetFrameBlockerEvents()},setFrameBlockerEvents:function(){this.$frameBlocker.on("click",function(){this.style.visibility="hidden",a.vent.on({"element:options:dialog:close":function(){this.style.visibility="visible"}.bind(this)})})},unsetFrameBlockerEvents:function(){this.$frameBlocker&&(this.$frameBlocker.off("click"),this.$frameBlocker=null,a.vent.off("element:options:dialog:close",null,this))}});return window.resizeCustomHtml=function(t,n){var i=e("#custom-frame-"+t);i.css({height:n+"px"})},i.register("92495494",c),c}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(23),n(19),n(58),n(318),n(596),n(320),n(612),n(595),n(605),n(610),n(613),n(614),n(319),n(321),n(412),n(601),n(608),n(604),n(606),n(598),n(607),n(597),n(611),n(609)],o=function(e,t,n,i){function o(){function o(e){var o=n.getElementObject(e),r=!1,s=!1;return o?(s=!0,o.context&&o.context!==a&&(r=!0,delete o.context.elementsByID[o.id])):o=i.load(e,a),a.elementsByID[o.id]=o,t.each(o.content_fields,function(n){if(r&&delete o.context.contentFieldsByID[n.ucfid],a.contentFieldsByID[n.ucfid]=n,s&&e.content_fields){var i=t.findWhere(e.content_fields,{ucfid:n.ucfid});i&&i.content&&(n.content=i.content)}}),r&&(o.context=a),o}function r(e){return e.map(function(e){return o(e,a)})}function s(i){var o=n.getElementObject(i);return t.each(o.content_fields,function(e){delete a.contentFieldsByID[e.ucfid]}),delete a.elementsByID[o.id],e("#inside_"+o.id).remove(),o.unrender(),o}var a=this;a.elementsByID={},a.contentFieldsByID={},a.loadElement=o,a.loadElements=r,a.deleteElement=s}return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(600),n(27)],o=function(e,t){var n=Class.create({initialize:function(n,i){this.elementid=n,this.displayname=i.name,this.contentfields={},this.manifest=JSON.parse(i.manifest),e.each(i.content_fields,function(e){var n=new t(e.cfid,e);this.contentfields[e.cfid]=n},this)},getContentField:function(e){return hashSearch(this.contentfields,e)}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(12),n(19),n(58)],o=function(e,t,n,i){function o(){e(this).closest(".element").addClass("inside-delete-hover")}function r(){e(this).closest(".element").removeClass("inside-delete-hover")}var s=window.Class.create(i,{afterRender:function($super,t,n){$super(t,n);var i=e(t);if(n){var s=i.find("img");s.data("ui-resizable")&&(s=s.closest(".ui-wrapper")),i.find(".element").eq(0).css("width",s.outerWidth(!0)+"px")}e("<div>",{class:"w-delete-outer",html:'<div class="w-delete" title="'+window._W.utl("javascript.editor-site-shared.build.elements.ImageTextElement_2")+'"></div>',on:{mouseover:o,mouseout:r},appendTo:i.find(".imgPusher").closest(".element")})},"<!SRC!>":function(){var e;try{e=JSON.parse(this.getPropertyResult("<!DATA!>"))}catch(e){}return e&&e.image?e.image.editorUrl:this.getPropertyResult("<!SRC!>")}});return n.register(t.CURRENT_PARAGRAPH_IMAGE_ELEMENT,s),s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(13),n(6),n(14),n(19)],o=function(e,t,n,i,o,r){var s=Class.create(r,{$mapIframeCover:null,afterRender:function($super,t,n){$super(t,n),this.setMapType();var o=this;i.vent.on("viewChange",function(){o.setMapType()}),this.$mapIframeCover=e(t).find(".wsite-map-coverbox"),this.bindMapCoverEvents()},unrender:function($super){$super(),this.unbindMapCoverEvents()},setMapType:function(){var i=e(this.li),o=i.find("iframe"),r=o.attr("src");if(r){if(r.indexOf("&touch=")>=0){var s=t.view.isMobileView||n.chromeless?"1":"0";r=r.replace(/&touch=[01]/,"&touch="+s)}else r=t.view.isMobileView||n.chromeless?r+"&touch=1":r+"&touch=0";o.attr("src",r)}},bindMapCoverEvents:function(){this.$mapIframeCover&&this.$mapIframeCover.on("click.map-frame-cover",function(){var t=e(this);t.hide(),o.vent.once("element:options:dialog:close",function(){t.show()})})},unbindMapCoverEvents:function(){this.$mapIframeCover&&(this.$mapIframeCover.off("click.map-frame-cover"),this.$mapIframeCover=null)}});return r.register("42844424",s),s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(19),n(28),n(12)],o=function(e,t,n,i,o){var r=window.Class.create(n,{initialize:function($super,e,n){$super(e,n);var i=this;i.context=n,i.children&&t.each(i.children,function(e){i.context.loadElement(e)})},afterRender:function($super,n,i){$super(n,i);var r=this,s=e(n);s.find(".platform-element-child-placeholder").each(function(n,s){var a=e(s),l=a.data("field-name"),c=a.data("field-type"),u=a.data("default"),d=a.data("width"),h=l+":"+c,p=r.children[h];if(p||t.each(r.children,function(e){e.platform_setting_name==h&&(p=e)}),p){var f=r.context.elementsByID[p.id];f.beforeRender(i);var m=f.renderHTML();f.li=e(m)[0],e(f.li).addClass("platform-element-child"),e(f.li).attr("data-field-name",l),e(f.li).attr("data-field-type",c),e(f.li).attr("data-default-text",u),e(f.li).attr("data-page-element-order",p.page_element_order),a.replaceWith(f.li),f.afterRender(f.li,i),"44785763"==p.eid&&u&&t.each(f.content_fields,function(t){"93182214"==t.cfid&&(""==t.contentFieldContent||t.contentFieldContent.match(_W.utl("javascript.editor-site-shared.build.elements.PlatformElement_2")))&&e(f.li).find(".editable-text").text(u)}),p.eid==o.CONTENT_AREA_ELEMENT_ID&&d&&e(f.li).css("width",d)}});var a=0===s.find(".platform-element-overlay").length;window.inEditor&&window.inEditor()&&a&&s.find(".platform-element-contents").prepend("<div class='platform-element-overlay'> </div>")},onDrag:function($super,e,t,n){return n=$super(e,t,n),n&&n.el&&this.elData&&i.isChildOf(n.el,this.elData.id)?null:n}});return window.PlatformElement=r,n.register("75699656",r),r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(13),n(7),n(19),n(317),n(231),n(26),n(252),n(796),n(795),n(797)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h){var p=window.Class.create(s,{renderHTML:function($super){return u=i.chromeless?d:u,$super(u)},rerenderContentField:function(i,o,r,s){var l,d,p=e(o);this.mapProperties(i,s).then(function(e){this.propertiesModel=e;var f=i.getProperty("<!PRODSPERPAGE!>").ucfpid,m=i.getProperty("<!PAGINATIONOPTS!>").ucfpid,g=i.getProperty("<!LAYOUT!>").ucfpid,v=i.getProperty("<!SEQUENCE!>").ucfpid,b=!1,w=this.propertiesModel.INFOPLACEMENT;(this.propertiesModel.SHOWIMAGE||this.propertiesModel.SHOWBUTTON||this.propertiesModel.SHOWSHORTDESCRIPTION||this.propertiesModel.SHOWPRICE||this.propertiesModel.SHOWNAME)&&(this.propertiesModel.SHOWIMAGE||"over"!==w&&"hover"!==w)?0===e.models.length?(d=n.render(u),l=n.render(c,{layout_html:d}),p.find(".commerce-elements-wrapper").html(l)):b=!0:(d=n.render(h),l=n.render(c,{layout_html:d}),p.find(".commerce-elements-wrapper").html(l)),b?t.isUndefined(s[f])&&t.isUndefined(s[g])&&t.isUndefined(s[m])&&t.isUndefined(s[v])?(l=this.renderLayout(e),p.find(".commerce-layout-wrapper").html(l),this.maxPage>1&&a.resetPagination(p.find(".product-pagination"),this.$initialPaginationEl),this.afterRerenderContentField(i,o,r)):this.rerenderProducts(p,i,r):this.afterRerenderContentField(i,o,r)}.bind(this))},paginationCallback:function(e,t){"singlerow"!==this.propertiesModel.LAYOUT&&e.find(".pagination__overlay").show(),this.fetchModelsPage(this.propertiesModel,t).done(this.renderItemsPage.bind(this,e))},fetchModelsPage:function(e,t){var n=e.SEQUENCE,i=e.IMAGEDATA,r=parseInt(e.PRODSPERPAGE),s=t*r,a=this.getContentField();return o.execute("loading:start","products-element::pagination-fetch"),o.request("products-element:pagination:fetch",a.ucfid,n,i,s,r).always(o.execute.bind(o,"loading:stop","products-element::pagination-fetch")).then(function(e){return e.data})},openSequenceSelectDialog:function(e){o.execute("products-element:select-products",{origin:"empty-element",ucfid:e.ucfid,sequence:JSON.parse(e.getProperty("<!SEQUENCE!>").property_result),imageData:JSON.parse(e.getProperty("<!IMAGEDATA!>").property_result)})},shouldFetchModels:function(e,n){var i=e.getProperty("<!SEQUENCE!>").ucfpid,o=e.getProperty("<!IMAGEDATA!>").ucfpid,r=e.getProperty("<!PRODSPERPAGE!>").ucfpid;return!t.isUndefined(n[i])||!t.isUndefined(n[o])||!t.isUndefined(n[r])},rerenderProducts:function(e,t,n){var i=parseInt(this.propertiesModel.PRODSPERPAGE),r=this.propertiesModel.SEQUENCE,t=this.getContentField();o.execute("loading:start","products-element::max-page"),o.request("products-element:pagination:max-page:get",t.ucfid,r,i).always(o.execute.bind(o,"loading:stop","products-element::max-page")).done(function(i){this.maxPage=parseInt(i.data);var o=this.renderModels(t);e.html(o),this.afterRerenderContentField(t,e.get(0),n)}.bind(this))}});return r.register("90123932",p),p}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(19),n(58),n(28),n(12)],o=function(e,t,n,i){var o=window.Class.create(t,{onDrag:function($super,e,t,o){return o=$super(e,t,o),o&&(o.position===i.POSITION_LEFT||o.position===i.POSITION_RIGHT||n.isChildOfMultiColumn(o.el))?null:o}});return e.register("16151740",o),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(19),n(58),n(7)],o=function(e,t,n,i){var o=window.Class.create(n,{DONE_STATUS:"DONE",afterRender:function($super,t){var n=this.getContentField(),o=n.getProperty("<!DOCID!>").property_result,r="",s=setInterval(function(){1===e("#body").find(t).length?i.request("scribd-document-element:status:get",o).then(function(i){var o=i.data;if(o===this.DONE_STATUS)if(""!==r&&r!==this.DONE_STATUS){var a=e(t).find(".element");clearInterval(s),r="",this.rerenderContentField(n,a)}else clearInterval(s);else r=o}.bind(this)):clearInterval(s)}.bind(this),5e3);$super()}});return t.register("3971316",o),o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(19)],o=function(e,t,n){var i=Class.create(n,{afterRender:function($super,t,n){$super(t,n),e(t).find("form").on("submit",this.handleSubmit.bind(this)).find("span.wsite-search-element-submit").on("click",this.handleSubmit.bind(this))},handleSubmit:function(n){var i=e(n.target).find("input.wsite-search-element-input").eq(0);window.hideTip("tipsearch-info",1),window.showTip(t.utl("html.weebly.libraries.classes.elements.SearchElement_1"),i,"y","search-info",1,225),n.preventDefault()}});return n.register("90122486",i),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(58),n(12),n(19),n(29),n(68),n(24)],o=function(e,t,n,i,o,r){var s=window.Class.create(e,{stopDrag:function(e,t,n){n||i.pageHasDroppableSections(r.currentThemeData.page_type_templates[window.currentPageType],window.currentPageKind)||o.alert({parent:"#orbitDialogContainer",title:_W.utl("sections.dialogs.SectionsUnsupported_title"),message:_W.utl("sections.dialogs.SectionsUnsupported_message")})}});return n.register(t.SECTION_ELEMENT,s),s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(2),n(13),n(217),n(24),n(19),n(7),n(45)],o=function(e,t,n,i,o,s,a,l){function c(e,n){var i=(e.badge_order||[]).slice(0);i=i.concat(Object.keys(e.badges)).uniq();var o=t.difference(i,Object.keys(n));return o.length&&(i=t.difference(i,o)),i}function u(e){var t,n;e=e||{};for(var i,o=0;o<g.length;o++)i=e[g[o]]||{},e[g[o]]={url:i.url||!0,active:!0};return e}function d(){return"social-"+b++}function h(e){var t=i.isUsingGlyphIcons(o.currentThemeData),n=g.indexOf("instagram")!==-1;return t&&!n?(g.splice(2,0,"instagram"),m.instagram={display:"Instagram",hint:_W.utl("javascript.editor-site-shared.build.elements.SocialElement_28")}):!t&&n&&(g.splice(g.indexOf("instagram"),1),delete m.instagram),e=i.convertBadgeData(e,m)}function p(e){return!!i.isUsingGlyphIcons(o.currentThemeData)||f().indexOf(e)!==-1}function f(){return o.currentThemeData.social.length?o.currentThemeData.social:Object.keys(m)}var m={facebook:{display:"Facebook",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_17")},twitter:{display:"Twitter",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_18")},linkedin:{display:"Linkedin",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_19")},mail:{display:"Mail",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_20")},flickr:{display:"Flickr",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_21")},pinterest:{display:"Pinterest",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_22")},plus:{display:"Google+",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_23")},rss:{display:"RSS",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_24")},vimeo:{display:"Vimeo",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_25")},yahoo:{display:"Yahoo!",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_26")},youtube:{display:"YouTube",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_27")}},g=["facebook","twitter","linkedin","mail"],v=Class.create(s,{initialize:function($super,e,t){$super(e,t),this.formatSocialData()},formatSocialData:function(){var e=this.getDataProperty();e=e?e.evalJSON():{},e.badges&&$H(e.badges).keys().length||(e.badges=u()),e.badges=h(e.badges),this.skipGetProperty=!1,this.data=e},"<!BADGES!>":function(){var e,t,i,o,r,s,a="",l=[],u,d,f=!1;if(this.data&&this.skipGetProperty||this.formatSocialData(),e=this.data,t=this.data.badges||h(e.badges),i=c(e,t),n.chromeless&&(f=this.showPlaceholder()),f)a='<a><span class="icon icon-social"></span>'+_W.utl("html.weebly.libraries.classes.elements.SocialElement_14")+"</a>";else{for(var m=0;m<i.length;m++)r=i[m],
o=t[r],o?(s="",o.active&&o.url&&p(r)?void 0===u?(u=m,s="first-child"):d=m:s="hidden",l.push('<a class="'+s+" wsite-social-item wsite-social-"+r+'" href="#" data-social="'+r+'" onclick="return false"><span class="wsite-social-item-inner"></span></a>')):l.push("");d&&(l[d]=l[d].slice(0,10)+"last-child "+l[d].slice(11)),a=l.join("")}return a},getDataProperty:function(){var e=this.getContentField();if(e.getProperty("<!DATA!>"))return e.getProperty("<!DATA!>").property_result},showPlaceholder:function(){var e=!1,t=this.getDataProperty();if(!t)return e=!0;t=t.evalJSON(),e=!0;for(var n in t.badges)t.badges[n].active&&(e=!1);return e},afterRender:function($super,t,i){$super(t,i);var o=this,r,s,a,l=o.li.down("span.wsite-social"),c=o.li.down(".element"),u=!1;if(l&&c){r=e(l).children(),n.chromeless&&(u=this.showPlaceholder()),u?e(o.li).find(".element").addClass("tablet-placeholder"):e(o.li).find(".element").removeClass("tablet-placeholder");for(var d=0;d<r.length;d++)s=r[d].getAttribute("data-social"),a=this.data.badges[s],a&&a.active&&a.url&&p(s)?r[d].removeClassName("hidden"):r[d].addClassName("hidden")}},disableSocialBadges:function(){var e=l.getAreaInstanceForElement(this.li.up(".weebly-area"));e&&"social"===e.type&&!e.name&&(e.hide(),updateDesignElements(),a.execute("mobile:updateAreaOptions"),this.destroyToolbar(),this.data.badges=u(this.data.badges),this.save(),Weebly.view.isMobileView||showTip(_W.utl("html.weebly.libraries.classes.elements.SocialElement_15"),r("weebly_tab_themes"),"y","social",void 0,300))}}),b=1;Weebly.SocialElement=v,s.register("35527740",v)}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(13),n(833),n(19),n(39),n(14),n(178)],o=function(e,t,n,i,o,r,s,a){function l(){s.selectElement(this),window.isDraggingElement=!0}function c(e,t){window.isDraggingElement=!1;var n=this.getContentField();n.getProperty("<!HEIGHT!>").property_result=t.size.height+"px",n.saveProperties()}var u=window.Class.create(r,{afterRender:function($super,r,s){$super(r,s);var u=e(r),d=u.find(".element-box").addClass("w-handle").find(".element");s||d.append(n.render(o,{label:window._W.utl("javascript.editor.build.elements.SpacerElement_1")})),i.chromeless||d.data("ui-resizable")||(u.addClass("wsite-spacer-li"),d.resizable({handles:"s",start:l,stop:t.bind(c,this),resize:function(){a.vent.trigger("editor:element:resize")}}),d.find(".ui-resizable-handle").css("z-index",""))},unrender:function($super){var t=e(this.li).find(".element");t.data("ui-resizable")&&t.resizable("destroy"),$super()}});return r.register("27280689",u),u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(19),n(39),n(7),n(58)],o=function(e,t,n,i,o){function r(t,n){var i=e("#"+t);if(i.length){var o=i.find("iframe").first().get(0),r=o.src;n?o.src=r+"&uploading=1":r.match(/&uploading/)?o.src=r.replace(/&uploading=1/g,""):o.src=o.src}}function s(t){var o=t.originalEvent.data;if("updateEncodedVideo"==o.type){if(e("#"+o.ucfid).length)try{n.currentElement&&n.currentElement.id==o.ucfid?(n.getPropertyByReference("<!IMAGEFILE!>").property_result=o.imageFile,n.getPropertyByReference("<!VIDEOFILE!>").property_result=o.videoFile):i.request("page:navigate")}catch(e){}i.execute("dontSave:set",0)}else"videoClick"==o.type&&window.clickHandler({},o.ucfid)}e(window).on("message",s),i.commands.setHandler("refreshVideoElement",r);var a=window.Class.create(o);return t.register("63419613",a),a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(4),n(2),n(85),n(82),n(756),n(763)],o=function(e,t,n,i,o,r,s,a){var l=o.extend({getTemplate:function(){return n.compile(s)},BLOG_LINK_PREPEND:"http://weebly-blog-post-link/",switcherOptions:{title:e.utl("javascript.editor-site-shared.build.linker.item-views.BlogPostView_1"),icon:"pageblog"},events:{"click .js-blog-post":"blogPostClickHandler","click .js-window":"newWindowHandler","keydown .js-search":"searchResults","click @ui.currentPostWrapper":"toggleViews","click @ui.unlink":"unlink"},ui:{searchInput:".js-search",blogPostWrapper:".blog-post-wrapper",hasBlogPosts:".has-blog-posts",noBlogPosts:".no-blog-posts",currentPostWrapper:".el-options-url-group",postSelector:".blog-post-selector",currentPostInput:".current-post-input",unlink:".js-unlink"},initialize:function(e){var t=this;t.options=e.options},templateHelpers:function(){var e=this,t=e.model.get("blogPost"),n;return t&&(n=t.split("/").pop().replace(".html","")),{disableNewWindow:e.options.disableNewWindow,currentPostTitle:n}},onRender:function(){var e=this;e.ui.searchInput.length>0&&(e.search=r.initialize(e.ui.searchInput),e.listenTo(e.search,"inputsearch:clear",function(){e.ui.searchInput.keydown()})),e.getBlogPosts()},getBlogPosts:function(){var t=this,n=e.Editor.RPC.Blog?e.Editor.RPC.Blog:e.Commerce.RPC.ComLinker;n.getBlogPosts().done(function(e){var n=t.model.get("blogPost");i.each(e,function(e){var i=t.BLOG_LINK_PREPEND+e.page_id+"/"+e.post_id+"/"+e.post_link;i===decodeURIComponent(n)&&(e.checked=!0)}),t.model.set({hasBlogPosts:e.length>0,blogPosts:e}),t.renderBlogPosts()})},renderBlogPosts:function(){var e=this,t,i=e.ui.blogPostWrapper,o=e.model.get("hasBlogPosts");o&&e.model.get("blogPosts")&&(i.empty(),t=n.render(a,e.model.attributes),i.append(t)),e.ui.hasBlogPosts.toggleClass("hidden",!o),e.ui.noBlogPosts.toggleClass("hidden",o)},blogPostClickHandler:function(e){var n=this,i=t(e.currentTarget),o=i.find("input").val(),r=i.find(".js-name").text();if(e.preventDefault(),n.ui.postSelector.find("input:checked").prop("checked",!1),i.find("input").prop("checked",!0),n.model.get("blogPost")!==o){var s=n.model.get("newWindow");n.model.set({newWindow:s,value:n.BLOG_LINK_PREPEND+o,blogPost:o}),n.ui.currentPostInput.val(r)}n.toggleViews()},newWindowHandler:function(e){var n=this,i=t(e.currentTarget),o=n.$el.find(".js-blog-post input:checked").val();o&&n.model.set("value",n.BLOG_LINK_PREPEND+o),n.model.set("newWindow",i.prop("checked"))},getValue:function(){var e=this,t=e.model.get("value"),n=e.model.get("newWindow")===!0;return t?[t,n]:t},filterSearchResults:function(e){var t=this;i.each(t.model.get("blogPosts"),function(t){""===e||t.post_title.toLowerCase().indexOf(e)>-1?t.hiddenBlogPost=!1:t.hiddenBlogPost=!0}),t.ui.blogPostWrapper.empty(),t.renderBlogPosts()},toggleViews:function(){var e=this,t=e.ui.currentPostWrapper.is(":visible");t?(e.ui.currentPostWrapper.hide(),e.ui.postSelector.slideToggle(200,"swing")):e.ui.postSelector.slideToggle(200,"swing",function(){e.ui.currentPostWrapper.show()})}});return l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(2),n(85),n(757)],o=function(e,t,n,i,o){var r=i.extend({template:t.compile(o),switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.EmailView_1"),icon:"pageemail"},ui:{input:".js-email-input",inputWrapper:".js-input-wrapper",unlink:".js-unlink"},events:{"focus @ui.input":"setGroupState","blur @ui.input":"blurHandler","keyup @ui.input":"changeUnlinkState","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options},onRender:function(){this.changeUnlinkState()},templateHelpers:function(){var e=this,t=e.model.get("email");return{value:t}},setGroupState:function(){this.ui.inputWrapper.addClass("is-focused")},blurHandler:function(t){var n=this,i=t?e(t.currentTarget).val():n.ui.input.val(),o=/^[a-zA-Z0-9\-\_\.\+\~\#\*\'']+@[a-zA-Z0-9\-]+\.[a-zA-Z]+[a-z0-9A-Z\.\-\?\=\&]*$/,r=""!==i&&!i.match(o);return!e(t.relatedTarget).is(n.ui.unlink)&&(this.ui.inputWrapper.removeClass("is-focused"),n.ui.inputWrapper.toggleClass("is-invalid",r),n.ui.inputWrapper.find(".input-group__invalid-text").toggleClass("is-visible",r),void(i!==n.model.get("email")&&(""!==i?n.model.set("value","mailto:"+i):n.model.set("value",""),n.model.set("email",i))))}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(2),n(7),n(26),n(85),n(82),n(21),n(758),n(761)],o=function(e,t,i,o,r,s,a,l,c,u){var d=s.extend({getTemplate:function(){return t.compile(c)},FILE_LINK_PREPEND:"http://weebly-file/",switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.FileView_1"),icon:"pagefile"},ui:{uploadFile:".js-upload-file",uploadFileContainer:".js-upload-file-container",deleteButtons:".delete",files:".js-file",fileSearch:".js-search",filesWrapper:".files-wrapper",fileSelector:".file-selector",currentFileInput:".current-file-input",currentFileWrapper:".el-options-url-group",unlink:".js-unlink"},events:{"click @ui.files":"clickHandler","click @ui.uploadFile":"uploadHandler","keydown @ui.fileSearch":"searchResults","click .js-window":"newWindowHandler","click @ui.currentFileWrapper":"toggleViews","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options,l.initialize()},templateHelpers:function(){var e=this,t=e.model.get("location"),n;return t&&(n=e.getFileName(t)),{disableNewWindow:e.options.disableNewWindow,currentFileTitle:n}},onRender:function(){var e=this;if(e.ui.filesWrapper.empty(),e.search=a.initialize(e.ui.fileSearch),e.search.on("inputsearch:clear",function(){e.ui.fileSearch.keydown()}),e.getFiles(),r.inEditorContext()||e.isSpringboardContext()){var t=n(256);t.setupFileUploader({el:e.ui.uploadFileContainer,target:".js-upload-file",zIndex:99999,type:"link_file",size:"",ucfid:e.options.ucfid||"",ucfpid:"",successCallback:e.uploadCallback.bind(e)})}e.listenTo(e.panel.panelSwitcher.switcher,"open",function(){e.$fileHoverTip.remove(),e.$fileHoverTip=null})},isSpringboardContext:function(){return void 0!==window.Weebly.springboardAccount},uploadHandler:function(){var e=this;r.inEditorContext()||(o.commands.setHandler("uploadCallback",function(t,n){e.uploadCallback.call(e,n),o.execute("dragndrop:dialog:close")}),o.execute("determineUpload","file","",e.options.ucfid||"","","uploadCallback",!0))},uploadCallback:function(e){var t=this;if(!e.match(/error/i)){var n=!1;e.match(/\.pdf$/)&&(n=!0),t.model.set({value:t.FILE_LINK_PREPEND+e,location:e,newWinodw:n}),t.onRender(),t.toggleViews(),t.ui.currentFileInput.val(t.getFileName(e))}},getFiles:function(){var e=this,t=Weebly.Editor?Weebly.Editor.RPC.Linker:Weebly.Commerce.RPC.ComLinker;t.getFiles().done(function(t){var n=JSON.parse(t),o=e.model.get("location");i.each(n,function(t){var n=e.getFileName(t.location);t.location===o&&(t.checked=!0),t.cleanedLocation=e.getFileName(t.location),t.shortenedLocation=e.parseFileName(n)}),e.model.set("files",n),e.renderFiles()}).fail()},renderFiles:function(){var e=this,n,i=e.ui.filesWrapper;e.model.get("files")&&(i.empty(),n=t.render(u,e.model.attributes),i.append(n),e.bindUIElements())},clickHandler:function(t){var n=this,i=e(t.currentTarget),o=i.find("[name=check]"),r=o.val();if(t.preventDefault(),n.$el.find(":checked").removeAttr("checked"),n.$el.find('[value= "'+r+'"]').attr("checked",!0),r!==n.model.get("location")){var s=n.model.get("newWindow");n.model.set({newWindow:s,value:n.FILE_LINK_PREPEND+r,location:r}),n.ui.currentFileInput.val(n.getFileName(r))}n.toggleViews()},newWindowHandler:function(t){var n=this,i=e(t.currentTarget),o=n.ui.files.find("input:checked").val();o&&n.model.set("value",n.FILE_LINK_PREPEND+o),n.model.set("newWindow",i.prop("checked"))},parseFileName:function(e){return e.length>20?e.substr(0,8)+"..."+e.substr(e.length-8,e.length):e},onClose:function(){o.commands.removeHandler("uploadCallback")},filterSearchResults:function(e){var t=this;i.each(t.model.get("files"),function(n){var i=t.getFileName(n.location.toLowerCase());""===e||i.indexOf(e)>-1?n.hiddenFile=!1:n.hiddenFile=!0}),t.renderFiles()},getValue:function(){var e=this,t=e.model.get("value"),n=e.model.get("newWindow")===!0;return t?[t,n]:t},getFileName:function(e){return e.replace(/^.*[\\\/]/,"")},toggleViews:function(){var e=this,t=e.ui.currentFileWrapper.is(":visible");t?(e.ui.currentFileWrapper.hide(),e.ui.fileSelector.slideToggle(200,"swing")):e.ui.fileSelector.slideToggle(200,"swing",function(){e.ui.currentFileWrapper.show()})}});return d}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(2),n(85),n(759)],o=function(e,t,n,i,o){var r=i.extend({getTemplate:function(){return t.compile(o)},switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.PhoneNumberView_1"),icon:"phone"},ui:{input:".js-phone-input",unlink:".js-unlink"},events:{"blur @ui.input":"blurHandler","click @ui.unlink":"unlink","keyup @ui.input":"changeUnlinkState"},initialize:function(e){var t=this;t.options=e.options},templateHelpers:function(){var e=this,t=e.model.get("phone");return{value:t}},onRender:function(){this.changeUnlinkState()},blurHandler:function(t){var n=this,i=t?e(t.currentTarget).val():n.ui.input.val();i=i.replace(/\D/g,""),i!==n.model.get("phone")&&(""!==i?n.model.set("value","tel:"+i):n.model.set("value",""),n.model.set("phone",i))}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(4),n(2),n(6),n(14),n(7),n(26),n(85),n(82),n(31),n(42),n(766),n(760),n(764)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f){var m=l.extend({getTemplate:function(){return n.compile(h)},switcherOptions:{title:e.utl("javascript.editor-site-shared.build.linker.item-views.StorePageView_1"),icon:"pageproduct"},ui:{categories:".js-categories",products:".js-products",storefront:".js-storefront",categoryToggle:".js-toggle-categories",productToggle:".js-toggle-products",storePageSearch:".js-search",categoriesWrapper:".categories-wrapper",productsWrapper:".products-wrapper",categoriesPageCount:".categories-pg-cnt",productsPageCount:".products-pg-cnt",spinner:".spinner",checks:".js-check",currentStorePageInput:".current-page-input",currentPageWrapper:".el-options-url-group",unlink:".js-unlink",storePageSelector:".store-page-selector"},events:{"click @ui.categoryToggle":"toggleCategories","click @ui.productToggle":"toggleProducts","click .js-open-store":"openStoreTab","click .js-categories, .js-products, .js-storefront":"optionClickHandler","click .js-window":"newWindowHandler","keydown @ui.storePageSearch":"searchResults","click @ui.currentPageWrapper":"toggleViews","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options,t.loadProductsAndCategories()},templateHelpers:function(){var t=this,n=t.model.get("products"),o=t.model.get("categories"),r=t.model.get("hasStore"),s="/"+t.model.get("store"),a=t.model.get("currentStoreLinkType"),l;if(s&&n&&o)switch(a){case"storefrontLink":l=e.utl("templates.editor.build.linker.store-page_1");break;case"product":l=i.findWhere(n,{site_link:s}).name;break;case"category":l=i.findWhere(o,{site_link:s}).name}return{disableNewWindow:t.options.disableNewWindow,hasStore:"undefined"==typeof r||r,categoryPageCount:"undefined"!=typeof o?o.length.toString():null,productPageCount:"undefined"!=typeof n?n.length.toString():null,isLoading:"undefined"==typeof t.isLoading||t.isLoading,currentPageTitle:l,newProductHref:"#/store/products/new"}},onRender:function(){var e=this,t=e.model.get("currentStoreLinkType"),i=n.render(p,e.model.attributes),o=n.render(f,e.model.attributes);e.ui.storePageSearch.length>0&&(e.search=c.initialize(e.ui.storePageSearch),e.listenTo(e.search,"inputsearch:clear",function(){e.ui.storePageSearch.keydown()})),e.ui.categoriesWrapper.append(i),e.ui.productsWrapper.append(o),e.bindUIElements(),t&&("category"===t?(e.ui.categoriesWrapper.removeClass("hidden"),e.ui.categoryToggle.find("input").prop("checked",!0)):"product"===t?(e.ui.productsWrapper.removeClass("hidden"),e.ui.productToggle.find("input").prop("checked",!0)):e.ui.storefront.find("input").prop("checked",!0))},loadProductsAndCategories:function(e){var n=this;n.model.set("searchValue",e||""),"undefined"!=typeof e?(n.ui.spinner.show(),n.ui.checks.hide()):n.model.get("store")&&(e=n.model.get("store").split("/").pop().replace(/\.\w+$/,"").replace(/[_\W]+/g," "));var o=new u([],{mode:"infinite",state:{pageSize:200},searchText:e}),r=new d([],{mode:"infinite",state:{pageSize:200},searchText:e});n.isLoading=!0,t.when(o.getPage(1),r.getPage(1,{merge:!1})).done(function(){n.getSiteCategoryId().done(function(t){var s=o.findWhere({site_category_id:t}).get("site_link"),a,l=[],c=[];s===n.model.get("store")&&n.model.set("currentStoreLinkType","storefrontLink"),s="/"+s,n.model.set("storefrontLink",s),a=i.filter(JSON.parse(JSON.stringify(o.models)),function(e){return"Featured Products"!==e.name}),c=i.map(a,function(e){return e.site_link===n.model.get("store")&&(e.checked=!0,n.model.set("currentStoreLinkType","category")),e.site_link="/"+e.site_link,e}),n.model.set("categories",c),l=i.map(JSON.parse(JSON.stringify(r.models)),function(e){return e.site_link===n.model.get("store")&&(e.checked=!0,n.model.set("currentStoreLinkType","product")),e.site_link="/"+e.site_link,e}),n.model.set("products",l),e||n.model.set("hasStore",n.model.get("products").length>0),"string"!=typeof n.ui.spinner&&(n.ui.spinner.hide(),n.ui.checks.show()),n.isLoading=!1,n.render()})})},getSiteCategoryId:function(){var n=t.Deferred();return e.Commerce&&e.Commerce.storefrontSettings?n.resolve(e.Commerce.storefrontSettings.get("storefront_category_id")):a.inEditorContext()?n.resolve(o.commerce.storefrontSettings.get("storefront_category_id")):n=s.request("editor:commerce:storefront:link:get"),n.promise()},toggleCategories:function(e){var t=this,n=t.ui.categoryToggle.find("input");return e&&(e.preventDefault(),t.isLoading)?(e.stopPropagation(),void e.stopImmediatePropagation()):(t.ui.productsWrapper.is(":visible")&&t.toggleProducts(),n.prop("checked",!n.prop("checked")),void t.ui.categoriesWrapper.toggleClass("hidden"))},toggleProducts:function(e){var t=this,n=t.ui.productToggle.find("input");return e&&(e.preventDefault(),t.isLoading)?(e.stopPropagation(),void e.stopImmediatePropagation()):(t.ui.categoriesWrapper.is(":visible")&&t.toggleCategories(),n.prop("checked",!n.prop("checked")),void t.ui.productsWrapper.toggleClass("hidden"))},openStoreTab:function(e){var t=this;Weebly.Elements.unselectElement(),a.inEditorContext()?t.options.close():(e.preventDefault(),r.vent.trigger("element:options:dialog:close"),s.execute("store:newProductPage:show"))},optionClickHandler:function(e){var n=this,i=t(e.currentTarget),o=i.find("input"),r=i.find(".js-name").text();if(e.preventDefault(),n.isLoading)return void e.stopPropagation();if(i.hasClass("js-products")?n.model.set("currentStoreLinkType","products"):i.hasClass("js-categories")&&n.model.set("currentStoreLinkType","categories"),n.ui.storefront.find("input").prop("checked",!1),n.$el.find("[type=checkbox]:not(.js-window)").prop("checked",!1),o.prop("checked",!0),o.val()!==n.model.get("store")){var s=n.model.get("newWindow");n.model.set({newWindow:s,value:o.val(),store:o.val()}),n.ui.currentStorePageInput.val(r)}n.toggleViews()},newWindowHandler:function(e){var n=this,i=t(e.currentTarget),o=n.$el.find(".js-store-page:checked").val();o&&n.model.set("value",o),n.model.set("newWindow",i.prop("checked"))},getValue:function(){var e=this,t=e.model.get("value"),n=e.model.get("newWindow")===!0;return t?[t,n]:t},searchResults:i.debounce(function(e){var n=this,i=t(e.currentTarget).val();n.loadProductsAndCategories(i.toLowerCase().trim())},500),toggleViews:function(){var e=this,t=e.ui.currentPageWrapper.is(":visible");t?(e.ui.currentPageWrapper.hide(),e.ui.storePageSelector.slideToggle(200,"swing")):e.ui.storePageSelector.slideToggle(200,"swing",function(){e.ui.currentPageWrapper.show()})}});return m}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(2),n(85),n(48),n(767)],o=function(e,t,n,i,o,r){var s=i.extend({template:t.compile(r),switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.UrlView_1"),icon:"pageexternal"},ui:{input:".js-url-input",inputWrapper:".js-input-wrapper",window:".js-window",unlink:".js-unlink"},events:{"focus @ui.input":"setGroupState","blur @ui.input":"urlBlurHandler","click @ui.window":"newWindowHandler","keyup @ui.input":"changeUnlinkState","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options},onRender:function(){this.changeUnlinkState()},templateHelpers:function(){var e=this,t=e.model.get("url")||e.model.get("value");return e.model.has("newWindow")||t||e.model.set("newWindow",!0),e.model.set("value",t),{disableNewWindow:e.options.disableNewWindow,placeholder:"http://www.google.com",value:t,newWindow:e.model.get("newWindow")}},setGroupState:function(){this.ui.inputWrapper.addClass("is-focused")},getValue:function(){var e=this,t=e.model.get("value"),n=e.model.get("newWindow")===!0;return t?[t,n]:t},urlBlurHandler:function(t){var n=this,i=t?e(t.currentTarget).val().strip():n.ui.input.val().strip();if(t&&e(t.relatedTarget).is(n.ui.unlink))return!1;if(!i.match(/^[\w-]+:\/\//)&&""!==i){var r=i.indexOf(":")>-1,s=o.hasValidUrl(i);if(i!==i.replace(/<\/?[^>]+>/g,"")||!s)return this.ui.inputWrapper.addClass("is-invalid"),void this.ui.inputWrapper.find(".input-group__invalid-text").addClass("is-visible");r||""===i||(i="http://"+i),this.ui.inputWrapper.removeClass("is-invalid"),this.ui.inputWrapper.find(".input-group__invalid-text").removeClass("is-visible")}n.model.set({value:i,url:i})},newWindowHandler:function(t){var n=this,i=e(t.currentTarget);n.model.set("newWindow",i.prop("checked"))}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(7),n(12),n(110),n(26),n(24)],o=function(e,t,n,i,o,r){var s=e.Model.extend(i).extend({idAttribute:"header_setting_id",MODEL_TYPE:"header-section",initialize:function(e){o.inEditorContext()||(t.commands.removeHandlers(["headerSectionSetting:properties:update","headerSectionSetting:background:image:update"]),t.commands.setHandlers({"headerSectionSetting:properties:update":this.updateProperties.bind(this),"headerSectionSetting:background:image:update":this.updateHeaderSectionBackgroundImage.bind(this)}))},isBackgroundEditable:function(){return r.getCurrentThemeHeaderSectionSettingValue("editable-background",!0,window.currentPageType)},isBackgroundResizeable:function(){return r.getCurrentThemeHeaderSectionSettingValue("resizable",!0,window.currentPageType)},updateProperties:function(e){this.set("properties",e),this.trigger("headerSectionSetting:updated")},updateHeaderSectionBackgroundImage:function(e,t){this.setBackgroundImage(t),this.isNew()&&this.set("header_setting_id",e)},defaults:function(){return{user_id:window.userID,site_id:window.currentSite,page_id:window.currentPage,properties:this.getDefaultProperty()}},getDefaultProperty:function(){var e=this.SECTION_PROPERTIES,t={};return t[e.BACKGROUND_KEY]={},t[e.VERSION_KEY]=e.CURRENT_VERSION,t[e.BACKGROUND_KEY][e.BACKGROUND_TYPES_KEY]=null,t},set:function(t,n,i){var o;return null==t?this:("object"==typeof t?(o=t,i=n):(o={})[t]=n,"string"==typeof o.properties&&(o.properties=JSON.parse(o.properties)),e.Model.prototype.set.call(this,o,i))},generateSelector:function(){return"."+n.HEADER_SECTION_CLASS_NAME}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(233),n(218)],o=function(e,t,n){var i=Class.create({id:null,url:"",handle:null,events:null,options:{windowId:null,top:"center",left:"center",width:500,height:400,location:!1,toolbar:!1,menubar:!1,status:!1,resizable:!1,scrollbars:!1,autoopen:!1},initialize:function(e,i){this.options=t.mergeOptions(this.options,i),this.id=this.options.windowId||this.generateId(),this.url=e,this.events=new n,this.options.autoopen&&this.open()},open:function(){return this.handle?(this.handle.focus(),this):(this.handle=window.open(this.url,this.id,this.buildParams()),this)},close:function(){this.handle&&(this.handle.close(),this.handle=null)},generateId:function(){var e="WEEBLY_BROWSER_WINDOW_UNIQUE_ID_LIST";return window[e]=window[e]||0,"WeeblyBrowserWindow"+ ++window[e]},buildParams:function(){for(var e=this.options,t={},n=["location","toolbar","menubar","status","resizable","scrollbars"],i=0;i<n.length;i++){var o=n[i];t[o]=e[o]?"yes":"no"}for(var r=["width","height"],i=0;i<r.length;i++){var o=r[i];t[o]=""+e[o]}if("center"==e.top){var s=parseInt(t.height,10),a="undefined"!=typeof window.screenY?window.screenY:window.screenTop,l=document.viewport.getHeight();t.top=parseInt(a+(l-s)/2.5,10)}if("center"==e.left){var c=parseInt(t.width,10),u="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,d=document.viewport.getWidth();t.left=parseInt(u+(d-c)/2,10)}var h=[];for(o in t)h.push(o+"="+t[o]);return h.join(",")}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(1),n(5),n(363)],o=function(e,t){var n,i=[],o=function(t){function n(e){return e.indexOf("px")!==-1&&e.indexOf("calc")===-1?parseInt(e):0}var i=t.width();if(0===i){var o=t.parentsUntil(".platform-element-contents");if("HTML"!==o.eq(o.length-1).prop("tagName").toUpperCase()){var r=0;o.each(function(t){t+1!==o.length&&(r+=n(e(this).css("padding-left")),r+=n(e(this).css("padding-right")),r+=n(e(this).css("margin-left")),r+=n(e(this).css("margin-right")))}),i=Math.max(o.eq(o.length-1).width()-r,0)}}return i=i&&i<400?i<235?235:i:400},r=function(){e.each(i,function(){var t=e(this.container).parents(".wsite-html5audio"),n=o(t.parent());this.setPlayerSize(n,this.height),this.setControlsSize()})},s=function(t){function n(t,n){var i=e("#"+n.id).find("button");t.addEventListener("play",function(){i.blur()},!1),t.addEventListener("pause",function(){i.blur()},!1)}var r=e(".wsite-html5audio audio",t),s=!1;i=[],r.each(function(){var t=e(this),r=t.parents(".wsite-html5audio"),a=t.attr("data-track"),l=t.attr("data-artist"),c=t.attr("data-autostart"),u;t.attr("preload","none"),c="yes"===c,c&&!s?s=!0:c=!1,u=o(r.parent());var d={audioWidth:u,enableKeyboard:!1,success:function(e,t,i){Weebly.mobile_navigation&&Weebly.mobile_navigation.resizeScreen&&Weebly.mobile_navigation.resizeScreen(),n(e,i)}},h=t.attr("src");"undefined"!=typeof h&&null!==h&&""!=h&&"/"!=h.charAt(h.length-1)||(d.type="audio/mp3"),c&&(d.success=function(e,t,i){i&&i.play&&("native"===e.pluginType&&i.load(),n(e,i),i.play())});var p=new mejs.MediaElementPlayer(t,d);i.push(p);var f=r.find(".mejs-container");if(f.length>0){var m=a&&a.length>0,g=l&&l.length>0,v='<div class="wsite-mejs-track">';m&&g?v+='<span class="wsite-mejs-title">'+a+'</span><span class="wsite-mejs-track-sep"> - </span><span class="wsite-mejs-artist">'+l+"</span></div>":m?v+='<span class="wsite-mejs-title">'+a+"</span></div>":g?v+='<span class="wsite-mejs-artist">'+l+"</span></div>":v="",f.append(v)}})};return e(function(){return Weebly.EDITOR?void editorApp.vent.on("themeRendered",r):(s(),r(),void e(window).load(r))}),{init:s}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(15),n(330),n(417)],o=function(e,t,n,i){var o=t.extend(e.extend({},i,{size:"small",height:300,isModal:!1,closeOnClickAway:!0,className:"dialog dialog--movecopy dialog-option-tip",panelEvents:["page:selected"],constructor:function(e){e=e||{},e.initialPanel||e.panels||(e.initialPanel=new n),t.prototype.constructor.call(this,e)},setIsLoading:function(e){this.currentPanel.setIsLoading(e)}}));return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(625),n(331)],o=function(e,t,n){var i=t.extend({panelEvents:["page:selected","section:shift:up","section:shift:down"],constructor:function(i){i=e.extend({allowLeftRight:!1,positionRefresh:!1},i),i.initialPanel||(i.initialPanel=new n({section:i.section,selectorTitle:_W.utl("sections.movecopy.copy_selector_heading"),disablePageKinds:["store","blog"],disablePageLayouts:["splash"]})),t.prototype.constructor.call(this,i)}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(15),n(775)],o=function(e,t,n){var i=t.Panel.extend({disabledClass:"is-disabled",events:{"click .js-up":"onClickUp","click .js-down":"onClickDown"},initialize:function(e){this.listenTo(e.section.collection,"sort",function(){this.renderContent(this.$contentInnerEl),this.delegateEvents()})},renderContent:function(t){t.html(e.render(n)),this.isUpDisabled()&&this.setButtonDisabled(this.$(".js-up")),this.isDownDisabled()&&this.setButtonDisabled(this.$(".js-down"))},setButtonDisabled:function(e){e.addClass(this.disabledClass).prop("disabled",!0)},onClickUp:function(){this.trigger("section:shift:up")},onClickDown:function(){this.trigger("section:shift:down")},isUpDisabled:function(){return this.options.section.collection.at(0)===this.options.section},isDownDisabled:function(){return this.options.section.collection.last()===this.options.section}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(208),n(769)],o=function(e,t){var n=e.extend({className:"topbar topbar--movecopy",template:t,activeClass:"is-active",events:{"click .js-copy":"onClickCopy","click .js-move":"onClickMove"},setActiveButton:function(e){e.addClass(this.activeClass).siblings().removeClass(this.activeClass)},setActiveCopy:function(){this.setActiveButton(this.$(".js-copy"))},setActiveMove:function(){this.setActiveButton(this.$(".js-move"))},onClickCopy:function(){this.setActiveCopy(),this.trigger("change:mode:copy")},onClickMove:function(){this.setActiveMove(),this.trigger("change:mode:move")}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(2)],o=function(e,t){var n={for:function(n){var i=["blog","link","nonclickable","store","category","product"],o=t.contains(i,n)?this[n]:this.page;return o.layout=o.layout||window.getDefaultPageType(window.currentThemeData,e.view.isMobileView),o},page:{title:e.stl("javascript.editor.page-manager.entities.Defaults_2"),kind:"page"},nonclickable:{title:e.stl("javascript.editor.page-manager.entities.Defaults_8"),kind:"nonclickable",nonclickable:1},link:{title:e.stl("javascript.editor.page-manager.entities.Defaults_3"),kind:"page",extlink:"http://",search_hidden:1},blog:{title:e.stl("javascript.editor.page-manager.entities.Defaults_4"),kind:"blog"},store:{title:e.stl("javascript.editor.page-manager.entities.Defaults_5"),kind:"store",layout:"no-header",store_page_kind:"category",store_page_kind_id:"1"},category:{title:e.stl("javascript.editor.page-manager.entities.Defaults_6"),kind:"store",layout:"no-header",store_page_kind:"category"},product:{title:e.stl("javascript.editor.page-manager.entities.Defaults_7"),kind:"store",layout:"no-header",store_page_kind:"product"}};return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2)],o=function(e){var t={initialize:function(e){return this.length=0,this.items={},e.length>0&&this.flatten(e),this},flatten:function(e){var t=this;e.each(function(e){t.add(e),t.flatten(e.get("children"))})},toJSON:function(){var t={};return e.each(this.items,function(e){t[e.id]=e.toJSON()}),t},get:function(e){return this.items[e]},add:function(e){this.items[e.id]||(this.length+=1,this.items[e.id]=e)},remove:function(e){this.length-=1,delete this.items[e.id]},each:function(t){return e.each(this.items,function(e,n){t.call(null,e,n)}),this},some:function(t){return e.some(this.items,function(e,n){return t.call(null,e,n)})},map:function(t){return e.map(this.items,function(e,n){return t.call(null,e,n)})},find:function(t){return e.find(this.items,function(e,n){return t.call(null,e,n)})}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(9),n(8),n(629),n(630)],o=function(e,t,n,i,o,r,s){var a=i.Model.extend({defaults:function(e){return this.isNew()&&e?r.for(e):{}},initialize:function(e){e=e||{},this.set(this.defaults(e.page_kind)),this.initChildren(),this.on("change",this.onModelChange.bind(this)),this.listenTo(this.get("children"),{changed:function(e){this.trigger("changed",e)},"page:go":function(e){this.trigger("page:go",e)},removed:function(e){this.trigger("removed",e)}})},onModelChange:function(){var e=n.keys(this.changedAttributes()),t=["title","hidden","pwprotected","membership_required","nav_menu"],i=n.intersection(t,e).length>0;i&&this.trigger("changed",this);var o=["title","hidden","layout","store_page_kind_id"],r=n.intersection(o,e).length>0;
r&&this.trigger("page:go",this)},initChildren:function(){var e=this.get("children");e instanceof l==!1&&this.set("children",new l(e,{subcollection:!0}))},isCommercePage:function(){return n.contains(["store","category","product"],this.get("page_kind"))},hasCommerceModel:function(e){return this.hasCategory(e)||this.hasProduct(e)},hasProduct:function(e){return this.get("store_page_kind_id")==e.get("site_product_id")},hasCategory:function(e){return this.get("store_page_kind_id")==e.get("site_category_id")},commerceCleanup:function(){var t=this;e.Editor.RPC.Page.cleanupCommercePage(t.id).done(function(){t.set({hidden:1,kind:"page",page_kind:"page",store_page_kind:null,store_page_kind_id:null})})},unescapedAttr:function(e){var n=this.get(e);return t("<div/>").html(n).text()},sync:function(t,i,o){var r=i.hasChanged("store_page_kind_id");return i.collection&&i.set("order",i.collection.indexOf(i)+1),i.isNew()&&i.collection.allPagesProtected()&&i.set("pwprotected",1),e.Editor.RPC.Page.savePage(window.currentSite,i.id,i.attributes).then(function(e){e=n.mapObject(e,function(e,t){return"0"!==e&&"1"!==e||(e=parseInt(e,10)),e});var t=i.isNew(),o=t?"save":"sync",s=!n.isEqual(i.toJSON(),e);return i.set(e,{silent:!0}),i.trigger(o,i),s&&i.trigger("change",i),r&&i.trigger("page:go",i),i})},destroy:function(t){return this.trigger("destroy",this,this.collection,this.collection.indexOf(this)),e.Editor.RPC.Page.removePage(window.currentSite,this.id)},copy:function(){var t=this,i=e.Editor.RPC.Page.copyPage(window.currentSite,t.id);return i.then(function(e){var i=n.extend(t.toJSON(),{id:e.page_id,children:[]});return new a(i)})},toJSON:function(e){var t=n.clone(this.attributes);return t.children=this.get("children").toJSON(),t},canBeHomepage:function(){var e=this.get("page_kind");return"nonclickable"!==e&&"link"!==e},trackEvent:function(e){o.trackEvent("page",e,this.get("page_kind"))}}),l=i.Collection.extend({model:a,initialize:function(e,t){t=t||{},t.subcollection||this.on({"save add":function(e){e.isNew()||this.getHash().add(e)},removed:function(e){this.getHash().remove(e)}},this),this.on("destroy",this.relocateChildren,this),i.Collection.prototype.initialize.apply(this,arguments)},saveHierarchy:function(t){return this.mirrorHierarchy(t),e.Editor.RPC.Page.saveHierarchy(window.currentSite,t)},mirrorHierarchy:function(e){function t(e,o){var r=1;n.each(o,function(n){var o=i.get(n.id);o.collection.remove(o,{silent:!0}),e.add(o,{silent:!0}),o.set("order",r++),t(o.get("children"),n.children)})}var i=this.getHash();t(this,e)},relocateChildren:function(e,t,n){for(var i=e.get("children"),o=i.at(0);o;)i.remove(o),t.add(o,{at:n++}),o=i.at(0);this.trigger("removed",e)},onSitePasswordChange:function(e,t){var n=this.getHash();if(!t)return void n.each(function(e){e.set("pwprotected",0)});var i=n.find(function(e){return e.get("pwprotected")});e||i||n.each(function(e){e.set("pwprotected",1)})},allPagesProtected:function(){return n.all(this.getHash().items,function(e){return 1==parseInt(e.get("pwprotected"))})},reset:function(e,t){delete this.pageHash,i.Collection.prototype.reset.call(this,e,t)},getHash:function(){return this.pageHash=this.pageHash||s.initialize(this),this.pageHash},getPage:function(e){return this.getHash().get(e)},getHomepage:function(){return this.at(0)},isHomepage:function(e){return e.id===this.getHomepage().id},canDeleteHomepage:function(){var e=this.at(1);return e&&"external"!==e.get("page_kind")&&"nonclickable"!==e.get("page_kind")},cleanupCommercePages:function(e){this.getHash().each(function(t){t.isCommercePage()&&t.hasCommerceModel(e)&&t.commerceCleanup()})}});return{PageModel:a,PageCollection:l}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(15),n(333),n(334),n(634)],o=function(e,t,n,i,o,r,s){var a={steps:o,video:r,topics:s},l=function(e){var t=this;this.tutorial=e;var n=a[e.get("type")];this.tutorialView=new n({model:e}),this.setInitialPanel(),this.setDialog()};return l.prototype.setDialog=function(){var e=this;this.dialog=new i({hasContentLegacyStyles:!1,hasProgressBar:!1,initialPanel:this.panel})},l.prototype.setInitialPanel=function(){var e=this;this.panel=new i.Panel({title:_W.utl("platform.Editor.Element.Settings.TutorialModal.Title"),hasContentPadding:!1,hasContentLegacyStyles:!1,forwardLink:_W.utl("platform.Editor.Element.Settings.TutorialModal.Forward"),backLink:"",onForward:function(){this.close()},content:this.tutorialView})},l.prototype.getDialog=function(){return this.dialog},l}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(15),n(333),n(334),n(778)],o=function(e,t,n,i,o,r){var s=e.Marionette.ItemView.extend({template:t.compile(r),className:"group__item app-tutorial-topic",tagName:"li",events:{click:"openTopic"},tutorialTypes:{steps:i,video:o},initialize:function(){this.setTutorialView()},setTutorialView:function(){var e=this.tutorialTypes[this.model.get("type")];this.tutorialView=new e({model:this.model})},openTopic:function(){var e=new n.Panel({title:_W.utl("platform.Editor.Element.Settings.TutorialModal.Title"),hasContentPadding:!1,hasContentLegacyStyles:!1,forwardLink:"",backLink:{isDirectional:!0,text:""},content:this.tutorialView});this.trigger("open:app:topic",e)}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(633),n(779)],o=function(e,t,n,i){var o=e.Marionette.CompositeView.extend({template:t.compile(i),className:"app-tutorial-topics app-tutorial",itemView:n,itemViewContainer:".app-tutorial-topics-container",initialize:function(){var t=this;this.collection=new e.Collection(this.model.get("content"))},onItemviewOpenAppTopic:function(e,t){this.dialog.pushPanel(t)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(2),n(5),n(46),n(218),n(54)],o=function(e,t,n,i,o){var s=Class.create({STATE_NONE:"STATE_NONE",STATE_LOADING:"STATE_LOADING",STATE_SUCCESS:"STATE_SUCCESS",TEXT_LOADING_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Base_1"),TEXT_LOADING_BODY:t.utl("html.weebly.libraries.classes.PublishWindow.Base_2"),TEXT_SUCCESS_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Base_3"),URL_SPINNER:"https://"+editorStatic+"/weebly/images/ajax-loader.gif",DEFAULT_HEIGHT:400,DEFAULT_WIDTH:680,getOptions:function(e){return this.mergeOptions({},e)},initialize:function(e){this.options=this.getOptions(e),this.events=new i,this.container=r("publishing-status"),this.dialog=this.createDialog(),this.visible=!1,this.clear(),this.init()},init:function(){},open:function(){if(!this.visible)return this.dialog.open(),this.visible=!0,this.events.fireEvent("open"),this},close:function(e){this.visible&&(e=this.mergeOptions({skipDialog:!1,skipGoMain:!1},e),this.clear(),this.visible=!1,this.events.fireEvent("close"),!e.skipDialog&&this.dialog.close(),!e.skipGoMain&&n.go("main"))},clear:function(){return this.getTitleElement().innerHTML="",this.getBodyElement().innerHTML="",this.state=this.STATE_NONE,this.events.fireEvent("clear"),this},loading:function(){return this.open(),this.clear(),this.state=this.STATE_LOADING,this.setTitle(this.TEXT_LOADING_TITLE),this.setBody('<div style="text-align:center;display:block;padding-top:90px;"><img src="'+this.URL_SPINNER+'" /><br /><br />'+this.TEXT_LOADING_BODY+"</div><br /><br />"),this.dialog.positionDialog(),this},success:function(e){return this.open(),this.clear(),this.state=this.STATE_SUCCESS,this.setTitle(this.TEXT_SUCCESS_TITLE),this.setBody(e),this.dialog.positionDialog(),this},setTitle:function(e){this.getTitleElement().setInnerText(e)},setBody:function(e){this.getBodyElement().innerHTML=e},getTitleElement:function(){return this.container.select(".titled-box-title")[0]},getBodyElement:function(){return r("exportText")},createDialog:function(){var e={modal:!0,blackoutOpacity:.8,onClose:this.close.bind(this,{skipDialog:!0})};return new o(this.container,this.getOptions(e))},mergeOptions:function(){var t=Array.prototype.slice.apply(arguments),n={};return e.each(t,function(t){e.extend(n,t)}),n}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},function(e,t,n){var i,o;i=[n(1),n(335)],o=function(e,t){var n=new Class.create(t,{isAuthenticated:function($super){return $super()&&"1"===this.element.readAttribute("data-has-link")},auth:function(){var t=e(this.element),n=t.parents(".weebly-dialog"),i=n.find(".publish-share-fb-connect").show();t.fbConnect({autoLaunch:!0,dialog:n,backButton:n.find(".fb-share-back"),pubWindow:!0,onStart:i.show.bind(i),onSuccess:this.authSuccess.bind(this),onClose:this.resetState.bind(this)})}});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(335)],o=function(e,t){var n=new Class.create(t,{});return n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(421)],o=function(e,t){var n={baseObject:{model:t.model,comparator:function(e){return e.get("section_order")},getBackgroundImages:function(){var e={};return this.each(function(t){var n,i;t.hasBackgroundImage()&&(n=t.get("section_id"),i=t.getBackgroundContent(),e[n]=i)}),e},getBackgroundVideos:function(){var e={};return this.each(function(t){if(t.hasBackgroundVideo()){var n=t.get("section_id"),i=t.getBackgroundContent();e[n]=i}}),e}}};return n.collection=e.Collection.extend(n.baseObject),n}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(3),n(224)],o=function(e,t,n){var i=t.Collection.extend({model:n,fetchOptions:{},fetch:function(e){var t=this,n=e.target_id,i=e.target_type;return Weebly.Section.RPC.HeaderSection.getHeaderSection(n,i).done(function(o){var r=e.reset?"reset":"set",s=o?o:{};return s.target_id=n,s.target_type=i,t[r]([s],e),t.trigger("sync",t,[s],e),t})}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,function(e,t,n){var i,o;i=[n(2),n(5),n(70)],o=function(e,t,n){var i={identifyType:function(e){var t,n=e.options,i=n.toLowerCase(),o=e.result;if(i.indexOf("/")>0)return this.parseSelectType(n,o);if("%%CAPTION%%"===e.property)return{type:"text"};var r="1"===e.hidden;return this.getTypeByOption(i,r)},convertProperty:function(t,n){var i=e.extend({label:n.title,name:n.title.replace(/\s/g,"_").toLowerCase(),cfpid:n.cfpid,default:"",legacy:!0},t);return"text"===i.type&&(i={label:n.title,type:"group",properties:[i]}),i},parseSelectType:function(t,n){var i=t.split("/"),o="",r=n.split("/"),s=/^(?=.*left)(?=.*center)(?=.*right).*$/;return s.test(t.toLowerCase())?(o="align",i=e.map(i,function(e){return e.toLowerCase()})):o="select",{values:this.getValuesList(i,r),type:o}},getValuesList:function(t,n){return t.length!==n.length?[]:e.map(t,function(e,t){return{name:e,value:n[t]}})},getTypeByOption:function(e,n){var i={};switch(e){case"%%number%%":i.type="int";break;case"%%fileupload%%":i={type:"button",label:t.utl("javascript.element.editor.utils.replace_image"),arguments:["this","image","250","ucfid","ucfpid"],action:"menuBarChooseImage"};break;case"%%fileuploadaudio%%":i={type:"button",label:t.utl("javascript.element.editor.utils.upload_audio"),action:"determineUpload",arguments:["audio","","ucfid","ucfpid"]};break;case"%%link%%":i={type:"link",arguments:["ucfid","ucfpid"]};break;default:if(n)return!1;i.type="string"}return i}},o={manifest:"1",version:"1.0.0",elements:[{name:"",path:"files",version:"1.0.0",settings:{config:{autopopup:!1},properties:[{label:"",type:"group",properties:[]}]}}]},r={label:t.utl("javascript.element.editor.utils.edit_image"),name:"editImage",type:"button",action:"require",requireContext:"site/editor/ui/images/controls",requireFunction:"startImageEditor",arguments:["%%ELEMENTID%%"]},s={convertToManifest:function(t,s,a){var l=JSON.parse(JSON.stringify(o)),c=l.elements[0],u=c.settings.properties[0].properties;return c.name=s.replace("<br/>"," "),t=e.sortBy(t,function(){return parseInt(t.displayOrder)}),e.each(t,function(e){var t=i.identifyType(e);if(t){var n=i.convertProperty(t,e);"button"===n.type?c.settings.properties.unshift(n):u.push(n)}}),n.isImageElement(a)&&c.settings.properties.unshift(r),u.length>0&&l}};return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(15),n(21),n(41)],o=function(e,t,n,i,o,r){var s=i.Panel.extend({hasContentLegacyStyles:!1,events:{"click .has-action":"pushByIndex","click .btn--action":"pushByIndex","click .btn-control":"pushByIndex"},constructor:function(e,t){var n=this;t.actionPanes&&(n.actionPanes=t.actionPanes),t.contentCollection&&(n.contentCollection=t.contentCollection),i.Panel.prototype.constructor.apply(n,arguments)},pushByIndex:function(e){var n=this,i,o=t(e.currentTarget),s="undefined"!=typeof o.data("action-index")?o.data("action-index"):o.find("[data-action-index]").data("action-index");"undefined"!=typeof s&&(i=r.getPropertyByKey(n.contentCollection,"actionPaneIndex",s),"object"==typeof i?n.actionPanes[s].contentView.model.clear().set(i):i&&n.actionPanes[s].contentView.model.set("value",i),this.pushPanel(n.actionPanes[s]))},onBeforePop:function(t){if(t.contentView.model)if(this.contentView.model.get("isTrigger")){var n,i=this.contentView.model.get("name"),o=t.contentView.model.get("values");o&&e.each(o,function(e){e.trigger&&e.trigger.name===i&&(n=e.value)}),t.contentView.model.set("value",n)}else{var s=r.getPropertyByKey(t.contentView.collection,"actionPaneIndex",t.contentView.model.get("actionPaneIndex"));t.contentView.model.clear().set(s)}},onBeforeLeave:function(){o.closeAll()}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(4),n(6),n(34),n(41),n(351),n(341),n(832)],o=function(e,t,n,i,o,r,s,a,l,c){var u=n.Marionette.CompositeView.extend({getTemplate:function(){return i.compile(c)},itemViewContainer:".dialog__section",templateHelpers:function(){var t=this.options.description;if(e.isObject(t)){var n=t.restriction,i=!1;switch(n){case"pro":i=!r.hasPro();break;case"starter":i=!r.hasStarter();break;case"business":i=!r.hasBusiness();break;case"performance":i=!r.hasPerformance();break;case"free":default:i=!r.hasFreeRestrictions()}t=i?"":_W.utl(t.text)}return{description:t}},getItemView:function(e){var t=a.getItemView(e);return"group"===t?l:t},appendHtml:function(n,i,o){var r=this,s=i.model.get("type"),a=["select","radio","group","button"],l=i.el;e.contains(a,s)||(l=t("<div/>",{class:"group group--flush"}).append(i.el)),n.$(this.itemViewContainer).append(l)},onRender:function(){this.$el.find(".hidden").remove()}});return u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(4),n(14),n(7),n(225),n(226),n(428),n(650),n(632)],o=function(e,t,n,i,o,r,s,a,l,c,u){var d=s.extend({initialize:function(e){s.prototype.initialize.call(this);var t=this;t.peid=e.peid,t.tutorial=e.tutorial,t.model.get("external")&&(t.externalView=new a({model:t.model,isExternal:!0,peid:t.peid,parentView:t})),t.listenTo(t.collection,{change:t.savePlatformOptions}),t.initGroups(),t.renderTutorial()},savePlatformOptions:function(){var e=this;Weebly.Editor.RPC.PlatformElementInstance.updateSettings(e.peid,e.prepareSettingsSave()).done(function(e){if(e.success){var t=Weebly.Elements.currentElement;Weebly.Elements.currentElement=null,r.request("page:navigate",window.currentPage).then(function(){Weebly.Elements.setCurrentElement(t)})}})},prepareSettingsSave:function(){var t=this,n={};return t.collection.each(function(t){e.each(t.get("properties"),function(e){var t=e.default||null,i="undefined"==typeof e.value?t:e.value;n[e.name]=i})}),n},openSettingsIframe:function(){var e=this;o.vent.trigger("element:options:dialog:close"),r.execute("platform:element:setting:external:open",e.model.toJSON(),e.prepareSettingsSave(),e.peid)},checkHasNonHiddenSetting:function(e){var t=this;if(!e.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].get("hidden")){if("group"!==e[n].get("type"))return!0;if(e[n].get("properties")&&e[n].get("properties").length)for(var i=e[n].get("properties"),o=0;o<i.length;o++)if(!i[o].hidden)return!0}return!1},displayIframe:function(){var e=this,t=!e.hasSettings&&e.model.has("external");return t},renderTutorial:function(){var e=this;e.tutorial&&e.initialPane&&(e.tutorialButton=new c({model:new n.Model(e.tutorial)}),this.listenTo(e.tutorialButton,"open:app:tutorial",e.openAppTutorial),e.initialPane.$itemViewContainer.append(e.tutorialButton.render().el),e.baseInitialPaneOnRender=e.initialPane.onRender,e.initialPane.onRender=function(){e.baseInitialPaneOnRender.call(this),e.tutorialButton.delegateEvents(),this.$itemViewContainer.append(e.tutorialButton.render().el)},e.tutorial.element_autopop===!0&&this.autopopTutorial())},openAppTutorial:function(e){var t=new u(new n.Model(this.tutorial)),i={};e&&(i.outerClassName="dialog__overlay is-static"),this.container.currentPanel.pushDialog(t.getDialog(),i)},autopopTutorial:function(){var e=this;this.openAppTutorial(!0),this.tutorial.element_autopop=!1,_W.Editor.RPC.PlatformElementInstance.completeTutorial(e.model.get("platform_element_id"))}});return d}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(2),n(1),n(3),n(4)],o=function(e,t,n,i,o){var r=i.Marionette.ItemView.extend({defaultText:"Insert text",dialogOptions:{backLink:!1,forwardLink:e.utl("javascript.element.editor.view.settings.TextAreaView_3"),allowLeftRight:!1,preferTop:!0,preferBottom:!1,isDraggable:!0,size:"small",width:300,height:190},onDialogForward:function(){var e=this.$el.find("textarea").val().trim();e!==this.defaultText&&this.trigger("textarea:submit",this.$el.find("textarea").val()),this.dialog.close()},changedText:function(){this.trigger("textarea:change",this.$el.find("textarea").val())},removePlaceholder:function(e){n(e.currentTarget).hasClass("empty")&&n(e.currentTarget).removeClass("empty").val("")},template:'<textarea class="{{className}}" placeholder="{{placeholderText}}">{{content}}</textarea>',events:{"focus textarea":"removePlaceholder","keyup textarea":"changedText"},initialize:function(t){return this.text=t.text,this.placeholderText=t.placeholderText?t.placeholderText:e.utl("javascript.element.editor.view.settings.TextAreaView_1"),this.dialogOptions.title=t.title?t.title:e.utl("javascript.element.editor.view.settings.TextAreaView_2"),this},templateHelpers:function(){return{content:this.text?this.text:this.defaultText,placeholderText:this.placeholderText?this.placeholderText:"",className:this.text?"":"empty"}}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(1),n(3),n(4),n(652),n(338),n(112)],o=function(e,t,n,i,o,r,s){var a=n.Marionette.CompositeView.extend({itemView:o,itemViewContainer:".tooltip-list",itemViewOptions:function(){return{$targetEl:this.options.$targetEl,callbacks:this.options.callbacks}},itemEvents:{"tooltips:close":function(e){this.close()}},className:"tooltip-list-container",template:i.compile("<ul class='tooltip-list'></ul>"),initialize:function(){return this},onShow:function(){this.repositionToElement(this.options.$targetEl)},repositionToElement:function(e){var t=e.offset().top-50,n=e.offset().left,i=e.width();tooltipWidth=this.$el.width(),this.$el.css({top:t,left:n+(i-tooltipWidth)/2})}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(817)],o=function(e,t,n){var i=e.Marionette.ItemView.extend({template:t.compile(n),events:{"click @ui.toggle":"updateToggleValue","blur @ui.input":"blurHandler"},ui:{toggle:'[name="check"]',input:'[name="std"]'},templateHelpers:function(){var e=this.model.get("url");return{value:"boolean"==typeof e?"":e,show_toggle:this.options.showToggle}},onBeforeRender:function(){var e=this;e.dialog.onBeforePop=function(t){t.contentView.updateBadge(e.model.toJSON())}},onShow:function(){this.ui.input.focus()},updateToggleValue:function(){this.ui.toggle.toggleClass("checked",this.ui.toggle.prop("checked")),this.model.set("active",this.ui.toggle.hasClass("checked"))},blurHandler:function(){this.model.set("url",this.ui.input.val())}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(823)],o=function(e,t,n,i){var o=t.Marionette.ItemView.extend({template:n.compile(i),events:{click:"openTutorial"},openTutorial:function(){var e=this;this.trigger("open:app:tutorial")}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(1),n(2),n(4),n(15),n(255),n(649),n(24),n(217),n(827)],o=function(e,t,n,i,o,r,s,a,l,c){var u=e.Marionette.ItemView.extend({template:i.compile(c),ui:{inactive:".btn-control",active:".group__item",reorder:".group__item-reorder",activeWrap:".group",reorder:".reorder"},events:{"click .btn-control":"openEditSocialIcon"},templateHelpers:function(){var e=this,t=e.model.get("badges"),i=e.model.get("label");return{hasActive:n.filter(t,function(e){return e.active}).length>0,hasInactive:n.filter(t,function(e){return!e.active}).length>0,label:_W.utl(i)}},onBeforeRender:function(){var e=this;e.firstRender||e.parsePropertyValues()},onRender:function(){var e=this;e.dialog.onBeforePop=function(){e.save()},e.dialog.onBeforeForward=function(){e.isReordering?e.hideReorder():e.showReorder()},e.ui.reorder.hide()},parsePropertyValues:function(){var e=this,i="string"==typeof this.model.get("value")?JSON.parse(this.model.get("value")):this.model.get("value"),o=["facebook","twitter","linkedin","mail","flickr","pinterest","plus","rss","tumblr","vimeo","yahoo","youtube"],r=i.badge_order||o,s={facebook:{display:"Facebook",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_2"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Facebook")},twitter:{display:"Twitter",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_3"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Twitter")},linkedin:{display:"Linkedin",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_4"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Linkedin")},mail:{display:"Mail",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_5"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Mail")},flickr:{display:"Flickr",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_6"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Flickr")},pinterest:{display:"Pinterest",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_7"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Pinterest")},plus:{display:"Google+",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_8"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Google+")},rss:{display:"RSS",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_9"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","RSS")},vimeo:{display:"Vimeo",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_10"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Vimeo")},yahoo:{display:"Yahoo!",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_11"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Yahoo!")},youtube:{display:"YouTube",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_12"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","YouTube")}},c=l.convertBadgeData(i.badges,s),u=a.currentThemeData.tmpSocialIconFont||a.currentThemeData["glyph-icons"],d={dribbble:{display:"dribbble",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_13"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","dribbble")},instagram:{display:"Instagram",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_14"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Instagram")},tumblr:{display:"Tumblr",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_Tumblr"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Tumblr")}};e.firstRender=!0;for(var h in d)if(u)s.hasOwnProperty(h)||(s[h]=d[h]),r.indexOf(h)===-1&&("instagram"===h&&t(Weebly.Elements.currentElement).find(".wsite-social-instagram").length>0?(r.splice(2,0,"instagram"),c[h]={active:!0,url:!0}):(r.push(h),c[h]={active:!1,url:!0}));else{s.hasOwnProperty(h)&&delete s[h];var p=r.indexOf(h);p>-1&&(r.splice(p,1),delete c[h])}c.undefined&&delete c.undefined;for(var f=0;f<r.length;f++){var m=c[r[f]];m&&r[f]&&(m.name=r[f],m.label=s[r[f]].display,m.form_label=s[r[f]].form_label,m.index=f,m.hint=s[r[f]].hint)}e.model.set("badges",n.sortBy(n.values(c),"index"))},showReorder:function(){var e=this,n=e.dialog;n.$headerEl.find(".topbar__left").children().addClass("is-hidden"),n.$headerEl.find(".topbar").addClass("is-activated"),n.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_15")),e.isReordering=!0,this.socialGroup=t(".js-social-sort"),this.sortableGroup=new r.create(this.socialGroup),this.socialGroup.addClass("is-sorting").find(".btn-control").toggleClass("is-sorting")},hideReorder:function(){var e=this,t=e.dialog;t.$headerEl.find(".topbar__left").children().removeClass("is-hidden"),t.$headerEl.find(".topbar").removeClass("is-activated"),t.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_16")),e.isReordering=!1,this.sortableGroup.destroy(),this.socialGroup.removeClass("is-sorting").find(".btn-control").toggleClass("is-sorting"),e.processReorder()},processReorder:function(){var e=this,t=e.model.get("badges");n.each(e.ui.activeWrap.find(".btn-control"),function(e,i){var o=e.getAttribute("data-name");n.findWhere(t,{name:o}).index=i}),e.model.set("badges",n.sortBy(t,"index")),e.save()},updateBadge:function(e){var t=this.model.get("badges");t=n.map(t,function(t){return t.name===e.name&&(t=e),t}),this.model.set("badges",t),setTimeout(this.render.bind(this),300),this.save()},save:function(){var e=this,t=e.model.get("badges"),i=e.model.get("cfpid"),o=e.model.get("ucfpid"),r=[],s={},a;n.each(t,function(e){if(e&&e.name){var t=""===e.url||e.url;r.push(e.name),s[e.name]={url:t,active:e.active}}}),a={badges:s,badge_order:r},Weebly.Elements.uproperty.properties[i].property_result=JSON.stringify(a),Weebly.Elements.onChange(o,i)},openEditSocialIcon:function(i){var r=this,a=i.currentTarget.className,l=t(i.currentTarget).data("name"),c=r.model.get("badges"),u=n.findWhere(c,{name:l}),d=new e.Model(u),h=n.where(c,{active:!0}).length>1||!u.active,p=new s({model:d,showToggle:h});p.dialogOptions={title:d.get("label"),backLink:{isDirectional:!0,text:""}},p.listenTo(d,"change",function(e){r.updateBadge(e.toJSON())}),"form-control__indicator"===a?setTimeout(function(){r.dialog.pushPanel(new o.Panel(p))},150):r.dialog.pushPanel(new o.Panel(p))}});return u}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(3),n(4)],o=function(e,t,n){var i=t.Marionette.ItemView.extend({tagName:"li",template:n.compile("<a>{{label}}</a>"),templateHelpers:function(){var e=this,t=e.model.get("label"),n,i;return t||(i=e.model.get("booleanCallback"),n=parseInt(e[i].call(e)),t=e.model.get("booleanItems")[n].label,e.model.set(e.model.get("booleanItems")[n])),{label:_W.utl(t)}},events:{click:"itemCallback"},initialize:function(){this.attachCallbacks()},attachCallbacks:function(){r.each(this.options.callbacks,function(e,t){this[t]=e},this)},onRender:function(){this.model.get("highlighted")&&this.$el.addClass("pressed")},itemCallback:function(e){var t=this.model.get("callback");e.preventDefault(),this[t](e)}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(1),n(15)],o=function(e,t){return t.extend({parent:"#premium-element-warning-dialog",isModal:!0,isModalDark:!0,initialize:function(){var e=this;e.listenTo(editorApp.vent,"billing:upgrade:window",e.close)}})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(6),n(280),n(8),n(834)],o=function(e,t,n,i,o,r,s){var a=t.Marionette.ItemView.extend({template:n.compile(s),templateHelpers:function(){var e=this;return{imageUrl:e.imageUrl,headerText:e.headerText,descriptionText:e.descriptionText,eligibleForFreeTrial:e.eligibleForFreeTrial}},events:{"click a.free-trial-link":"onFreeTrialLinkClicked","click button.upgrade-button":"onUpgradeClicked"},initialize:function(e){var t=this;t.eligibleForFreeTrial=i.site.get("is_eligible_for_free_trial")&&o.has("site_owner"),t.elementId=e.elementId,t.setElementSpecificData(t.elementId),r.trackEvent("navigation","modal_view","editor_upgrade_modal")},setElementSpecificData:function(e){var t=this,n={siteSearch:"90122486",hdVideo:"63419613",audio:"67748238",fileUpload:"82023692"},i={editFooter:"edit_footer"};switch(e){case n.siteSearch:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_14"),t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_4");break;case n.hdVideo:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_15"),t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_6");break;case n.audio:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_16"),t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_8");break;case n.fileUpload:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_17"),t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_13");break;case i.editFooter:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_18"),t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_11");break;default:t.headerText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_12"),t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_13")}t.render()},onFreeTrialLinkClicked:function(e){i.loading.start("PremiumElementWarningView::onFreeTrialLinkClicked"),Weebly.Editor.RPC.Site.startFreeTrial().done(function(){window.location.reload()}).fail(function(){i.loading.stop("PremiumElementWarningView::onFreeTrialLinkClicked")}),r.trackEvent("navigation","click_internal","ft_editor_upgrade_modal_start_trial")},onUpgradeClicked:function(){var e=this;i.vent.trigger("billing:upgrade:window",{siteID:currentSite,refer:"premium_element_upsell_dialog",type:"upgrade",restrictionID:e.elementId}),r.trackEvent("navigation","click_internal","editor_upgrade_modal_upgrade_button")}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(9),n(4),n(7),n(91),n(781)],o=function(e,t,n,i,o){"use strict";var r=e.Marionette.ItemView.extend({className:"hover-toolbar hover-toolbar-above edit-slide-toolbar",getTemplate:function(){return t.compile(o)},ui:{editButton:".edit-button",linkButton:".link-button",playButton:".play-button",pauseButton:".pause-button",captionSaveButton:".save-button",captionCancelButton:".cancel-button",captionButton:".caption-button",captionArea:".caption-area",captionForm:".caption-popout"},events:{"click @ui.editButton":"editSlide","click @ui.captionButton":"toggleCaptionForm","click @ui.linkButton":"showLinker","click @ui.playButton":"playSlideshow","click @ui.pauseButton":"pauseSlideshow","click @ui.captionSaveButton":"saveCaption","click @ui.captionCancelButton":"closeCaptionForm"},initialize:function(e){var t=this;t.slideshow=e.slideshow,t.slideshow.clearHandlers(),t.slideshow.on("play",t.updatePlayPause.bind(t)),t.slideshow.on("pause",t.updatePlayPause.bind(t)),
t.slideshow.on("slideChange",function(e){t.trigger("change",e),t.updateToolbar()}),t.listenTo(t.$el,{shown:function(){t.position(),t.updateToolbar()}})},onClose:function(){this.slideshow.clearHandlers()},onRender:function(){var e=this;e.updatePlayPause(),e.closeCaptionForm()},editSlide:function(){var e=this,t=e.slideshow,n;t.pause(),n=t.getSlideIndex()||0,e.trigger("edit",n)},toggleCaptionForm:function(){var e=this;e.isCaptionFormOpen?e.closeCaptionForm():e.openCaptionForm()},closeCaptionForm:function(){var e=this;e.ui.captionForm.hide(),e.ui.captionButton.removeClass("pressed"),e.isCaptionFormOpen=!1},openCaptionForm:function(){var e=this,t=i.getCurrentHeader(),n=t.data,o=e.slideshow.getSlideIndex(),r=n.slideshow.slides[o].caption||"";e.slideshow.pause(),e.ui.captionForm.show(),e.ui.captionArea.val(r),e.ui.captionButton.addClass("pressed"),e.isCaptionFormOpen=!0},showLinker:function(e){e.stopPropagation();var t=this,o=i.getCurrentHeader(),r=o.data,s=t.slideshow.getSlideIndex(),a=r.slideshow.slides[s].link;t.slideshow.pause(),t.closeCaptionForm(),a&&(a=parseLinkString(a)),n.request("linker:open",{zIndex:10001,existing:a,remove:!0}).done(function(e,n){n&&(e+="weeblylink_new_window"),r.slideshow.slides[s].link=e,i.setData(r),t.updateToolbar()})},playSlideshow:function(){this.slideshow.play(!0)},pauseSlideshow:function(){this.slideshow.pause()},saveCaption:function(){var e=this,t=e.slideshow.getSlideIndex(),n=i.getCurrentHeader(),o=n.data;o.slideshow.slides[t].caption=e.ui.captionArea.val(),e.closeCaptionForm(),e.updateToolbar(),i.setData(o).done(function(){e.trigger("saveCaption")})},updatePlayPause:function(){var e=this;e.isClosed||(e.slideshow.isPlaying()?(e.ui.playButton.hide(),e.ui.pauseButton.css("display","inline-block")):(e.ui.playButton.css("display","inline-block"),e.ui.pauseButton.hide()))},updateToolbar:function(){var e=this,t=i.getCurrentHeader(),n=e.slideshow.getSlideIndex(),o=t.data,r;!e.isClosed&&o&&(r=o.slideshow&&o.slideshow.slides&&o.slideshow.slides[n]||{},e.ui.captionButton.toggleClass("active",!!r.caption),e.ui.linkButton.toggleClass("active",!!r.link))},position:function(){var e=this,t=e.slideshow.getElement(),n=t.offset();e.$el.css({top:n.top-e.$el.outerHeight()-10,left:n.left+t.outerWidth()-e.$el.outerWidth()})}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(170)],o=function(e,t){"use strict";var n=e(window),i=function(i){var o={},r=e(i),s=!1;return"auto"==r[0].style.height&&(s=!0,r.css("height","")),o.height=r.height(),s&&r.css("height","auto"),o.width=r.width(),o.outerHeight=r.outerHeight(),o.outerWidth=r.outerWidth(),o.offset=r.offset(),o.offset.left-=n.scrollLeft(),o.offset.top-=n.scrollTop(),o.border={top:parseInt(r.css("border-top-width"),10)||0,left:parseInt(r.css("border-left-width"),10)||0,right:parseInt(r.css("border-right-width"),10)||0,bottom:parseInt(r.css("border-bottom-width"),10)||0},o.padding={top:parseInt(r.css("padding-top"),10)||0,left:parseInt(r.css("padding-left"),10)||0,right:parseInt(r.css("padding-right"),10)||0,bottom:parseInt(r.css("padding-bottom"),10)||0},o.id=r.up(".element").attr("id"),o.image=t.getBackgroundSprite(r),o};return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(4),n(24),n(12),n(868)],o=function(e,t,n,i,o,r){var s={attachEdgeToSection:function(e,i){t.defaults(i,{showResizeHandle:!0});var s=n.render(r,{handle:i.showResizeHandle});e.css("position","relative").append(s);var a=e.find("."+o.SECTION_EDGE_CLASS);return this.repositionEdge(a,e),a},destroyEdge:function(e){e.find("."+o.SECTION_EDGE_CLASS).remove()},repositionEdge:function(e,t){var n=t.outerHeight(),i=t.offset().top;e.hasClass("edge-top")?e.css("top",i):e.css("top",n)}};return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(32)],o=function(e){var t=e.extend({title:_W.utl("javascript.site.editor.sections.SectionControlView_4"),message:_W.utl("javascript.site.editor.sections.SectionControlView_5"),cancelText:_W.utl("javascript.site.editor.sections.SectionControlView_6"),proceedButton:{text:_W.utl("javascript.site.editor.sections.SectionControlView_3"),className:"is-destructive"},isTop:!1,isModal:!1,closeOnClickAway:!0,outerClassName:"section-delete-confirm",isPositionFixed:!0});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(658),n(29),n(12),n(178)],o=function(e,t,n,i){var o={$edgeParent:null,initialize:function(i,o){if(!i.data("uiResizable")){var r=this,s,a=t.attachEdgeToSection(o.edgeParent,{showResizeHandle:o.showResizeHandle}),l=e(window),c=l.height(),u=a.find(".section-edge-handle-wrapper");this.$edgeParent=o.edgeParent,this.$edgeHoverTip=a.find(".hover-tip"),this.attachHoverTipListener(o.showResizeTipAbove);var d=!1,h=0,p=!1,f=null;i.resizable({handles:{s:u},start:function(){f=i.height(),"function"==typeof o.onStart&&o.onStart.apply(this,arguments),a.addClass("resize-active"),r.detachHoverTipListener(),s=i.find(".empty-element-message"),d="border-box"===i.css("box-sizing"),d&&(h=i.outerHeight()-i.height())},stop:function(e,t){t.saveAutoHeight=p,"function"==typeof o.onStop&&o.onStop.apply(this,arguments),a.removeClass("resize-active"),r.attachHoverTipListener(o.showResizeTipAbove),s=null,d=!1,f=null},resize:function(e,u){var m,g=n.getSectionInnerHeight(u.helper,u.size.height);s.height(0),d&&(u.size.height+=h),u.helper.css("height",u.size.height+"px");var v=u.helper.height();f===v?(m=_W.utl("javascript.site.editor.sections.SectionResize_2"),u.helper.css("height","auto"),p=!0):(m=u.size.height+"px",p=!1),s.length&&n.resizeEmptyMessage(i,g),r.$edgeHoverTip.text(m),t.repositionEdge(a,i),e.clientY>c-30&&l.scrollTop(l.scrollTop()+10),"function"==typeof o.onResize&&o.onResize.apply(this,arguments),f=u.helper.height()}})}},destroy:function(n){if(n.data("ui-resizable")){var i=n.children().find(".ui-resizable-handle").map(function(){var t=e(this),n={$handle:t,$previous:t.prev(),$parent:t.parent()};return t.detach(),n});n.resizable("destroy"),i.get().forEach(function(e){e.$previous.length?e.$previous.after(e.$handle):e.$parent.prepend(e.$handle)})}this.$edgeParent&&(t.destroyEdge(this.$edgeParent),this.$edgeParent=null)},attachHoverTipListener:function(t){this.$edgeHoverTip.text(_W.utl("javascript.site.editor.sections.SectionResize_1")),this.$edgeHoverTip.parent().on("mouseenter.hovertip",function(){var n=this.$edgeHoverTip.parent(),i=this.$edgeHoverTip.outerWidth(),o=n.offset(),r=n.outerWidth(),s=e(window).width();this.$edgeParent.on("mousemove.hovertip",function(e){var n={};n.left=e.pageX+i+5>s?e.pageX-(e.pageX+i-s+5):e.pageX-o.left,t&&(n.top=-45),this.$edgeHoverTip.css(n)}.bind(this))}.bind(this)).on("mouseleave.hovertip",function(){this.$edgeParent.off("mousemove.hovertip")}.bind(this))},detachHoverTipListener:function(){this.$edgeHoverTip.parent().off(".hovertip"),this.$edgeParent.off("mousemove.hovertip")}};return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(3),n(663),n(7)],o=function(e,t,n){var i=e.Collection.extend({model:t,comparator:"section_order",initialize:function(){this.listenTo(this,"add",this.onAdd),n.commands.removeHandlers(["sections:properties:update"]),n.commands.setHandlers({"sections:properties:update":this.updateSectionProperties.bind(this)})},remove:function(t,n){if(n){var i=e.Collection.prototype.remove.call(this,t);this.onRemove(i,n)}},onAdd:function(e){this.updateSectionsOrder(e,1)},onRemove:function(e,t){n.execute("section:remove",e.id,t),this.updateSectionsOrder(e,-1)},updateSectionBackgroundImage:function(e,t){var n=this.get(e);n.setBackgroundImage(t),this.trigger("sections:updated")},shiftSections:function(e,t){var i=this.get(e),o=this.indexOf(i),r=o+t,s=this.at(r),a=s.get("section_id"),l=i.get("section_order"),c=s.get("section_order");i.set("section_order",c),s.set("section_order",l),this.sort(),n.request("section:shift",e,t).done(function(){this.trigger("section:shift",e,a,t)}.bind(this))},updateSectionsOrder:function(e,t){var n=this.indexOf(e);this.each(function(e,i){if(i>n){var o=e.get("section_order");e.set("section_order",o+t,{silent:!0})}})},updateSectionProperties:function(e){r.each(e,function(e,t){var n=this.get(t);n.set("properties",e)},this),this.trigger("sections:updated")},getImageEditorObject:function(){return this.reduce(function(e,t){return r.extend(e,t.getImageEditorObject())},{})}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(2),n(7),n(110),n(324),n(12)],o=function(e,t,n,i,o){var r=i.extend({HEADER_SECTION_PROPERTIES:{BASE_SETTING_KEY:"base_setting",BASE_SETTING_PROPERTIES:["height","vertical-align"]},initialize:function(){i.prototype.initialize.apply(this,arguments),this.listenTo(this.get("setting"),"headerSectionSetting:updated",function(){this.trigger("headerSection:updated")})},onChange:function(e){var n=Object.keys(e.changed);1===n.length&&"header_setting_id"===n[0]||t.execute("headerSection:save",this.id,this.toJSON())},hasNewSetting:function(){return this.get("setting").isNew()},generateSelector:function(){return"."+o.HEADER_SECTION_CLASS_NAME},getBaseSetting:function(){var e=this.get(this.HEADER_SECTION_PROPERTIES.BASE_SETTING_KEY)||{};return this.get("setting").isBackgroundResizeable()||delete e.height,e},getBaseStyle:function(){return e.extend({},this.get("setting").getBaseStyle(),this.getBaseSetting())},getSectionStyle:n.getSectionStyle,setBaseStyle:function(t,n){var i=this.HEADER_SECTION_PROPERTIES.BASE_SETTING_KEY,o=this.HEADER_SECTION_PROPERTIES.BASE_SETTING_PROPERTIES,r=JSON.parse(JSON.stringify(this.get(i)))||{};r=e.extend(r,e.pick(t,o)),e.isEmpty(r)||this.set(i,r,n);var s=e.omit(t,o);e.isEmpty(s)||this.get("setting").setBaseStyle(s,n)},getHeight:function(){return parseInt(this.getBaseSetting().height,10)},hasBaseStyle:function(){return this.hasBaseSetting()||this.get("setting").hasBaseStyle()},hasBaseSetting:function(){return e.keys(this.get(this.HEADER_SECTION_PROPERTIES.BASE_SETTING_KEY)).length}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(9),n(7),n(110),n(589)],o=function(e,t,n,i,o){var r=t.Model.extend(i).extend({idAttribute:"section_id",MODEL_TYPE:"section",initialize:function(e,t){var t=t||{},n={silent:!0},i=new o({elements:this.get("elements")||[],section:this},t.context);this.set({elementArea:i},n),this.unset("elements",n),this.listenTo(this,{"change:properties":this.onChangeProperties})},onChangeProperties:function(e,t){n.execute("section:set:properties",e.id,e.toJSON().properties)},generateSelector:function(){return'.wsite-section[data-section="'+this.get("section_id")+'"]'},getHeight:function(){return parseInt(this.getBaseStyle().height,10)},set:function(e,n,i){var o;return null==e?this:("object"==typeof e?(o=e,i=n):(o={})[e]=n,"string"==typeof o.properties&&(o.properties=JSON.parse(o.properties)),t.Model.prototype.set.call(this,o,i))},clearElements:function(){return n.request("section:clear",this.id)}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(107)],o=function(e){var t=e.extend({height:260,dialogOptions:{title:_W.utl("javascript.editor.sections.view.BackgroundSwitcher_1"),backLink:!1},initialize:function(e){r.each(e.panels,function(e){this.listenTo(e,{"section:switcher:panel:labels:hide":function(){this.hideNewLabels()}})}.bind(this))},hideNewLabels:function(){this.$el.find(".js-new-label").remove(),this.switcher.collection.invoke("set","textHtml",null)}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(2),n(15),n(99),n(664),n(674),n(669),n(671),n(676),n(670),n(672)],o=function(e,t,n,i,o,r,s,a,l,c){var u=300,d=t.extend({outerClassName:"section-set-background dialog-option-tip",parent:"._editor-ui__framework",size:"small",height:u,isModal:!1,closeOnClickAway:!0,positionRefresh:!1,allowLeftRight:!1,initialize:function(t){t=e.defaults(t||{},{showAlignment:!0,isHeaderSection:!1}),this.section=t.section,this.$sectionEl=t.$sectionEl},onOpen:function(){if(!this.section.userSelectedBackground()){var e=null;switch(this.section.getBackgroundType()){case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR:e=this.$el.find('input[value="colorBackground"]');break;case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT:e=this.$el.find('input[value="gradientBackground"]');break;case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO:e=this.$el.find('input[value="videoBackground"]');break;case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE:e=this.$el.find('input[value="imageBackground"]')}e&&e.prop("checked",!0)}},shake:function(){n.shakeElement(this.$el)}}),h=function(t){var t=e.defaults({baseHeight:u},t),n=new o(t),h=new r(t),p=new s(t),f=new a(t),m=new i({panels:[n,h,p,f]});return this.dialog=new d(e.extend({initialPanel:m},t)),h.on("leave",function(){this.isTransitioning=!1}),this.dialog.listenTo(h,"panel:color:push",function(){h.isTransitioning||(this.dialog.pushPanel(new l),h.isTransitioning=!0)}.bind(this)),p.on("leave",function(){p.isTransitioning=!1}),this.dialog.listenTo(p,"panel:gradient:push",function(){p.isTransitioning||(this.dialog.pushPanel(new c),p.isTransitioning=!0)}.bind(this)),this.dialog.listenTo(n,{"dialog:close":function(){this.dialog.close()}.bind(this),"section:control:background:open":function(e,t){this.dialog.trigger("section:control:background:open",e,t)}.bind(this),"section:control:background:extend":function(e){this.dialog.trigger("section:control:background:extend",e)}.bind(this)}),this.dialog.listenTo(f,{"dialog:close":function(){this.dialog.close()}.bind(this),"dialog:set:height":function(e){this.dialog.setHeight(e)}.bind(this)}),this.dialog.open()};return h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(7),n(15),n(864)],o=function(e,t,n,i,o){var r=i.Panel.extend({title:_W.utl("sections.dialogs.SectionOptions_advanced_title"),events:{"click [data-alignment]":"onAlignmentClick","click .js-manage":"manageBackground"},templateHelpers:function(){var e=this.options.fallbackAlignment,t=this.options.dialog.section.getBaseStyle();return this.options.baseSetting&&this.options.baseSetting["vertical-align"]?e=this.options.baseSetting["vertical-align"]:t["vertical-align"]&&(e=t["vertical-align"]),{show_save_to_pages:this.options.showSaveToPages,show_alignment:this.options.showAlignment,align_top_selected:"top"===e,align_middle_selected:"middle"===e,align_bottom_selected:"bottom"===e}},renderContent:function(e){e.html(t.render(o,this.templateHelpers())),this.options.showSaveToPages&&(this.connectedPages=[],this.updateConnectedPageCount())},updateConnectedPageCount:function(){Weebly.Section.RPC.HeaderSection.getConnectedHeaderBackgroundPages(window.currentPage).done(function(e){this.connectedPages=e;var t=e?Math.max(e.length-1,0):0;this.$(".js-connect-page-count").text(t)}.bind(this))},onAlignmentClick:function(t){var n=e(t.currentTarget),i=n.data("alignment"),o=this.$("[data-alignment]");o.removeClass("is-selected"),n.addClass("is-selected"),this.options.dialog.trigger("section:control:baseStyle:set",{"vertical-align":i})},manageBackground:function(){n.request("backgroundConnector:open",{pages:this.connectedPages,currentPage:window.currentPage}).then(function(e,t){return Weebly.Section.RPC.HeaderSection.setConnectedHeaderBackgroundPages(window.currentPage,e,t)}).done(function(){this.updateConnectedPageCount()}.bind(this))}},{hasVisibleOptions:function(e){return e.showAlignment||e.showSaveToPages}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(4),n(15),n(865)],o=function(e,t,n,i){var o=n.Panel.extend({title:_W.utl("sections.dialogs.SectionOptions_effects_title"),events:{'click [name="section-effects"]':"onClick"},templateHelpers:function(){return{effects:this.effects}},initialize:function(t){this.section=t.section,this.effects=[],e.each(this.section.SECTION_BACKGROUND_EFFECTS,function(n){n.available.indexOf(t.panelType)!==-1&&this.effects.push(e.clone(n))},this);var n=[],i=this.section.getBackgroundEffects(),o=Object.keys(i);o.length&&(n=e.filter(this.effects,function(e){return o.indexOf(e.value)!==-1})),n.length||(n=e.where(this.effects,{value:"none"})),n.forEach(function(e){e.selected=!0})},renderContent:function(e){e.html(t.render(i,this.templateHelpers()))},onClick:e.throttle(function(e){var t=e.currentTarget.value,n={};"none"!==t&&(n[t]={}),this.section.setBackgroundEffects(n)},200)});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(3),n(666),n(667),n(15),n(866)],o=function(e,t,n,i,o,r,s){var a=n.Marionette.ItemView.extend({template:s,events:{"click .js-effects":"onEffectsClick","click .js-advanced":"onAdvancedClick"},templateHelpers:function(){var e=this.options.section;return{show_advanced:i.hasVisibleOptions(this.options),selected_effects:function(){var n=e.getBackgroundEffects(),i=Object.keys(n);if(1===i.length){var o=t.findWhere(e.SECTION_BACKGROUND_EFFECTS,{value:i[0]});return t.result(o,"label",_W.utl("sections.effects.none"))}return i.length>1?i.length:_W.utl("sections.effects.none")}}},onAdvancedClick:function(){this.options.dialog.pushPanel(new i(e.extend({forwardLink:!1,backLink:{isDirectional:!0}},this.options)))},onEffectsClick:function(){this.options.dialog.pushPanel(new o({section:this.options.dialog.section,panelType:this.options.panelType,forwardLink:!1,backLink:{isDirectional:!0}}))}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(7),n(176),n(846)],o=function(e,t,n,i){var o=n.extend({title:_W.utl("javascript.editor.sections.view.color.ColorBackgroundPanel_1"),icon:"bgtypecolor",value:"colorBackground",events:{"click .add-color":"onClickChangeColor"},initialize:function(e){n.prototype.initialize.apply(this,arguments),this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundColor(),this.trackingContext=e.isHeaderSection?"header_change_color":"section_change_color",e.showNewLabels&&(this.titleHtml=this.newLabelTpl())},onEnter:function(){this.options.showNewLabels&&(this.hideNewLabels(),this.options.showNewLabels=!1)},renderContent:function(t){this.beforeRender();var n=this.section.getBackgroundContent();t.html(e.render(i,n)),this.renderOptions()},beforeRender:function(){this.section.hadBackgroundColor()&&this.section.setTypeToColor()},onClickChangeColor:function(e){this.trigger("panel:color:push"),t.execute("analytics:track:event","editor.elements",this.trackingContext)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(4),n(15),n(298),n(849)],o=function(e,t,n,i,o){var s=n.Panel.extend({title:_W.utl("javascript.editor.sections.view.color.ColorPanel_1"),height:365,backLink:{isDirectional:!0},renderContent:function(e){e.html(t.render(o)),this.createColorPicker()},onEnter:function(){this.prevHeight=this.comboDialog.height,this.comboDialog.setHeight(this.height),this.colorPicker.showWithin(this.$(".color-picker__container"))},onLeave:function(){this.comboDialog.setHeight(this.prevHeight)},onDestroy:function(){this.colorPicker.destroy()},createColorPicker:function(){var e=this,t=this.comboDialog.section.getBackgroundContent(),n=t["background-color"]||"#ffffff";e.colorPicker=new i({color:n,hasInput:!0,inputLabel:_W.utl("javascript.editor.sections.view.color.ColorPanel_2")}),e.listenTo(e.colorPicker,"change",r.throttle(e.onColorChange,50)),e.listenTo(e.colorPicker,"pick",e.onColorPick)},onColorChange:function(t){var n=this.comboDialog.section.generateSelector(),i=e(n);i&&i.css({"background-color":t.hex,"background-image":"none"})},onColorPick:function(e){this.comboDialog.section.setBackgroundColor({"background-color":e.hex,"background-image":"none"})}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(5),n(4),n(7),n(176),n(847),n(131)],o=function(e,t,n,i,o,r){var s=i.extend({title:e.utl("javascript.editor.sections.view.gradient.gradient-background-panel-title"),icon:"transitionfade",value:"gradientBackground",events:{"click .add-gradient":"onClickChangeGradient"},initialize:function(e){i.prototype.initialize.apply(this,arguments),this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundGradient(),this.trackingContext=e.isHeaderSection?"header_change_gradient":"section_change_gradient",e.showNewLabels&&(this.titleHtml=this.newLabelTpl())},onEnter:function(){this.options.showNewLabels&&(this.hideNewLabels(),this.options.showNewLabels=!1)},renderContent:function(e){this.beforeRender(),e.html(t.render(o,{background:r.generateCSS(this.section.getBackgroundContent())})),this.renderOptions()},beforeRender:function(){this.section.hadBackgroundGradient()&&this.section.setTypeToGradient()},onClickChangeGradient:function(e){this.trigger("panel:gradient:push"),n.execute("analytics:track:event","editor.elements",this.trackingContext)}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(3),n(1),n(4),n(2),n(15),n(298),n(107),n(673),n(297),n(850),n(29),n(71),n(131)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){var f=r.Panel.extend({title:e.utl("javascript.editor.sections.view.gradient.gradient-panel-title"),hasContentPadding:!1,height:532,backLink:{isDirectional:!0},renderContent:function(e){this.properties=this.comboDialog.section.getBackgroundContent()||{},this.gradientAngle="number"==typeof this.properties.angle?this.properties.angle:180,this.colorSections=[],this.colors=this.properties.colors,this.createColorSections(),e.html(i.render(u)),this.container=this.$(".gradient-builder")},onEnter:function(){this.prevHeight=this.comboDialog.height,this.comboDialog.setHeight(this.height),this.renderGradientAngleSlider(),this.renderGradientPanelSwitcher()},onLeave:function(){this.comboDialog.setHeight(this.prevHeight)},onDestroy:function(){o.each(this.colorSections,function(e){e.colorPicker.destroy()})},renderGradientAngleSlider:function(){var e=this.container.find("#slider")[0];e.noUiSlider&&(e.noUiSlider.off(),e.noUiSlider.destroy()),c.create(e,{start:this.gradientAngle,range:{min:0,max:360}}),this.labeledSliderLabel=this.container.find("#slider-label")[0],e.noUiSlider.on("update",function(e,t){this.updateSlider(e,t),this.updateGradient()}.bind(this)),e.noUiSlider.on("set",function(e,t){this.updateSlider(e,t),this.saveGradient()}.bind(this))},renderGradientPanelSwitcher:function(){var e=[];o.each(this.colorSections,function(t){var n=this.getColorPickerColor(t.colorPicker),i=new l({title:n,titleHtml:'<div class="switcher__background" style="'+this.generateTitleBackgroundGradient(n)+'"></div>',hasContentPadding:!0,content:t});e.push(i)},this);var t=new a({height:400,panels:e});t.showWithin(this.container)},updateSlider:function(e,t){var n=Math.round(e[t]);this.labeledSliderLabel&&(this.labeledSliderLabel.innerHTML=n+"&deg;"),this.gradientAngle=n},generateTitleBackgroundGradient:function(e){return p.generateCSS({colors:[{color:e,position:0},{color:"#ffffff",position:100}],type:"linear",angle:270})},createColorSections:function(){var e="#ffffff";this.colors?o.each(this.colors,function(e){this.addColorData(e.color,e.position)},this):(this.addColorData(e,0),this.addColorData(e,100))},addColorData:function(e,n){var i=new s({color:e,hasInput:!0});this.listenTo(i,"change",o.throttle(this.updateGradient,50)),this.listenTo(i,"pick",this.saveGradient);var r=new t.Model({position:n});this.listenTo(r,"updateColorPositionSlider",o.throttle(this.updateGradient,50)),this.listenTo(r,"setColorPositionSlider",this.saveGradient),this.colorSections.push({colorPicker:i,positionSlider:r})},updateGradient:function(){var e=this.comboDialog.section.generateSelector(),t=n(e);if(t.length){var i=p.getGradient({colors:this.getGradientColors(),type:"linear",angle:this.gradientAngle});if(t.css({background:i}),this.comboDialog.section.hasBackgroundEffects()){var o=this.comboDialog.section.getBackgroundEffects();h.applyBackgroundEffects(t,o,!0)}}},saveGradient:function(){this.comboDialog.section.setBackgroundGradient({colors:this.getGradientColors(),type:"linear",angle:this.gradientAngle})},getGradientColors:function(){return o.map(this.colorSections,function(e){var t=this.getColorPickerColor(e.colorPicker),n=e.positionSlider.get("position");return{color:t,position:n}},this)},getColorPickerColor:function(e){var t=e.color.get("hex");return t.length?t:e.initialColor}});return f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(4),n(107),n(297),n(131),n(851)],o=function(e,t,n,i,o,r){var s=n.Panel.extend({_initialize:function(){n.Panel.prototype._initialize.call(this),this.colorPicker=this.options.content.colorPicker,this.positionSlider=this.options.content.positionSlider,this.titleHtml=this.queryOption("titleHtml")},render:function(){return this.$el.find(".color-section").length||this.$el.html(t.render(r)),this.$el.toggleClass("panel-switcher__panel--padding",this.queryOption("hasContentPadding")),this},onEnter:function(){this.$el.find(".color-picker").length?this.$el.show():(this.renderColorPicker(),this.renderColorPositionSlider())},destroy:function(){this.$el.hide()},renderColorPicker:function(){this.colorPicker.showWithin(this.$(".color-picker__container")),this.listenTo(this.colorPicker,"change",e.throttle(this.updateTitle,50)),this.listenTo(this.colorPicker,"pick",this.updateTitle)},renderColorPositionSlider:function(){var e=this.$(".color-section"),t=e.find("#slider")[0];t.noUiSlider&&(t.noUiSlider.off(),t.noUiSlider.destroy()),i.create(t,{start:this.positionSlider.get("position"),range:{min:0,max:100}}),this.labeledSliderLabel=e.find("#slider-label")[0],t.noUiSlider.on("update",function(e,t){this.updateSlider(e,t),this.positionSlider.trigger("updateColorPositionSlider")}.bind(this)),t.noUiSlider.on("set",function(e,t){this.updateSlider(e,t),this.positionSlider.trigger("setColorPositionSlider")}.bind(this))},updateSlider:function(e,t){var n=Math.round(e[t]);this.labeledSliderLabel&&(this.labeledSliderLabel.innerHTML=n+"%"),this.positionSlider.set("position",n)},updateTitle:function(e){var t=this.panelSwitcher.switcher.collection.findWhere({value:this.value});return!!t&&(this.updateTitleText(t,e),void this.updateTitleBackground(t,e))},updateTitleText:function(e,t){e.set("text",t.hex)},updateTitleBackground:function(e,t){e.set("textHtml",'<div class="switcher__background" style="'+this.generateTitleBackgroundGradient(t)+'"></div>')},generateTitleBackgroundGradient:function(e){return o.generateCSS({colors:[{color:e.hex,position:0},{color:"#ffffff",position:100}],type:"linear",angle:270})}});return s}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(7),n(176),n(848)],o=function(e,t,n,i){var o=n.extend({title:_W.utl("javascript.editor.sections.view.image.ImageBackgroundPanel_1"),icon:"bgtypeimage",value:"imageBackground",events:{"click .change-image":"onClickChangeImage","click .replace-image":"onClickReplaceImage"},initialize:function(e){n.prototype.initialize.apply(this,arguments),this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundImage(),this.trackingContext=e.isHeaderSection?"header_change_image":"section_change_image"},beforeRender:function(){this.section.hadBackgroundImage()&&(this.section.setTypeToImage(),this.trigger("section:control:background:extend",this.section.getImageEditorObject()))},renderContent:function(t){this.beforeRender();var n=this.section.getBackgroundContent();t.html(e.render(i,n)),this.renderOptions()},onClickChangeImage:function(e){this.trigger("section:control:background:open",this.section.id,!1),this.afterOnClickImage()},onClickReplaceImage:function(e){this.trigger("section:control:background:open",this.section.id,!0),this.afterOnClickImage()},afterOnClickImage:function(){this.trigger("dialog:close"),t.execute("analytics:track:event","editor.elements",this.trackingContext)}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(4),n(20),n(835)],o=function(e,t,n){var i=t.extend({title:_W.utl("javascript.editor.sections.view.video.encoding_failure_title"),isModal:!1,events:{"click .js-confirm":"confirm"},renderContent:function(t){t.html(e.render(n))},confirm:function(){this.close()}});return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(14),n(7),n(15),n(176),n(175),n(677),n(29),n(71),n(435),n(12),n(854),n(853),n(68)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){var f=r.extend({icon:"bgtypevideo",title:_W.utl("javascript.editor.sections.view.video.VideoBackgroundPanel_1"),iconAfterText:function(){if(!_W.Restrictions.hasAccess("section_video_backgrounds"))return"bolt"},value:"videoBackground",events:{"click .add-video":"onClickChangeVideo","click .change-video":"onClickChangeVideo","change .toggle__loop input":"onToggle","click .js-preview":"toggleVideoPreview"},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundVideo(),this.trackingContext=e.isHeaderSection?"header_change_video":"section_change_video",e.showNewLabels&&(this.titleHtml=this.newLabelTpl())},onEnter:function(){var e=this.section,t=this.$(".videobg__header");this.$preview=this.$(".js-preview"),this.listenTo(this.options.video,{change:function(n){e.setBackgroundVideo(n.toJSON()),t.css("background-image","url("+n.get("background_url")+")")}}),this.listenTo(n.vent,{"section:background:video:render":this.resetVideo}),this.listenTo(i,{"encoding:success encoding:failure":function(t){t===e.id&&(this.options.video.unset("encoding_done"),this.render())}}),this.options.showNewLabels&&(this.hideNewLabels(),this.options.showNewLabels=!1)},beforeRender:function(){this.section.hadBackgroundVideo()?this.section.setTypeToVideo():"video"===this.section.getBackgroundType()&&this.options.$sectionEl.css({"background-color":"","background-image":"url("+this.section.getVideoBackgroundSnapshot()+")"}),this.options.video=new s(this.section.getBackgroundContent())},renderContent:function(e){this.beforeRender();var n=this.options.video,i=n.has("video_id")?p:h,o=n.toJSON();o.encoding_done=o.encoding_done!==!1,e.html(t.render(i,o)),this.renderOptions()},onClickChangeVideo:function(){var e=this.dialog;if(!e.$el.children().eq(0).hasClass("is-transitioning")){var t=new a({model:this.options.video,showPaywall:!_W.Restrictions.hasAccess("section_video_backgrounds")}),n=new o.Panel({content:t});this.listenTo(t,{"gallery:selected":this.playVideoPreview,"gallery:close":function(){s(),this.trigger("dialog:close"),u.hide()}.bind(this),"gallery:upgrade":function(){i.request("billing:upgrade:prompt",{restrictionID:"section_video_backgrounds",restrictionType:"feature",refer:"element_trial_upgrade"}).done(function(e){var t=JSON.parse(e.responseText);t&&"successBillingPremium"===t.action&&s()})},"gallery:reset":function(){var e=this.options.$sectionEl,t=this.section.getBackgroundContent();l.previewBackgroundVideo(e,t)},close:function(){s(),u.hide()}});var r=new o({initialPanel:n,size:"medium",height:550});r.section=this.section,e.currentPanel.pushDialog(r);var s=function(){e.onBeforeClose=e.savedOnBeforeClose,delete e.savedOnBeforeClose};e.savedOnBeforeClose=e.onBeforeClose,e.onBeforeClose=function(){return!1},u.show({mousedown:function(){this.scrollTo(r.$el).always(function(){setTimeout(function(){e.shake()},100)})}},{zIndex:parseInt(e.$el.css("z-index"))-1}),this.listenTo(r,{"change:height":function(e){this.trigger("dialog:set:height",e)}.bind(this),"before:close":function(){this.trigger("dialog:set:height",this.options.baseHeight)}.bind(this)}),i.execute("analytics:track:event","editor.elements",this.trackingContext)}},onLeave:function(){this.destroyVideoBackground()},onToggle:function(t){var n=e(t.currentTarget),i=n.attr("name"),o=this.options.video,r=0===o.get(i),s=r?1:0;n.attr("checked",r),o.set(i,s)},resetVideo:function(){var e=this.$preview.hasClass("js-playing"),t=this.options.$sectionEl.data("has-video");t&&this.destroyVideoBackground(),e&&this.toggleVideoPreview();
},toggleVideoPreview:function(){var e=this.options.$sectionEl;e.data("in-preview")?this.stopVideoPreview():this.playVideoPreview()},stopVideoPreview:function(){var e=this.options.$sectionEl,t=e.data("has-video");if(t&&e.data("in-preview")){c.toggleVideoBackground(e);var n=_W.utl("javascript.editor.sections.view.video.VideoBackgroundPanel_preview-video");e.removeData("in-preview"),this.$preview.removeClass("js-playing"),this.$(".preview-label").text(n)}},playVideoPreview:function(){this.stopVideoPreview();var e=this.options.$sectionEl,t=e.data("has-video");t?c.toggleVideoBackground(e):c.applyBackgroundVideo(e,this.section.getBackgroundContent(),!0);var n=_W.utl("javascript.editor.sections.view.video.VideoBackgroundPanel_stop-video");e.data("in-preview",!0),this.$preview.addClass("js-playing"),this.$(".preview-label").text(n)},destroyVideoBackground:function(){var e=this.options.$sectionEl.hasClass(d.SECTION_BACKGROUND_VIDEO_CLASS_NAME);this.$preview.removeClass("js-playing"),this.options.$sectionEl.removeData("in-preview"),c.destroyVideoBackground(this.options.$sectionEl),e&&this.options.$sectionEl.addClass(d.SECTION_BACKGROUND_VIDEO_CLASS_NAME)}});return f}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(7),n(679),n(681),n(682),n(680),n(420),n(29),n(20),n(12),n(852)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){var h=t.Marionette.ItemView.extend({ui:{videoUpgradeMessage:".upgrade-video-message",videoSwitchers:".btn-group__add-video > button",videoButtonGroup:".btn-group__add-video",videoViewContainer:".add-video-container",videoUrlButton:"[data-type=url]"},events:{"click @ui.videoSwitchers":"toggleViews"},triggers:{"click @ui.videoUpgradeMessage":"gallery:upgrade"},heights:{default:350,max:550,perVideo:110},dialogOptions:{hasContentPadding:!1,backLink:{text:_W.utl("sections.layouts.cancel")},forwardLink:{text:_W.utl("sections.layouts.save")},onBeforeClose:function(){this.contentView.cancel()},onForward:function(){this.contentView.save()}},template:d,templateHelpers:function(){var e=this.model.get("video_type");return{has_url:"vimeo"===e||"youtube"===e,show_paywall:this.options.showPaywall}},onRender:function(){var e=this;e.comboDialog=e.dialog.comboDialog,this.dialog.setForwardEnabled(!1);var t=e.model.has("video_id")?_W.utl("javascript.editor.sections.view.video.AddVideoPanel_1"):_W.utl("javascript.editor.sections.view.video.AddVideoPanel_2"),n=e.model.get("video_type");e.dialog.setTitle(t),n?"vimeo"===n||"youtube"===n?(this.prepareVideoView("url"),this.ui.videoUrlButton.addClass("is-active")):(this.prepareVideoView(n),this.ui.videoButtonGroup.find("[data-type="+n+"]").addClass("is-active")):(this.prepareVideoView("gallery"),this.ui.videoButtonGroup.find("[data-type=gallery]").addClass("is-active"))},toggleViews:function(t){var n=e(t.currentTarget),i=n.data("type");return"upload"===i&&this.options.showPaywall?void this.showPaywall():(this.ui.videoSwitchers.removeClass("is-active"),n.addClass("is-active"),void this.prepareVideoView(i))},prepareVideoView:function(n){var i=this,o=e.Deferred();switch(this.ui.videoViewContainer.empty(),i.currentView&&i.currentView.close(),n){case"gallery":i.galleryVideos?o.resolve():(i.dialog.setIsLoading(!0),Weebly.Editor.RPC.BackgroundVideo.getBackgroundVideosByCategory("all").done(function(e){i.dialog.setIsLoading(!1),i.galleryVideos=new t.Collection(e),o.resolve()})),o.done(function(){i.renderVideoViewByType(n)});break;case"upload":case"url":i.renderVideoViewByType(n)}},renderVideoViewByType:function(e){var n,s={model:this.model,dialog:this.dialog};switch(e){case"gallery":s.galleryVideos=this.galleryVideos,this.currentView=new i(s),this.listenTo(this.currentView,{"itemview:select":function(){this.hasPreviewed=!0,this.dialog.setForwardEnabled(!0)}}),this.listenTo(s.model,{"change:video_id":function(){this.trigger("gallery:selected")}});break;case"upload":this.currentView=new o(s),this.listenTo(this.currentView,{"video:upload:uploaded":function(){this.trigger("gallery:close")}});break;case"url":this.currentView=new r(s)}if(n=this.currentView.render().$el,this.ui.videoViewContainer.append(n),this.dialog.comboDialog.applyScrollbar(),"upload"===e){var a=this;Weebly.Editor.RPC.BackgroundVideo.getBackgroundVideosByCategory("uploaded").done(function(e){a.uploadedVideos=new t.Collection(e),a.renderUploadedVideoView()})}},renderUploadedVideoView:function(){var e,t={model:this.model,dialog:this.dialog,galleryVideos:this.uploadedVideos,showHovertip:!0},n=t.galleryVideos.length;if(n){this.uploadGalleryHeaderView=new s,e=this.uploadGalleryHeaderView.render().$el,this.ui.videoViewContainer.append(e),this.uploadGalleryView=new i(t),this.listenTo(this.uploadGalleryView,{"itemview:select":function(){this.hasPreviewed=!0,this.dialog.setForwardEnabled(!0)}}),this.listenTo(t.model,{"change:video_id":function(){this.trigger("gallery:selected")}}),e=this.uploadGalleryView.render().$el;var o=this.getViewHeight(n);this.comboDialog.setHeight(o),this.comboDialog.trigger("change:height",o),this.ui.videoViewContainer.append(e)}},getViewHeight:function(e){e||(e=0);var t=this.heights.default;return t+=this.heights.perVideo*e,t<=this.heights.max?t:this.heights.max},cancel:function(){this.hasPreviewed&&this.trigger("gallery:reset")},save:function(){var e=this.comboDialog.video,t=e.has("video_id")?e.toJSON():{};this.options.showPaywall?this.showPaywall(t):(this.comboDialog.section.setBackgroundVideo(t),this.trigger("gallery:close"))},showPaywall:function(e){var t=new a({noImage:!0,restrictionID:"section_video_backgrounds",listenTo:n});t.on({"section:upgrade:request":function(){this.trigger("gallery:upgrade")},"section:upgrade:complete":function(){e&&(this.comboDialog.section.setBackgroundVideo(e),this.trigger("gallery:close"))}},this);var i=new c({title:_W.utl("sections.layouts.apply.upgrade.title"),backLink:{text:_W.utl("sections.layouts.apply.upgrade.cancel"),action:"close"},isModal:!1,content:t});this.dialogPanel.pushDialog(i)}});return h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(3),n(4),n(21),n(855)],o=function(e,t,n,i){var o=e.Marionette.ItemView.extend({tagName:"section",className:"dialog__section js-video",initialize:function(e){this.showHovertip=!1,e.showHovertip&&(this.showHovertip=!0,n.initialize())},getTemplate:function(){return t.compile(i)},templateHelpers:function(){return{show_hovertip:this.showHovertip}},events:{"click @ui.snapshot":"select","mouseenter @ui.snapshot":"showGif","mouseleave @ui.snapshot":"hideGif"},ui:{snapshot:".video-gallery__snapshot"},select:function(){this.trigger("select",this.model)},showGif:function(){var e=this.model.get("gif_url");if(e)if(this.showing=!0,this.loaded||this.loading)this.loaded&&this.ui.snapshot.css("background-image",'url("'+e+'")');else{this.loading=!0;var t=document.createElement("img");t.src=e,t.onload=function(){this.showing&&this.ui.snapshot.css("background-image",'url("'+e+'")'),this.loaded=!0,this.loading=!1,this.$el.removeClass("loading")}.bind(this),this.$el.addClass("loading")}},hideGif:function(){this.showing=!1,this.ui.snapshot.css("background-image",'url("'+this.model.get("snapshot_url")+'")')}});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(3),n(14),n(678),n(175),n(29),n(71),n(12)],o=function(e,t,n,i,o,s,a,l){var c=t.Marionette.CollectionView.extend({itemView:i,itemViewOptions:function(){return{showHovertip:!!this.options.showHovertip}},itemEvents:{select:"previewVideo"},initialize:function(){this.comboDialog=this.options.dialog.comboDialog,this.collection=this.options.galleryVideos,this.comboDialog.$contentInnerEl.find(".dialog__scroll").on("scroll",this.onScroll.bind(this)),this.onScrollStopDebounced=r.debounce(this.onScrollStop.bind(this),200)},onScroll:function(){this.el.classList.add("dialog__scrolling"),this.onScrollStopDebounced()},onScrollStop:function(){this.el.classList.remove("dialog__scrolling")},onRender:function(){var e=550;this.comboDialog.setHeight(e),this.comboDialog.trigger("change:height",e)},previewVideo:function(t,n){var i=n.model,r=this.comboDialog,a=r.section,l=r.video=new o({video_type:"gallery",video_url:i.get("video_url"),video_id:i.get("video_url"),background_url:i.get("snapshot_url")}),c=l.has("video_id")?l.toJSON():{},u=e(a.generateSelector());s.previewBackgroundVideo(u,c)}});return c}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},function(e,t,n){var i,o;i=[n(1),n(4),n(3),n(856)],o=function(e,t,n,i){var o=n.Marionette.ItemView.extend({template:i});return o}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(7),n(3),n(175),n(675),n(857)],o=function(e,t,n,i,o,r,s){var a=i.Marionette.ItemView.extend({ui:{uploadVideo:".js-upload"},events:{"click @ui.uploadVideo":"triggerUploadVideo"},initialize:function(){this.comboDialog=this.options.dialog.comboDialog,this.dialog=this.options.dialog,this.listenTo(this.dialog,{leave:function(){this.stopListening(n)}}),this.listenTo(n,{"encoding:failure":function(e){e===this.dialog.comboDialog.section.id&&this.dialog.pushDialog(new r)}})},onRender:function(){var e=325;this.comboDialog.setHeight(e),this.comboDialog.trigger("change:height",e)},getTemplate:function(){return t.compile(s)},templateHelpers:function(){var e="upload"===this.model.get("video_type")?this.model.get("video_url"):void 0;return{videoFileName:e?e.replace(/^.*[\\\/]/,""):void 0}},saveVideo:function(t){var n=e(t.currentTarget),i=n.closest(".video-gallery__snapshot").data("snapshot-url"),r=e(t.currentTarget).attr("src"),s=this.comboDialog.section,a=this.comboDialog.video=new o({video_url:r,video_type:"gallery",video_id:r,background_url:i}),l=a.has("video_id")?a.toJSON():{};s.setBackgroundVideo(l)},triggerUploadVideo:function(){this.videoUploadCallbackName="section:bgvideo:upload:chosen:"+this.cid,this.videoErrorCallbackName="section:bgvideo:upload:error:"+this.cid,this.videoAbortCallbackName="section:bgvideo:upload:abort:"+this.cid,n.commands.setHandler(this.videoUploadCallbackName,this.onVideoUploaded.bind(this)),n.commands.setHandler(this.videoErrorCallbackName,this.onVideoUploadError.bind(this)),n.commands.setHandler(this.videoAbortCallbackName,this.removeRelayHandlers.bind(this)),n.execute("determineUpload","video","","","",this.videoUploadCallbackName,this.videoErrorCallbackName,this.videoAbortCallbackName)},onVideoUploaded:function(e,t){var n=t.match(/^%%QUEUEID:([^%]*)%%([^%]*)%%$/);if(!n)return void this.onVideoUploadError(t);this.removeRelayHandlers();var i="/uploads/"+n[2],r=i.replace(/\.[^.]+$/,".jpg");this.comboDialog.video=new o({video_type:"upload",video_url:i,video_id:i,background_url:r,encoding_done:!1});var s=this.comboDialog.video.toJSON();this.comboDialog.section.setBackgroundVideo(s),this.model.set(s),this.render(),this.trigger("video:upload:uploaded")},onVideoUploadError:function(){this.removeRelayHandlers(),this.comboDialog.currentPanel.alert({title:_W.utl("javascript.editor.sections.view.video.error_title"),message:_W.utl("javascript.editor.sections.view.video.error_message")})},removeRelayHandlers:function(){n.commands.removeHandlers([this.videoUploadCallbackName,this.videoErrorCallbackName,this.videoAbortCallbackName])}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(4),n(3),n(175),n(858)],o=function(e,t,n,i,o){var r=n.Marionette.ItemView.extend({events:{"click .add-video":"saveVideo"},initialize:function(e){this.comboDialog=e.dialog.comboDialog},getTemplate:function(){return t.compile(o)},templateHelpers:function(){var e=this.model.get("video_type"),t="vimeo"===e||"youtube"===e?this.model.get("video_url"):void 0;return{videoUrl:t}},saveVideo:function(){var e=this.$(".bgvideo__input").val(),t=this.comboDialog.section;if(e){var n=this.comboDialog.video=new i({video_url:e});this.model.set(this.comboDialog.video.toJSON());var o=n.has("video_id")?n.toJSON():{};t.setBackgroundVideo(o),this.comboDialog.popPanel()}}});return r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(4),n(3),n(7),n(14),n(433),n(186),n(70),n(29),n(13),n(12),n(2511),n(24),n(35)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m){"use strict";var g=s.module("themeBackground",function(g){function v(e){e.css({"background-position":"","background-size":"","background-repeat":"","background-image":"","background-attachment":""})}function b(e){var t=e.css("background-image");if(t){var n=t.match(/url\(('([^']*)'|"([^"]*)"|(.*?))\)/);if(n)return n[2]||n[3]||n[4]}}var w=null,y=null,_=[],E={},T=null,C={rerender:function(e){if(e){var t=g.getBackgroundNameFromClass(e);C.applyBackgrounds(n.pick(E,t))}else C.applyBackgrounds(E)},rendered:function(){I(),S(),C.applyBackgrounds(E)},update:function(e){E=e.backgrounds?e.backgrounds:E,d.chromeless&&!e.backgrounds&&(E={})},extend:function(e){e&&(E=n.extend(E,e))},onStartRender:function(e,t){C.update(t)},init:function(e){var n;T=t(window),T.on({"resize.theme-background":C.resize}),w=g.getBackgroundElement(e),y=g.getNonBackgroundElements(w),n=g.getDefaultBackgroundUrl(w),y.css("opacity","0.5"),w.css("transition","background-position 0.1s linear"),I(),r.trigger("themeBackground:ready",n),r.on("image:editor:scroll",C.onImageEditorScroll,C)},onImageEditorScroll:function(e){var t=T.scrollTop();T.scrollTop(t-e),r.trigger("image:editor:iframe:scroll",t-T.scrollTop())},close:function(){t(window).off(".theme-background"),r.off(null,null,C),y.css("opacity",""),w.css("transition",""),w=null,y=null,setTimeout(S,1e3),l.updateFooterAttribution()},applyBackgroundToElement:function(e,t){g.applyBackgroundToElement(e,t)},getAll:function(){return E},getIsCommerce:function(){var e=t("#wsite-com-area-category").attr("data-id"),n=t("#wsite-com-product-gen").attr("data-id"),i;return e?i={type:"category",id:e}:n&&(i={type:"product",id:n}),i},getElementPosition:function(e){var t=g.getBackgroundElement(e);return{bgSrc:(t.css("background-image").match(/^url\(['"]?(.*?)['"]?\)$/i)||[])[1],bgCoords:c.getBackgroundPosition(t),bgSizePct:parseFloat(t.css("background-size")),availHeight:t.innerHeight(),availWidth:t.innerWidth()}},getPositioningProperties:function(e){var n=g.getBackgroundElement(e),i={},o=["float","position","width","height","left","top","backgroundSize","backgroundPosition","marginLeft","marginTop","paddingLeft","paddingTop","padding"];return o.forEach(function(e){"height"===e?i[e]=n.outerHeight():"width"===e?i[e]=n.outerWidth():i[e]=n.css(e)}),i.offset=n.offset(),i.offset.top=i.offset.top-t(window).scrollTop(),i},applyBackgrounds:function(e){var t={},n;for(var i in e)n=e[i],t[i]=n,n instanceof o.Model&&(t[i]=n.toJSON());g.applyBackgrounds(e)},applyBackgroundPositioning:function(t,n){var i=w,o=[t,n].join(" "),r=u.isHeaderSectionSupported(e.pageContext.getAreas())?"":"important";i[0].style.setProperty("background-position",o,r)}},S=function(){d.chromeless||f.getCurrentThemeData(m.isMobileView).done(function(e){var n=g.getBackgroundElements();n.not("body, .wsite-section, .wsite-header-section").each(function(){var n=t(this),i=n.attr("class")||"",o=i.match(/\bwsite-background(?:-([\w-]*))?\b/),s=o[1]||"",l=new a({targetElement:n,appendToElement:"#_editor-ui",allowPageTypes:!u.themeSupportsSections(e),allowSlideshow:!1,editCallback:function(){r.execute("editor:background:open",s)}});l.render(),_.push(l)})})},I=function(){n.each(_,function(e){e.destroy()}),_=[]};g.applyBackgroundToElement=function(n,o,r){var s,a,l,c,d;o instanceof t||(o=g.getBackgroundElement(o));var h=u.isHeaderSectionSupported(e.pageContext.getAreas())?"":"important";c={"background-position":"","background-size":"","background-repeat":"","background-image":"","background-attachment":""},n&&n.image&&!n.image.useThemeDefault?o.addClass("wsite-custom-background"):o.removeClass("wsite-custom-background");var f=t("<div/>").hide().appendTo("body");o.css("backgroundColor")!==f.css("backgroundColor")&&delete c["background-image"],f.remove(),d=o[0],o.removeClass("is-loading");var m="js-encoding-icon",v=t(i.render(p)).addClass(m);if(o.find("."+m).remove(),n&&!n.loading){var b=n.image,w=n.zoom;l=n.position,s=w?100+100*w+"%":"cover",a=n.backgroundPosition,b&&!b.useThemeDefault&&(r?(c={"background-size":"cover","background-repeat":"no-repeat"},a="50% 50%",s="cover"):"fill"!=l&&l?"left"==l?(c={"background-position":"0% 0%","background-size":"auto","background-repeat":"no-repeat"},a="0% 0%"):"center"==l?(c={"background-position":"50% 0%","background-size":"auto","background-repeat":"no-repeat"},a="50% 0%"):"right"==l?(c={"background-position":"100% 0%","background-size":"auto","background-repeat":"no-repeat"},a="100% 0%"):"tile"==l&&(c={"background-position":"0 0","background-size":"auto","background-repeat":"repeat"},a="0 0"):(a=a?a:"50% 50%",c={"background-position":a,"background-repeat":"no-repeat"},o.is("body")&&(c["background-attachment"]="fixed")),a&&d.style.setProperty("background-position",a,h),s&&("fill"===l||r)?d.style.setProperty("background-size",s,h):d.style.setProperty("background-size","auto",h),c["background-color"]="transparent",c["background-image"]="url('"+b.url+"')")}else n&&n.loading&&o.addClass("is-loading").append(v);return o.css(c),o},g.applyBackgrounds=function(e){var n=g.getBackgroundElements(),i=t("body");v(i),i.removeClass("wsite-custom-background"),n.each(function(){var n=t(this),i=n.attr("class")||"",o=g.getBackgroundNameFromClass(i),r=e[o];r&&g.applyBackgroundToElement(r,n)})},g.getBackgroundNameFromClass=function(e){var t=e.match(/\bwsite-background(?:-([\w-]*))?\b/);return t[1]||""},g.getBackgroundElement=function(e){return e=e?"-"+e:"",g.getCorrectBackground(t(".wsite-background"+e))},g.getBackgroundElements=function(){var e=t('body.wsite-background, body[class^="wsite-background-"], body[class*=" wsite-background-"]');return t("#icontent").find('.wsite-background, [class^="wsite-background-"], [class*=" wsite-background-"]').add(e)},g.getNonBackgroundElements=function(e){return e.siblings().add(e.children().not("."+h.SECTION_HIGHLIGHT_CLASS_NAME))},g.getDefaultBackgroundUrl=function(e){var n=e.css("background-image"),i=t("#icontent").find(".wsite-custom-background").add("body.wsite-custom-background");e.css("background-image",""),i.removeClass("wsite-custom-background");var o=b(e);return i.addClass("wsite-custom-background"),e.css("background-image",n),o},g.getCorrectBackground=function(e){return e.is("#icontent")?t("body"):e},g.on("start",function(){g.listenTo(s.vent,{"page:startRender":C.onStartRender,"editor:middle":C.update,pageRendered:C.rendered,themeRendered:C.rendered,"section:background:image:render":C.rerender,"headerSection:background:image:render":C.rerender}),g.listenTo(r,{"themeBackground:close":C.close}),s.commands.setHandlers({"themeBackground:update":C.update,"themeBackground:extend":C.extend}),s.reqres.setHandlers({"themeBackground:all":C.getAll}),r.commands.setHandlers({"themeBackground:init":C.init,"themeBackground:extend":C.extend,"themeBackground:apply":C.applyBackgrounds,"themeBackground:applyToElement":C.applyBackgroundToElement,"themeBackground:applyPosition":C.applyBackgroundPositioning}),r.reqres.setHandlers({"themeBackground:isCommerce":C.getIsCommerce,"themeBackground:elementPosition":C.getElementPosition,"themeBackground:positioningProperties":C.getPositioningProperties})}),g.on("stop",function(){g.stopListening(),s.commands.removeHandlers(["themeBackground:update","themeBackground:extend"]),s.reqres.removeHandlers(["themeBackground:all"]),r.commands.removeHandlers(["themeBackground:init","themeBackground:extend","themeBackground:close","themeBackground:apply","themeBackground:applyToElement","themeBackground:applyPosition"]),r.reqres.removeHandlers(["themeBackground:isCommerce","themeBackground:elementPosition","themeBackground:positioningProperties"])})});return g}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1)],o=function(e){function t(t){function n(){i(),r++}function i(){s||(s=!0,t.mouseover&&t.mouseover())}function o(){var e=++r;setTimeout(function(){e==r&&(s=!1,t.mouseout&&t.mouseout())},t.delay||100)}var r=0,s=!1,a=e();e.each(t.elements||[],function(){a=a.add(this)}),a.on("mouseover",n).on("mousemove",i).on("mouseout",o),this.destroy=function(){a.off("mouseover",n).off("mousemove",i).off("mouseout",o)}}return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(14),n(284),n(198),n(98),n(97),n(319),n(12),n(39),n(7),n(28),n(23),n(45),n(106)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p){function f(){e(this).closest("li.inside").addClass("wsite-image-move").end().closest("a").removeAttr("title").on("click",!1)}function m(){u.execute("xhrUploading:set",null)}var g={},v=1e3,b=.3;return g.init=function(p,g,w,y,_,E,T){function C(e,t,n,i){var o=(e.left-n)/(i-S),r;r=w?o<.33?"left":o<.66?"center":"right":o<.5?"left":"right",M!==r&&y(t.helper,t.helper,r,L),M=r}if(p.closest(".platform-element-child").length>0)return function(){};d.init(n);var S,I,O,D,x,k,R,P,A,N,M,L,B,K,F,H=!1;return g.draggable({addClasses:!1,revert:!0,revertDuration:200,create:f,distance:10,helper:function(){var e=p.find("img").clone().attr("id","weebly_image_extras_helper").css({"z-index":v,margin:0,width:"auto","max-width":""}),t=h.getElementObject(p.closest("li.inside")[0]);return F=w?t:new a({eid:"0",li:t.li,imageText:!0,content_fields:[{ucfid:"0",cfid:"0",properties:[{cfpid:"0",ucfpid:"0",property_result:t.getPropertyResult("<!ALIGN!>"),initial_value_set:"",reference_property:"<!ALIGN!>"}]}]},Weebly.pageContext),p.parent().prepend(e),e},start:function(t,n){var i=e(this);r.disable(),s.disable();var o=p.closest(".element-box"),a=o.offset();S=i.width(),I=i.height(),O=p.outerHeight(),P=t.pageY,A=M=E(),N=L=T?T():0,D=a.left,x=a.top,k=o.outerWidth(),R=o.outerHeight(),B=w?null:p.next(),p.css("opacity",b).addClass("weebly-image-dragging"),c.unselectElement(),c.setCurrentElement(p[0]),s.hide(p[0],!0),F&&F.startDrag(t,n)},drag:function(e,n){n.noDrop=!0;var r=n.helper.offset(),s=10,a=h.getElementObject(p.closest("li.inside")[0]);if(a.eid!==l.CURRENT_PARAGRAPH_IMAGE_ELEMENT&&l.STANDALONE_IMAGE_ELEMENTS.indexOf(a.eid)===-1||!(r.left<D-s||r.top<x-s||r.left+S>D+k+s||r.top+I>x+R+s)){K=null,i.removeMarker(),n.helper.addClass("inside-hover"),p.css("visibility",""),n.helper.css("opacity",1);var c;w?c=0:(c=N+e.pageY-P,c=Math.min(c,B.outerHeight()-O),c=Math.max(c,0)),C(r,n,D,k),L!==c&&(L=c,y(n.helper,n.helper,M,L)),H&&(o.stop.call(this,e,n),H=!1)}else{H||(H=!0,n.helper.removeClass("inside-hover"),o.start.call(this,e,n)),p.css("visibility","hidden"),n.helper.css("opacity",b);var u=t.clone(n);w?u.helper=n.helper.closest("li.inside"):F.getContentField().getProperty("<!ALIGN!>").property_result=a.getPropertyResult("<!ALIGN!>"),u.elementObject=F,n.helper.closest(".inside").triggerHandler(e.originalEvent),o.drag.call(this,e,u),F&&F.combiner&&F.combiner.found&&(K=null,i.removeMarker(),C(r,n,F.combiner.found.offset().left,F.combiner.found.width()))}K||F&&F.combiner&&F.combiner.found||(r=p.find("img").offset(),n.originalPosition.top=r.top,n.originalPosition.left=r.left,r=n.helper.parent().offset(),n.originalPosition.top-=r.top,n.originalPosition.left-=r.left)},stop:function(e,t){r.enable(),i.removeMarker(),p.removeClass("weebly-image-dragging").css({opacity:1,visibility:""}),s.enable(),M===A&&L===N||_(M,L),H&&(t.elementObject=F,o.stop.call(this,e,t),H=!1)}}).on({"drag:edge:changed":function(e,t,n){if(K=t,w){var i=n.helper.closest("li.inside");n.originalPosition.left+=(i.outerWidth()-n.helper.outerWidth())/2,n.originalPosition.top+=(i.outerHeight()-n.helper.outerHeight())/2}},"drag:edge:removed":function(){K=null},"dragstop:drop":function(t,n){if(t.stopPropagation(),w)return void e(F.li).trigger("dragstop:drop",[n,K]);p.hide();var i=K.el,o=K.position,r=K.section_id,s={parent:i?i.parentString:null,content_area:K.area&&K.area.name};o!==l.POSITION_LEFT&&o!==l.POSITION_RIGHT||(s.columns=d.getColumnData(K,{element_id:"30621876"}));var a=p.closest(".inside")[0],c=a.id.replace(/[\D]/g,""),f=h.getElementObject(c).elData,g=f.area.name;u.execute("xhrUploading:set",p[0].id),u.execute("loading:start","SiteEditorUiImagesDragging::drop"),Weebly.Editor.RPC.Elements.splitImageTextElement(window.currentPage,K.area.is_site_wide,g,c,f.parentString,s,r,i?i.id:null,o===l.POSITION_TOP?"before":"after").always(function(){u.execute("loading:stop","SiteEditorUiImagesDragging::drop"),m()}),u.request("page:navigate",window.currentPage)}}),g.parent().attr("title",""),function(){g.data("ui-draggable")&&g.draggable("destroy").off("drag:edge:changed drag:edge:removed dragstop:drop")}},g}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(14),__webpack_require__(197),__webpack_require__(436),__webpack_require__(460),__webpack_require__(320),__webpack_require__(114),__webpack_require__(101),__webpack_require__(12),__webpack_require__(284),__webpack_require__(325),__webpack_require__(39),__webpack_require__(281),__webpack_require__(168),__webpack_require__(28),__webpack_require__(273),__webpack_require__(7),__webpack_require__(130),__webpack_require__(23),__webpack_require__(45),__webpack_require__(41),__webpack_require__(198),__webpack_require__(466),__webpack_require__(27)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,frameApp,ElementUtils,ElementMoveCopy,SplitPane,MultiColumnElement,ElementSpotlight,HoverToolbar,UICONST,Marker,Edges,Elements,Droppable,Definitions,UIUtils,UIView,Relay,ImageResizing,WElementUtils,AreaUtils,ElementSettingsUtils){function controlsLocked(e){var t=$(e);return t.find(".inside-hover").length||t.closest(".wsite-multicol-li.inside-active").length||window.isDraggingElement||ImageResizing.resizing||SplitPane.resizing||MultiColumnElement.isResizing||ElementSpotlight.isOutside(e)||t.closest(".platform-element-child").length&&!t.closest(".content-area-element").length}function initUserElementListSorting(e){$(e).children().touchit().wDraggable({app:frameApp,handle:".w-handle",revertDuration:50}).on(elementUIEvents).find(".w-handle").touchit()}function destroyUserElementListSorting(e){$(e).children().filter(":data(ui-draggable)").wDraggable("destroy").off(elementUIEvents)}function deleteElement(e,t,n,i){e.addClass("inside-inactive"),ElementUtils.deleteWeeblyElement(e[0],!n,i),t()}function showMove(){var moveButton=$(this),newInsideMove=moveButton.closest(".inside");if(!newInsideMove.is(insideMove)){frameApp.vent.trigger("element:options:dialog:close"),closeMove(),insideMove=newInsideMove;var value=insideMove.children("form").find("[name=idfield]").val(),idfield;try{idfield=eval("("+value+")")}catch(e){return void window.showError(window._W.utl("javascript.site.editor.ui.weebly_element_controls_4"))}Definitions.fetchDefinition(idfield.eid,function(e){ElementMoveCopy.open(e,moveButton)}),insideMove.addClass("inside-move-active"),Elements.setCurrentElement(insideMove.find(".element")[0]),moveButton.on("mouseup.move-copy-button click.element-control.move",function(e){e.stopPropagation()}),$(document).on("click.element-control.move",closeMove).on("mouseup.move-copy-button",closeMove)}}function closeMove(){if(insideMove){var e=insideMove;insideMove=void 0,$(document).off("click.element-control.move"),$(document).off("mouseup.move-copy-button"),$(".w-element-controls .w-move").off("mouseup.move-copy-button click.element-control.move"),setTimeout(function(){e.removeClass("inside-move-active")},200)}}function closeDeleteElement(){deleteElementInside&&(deleteElementActiveClass&&deleteElementInside.removeClass(deleteElementActiveClass),deleteElementInside=void 0,deleteElementToolbar.addClass("inactive"),setTimeout(function(){deleteElementToolbar.remove()},1e3),$(document).off("click.element-control.delete",closeDeleteElement))}function deleteImage(e,t){t();var n=e.closest(".weebly-area")[0],i=AreaUtils.getAreaInstanceForElement(n),o=window.getElementParentString(e[0]),r;r=!(!$(".wsite-com-long-description").length||i&&i.name)||(!i||!i.context.pageID);var s=e.find(".element");s.length&&Relay.execute("xhrUploading:set",s[0].id),Relay.execute("loading:start","SiteEditorUiElementControls::delete"),Weebly.Editor.RPC.Elements.removeImageTextImage(window.currentPage,r,i&&i.name||"",e[0].id.replace(/[^\d]/g,""),o).always(function(){Relay.execute("loading:stop","SiteEditorUiElementControls::delete"),afterRPC()}).done(deleteImageDone)}function deleteImageDone(){Relay.trigger("editor:element:delete:after")}function afterRPC(){Relay.execute("xhrUploading:set",null)}function setUIObjectProps(e){e.elementObject||(e.elementObject=elementObject)}function onBeforeDragStart(e,t){return originalHelperStyle=t.helper.attr("style")||"",elementObject=WElementUtils.getElementObject(this),setUIObjectProps(t),ElementSettingsUtils.isElementSettingsOpen()&&frameApp.vent.trigger("element:options:dialog:close"),Elements.saveProperties(),originalPositionTop=t.originalPosition.top,originalPositionLeft=t.originalPosition.left,Edges.getEdge(elementObject,UICONST.POSITION_TOP).done(function(e){originalPositionEdge=e}),t.helper.addClass("inside-dragging"),!1}function onDrag(e,t,n){return t.position.left-=n.left,t.position.top-=n.top,setUIObjectProps(t),!1}function onDragEdgeRemoved(e,t){return originalPositionEdge&&t.originalPosition.left===originalPositionLeft&&t.originalPosition.top===originalPositionTop&&Marker.createMarkerFromEdge(originalPositionEdge),!1}function onDragEdgeChanged(e,t,n){return n.elementObject&&n.elementObject.li&&(n.originalPosition.top+=$(n.elementObject.li).outerHeight()/2),!1}function onBeforeDragStop(e,t){return setUIObjectProps(t),t.helper.removeClass("inside-changed inside-dragging").attr("style",originalHelperStyle),originalHelperStyle=void 0,WElementUtils.repositionElements(),Weebly.Elements.unselectElement(),!1}function onDragDrop(e,t,n){if(n===originalPositionEdge)return elementObject=null,!1;window.isDraggingElement=!0,Relay.execute("destroyDragging");var i,o="",r=n.position,s=n.area,a=n.el?n.el.parentString:s.parentString,l=elementObject.id,c=n;n=_.clone(c),n.column=!!n.column,n.el?(i=n.el.section_id||n.section_id,n.el=_.clone(n.el),delete n.el.area,delete n.el.columns,delete n.el.children,n.el.parent?n.el.parent=n.el.parent.id:delete n.el.parent,n.el.parentColumn&&(n.el.parent=n.el.parentColumn.el.id),delete n.el.parentColumn,o=n.el.parent):i=n.section_id,n.area=_.clone(n.area),delete n.area.elements,n.area.sections&&_.each(n.area.sections,function(e){delete e.elements});var u=$(t.elementObject.li);if(r===UICONST.POSITION_LEFT||r===UICONST.POSITION_RIGHT){u.hide();var d={page_element_id:l},h=UIUtils.getColumnData(c,d);Relay.request("editor:element:reorder",n,l,h).always(function(){window.isDraggingElement=!1}).done(function(e){"boolean"!=typeof e&&Relay.request("page:navigate",window.currentPage)}).fail(function(){u.show(),Relay.execute("initDragging")})}else if(r===UICONST.POSITION_TOP||r===UICONST.POSITION_BOTTOM){var p=u.next(),f,m=u.find("img");if(p.length||(f=u.parent()),m.length>0&&u.hide(),n.el)$(WElementUtils.getElementObject(n.el.id).li)[r===UICONST.POSITION_BOTTOM?"after":"before"](u);else{var g=AreaUtils.getAreaInstance(n.area.is_site_wide,n.area.type,n.area.name);i&&(g=g.getAreaFromSectionId(i));var v=g.el;g.innerEl&&(v=g.innerEl),$(v)[r===UICONST.POSITION_BOTTOM?"append":"prepend"](u),g.removeEmptyMessage()}Relay.request("editor:element:reorder",n,l).done(function(e){n.insideContentAreaElement||(ElementUtils.moveElementObject(l,a,s,n.el?n.el.id:null,r===UICONST.POSITION_TOP?"before":"after",o,i),m.length>0&&ImageResizing.destroy(m)),frameApp.vent.trigger("editor:elements:changed")}).fail(function(){p.length?p.before(u):f.append(u)}).always(function(){window.isDraggingElement=!1,u.show(),u.find("iframe").length&&WElementUtils.getElementObject(l).afterRender(u[0],!0,!0),Relay.execute("initDragging")})}return elementObject=null,!1}var exports={},insideMove,deleteBox,deleteElementActiveClass,deleteElementInside,deleteElementToolbar;
exports.initElementControls=function(){exports.attachInitEventListeners(),Edges.init(frameApp),UIUtils.init(frameApp)},exports.attachInitEventListeners=function(){var e=null;$(document).on("mouseover","li.inside",function(){controlsLocked(this)||(e&&e.removeClass("inside-hover"),e=$(this).addClass("inside-hover"))}).on("mouseout","li.inside",function(){controlsLocked(this)||($(this).removeClass("inside-hover inside-handle-hover inside-delete-hover"),e=null)}),$(document).on("mouseover",".w-element-controls .w-upgrade",function(){$(this).closest(".inside").addClass("inside-upgrade-hover")}).on("mouseout",".w-element-controls .w-upgrade",function(){$(this).closest(".inside").removeClass("inside-upgrade-hover")}).on("mouseover",".w-element-controls .w-handle",function(){$(this).closest(".inside").addClass("inside-handle-hover")}).on("mouseout",".w-element-controls .w-handle",function(){$(this).closest(".inside").removeClass("inside-handle-hover")}).on("mouseover",".w-element-controls .w-move",function(){$(this).closest(".inside").addClass("inside-move-hover")}).on("mouseout",".w-element-controls .w-move",function(){$(this).closest(".inside").removeClass("inside-move-hover")}).on("click",".w-element-controls .w-move",showMove).on("mouseover",".w-element-controls .w-delete",function(){$(this).closest(".inside").addClass("inside-delete-hover")}).on("mouseout",".w-element-controls .w-delete",function(){$(this).closest(".inside").removeClass("inside-delete-hover")}).on("click",".w-element-controls .w-delete",function(e){exports.deleteGenericElement.call(this,e)}).on("click",".element > .w-delete-outer",function(e){exports.askDelete.call(this.firstChild,deleteImage,window._W.utl("javascript.site.editor.ui.weebly_element_controls_3"),"",e)})},frameApp.vent.on({"pageRendered editor:spotlight:open editor:spotlight:close editor:elements:newElement editor:sections:newSectionRendered":function(){$(Droppable.topLevelDroppables).removeClass("weebly-area-active"),_.each(Droppable.allDroppables,destroyUserElementListSorting),Droppable.buildTopLevelDroppables(),$(Droppable.topLevelDroppables).addClass("weebly-area-active"),_.each(Droppable.allDroppables,initUserElementListSorting)},attachControlEvents:function(){exports.attachInitEventListeners()}}),exports.deleteGenericElement=function(e){Weebly.Elements.hideElementSettings(),exports.askDelete.call(this,deleteElement,window._W.utl("javascript.site.editor.ui.weebly_element_controls_7"),"inside-delete-active",e)},exports.askDelete=function(e,t,n,i){deleteElementToolbar&&(i.stopPropagation(),deleteBox[0]!==this&&deleteBox.closest(".inside").removeClass("inside-delete-active"),deleteElementToolbar.remove()),deleteBox=$(this),deleteElementInside=deleteBox.closest(".inside"),deleteElementActiveClass=n;var o=!1,r="";deleteElementInside.hasClass("wsite-multicol-li")&&(o=!0,r=window._W.utl("javascript.site.editor.ui.weebly_element_controls_5",deleteElementInside.find("li.inside").length)),n&&deleteElementInside.addClass(n);var s=new HoverToolbar({targetElement:deleteBox[0],alignElement:deleteElementInside[0],parent:UIView.getContainer()[0],adjustX:26,preferAbove:!0});s.setAutoHide(!1),s.setAutoShow(!1),deleteElementToolbar=$(s.getElement()).addClass("w-element-delete-popup").addClass("inactive").on("click",function(){return!1}),$(s.getInnerElement()).addClass("w-ui").append("<p>"+t+"</p>").append($("<span class='btn btn-large btn-danger'>"+window._W.utl("javascript.site.editor.ui.weebly_element_controls_6")+"</span>").on("click",function(){var t=deleteElementInside.attr("id").split("_").pop();e(deleteElementInside,closeDeleteElement,o,r)})),s.show(),deleteElementToolbar.removeClass("inactive"),$(document).on("click.element-control.delete",closeDeleteElement)},Relay.on({"iframe:overlays:hide":function(){closeMove(),closeDeleteElement()},"site:overlays:hide":function(){closeMove(),closeDeleteElement()}});var elementUIEvents={"dragstart:before":onBeforeDragStart,"drag:drag":onDrag,"drag:edge:removed":onDragEdgeRemoved,"drag:edge:changed":onDragEdgeChanged,"dragstop:before":onBeforeDragStop,"dragstop:drop":onDragDrop},originalPositionTop,originalPositionLeft,originalPositionEdge,elementObject=null,originalHelperStyle;return exports}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var i,o;i=[n(1),n(2)],o=function(e,t){function n(e){this.config=e,this.queryDom(),this.updateTransitions(),this.updateIsForced(),this.bindTriggerHandlers(),this.bindPostCloseActions(),this.bindWindowResizeHandler()}function i(e,t){e.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",t)}function o(e){e.off("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd")}var r={},s;return r.init=function(e){s||(s=new n(e))},r.destroy=function(){s&&(s.destroy(),s=null)},n.prototype={config:null,paneEl:null,slidingEl:null,stickyNavEl:null,stickyOffset:null,coveringEl:null,bodyEl:null,triggerEl:null,spotlightEl:null,isOpen:!1,isLeft:!1,isFullscreen:!1,isSlidingNav:!1,paneWidth:0,paneTransition:null,queryDom:function(){this.paneEl=e(".w-navpane"),this.slidingEl=e(".w-navpane-slide:not(.w-navpane)"),this.stickyNavEl=e(".w-navbar-sticky"),this.triggerEl=e(".w-navpane-trigger"),this.spotlightEl=e(".w-navpane-spotlight"),this.bodyEl=e("body"),this.isFullscreen=this.paneEl.hasClass("w-navpane-fullscreen"),this.isSlidingNav=this.paneEl.hasClass("w-navpane-slide"),this.paneTransition=this.paneEl.css("transition")},updateIsForced:function(){this.bodyEl.toggleClass("w-navpane-is-forced",this.isForced())},isForced:function(){return!!this.config.isForced||this.config.condense!==!1&&e(window).width()<=this.config.condense},queryIsLeft:function(){this.isLeft=this.triggerEl.eq(0).position().left<this.bodyEl.width()/2},queryPaneWidth:function(){this.paneWidth=this.paneEl.outerWidth()},open:function(){var e=this;this.isOpen=!0,this.triggerEl.addClass("w-navpane-trigger-active"),this.queryIsLeft(),this.queryPaneWidth(),this.isFullscreen?(this.isSlidingNav&&this.paneEl.show(),setTimeout(function(){e.paneEl.show().css("opacity",1)},0)):(this.addCovering(),this.pinStickyNavToPage(),this.preparePaneForOpen(),setTimeout(function(){e.addSpotlight(),e.movePaneToOpenPosition(),e.moveSliderToOpenPosition()},0)),this.bodyEl.addClass("w-navpane-is-open"),this.bindCloseHandlers()},preparePaneForOpen:function(){this.bodyEl.toggleClass("w-navpane-is-left",this.isLeft),this.bodyEl.toggleClass("w-navpane-is-right",!this.isLeft),this.isSlidingNav&&(this.paneEl.show(),this.isLeft?this.paneEl.css({left:-this.paneWidth,right:"auto"}):this.paneEl.css({right:-this.paneWidth,left:"auto"}))},movePaneToOpenPosition:function(){this.isSlidingNav&&(this.isLeft?this.paneEl.css("left",0):this.paneEl.css("right",0))},movePaneToClosePosition:function(){this.isSlidingNav?this.isLeft?this.paneEl.css("left",-this.paneWidth):this.paneEl.css("right",-this.paneWidth):this.isFullscreen||this.removeCovering()},moveSliderToOpenPosition:function(){this.isLeft?this.slidingEl.css({left:this.paneWidth,right:-this.paneWidth}):this.slidingEl.css({left:-this.paneWidth,right:this.paneWidth})},moveSliderToClosePosition:function(){this.slidingEl.css({left:0,right:0})},close:function(){this.isOpen=!1,this.bodyEl.removeClass("w-navpane-is-open"),this.triggerEl.removeClass("w-navpane-trigger-active"),this.isFullscreen?this.paneEl.css("opacity",0):(this.movePaneToClosePosition(),this.moveSliderToClosePosition(),this.removeSpotlight()),this.unbindCloseHandlers()},bindTriggerHandlers:function(){var e=this;this.triggerEl.on("click.navpane",function(t){t.stopPropagation(),e.isOpen?e.close():e.open()})},unbindTriggerHandlers:function(){this.triggerEl.off("click.navpane")},postCloseHandler:function(){this.isOpen||(this.isFullscreen||(this.paneEl.scrollTop(0),this.unpinStickyNavToPage(),this.removeCovering()),this.paneEl.hide())},bindPostCloseActions:function(){i(this.paneEl,this.postCloseHandler.bind(this))},unbindPostCloseActions:function(){o(this.paneEl)},bindCloseHandlers:function(){var t=this,n=".w-navpane-trigger, .w-navpane-is-open .w-navpane-covering, .w-navpane-close";e(document).on("click.navpane",n,function(e){e.stopPropagation(),t.close()})},unbindCloseHandlers:function(){e(document).off("click.navpane")},bindWindowResizeHandler:function(){this.unbindWindowResizeHandler(),this.config.condense===!1||this.config.isForced||(this.resizeHandler=t.debounce(t.bind(this.updateIsForced,this),100),e(window).on("resize",this.resizeHandler))},unbindWindowResizeHandler:function(){null!=this.resizeHandler&&(e(window).off("resize",this.resizeHandler),this.resizeHandler=null)},addCovering:function(){this.coveringEl||(this.coveringEl=e("<div class='w-navpane-covering'></div>"),this.paneEl.after(this.coveringEl))},removeCovering:function(){null!=this.coveringEl&&(this.coveringEl.remove(),this.coveringEl=null)},addSpotlight:function(){this.paneEl.hasClass("w-navpane-spotlight")&&(this.coveringEl.addClass("w-navpane-covering-dark"),this.coveringEl.css("transition",this.paneTransition))},removeSpotlight:function(){this.paneEl.hasClass("w-navpane-spotlight")&&this.coveringEl.removeClass("w-navpane-covering-dark")},updateTransitions:function(){this.slidingEl.length&&this.slidingEl.css("transition",this.paneTransition),this.coveringEl&&this.coveringEl.css("transition",this.paneTransition)},pinStickyNavToPage:function(){"fixed"===this.stickyNavEl.css("position")&&(this.stickyOffset=this.stickyNavEl.position().top,this.stickyNavEl.css("position","absolute"),this.stickyNavEl.css("top",this.stickyNavEl.postion.top()+this.stickyOffset))},unpinStickyNavToPage:function(){this.stickyNavEl.hasClass("w-navbar-stuck")&&("100"===this.stickyNavEl.css("z-index")?this.stickyNavEl.css({position:"fixed",top:this.stickyOffset}):"99"===this.stickyNavEl.css("z-index")&&this.stickyNavEl.css({position:"fixed",top:0}))},destroy:function(){this.isOpen&&this.close(),this.unbindTriggerHandlers(),this.unbindPostCloseActions(),this.unbindWindowResizeHandler(),this.postCloseHandler()}},{data:[{name:"forced",title:"Collapse Navigation",type:"toggle",default:!0}],render:function(e){r.destroy(),r.init({isForced:Boolean(e.forced),condense:null!=e.condense?e.condense:1024})}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(706)],o=function(e){return{data:[{name:"type",title:"Sticky Navbar",type:"dropdown",choices:[{value:"normal",title:"Normal"},{value:"fixed",title:"Fixed"},{value:"semi-fixed",title:"Semi-fixed"}],default:"normal"}],render:function(t,n){var i="w-navbar-sticky",o=t.type;"normal"!==o?e("."+i).length&&e("."+i).stickUp({scrollHide:"semi-fixed"===o,zIndex:"semi-fixed"===o?100:99,scrollContainer:!1,topMargin:"auto"}):e("."+i).length&&e("."+i).removeStickUp({scrollContainer:!1})}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(496)],o=function(e,t){var n="UploadPlayer",i="uploadplayer",o=i+"-container",r=i+"-shield",s=i+"-player",a="/weebly/libraries/videojs/video-js.swf",l=1.77777777777778,c="objectFit"in document.documentElement.style,u={player:null,init:function n(i,o){return window.videojs.options.flash.swf=a,this.$node=e(i),this.options=t.chain(o).pick(["video_url","background_url","autoplay","loop","mute"]).defaults({autoplay:!0,loop:!0,mute:!0,controls:!1,techOrder:["html5","flash"],preload:"none"}).value(),this.ID=this.$node.data("section")||(new Date).getTime(),this.createBackgroundVideo(),this},createBackgroundVideo:function(){var n=s+"-"+this.ID,a=window.videojs.players[n];a&&a.dispose();var l=o+"-"+this.ID,u=e("<div/>",{class:o,id:l}),d=e("<div/>",{class:r}),h=e("<video>",{class:s+" video-js",id:n,poster:this.options.background_url,append:e("<source>",{src:this.options.video_url,type:"video/mp4"})});u.append(h,d),this.$video=h,this.$container=u,this.$node.append(u),this.player=window.videojs(n,this.options),this.player.muted(this.options.mute),c||(this.$video.addClass("js-no-object-fit"),this.cover(),e(window).on("resize."+i,t.throttle(this.cover.bind(this),25)))},destroy:function(){this.player.dispose(),this.$node.removeData(n),this.$container.remove(),this.$node=null,this.$container=null,c||e(window).off("resize."+i)},cover:function(){var e=this.$node.outerHeight(),t=this.$node.outerWidth();this.size(e,t),this.center(e,t)},size:function(e,t){var n={},i=e/t,o=this.$video.outerHeight(),r=this.$video.outerWidth(),s=o/r;s>=i?(n.width="100%",n.height=""):(n.width="",n.height=e+"px"),this.$video.css(n)},center:function(e,t){var n={},i=this.$video.outerHeight(),o=this.$video.outerWidth();Math.ceil(i)>Math.ceil(e)&&(n.marginTop=-(i-e)/2,n.marginLeft=""),Math.ceil(o)>Math.ceil(t)&&(n.marginTop="",n.marginLeft=-(o-t)/2),this.$video.css(n)}};e.fn[n]=function(t){return this.each(function(){if(!e.data(this,n)){var i=Object.create(u);i.init(this,t),e.data(this,n,i)}})}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(5),n(8)],o=function(e,t,n){return{RECAPTCHA_PUBLIC_KEY:"6LfRSRsUAAAAAKZnbFLRh9pFqexMBpUkku4TAYM7",markupSet:!1,rendered:!1,widgetId:!1,markupSelector:null,getCaptchaMarkup:function(){return'<div id="g-recaptcha" data-size="invisible" data-sitekey="'+this.RECAPTCHA_PUBLIC_KEY+'"></div>'},setCaptchaMarkup:function(t){return this.markupSelector=t,this.markupSet===!1&&e(t).prepend(this.getCaptchaMarkup()),this},reset:function(){return grecaptcha.reset(this.widgetId),grecaptcha.execute(this.widgetId),"function"==typeof this.customReset&&this.customReset(),this},teardown:function(){this.markupSet=!1,this.rendered=!1,this.widgetId=!1,e("#g-recaptcha").remove()},pollChallenge:function(e){var t=this;t.iframePoll=window.setInterval(function(){var i=t.getIframeChallenge();"undefined"!=typeof i&&"visible"===i.css("visibility")&&(n.trackEvent(t.LOCATION+".spam","captcha_challenge_shown",e),window.clearInterval(t.iframePoll))},500)},getIframeChallenge:function(){return e('iframe[src*="https://www.google.com/recaptcha/api2/bframe"]')}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,function(e,t,n){var i,o;i=[n(2),n(142),n(697)],o=function(e,t,n){var i={LEVEL:{INFO:"info",WARNING:"warning",ERROR:"error"}},o=25,r=6e4,s=null,a={},l=[/dev.weebly.net$/],c=[/^https?:\/\/([A-Za-z0-9-]+\.)*(?:weebly.net|weebly.com|weeblycloud.com|editmysite.com)/],u={dataCallback:function(e){return e},shouldSendCallback:e.noop,url:"/api/JsonRPC/Ocular/"};i.isBlacklisted=function(e){return!!l.length&&h(l).test(e)},i.install=function(l){l=e.extend({},u,l);var h=new n({url:l.url,standalone:!1,delay:500});return i.isBlacklisted(document.location.hostname)?t:e.isString(l.project)?e.isUndefined(l.release)?(console.warn("Release tag not defined"),t):t.config("https://ocular@editmysite.com/"+l.project,{release:l.release,whitelistUrls:c,autoBreadcrumbs:!1,dataCallback:function(e){return e=l.dataCallback(e)},shouldSendCallback:function(e){var t=l.shouldSendCallback(e);return t!==!1&&(d(e.message)>=o?t=!1:s||(s=setTimeout(function(){s=null,a={}},r))),t!==!1},transport:function(e){h.log(e.data).done(e.onSuccess).fail(e.onError)}}).install():(console.warn("Project name not defined"),t)};var d=function(e){return"number"==typeof a[e]?a[e]++:a[e]=1,a[e]},h=function(t){for(var n=[],i=0,o=t.length,r;i<o;i++)r=t[i],e.isString(r)?n.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):r&&r.source&&n.push(r.source);return new RegExp(n.join("|"),"i")};return i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(2),n(5),n(3),n(48)],o=function(e,t,n,i){e.extend(n.Validation.validators,{in:function(){return n.Validation.validators.oneOf.apply(this,arguments)},email:function(e,n,o){if(!i.isValidEmail(e))return this.format(t.stl("javascript.util.backbone-validators_1"),this.formatLabel(n,o))},maxlength:n.Validation.validators.maxLength,minlength:n.Validation.validators.minLength}),e.extend(n.Validation.messages,{required:t.stl("javascript.validation.required"),acceptance:t.stl("javascript.validation.accepted"),min:t.stl("javascript.validation.min"),max:t.stl("javascript.validation.max"),range:t.stl("javascript.validation.range"),length:t.stl("javascript.validation.length"),minLength:t.stl("javascript.validation.charMin"),maxLength:t.stl("javascript.validation.charMax"),rangeLength:t.stl("javascript.validation.charRange"),oneOf:t.stl("javascript.validation.oneOf"),equalTo:t.stl("javascript.validation.equal"),digits:t.stl("javascript.validation.digits"),number:t.stl("javascript.validation.number"),int:t.stl("javascript.validation.int"),email:t.stl("javascript.validation.email"),url:t.stl("javascript.validation.url"),domain:t.stl("javascript.validation.domain"),inlinePattern:t.stl("javascript.validation.inline")})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,function(e,t,n){var i,o;i=[n(2),n(5),n(742)],o=function(e,t,n){return{getAllTLDs:function(t){t=t||"US";var i=n.us.slice(0);return n.outside.forEach(function(n){e.contains(n["include-for"],t)&&"eu"!==n.name?i.unshift(n.name):i.push(n.name)}),i},getOptimizedTLDs:function(t){t=t||"US";var i=n.us.slice(0);return"US"!==t&&n.outside.forEach(function(n){e.contains(n["include-for"],t)&&i.unshift(n.name)}),i},supportsWhoisPrivacy:function(t){return!!t&&!e.contains(n["no-whois-privacy"],t)},filterDomain:function(e){var t=new Array;if(""!=e){t.push(new RegExp("\\.com","")),t.push(new RegExp("\\.net","")),t.push(new RegExp("\\.org","")),t.push(new RegExp("^.*:\\/\\/","")),t.push(new RegExp("^.*@","")),t.push(new RegExp("www\\.","")),t.push(new RegExp("^\\-+","")),t.push(new RegExp("\\+$","")),t.push(new RegExp("[^a-zA-Z0-9-]","g"));for(var n=0;n<t.length;n++)e=e.replace(t[n],"");return e.substr(0,63)}return""},getDomainStringFromDomain:function(e){var t=e;return Array.isArray(t)&&(t=t.join(".")),t=this.cleanDomainString(t),t=t.split("."),t=t[0]},getTLDFromDomain:function(e,t){var n,i=[];Array.isArray(e)&&(e=e.join(".")),e=this.cleanDomainString(e),e=e.split(".");for(var o=1,r;o<e.length;o++)r=e[o],r.length&&i.push(r.toLowerCase());return n="undefined"!=typeof t&&"array"===t?i:i.join(".")},cleanDomainString:function(e){return e=e.toLowerCase(),e=e.replace(/^https?:\/\//,""),e=e.replace(/^www\./,""),e=e.replace(/[^0-9a-z-.]/g,"")},isWeeblyOfferedTLD:function(e){return!(!t.bootstrapData||!t.bootstrapData.validTLDs)&&(Array.isArray(e)&&(e=e.join(".")),t.bootstrapData.validTLDs.indexOf(e)!==-1)}}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o,r;!function(s,a){o=[n(1),n(140)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t){"use strict";var n=function(e){this.rpc=new t.JsonRpc(e.url),e.delay&&this.rpc.setBatchingMilliseconds(e.delay),this.secure=!!e.secure,this.standalone=!!e.standalone};return n.prototype.log=function(){var t=Array.prototype.slice.call(arguments),n=e.Deferred();return t.length?(t.unshift("Logger::log"),t.push({success:n.resolve,failure:n.reject,scope:n,secure:this.secure,standalone:this.standalone}),this.rpc.call.apply(this.rpc,t)):n.reject(),n.promise()},n})},function(e,t,n){var i,o;i=[n(5),n(2),n(1),n(9),n(441),n(442)],o=function(e,t,n,i,o,r){var s={"w-global":e,underscore:t,jquery:n,backbone:i,"util/platform/elements/PlatformElement":o,"util/platform/elements/PlatformElementSettings":r};return function(e,t){var n=e.map(function(e){return s[e]});t.apply(t,n)}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i;i=function(){var e=Class.create({colors:[["#FFFFFF","#CCCCCC","#C0C0C0","#999999","#666666","#333333","#000000"],["#FFCCCC","#FF6666","#FF0000","#CC0000","#990000","#660000","#330000"],["#FFCC99","#FF9966","#FF9900","#FF6600","#CC6600","#993300","#663300"],["#FFFF99","#FFFF66","#FFCC66","#FFCC33","#CC9933","#996633","#663333"],["#FFFFCC","#FFFF33","#FFFF00","#FFCC00","#999900","#666600","#333300"],["#99FF99","#66FF99","#33FF33","#33CC00","#009900","#006600","#003300"],["#99FFFF","#33FFFF","#66CCCC","#00CCCC","#339999","#336666","#003333"],["#CCFFFF","#66FFFF","#33CCFF","#3366FF","#3333FF","#000099","#000066"],["#CCCCFF","#9999FF","#6666CC","#6633FF","#6600CC","#333399","#330099"],["#FFCCFF","#FF99FF","#CC66CC","#CC33CC","#993399","#663366","#330033"]],css:{hoverClass:"weebly-color-chooser-hover",selectedClass:"weebly-color-chooser-selected",colorClass:"weebly-color-chooser-color",containerClass:"weebly-color-chooser"},initialize:function(e){this.element=P$(e);var t=Object.extend({closeOnClick:!0},arguments[1]||{});t.color&&(this.value=t.color,this.value=this.getValue()),P$(t.updateElement)&&(this.updateElement=P$(t.updateElement)),t.colors&&(this.colors=t.colors),P$(t.clickElement)&&P$(t.clickElement).observe("click",this.draw.bindAsEventListener(this)),this.options=t},draw:function(){var e=new Element("div",{class:this.css.containerClass}),t=new Element("table",{cellspacing:"0",cellpadding:"0"}).setStyle({background:"#CCCCCC",border:"1px solid #CCCCCC"}),n=new Element("tbody");t.update(n),this.colors.each(function(e){var t=new Element("tr");e.each(function(e){var n=new Element("td").setStyle({width:"16px",height:"14px"}),i=new Element("div",{class:"weebly-color-chooser-color"}).setStyle({backgroundColor:e});this.getValue()==e&&i.addClassName(this.css.selectedClass),i.observe("click",this.selectGridColor.bindAsEventListener(this)),i.observe("mouseover",this.hoverGridColor.bindAsEventListener(this)),i.observe("mouseout",this.leaveGridColor.bindAsEventListener(this)),n.update(i),t.insert({bottom:n})},this),n.insert({bottom:t})},this),e.update(t);var i=new Element("div",{class:"weebly-color-chooser-custom"}).setStyle({backgroundColor:"#CCCCCC"});i.update('<input style="float:left; width:77px; height:18px;" type="text" value="'+this.getValue()+'" />');var o=new Element("img",{src:"http://"+editorStatic+"/weebly/images/color_picker_button.gif",alt:"save"}).setStyle({float:"right",cursor:"pointer",margin:"2px"});o.observe("click",this.selectCustomColor.bindAsEventListener(this)),i.insert({bottom:o}),i.insert({bottom:'<div style="clear:both"></div>'}),e.insert({bottom:i}),this.element.update(e),this.options.closeOnClick&&(this.closeTime=(new Date).getTime()+100,this.clickClose=function(e){var t=Event.element(e);(new Date).getTime()>this.closeTime&&!t.up("."+this.css.containerClass)&&(this.close(),document.stopObserving("mousedown",this.clickClose))}.bindAsEventListener(this),document.observe("mousedown",this.clickClose))},removeGridClass:function(e){var t=this.element.down("."+e);t&&t.removeClassName(e)},hoverGridColor:function(e){this.removeGridClass(this.css.hoverClass),Event.element(e).addClassName(this.css.hoverClass)},leaveGridColor:function(e){Event.element(e).removeClassName(this.css.hoverClass)},selectGridColor:function(e){var t=Event.element(e);this.updateValue(t.getStyle("backgroundColor")),this.removeGridClass(this.css.selectedClass),t.addClassName(this.css.selectedClass)},selectCustomColor:function(){this.updateValue(this.element.down("input").value),this.removeGridClass(this.css.selectedClass)},updateValue:function(e,t){this.value=e,this.element.down("input").value=this.getValue(),this.updateElement&&this.updateElement.setStyle({backgroundColor:this.getValue()}),t||this.options.onUpdate&&this.options.onUpdate(this.getValue(e)),this.options.closeOnClick&&this.close()},getValue:function(){return this.value?this.value.match("rgb")?this.rgbToHex(this.value):this.value:""},rgbToHex:function(e){var t=e.match(/rgb\((\d+).*?(\d+).*?(\d+)\)/),n=function(e){return"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16)};return"#"+n(parseInt(t[1]))+n(parseInt(t[2]))+n(parseInt(t[3]))},close:function(){var e=this.element.down(".weebly-color-chooser");e&&e.remove()}});return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,o;i=[n(2)],o=function(e){var t=function(t){function n(e){var n=parseInt(e);t.percent=n,r.style.width=n+"%"}function i(){return o=document.createElement("div"),o.className="upload-meter",t.id&&(o.id=t.id),r=document.createElement("span"),r.className="upload-meter-progress",r.style.width=t.percent+"%",o.appendChild(r),o}var o,r,s={width:"100%",percent:0,id:null},t=t||{};return t=e.extend(s,t),{el:function(){return o},render:function(){return i()},progress:function(e){n(e)}}};return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(5),n(54)],o=function(e){var t=Class.create({initialize:function(t){this.options=Object.extend({onConfirm:null,onCancel:null},t),this.dialog=new e.Dialog("cancel-blog-post-prompt",{modal:!0,showClose:!0,inner_class:"weebly-dialog-inner-red",closeFunction:this.handleCancel.bind(this)}),this.buttons={confirm:r("cancel-blog-post-ok"),cancel:r("cancel-blog-post-cancel")},this.buttons.confirm.stopObserving("click"),this.buttons.confirm.observe("click",this.handleConfirm.bind(this)),this.buttons.cancel.stopObserving("click"),this.buttons.cancel.observe("click",this.handleCancel.bind(this)),this.dialog.open()},handleConfirm:function(e){e.stop(),this.dialog.close(),this.options.onConfirm&&this.options.onConfirm()},handleCancel:function(e){e.stop(),this.dialog.close(),this.options.onCancel&&this.options.onCancel()}});return t}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(22))},,function(e,t,n){(function(e){!function(e){function t(e){for(var t=1;t<arguments.length;t++)e=e.replace("%"+(t-1),arguments[t]);return e}function n(n,i){var o=e("img:first",n),r=o,s,a,l=null,c=null,u=null,d=null,h=null,p=null,f,m=0,g=0,v,b,w=0,y=0,_=0,E=0,T=0,C,S,I=this,O;setTimeout(function(){if(null===c){var e=n.width();n.parent().append(t('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',e/3,e/2-e/6)).find(":last").css("opacity",.5)}},200);var D=function(){null!==p&&(p.remove(),p=null)};this.removeBits=function(){u&&(u.remove(),u=null),d&&(d.remove(),d=null),h&&(h.remove(),h=null),D(),e(".cloud-zoom-loading",n.parent()).remove()},this.destroy=function(){n.data("zoom",null),c&&(c.unbind(),c.remove(),c=null),l&&(l.remove(),l=null),this.removeBits()},this.fadedOut=function(){l&&(l.remove(),l=null),this.removeBits()},this.controlLoop=function(){if(u){var e=C-r.offset().left-.5*v>>0,t=S-r.offset().top-.5*b>>0;e<0?e=0:e>r.outerWidth()-v&&(e=r.outerWidth()-v),t<0?t=0:t>r.outerHeight()-b&&(t=r.outerHeight()-b),u.css({left:e,top:t}),u.css("background-position",-e+"px "+-t+"px"),w=e/r.outerWidth()*f.width>>0,y=t/r.outerHeight()*f.height>>0,E+=(w-E)/i.smoothMove,_+=(y-_)/i.smoothMove,l.css("background-position",-(E>>0)+"px "+(-(_>>0)+"px"))}m=setTimeout(function(){I.controlLoop()},30)},this.init2=function(e,t){T++,1===t&&(f=e),2===T&&this.init()},this.init=function(){e(".cloud-zoom-loading",n.parent()).remove(),c=e(".mousetrap",n.parent()),c&&(c.unbind(),c.remove()),c=n.parent().append(t("<div class='mousetrap' style='background-image:url(\"//"+ASSETS_BASE+"/images/blank.gif\");z-index:2;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",r.outerWidth(),r.outerHeight(),0,0)).find(":last"),c.bind("mousemove",this,function(e){C=e.pageX,S=e.pageY}),c.bind("mouseleave",this,function(e){return clearTimeout(m),clearTimeout(g),u&&u.fadeOut(299),d&&d.fadeOut(299),h&&h.fadeOut(299),l&&l.fadeOut(300,function(){I.fadedOut()}),!1});var s=n.attr("href"),a=n.find("img").attr("src");s!=a&&c.bind("mouseenter",this,function(s){g=setTimeout(function(){O=s.data,l&&(l.stop(!0,!1),l.remove());var a=i.adjustX,m=i.adjustY,g=r.outerWidth(),w=r.outerHeight(),y=i.zoomWidth,_=i.zoomHeight;"auto"==i.zoomWidth&&(y=g),"auto"==i.zoomHeight&&(_=w);var E=n.parent();switch(i.position){case"top":m-=_;break;case"right":a+=g;break;case"bottom":m+=w;break;case"left":a-=y;break;case"inside":y=g,_=w;break;default:E=e("#"+i.position),E.length?(y=E.innerWidth(),_=E.innerHeight()):(E=n,a+=g,m+=w)}l=E.append(t('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:1;"></div>',a,m,y,_,f.src)).find(":last"),o.attr("title")&&i.showTitle&&l.append(t('<div class="cloud-zoom-title">%0</div>',o.attr("title"))).find(":last").css("opacity",i.titleOpacity),e.browser.msie&&e.browser.version<7&&(p=e('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:a,top:m,zIndex:1,width:y,height:_}).insertBefore(l)),l.fadeIn(500),u&&(u.remove(),u=null),v=r.outerWidth()/f.width*l.width(),b=r.outerHeight()/f.height*l.height(),u=n.append(t("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",v,b)).find(":last"),c.css("cursor",u.css("cursor"));var T=!1;i.tint&&(u.css("background",'url("'+o.attr("src")+'")'),d=n.append(t('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',r.outerWidth(),r.outerHeight(),i.tint)).find(":last"),d.css("opacity",i.tintOpacity),T=!0,d.fadeIn(500)),i.softFocus&&(u.css("background",'url("'+o.attr("src")+'")'),h=n.append(t('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',r.outerWidth()-2,r.outerHeight()-2,i.tint)).find(":last"),h.css("background",'url("'+o.attr("src")+'")'),h.css("opacity",.5),T=!0,h.fadeIn(500)),T||u.css("opacity",i.lensOpacity),"inside"!==i.position&&u.fadeIn(500),O.controlLoop()},250)})},s=new Image,e(s).load(function(){I.init2(this,0)}),s.src=o.attr("src"),a=new Image,e(a).load(function(){I.init2(this,1)}),a.src=n.attr("href")}e.fn.CloudZoom=function(t){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}return this.each(function(){var i,o=e(this);if(o.is(".cloud-zoom")){o.css({position:"relative",display:"block"}),e("img",o).css({display:"block"}),"cloudzoom-wrap"!=e(this).parent().attr("id")&&e(this).wrap('<div id="cloudzoom-wrap" style="top:0px;position:relative;"></div>'),i=e.extend({},e.fn.CloudZoom.defaults,t);var r={adjustX:"int",adjustY:"int",zoomWidth:"int",zoomHeight:"int",position:"string",tint:"string",tintOpacity:"float",lensOpacity:"float",softFocus:"bool",smoothMove:"int",showTitle:"bool",titleOpacity:"float"};for(var s in r){var a=e(this).attr("data-"+s);if(a)switch(r[s]){case"int":case"float":i[s]=Number(a);break;case"bool":i[s]=Boolean(a);break;case"string":default:i[s]=a}}e(this).data("zoom",new n(e(this),i))}else e(this).is(".cloud-zoom-gallery")&&(i=e.extend({},{useZoom:e(this).attr("data-zoom-id"),smallImage:e(this).attr("data-small-image")},t),e(this).data("relOpts",i),e(this).bind("click",e(this),function(t){var n=t.data,o=n.data("relOpts"),r=e("#"+o.useZoom+" div.wsite-show").add("#"+o.useZoom+" div.wsite-show-init");return e("#"+o.useZoom).data("zoom").destroy(),e("#"+o.useZoom).attr("href",n.attr("href")),e("#"+o.useZoom+" img").attr("src",o.smallImage),e("#"+o.useZoom).CloudZoom(i),!1}))}),this},e.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0}}(e)}).call(t,n(1))},function(e,t,n){var i,o;i=[],o=function e(){function t(){!function(e,t,n,i,o,r,s,a){return n in e&&e.console&&e.console.log?void e.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):(s=e[n]=function(e,t){s.q?s.q.push([e,t]):s._api(e,t)},s.q=[],r=t.createElement(i),r.async=1,r.src="https://"+_fs_host+"/s/fs.js",a=t.getElementsByTagName(i)[0],a.parentNode.insertBefore(r,a),s.identify=function(e,t){s(o,{uid:e}),t&&s(o,t)},s.setUserVars=function(e){s(o,e)},s.identifyAccount=function(e,t){r="account",t=t||{},t.acctId=e,s(r,t)},void(s.clearUserCookie=function(e,n,i){if(!e||document.cookie.match("fs_uid=[`;`]*`[`;`]*`[`;`]*`"))for(n=t.domain;;){if(t.cookie="fs_uid=;domain="+n+";path=/;expires="+new Date(0).toUTCString(),i=n.indexOf("."),i<0)break;n=n.slice(i+1)}}))}(window,document,window._fs_namespace,"script","user")}return t}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){(function(e){!function(e){var t;return e.event.fix=function(e){return function(t){return t=e.apply(this,arguments),
0!==t.type.indexOf("copy")&&0!==t.type.indexOf("paste")||(t.clipboardData=t.originalEvent.clipboardData),t}}(e.event.fix),t={callback:e.noop,matchType:/image.*/},e.fn.pasteImageReader=function(n){return"function"==typeof n&&(n={callback:n}),n=e.extend({},t,n),this.each(function(){var t,i;return i=this,t=e(this),t.bind("paste",function(e){var t,o;if(o=!1,t=!!e.clipboardData&&e.clipboardData,t!==!1)return Array.prototype.forEach.call(t.types,function(e,r){var s,a;if(!o)return e.match(n.matchType)||t.items[r].type.match(n.matchType)?(s=t.items[r].getAsFile(),a=new FileReader,a.onload=function(e){return n.callback.call(i,{dataURL:e.target.result,event:e,file:s,name:s.name})},a.readAsDataURL(s),o=!0):void 0})})})}}(e)}).call(t,n(1))},function(e,t,n){(function(e){!function(e,t,n){var i=function(i,r){var s=0,a=0,l="",c=0,u=!1,d=!1,h=!1,p=0,f=0,m=0,g=0,v=0,b=0,w=0,y=e(),_=0,E=0,T=!1,C=!1,S=e('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),I=e(),O={top:0,bottom:0,custom:[]},D,x={scrollHide:!1,lazyHeight:0,topMargin:"auto",keepInWrapper:!1,wrapperSelector:"",zIndex:99,syncPosition:!1,scrollContainer:!1,topOffset:0},k=function(){return"auto"===x.topMargin?parseInt(y.css("marginTop")):isNaN(x.topMargin)&&x.topMargin.search("px")>0?parseInt(x.topMargin.replace("px","")):isNaN(parseInt(x.topMargin))?0:parseInt(x.topMargin)},R=function(){S.remove(),y.removeClass("w-navbar-stuck").css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""}),u=!1,d=!1,h=!1,x.syncPosition&&B()},P=function(e){y.before(S.css("height",f));var t=S.offsetParent();if(e){y.css({position:"absolute"});var n=I.offset().top+I.outerHeight()-t.offset().top-m-parseInt(I.css("paddingBottom"))}y.css({position:"absolute",marginTop:_,bottom:"",left:S.position().left,top:e?n:y.offset().top-t.offset().top-_})},A=function(){u=!0,y.before(S.css("height",f)),y.addClass("w-navbar-stuck");var e=-E;y.css({marginTop:_,position:"fixed",top:e+"px",left:"",right:"",bottom:""})},N=function(){y.before(S.css("height",f)),y.addClass("w-navbar-stuck");var e=-E;y.css({marginTop:_,position:"fixed",top:"",left:"",right:"",bottom:e})},M=function(){S.width()!==y.outerWidth()&&y.outerWidth(S.outerWidth())},L=function(){D=S.offset().left,D!==y.offset().left,y.offset({left:D})},B=function(){S.css({"margin-left":y.css("margin-left"),"margin-right":y.css("margin-left")}),y.css({"margin-left":S.css("margin-left"),"margin-right":S.css("margin-right")})},K=function(i){if(a=e(i.target).scrollTop(),l=a>=s?"down":"up",c=Math.abs(s-a),g=e(t).outerHeight(),v=a+g,s=a,b=y.offset().top,p=parseInt(y.outerHeight()+_)+parseInt(y.css("marginBottom")),x.scrollContainer&&!u&&(b.top+=a),u||h||d||(f=parseInt(y.outerHeight(!0)),d||h?O.top=parseInt(S.offset().top):O.top=parseInt(y.offset().top),D=parseInt(y.offset().left)+5),x.scrollContainer&&!u&&(O.top+=a),m=parseInt(y.outerHeight())+parseInt(y.css("margin-bottom"))+_,x.keepInWrapper?O.bottom=I.offset().top+I.outerHeight()-parseInt(I.css("paddingBottom")):O.bottom=e(n).outerHeight(),w=y.offset().top+m,p>g)C=!0,T&&(P(),T=!1),h&&"up"===l&&a<=b-_&&(A(),u=!0,d=!1,h=!1),!u&&!d&&(!x.keepInWrapper||x.keepInWrapper&&v<=O.bottom)&&v>=w-_&&(N(),d=!0,u=!0,h=!1),(!h&&u&&d&&"up"===l||!h&&u&&!d&&"down"===l&&w>=v)&&(P(),u=!1,d=!1,h=!0),v>=O.bottom&&x.keepInWrapper&&(!d&&!h||parseInt(w-_)!==parseInt(O.bottom))&&(P(!0),u=!1,d=!0,h=!0);else{if(T=!0,C&&(P(),C=!1),E=x.scrollHide?p+x.lazyHeight:+x.lazyHeight,u){var o=parseInt(y.css("top"));if("up"===l&&0!==o){var r=c>-o?0:o+c;y.css("top",r+"px")}else if("down"===l&&o>-E){var r=c>E+o?-E:o-c;y.css("top",r+"px")}}(!u&&!d&&a>=O.top-_+E||d&&h&&a<=b-_+E)&&(A(),u=!0,d=!1,h=!1),x.keepInWrapper&&parseInt(w-_)!==parseInt(O.bottom)&&a>=O.bottom-m+E&&(P(!0),u=!1,d=!0,h=!0)}(u||h||d)&&a<=O.top-_&&R(),(u||h||d)&&M(),(x.syncPosition&&u||h)&&L()},F=function(e){h&&P(),x.scrollContainer&&(e.target=x.scrollContainer),K(e)},H=function(i,r){y=e(i),r&&e.extend(!0,x,r),y.hasClass("stuckElement")&&o(i,r),y.addClass("stuckElement"),_=null!=x.topMargin?k():0,x.lazyHeight&&(_+=x.lazyHeight),x.keepInWrapper?(""!==x.wrapperSelector&&(I=y.closest(x.wrapperSelector)),I.length||(I=y.offsetParent())):I=e("body"),x.zIndex&&y.css("z-index",x.zIndex),L&&B(),x.scrollContainer?e(x.scrollContainer).on("scroll.stickUp",K):e(n).on("scroll.stickUp",K),e(t).on("resize.stickUp",F),K({target:r.scrollContainer?x.scrollContainer:n})};H.call(this,i,r)},o=function(i,o){o.scrollContainer?(e(o.scrollContainer).scrollTop(0).trigger("scroll.stickUp"),e(o.scrollContainer).off("scroll.stickUp")):(e(n).scrollTop(0).trigger("scroll.stickUp"),e(n).off("scroll.stickUp")),e(i).removeClass("stuckElement"),e(t).off("resize.stickUp")};e.fn.stickUp=function(e){return this.each(function(){new i(this,e)})},e.fn.removeStickUp=function(e){o(this,e)}}(e,window,document)}).call(t,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){Weebly.TimingTest={send:function(e,t,n){new Ajax.Request(ajax,{parameters:{pos:"speedtest",test:e,req_time:t,js_time:n,cookie:document.cookie,token:Weebly.RequestToken},bgRequest:!0,failSilently:!0})}},e.exports=Weebly.TimingTest},function(e,t,n){(function(t){e.exports=t.platformElementRequire=n(736)}).call(t,function(){return this}())},function(e,t,n){(function(t){e.exports=t.require=n(698)}).call(t,function(){return this}())},function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_$){window.Weebly=window.Weebly||{},window.settingAnimations=0,window.settingQuickExport=0,window.settingTooltips=0,window.uploadInProgress=0,window.exiting=0,window.ajax="/weebly/getElements.php",window.ajaxStatusCheckTimeout=4e3,window.ajaxStatusTimeoutGrowthFactor=1,window.Weebly.ajaxLog=[],window.onbeforeunload=function(){window.exiting=1},window.jQuery.ajaxPrefilter(function(e,t,n){var i=/\/(weebly|editor)\/getElements\.php(\?.*)?$/;if(i.test(e.url))if(n.setRequestHeader("X-CSRF-TOKEN",window.Weebly.CSRFRequestToken),t.data)if("object"==typeof t.data)e.data=window.jQuery.param(window.jQuery.extend(t.data,{_csrf:window.Weebly.CSRFRequestToken}));else try{var o=JSON.parse(t.data);o instanceof Array?e.data=JSON.stringify(o.each(function(e){window.jQuery.extend(e,{_csrf:window.Weebly.CSRFRequestToken})})):e.data=JSON.stringify(window.jQuery.extend(o,{_csrf:window.Weebly.CSRFRequestToken}))}catch(t){if(!(t instanceof SyntaxError))throw t;e.data+="&_csrf="+window.Weebly.CSRFRequestToken}else e.data=JSON.stringify({_csrf:window.Weebly.CSRFRequestToken})}),window.myGlobalHandlers={onCreate:function(e,t){t.request.times={start:(new Date).getTime()},e.options.bgRequest||window.startWait(),e.parameters&&e.parameters.pos&&(window.Weebly.ajaxLog.push(e.parameters.pos),window.Weebly.ajaxLog.size()>10&&window.Weebly.ajaxLog.shift()),e.options.requestHeaders=e.options.requestHeaders||{};var n=/\/(weebly|editor)\/getElements\.php(\?.*)?$/;if(n.test(e.url)&&(e.options.requestHeaders["X-CSRF-TOKEN"]=window.Weebly.CSRFRequestToken,e.url+=(e.url.include("?")?"&":"?")+"_csrf="+window.Weebly.CSRFRequestToken),"undefined"!=typeof currentSite&&(e.options.requestHeaders["Weebly-Site-ID"]=window.currentSite),!e.options.requestHeaders["x-ajax-request-id"]){var i=(new Date).getTime()+""+Math.floor(999*Math.random());e.options.requestHeaders["x-ajax-request-id"]=i}e.options.isRetry&&e.options.previouslyAborted&&(e.options.requestHeaders["x-ajax-abort-retry"]=window.ajaxStatusCheckTimeout),e.options.isRetry||window.Prototype.Browser.IE6||setTimeout(function(){window.checkAjaxRequestStatus(e)},window.ajaxStatusCheckTimeout)},onLoading:function(e,t){t.request.times&&t.request.times.start&&(t.request.times.initialized=(new Date).getTime()-t.request.times.start)},onLoaded:function(e,t){t.request.times&&t.request.times.start&&(t.request.times.sent=(new Date).getTime()-t.request.times.start,e.options.isRetry&&t.request.times.sent>window.ajaxStatusCheckTimeout/2&&(window.ajaxStatusCheckTimeout=window.ajaxStatusCheckTimeout+window.ajaxStatusCheckTimeout*window.ajaxStatusTimeoutGrowthFactor,window.ajaxStatusTimeoutGrowthFactor=.9*window.ajaxStatusTimeoutGrowthFactor))},onInteractive:function(e,t){t.request.times&&t.request.times.start&&!t.request.times.response&&(t.request.times.response=(new Date).getTime()-t.request.times.start)},onComplete:function(e,t){return 0!=t.status||e.aborted?(t.request.times&&t.request.times.start&&(t.request.times.end=(new Date).getTime(),t.request.times.complete=t.request.times.end-t.request.times.start),e.options.bgRequest||window.endWait(),void(e.isRetriable()?e.retry():window.handleLogout(t,e))):(window.retriableErrFunc(e,t),!1)},onException:window.endWait},window.Ajax&&window.Ajax.Responders.register(window.myGlobalHandlers),window.startWait=function(e,t){try{e=e||window._W.utl("html.weebly.libraries.weebly_utils_ajax_1"),window.pushLoading(),window.jQuery("#pleaseWait").toggleClass("no-delay",!!t).find(".loading-text").text(e)}catch(e){}},window.endWait=function(){var e;try{window.popLoading(),e=window.jQuery("#pleaseWait").find(".loading-text").text(window._W.utl("html.weebly.libraries.weebly_utils_ajax_2"))}catch(e){}},window.setSetting=function(setting,value){"string"==typeof value&&value.match(/{/)&&(value=value.replace(/^'/,""),value=value.replace(/'$/,"")),eval(setting+" = "+value+";")},window.handleLogout=function(e,t){var n;try{n=e.getHeader("Weebly-Auth-Msg")}catch(e){}if(n=n||"",n.match("not-logged-in"))window.onbeforeunload=null,document.location="/?session-expired=1";else if(n.match("database-error"))window.retriableErrFunc(t,e,n);else if(n.match("query-error"))window.retriableErrFunc(t,e,n);else if(n.match("account-deleted"))window.onbeforeunload=null,document.location="logout.php";else if(n.match("refresh-build"))"undefined"!=typeof currentBlog&&window.currentBlog.postId&&1==window.currentBlog.postId||(window.onbeforeunload=null,window.refreshMe());else if(n.match("maintenance-soon")){var i=n.match(/maintenance-soon\(([^\)]+)\)/);window.onbeforeunload=null,window.maintenanceSoon(i[1])}},window.maintenanceSoon=function(e){__webpack_provided_window_dot_$("maintenanceLength").innerHTML=e,Element.show("maintenanceDiv")},window.refreshMe=function(){Element.show("refreshingDiv"),Element.show("grayedOut"),setTimeout("window.location.reload();",4e3)},window.retriableErrFunc=function(e,t,n){window.endWait(),e.options.failSilently||window.exiting||(0==t.status?window.showRetriableError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_3"),e,!1):n.match("database-error")?window.showRetriableError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_4"),e,!1):n.match("query-error")&&window.showRetriableError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_5"),e,!0))},window.errFunc=function(e){e&&e.request&&e.request.isRetriable()||window.showError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_6"),e)},window.exceptionFunc=function(e,t,n){if(!e.isRetriable())if(e&&(!e.getStatus||!e.getStatus()||e.getStatus()<100||e.getStatus()>500))try{var i=e.options||{},o=i._retryCount||0;o<=1?(i._retryCount=++o,new window.Ajax.Request(e.url,i)):window.showError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_7")+t.message)}catch(e){}else if(window.console&&console.log)if("object"==typeof t)for(var r in t)"function"!=typeof t[r]&&console.log(r+": "+t[r]);else console.log(t)},window.checkAjaxRequestStatus=function(e){e._complete||!window.Prototype.Browser.IE||e.times.sent||e.abort()},window.Ajax&&window.Ajax.Request.addMethods({abort:function(){if(!this._complete){this.transport.onreadystatechange=window.Prototype.emptyFunction,this.transport.abort(),this._complete=!0,this.aborted=!0;var e=new window.Ajax.Response(this);["Abort","Complete"].each(function(t){try{(this.options["on"+t]||window.Prototype.emptyFunction)(e,e.headerJSON),window.Ajax.Responders.dispatch("on"+t,this,e,e.headerJSON)}catch(e){this.dispatchException(e)}},this)}},retry:function(e){if(e||this.isRetriable()){var t=this.options||{};t._retryCount=(t._retryCount||0)+1,t.isRetry=!0,t.previouslyAborted=!!this.aborted,new window.Ajax.Request(this.url,t)}},isRetriable:function(){if(!this._complete)return!1;var e=this.getStatus(),t=this.options||{},n=t.maxRetries||1,i=t._retryCount||0;return(408==e||e>1e4||this.aborted)&&i<n}})}).call(exports,__webpack_require__(22))},function(e,t,n){var i=n(1);!function(e){e.Event.prototype.stop=function(){this.preventDefault(),this.stopPropagation()},e.fn.extend({getValue:function(){var e=this;return"checkbox"===e.attr("type")||"radio"===e.attr("type")?e.prop("checked"):e.is(":input")?e.val():e.html()},setValue:function(e){var t=this;return"checkbox"===t.attr("type")||"radio"===t.attr("type")?t.prop("checked",!!e):t.is(":input")?t.val(null==e||void 0==e?"":e):t.html("string"==typeof e?e:""),t},getValues:function(t){t=t||"";var n={};return this.find(":input,.input").each(function(){var i=e(this),o=i.attr("name")||i.attr("id");o&&0===o.indexOf(t)&&(o=o.substring(t.length),n[o]=i.getValue())}),n},setValues:function(t,n){n=n||"";var i,o;return this.find(":input,.input").each(function(){var i=e(this),o=i.attr("name")||i.attr("id");o&&0===o.indexOf(n)&&(o=o.substring(n.length),i.setValue(t[o]))}),this},equals:function(e){return this.data()===e.data()},padInput:function(t){var n,i="auto",o="auto";return t=t||"all",this.each(function(r,s){n=e(s),"ns"!==t&&"all"!==t||(i=Math.floor((n.parent().height()-n.height())/2)),"ew"!==t&&"all"!==t||(o=Math.floor((n.parent().width()-n.width())/2)),n.css({"padding-top":i,"padding-right":o,"padding-bottom":i,"padding-left":o})}),this}})}(i),"undefined"==typeof JSON&&(JSON={stringify:Object.toJSON,parse:function(e){return(e||"").evalJSON()}}),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){var i=Array.prototype.slice.call(arguments);return t.apply(e,n.concat(i))}}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0,i=this.length;n<i;++n)n in this&&e.call(t,this[n],n,this)}),Array.prototype.find||(Array.prototype.find=function(e,t){for(var n=0,i=this.length;n<i;++n){var o=this[n];if(e.call(t,o))return o}return null}),Array.prototype.push||(Array.prototype.push=function(e){this[this.length]=e}),Object.defineProperty(Array.prototype,"remove",{value:function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n)},enumerable:!1,configurable:!0}),String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})}},function(e,t){e.exports=[{name:"json.countries.USA",cca2:"US",cca3:"USA",currency:"USD,USN,USS",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.CAN",cca2:"CA",cca3:"CAN",currency:"CAD",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.GBR",cca2:"GB",cca3:"GBR",currency:"GBP",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.AFG",cca2:"AF",cca3:"AFG",currency:"AFN",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.ALA",cca2:"AX",cca3:"ALA",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.ALB",cca2:"AL",cca3:"ALB",currency:"ALL",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.DZA",cca2:"DZ",cca3:"DZA",currency:"DZD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.ASM",cca2:"AS",cca3:"ASM",currency:"USD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.AND",cca2:"AD",cca3:"AND",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.AGO",cca2:"AO",cca3:"AGO",currency:"AOA",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.AIA",cca2:"AI",cca3:"AIA",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.ATA",exclude:!0,cca2:"AQ",cca3:"ATA",shippingRegion:"ANTARCTICA",region:"json.regions.antarctica"},{name:"json.countries.ATG",cca2:"AG",cca3:"ATG",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.ARG",cca2:"AR",cca3:"ARG",currency:"ARS",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.ARM",cca2:"AM",cca3:"ARM",currency:"AMD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.ABW",cca2:"AW",cca3:"ABW",currency:"AWG",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.AUS",cca2:"AU",cca3:"AUS",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.AUT",cca2:"AT",cca3:"AUT",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.AZE",cca2:"AZ",cca3:"AZE",currency:"AZN",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.BHS",cca2:"BS",cca3:"BHS",currency:"BSD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.BHR",cca2:"BH",cca3:"BHR",currency:"BHD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.BGD",cca2:"BD",cca3:"BGD",currency:"BDT",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.BRB",cca2:"BB",cca3:"BRB",currency:"BBD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.BLR",cca2:"BY",cca3:"BLR",currency:"BYR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.BEL",cca2:"BE",cca3:"BEL",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.BLZ",cca2:"BZ",cca3:"BLZ",currency:"BZD",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.BEN",cca2:"BJ",cca3:"BEN",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.BMU",cca2:"BM",cca3:"BMU",currency:"BMD",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.BTN",cca2:"BT",cca3:"BTN",currency:"BTN,INR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.BOL",cca2:"BO",cca3:"BOL",currency:"BOB,BOV",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.BES",exclude:!0,cca2:"BQ",cca3:"BES",currency:"USD",shippingRegion:"CARIBBEAN",region:"json.regions.caribbean"},{name:"json.countries.BIH",cca2:"BA",cca3:"BIH",currency:"BAM",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.BWA",cca2:"BW",cca3:"BWA",currency:"BWP",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.BRA",cca2:"BR",cca3:"BRA",currency:"BRL",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.IOT",cca2:"IO",cca3:"IOT",currency:"USD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.BRN",cca2:"BN",cca3:"BRN",currency:"BND",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.BGR",cca2:"BG",cca3:"BGR",currency:"BGN",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.BFA",cca2:"BF",cca3:"BFA",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.BDI",cca2:"BI",cca3:"BDI",currency:"BIF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.KHM",cca2:"KH",cca3:"KHM",currency:"KHR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.CMR",cca2:"CM",cca3:"CMR",currency:"XAF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.CPV",cca2:"CV",cca3:"CPV",currency:"CVE",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.CYM",cca2:"KY",cca3:"CYM",currency:"KYD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.CAF",cca2:"CF",cca3:"CAF",currency:"XAF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.TCD",cca2:"TD",cca3:"TCD",currency:"XAF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.CHL",cca2:"CL",cca3:"CHL",currency:"CLF,CLP",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.CHN",cca2:"CN",cca3:"CHN",currency:"CNY",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.CXR",cca2:"CX",cca3:"CXR",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.CCK",cca2:"CC",cca3:"CCK",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.COL",cca2:"CO",cca3:"COL",currency:"COP,COU",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.COM",cca2:"KM",cca3:"COM",currency:"KMF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.COG",cca2:"CG",cca3:"COG",currency:"XAF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.COD",cca2:"CD",cca3:"COD",currency:"CDF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.COK",cca2:"CK",cca3:"COK",currency:"NZD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.CRI",cca2:"CR",cca3:"CRI",currency:"CRC",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.CIV",cca2:"CI",cca3:"CIV",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.HRV",cca2:"HR",cca3:"HRV",currency:"HRK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.CUB",exclude:!0,cca2:"CU",cca3:"CUB",currency:"CUC,CUP",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.CUW",cca2:"CW",cca3:"CUW",currency:"ANG",shippingRegion:"CARIBBEAN",region:"json.regions.world"},{name:"json.countries.CYP",cca2:"CY",cca3:"CYP",currency:"EUR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.CZE",cca2:"CZ",cca3:"CZE",currency:"CZK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.DNK",cca2:"DK",cca3:"DNK",currency:"DKK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.DJI",cca2:"DJ",cca3:"DJI",currency:"DJF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.DMA",cca2:"DM",cca3:"DMA",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.DOM",cca2:"DO",cca3:"DOM",currency:"DOP",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.ECU",cca2:"EC",cca3:"ECU",currency:"USD",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.EGY",cca2:"EG",cca3:"EGY",currency:"EGP",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SLV",cca2:"SV",cca3:"SLV",currency:"SVC,USD",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.GNQ",cca2:"GQ",cca3:"GNQ",currency:"XAF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.ERI",cca2:"ER",cca3:"ERI",currency:"ERN",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.EST",cca2:"EE",cca3:"EST",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.ETH",cca2:"ET",cca3:"ETH",currency:"ETB",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.FLK",cca2:"FK",cca3:"FLK",currency:"FKP",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.FRO",cca2:"FO",cca3:"FRO",currency:"DKK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.FJI",cca2:"FJ",cca3:"FJI",currency:"FJD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.FIN",cca2:"FI",cca3:"FIN",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.FRA",cca2:"FR",cca3:"FRA",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.GUF",exclude:!0,cca2:"GF",cca3:"GUF",currency:"EUR",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.PYF",cca2:"PF",cca3:"PYF",currency:"XPF",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.ATF",cca2:"TF",cca3:"ATF",currency:"EUR",shippingRegion:"ANTARCTICA",region:"json.regions.antarctica"},{name:"json.countries.GAB",cca2:"GA",cca3:"GAB",currency:"XAF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.GMB",cca2:"GM",cca3:"GMB",currency:"GMD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.GEO",cca2:"GE",cca3:"GEO",currency:"GEL",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.DEU",cca2:"DE",cca3:"DEU",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.GHA",cca2:"GH",cca3:"GHA",currency:"GHS",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.GIB",cca2:"GI",cca3:"GIB",currency:"GIP",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.GRC",cca2:"GR",cca3:"GRC",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.GRL",cca2:"GL",cca3:"GRL",currency:"DKK",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.GRD",cca2:"GD",cca3:"GRD",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.GLP",cca2:"GP",cca3:"GLP",currency:"EUR",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.GUM",cca2:"GU",cca3:"GUM",currency:"USD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.GTM",cca2:"GT",cca3:"GTM",currency:"GTQ",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.GGY",cca2:"GG",cca3:"GGY",currency:"GBP",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.GIN",cca2:"GN",cca3:"GIN",currency:"GNF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.GNB",cca2:"GW",cca3:"GNB",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.GUY",cca2:"GY",cca3:"GUY",currency:"GYD",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.HTI",cca2:"HT",cca3:"HTI",currency:"HTG,USD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.HMD",exclude:!0,cca2:"HM",cca3:"HMD",currency:"AUD",shippingRegion:"ANTARCTICA",region:"json.regions.antarctica"},{name:"json.countries.VAT",cca2:"VA",cca3:"VAT",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.HND",cca2:"HN",cca3:"HND",currency:"HNL",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.HKG",cca2:"HK",cca3:"HKG",currency:"HKD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.HUN",cca2:"HU",cca3:"HUN",currency:"HUF",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.ISL",cca2:"IS",cca3:"ISL",currency:"ISK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.IND",cca2:"IN",cca3:"IND",currency:"INR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.IDN",cca2:"ID",cca3:"IDN",currency:"IDR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.IRN",exclude:!0,cca2:"IR",cca3:"IRN",currency:"IRR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.IRQ",cca2:"IQ",cca3:"IRQ",currency:"IQD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.IRL",cca2:"IE",cca3:"IRL",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.IMN",cca2:"IM",cca3:"IMN",currency:"GBP",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.ISR",cca2:"IL",cca3:"ISR",currency:"ILS",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.ITA",cca2:"IT",cca3:"ITA",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.JAM",cca2:"JM",cca3:"JAM",currency:"JMD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.JPN",cca2:"JP",cca3:"JPN",currency:"JPY",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.JEY",cca2:"JE",cca3:"JEY",currency:"GBP",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.JOR",cca2:"JO",cca3:"JOR",currency:"JOD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.KAZ",cca2:"KZ",cca3:"KAZ",currency:"KZT",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.KEN",cca2:"KE",cca3:"KEN",currency:"KES",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.KIR",cca2:"KI",cca3:"KIR",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.KWT",cca2:"KW",cca3:"KWT",currency:"KWD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.KGZ",cca2:"KG",cca3:"KGZ",currency:"KGS",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.LAO",cca2:"LA",cca3:"LAO",currency:"LAK",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.LVA",cca2:"LV",cca3:"LVA",currency:"LVL",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.LBN",cca2:"LB",cca3:"LBN",currency:"LBP",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.LSO",cca2:"LS",cca3:"LSO",currency:"LSL,ZAR",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.LBR",cca2:"LR",cca3:"LBR",currency:"LRD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.LBY",cca2:"LY",cca3:"LBY",currency:"LYD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.LIE",cca2:"LI",cca3:"LIE",currency:"CHF",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.LTU",cca2:"LT",cca3:"LTU",currency:"LTL",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.LUX",cca2:"LU",cca3:"LUX",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.MAC",cca2:"MO",cca3:"MAC",currency:"MOP",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.MKD",cca2:"MK",cca3:"MKD",currency:"MKD",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.MDG",cca2:"MG",cca3:"MDG",currency:"MGA",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MWI",cca2:"MW",cca3:"MWI",currency:"MWK",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MYS",cca2:"MY",cca3:"MYS",currency:"MYR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.MDV",cca2:"MV",cca3:"MDV",currency:"MVR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.MLI",cca2:"ML",cca3:"MLI",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MLT",cca2:"MT",cca3:"MLT",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.MHL",cca2:"MH",cca3:"MHL",currency:"USD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.MTQ",cca2:"MQ",cca3:"MTQ",currency:"EUR",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.MRT",cca2:"MR",cca3:"MRT",currency:"MRO",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MUS",cca2:"MU",cca3:"MUS",currency:"MUR",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MYT",cca2:"YT",cca3:"MYT",currency:"EUR",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MEX",cca2:"MX",cca3:"MEX",currency:"MXN,MXV",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.FSM",cca2:"FM",cca3:"FSM",currency:"USD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.MDA",cca2:"MD",cca3:"MDA",currency:"MDL",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.MCO",cca2:"MC",cca3:"MCO",currency:"EUR",region:"json.regions.europe",
shippingRegion:"EUROPE"},{name:"json.countries.MNG",cca2:"MN",cca3:"MNG",currency:"MNT",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.MNE",cca2:"ME",cca3:"MNE",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.MSR",cca2:"MS",cca3:"MSR",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.MAR",cca2:"MA",cca3:"MAR",currency:"MAD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MOZ",cca2:"MZ",cca3:"MOZ",currency:"MZN",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.MMR",cca2:"MM",cca3:"MMR",currency:"MMK",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.NAM",cca2:"NA",cca3:"NAM",currency:"NAD,ZAR",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.NRU",cca2:"NR",cca3:"NRU",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.NPL",cca2:"NP",cca3:"NPL",currency:"NPR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.NLD",cca2:"NL",cca3:"NLD",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.NCL",cca2:"NC",cca3:"NCL",currency:"XPF",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.NZL",cca2:"NZ",cca3:"NZL",currency:"NZD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.NIC",cca2:"NI",cca3:"NIC",currency:"NIO",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.NER",cca2:"NE",cca3:"NER",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.NGA",cca2:"NG",cca3:"NGA",currency:"NGN",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.NIU",cca2:"NU",cca3:"NIU",currency:"NZD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.NFK",cca2:"NF",cca3:"NFK",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.PRK",exclude:!0,cca2:"KP",cca3:"PRK",currency:"KPW",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.MNP",cca2:"MP",cca3:"MNP",currency:"USD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.NOR",cca2:"NO",cca3:"NOR",currency:"NOK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.OMN",cca2:"OM",cca3:"OMN",currency:"OMR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.PAK",cca2:"PK",cca3:"PAK",currency:"PKR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.PLW",cca2:"PW",cca3:"PLW",currency:"USD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.PSE",exclude:!0,cca2:"PS",cca3:"PSE",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.PAN",cca2:"PA",cca3:"PAN",currency:"PAB,USD",region:"json.regions.centralamerica",shippingRegion:"CENTRALAMERICA"},{name:"json.countries.PNG",cca2:"PG",cca3:"PNG",currency:"PGK",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.PRY",cca2:"PY",cca3:"PRY",currency:"PYG",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.PER",cca2:"PE",cca3:"PER",currency:"PEN",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.PHL",cca2:"PH",cca3:"PHL",currency:"PHP",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.PCN",cca2:"PN",cca3:"PCN",currency:"NZD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.POL",cca2:"PL",cca3:"POL",currency:"PLN",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.PRT",cca2:"PT",cca3:"PRT",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.PRI",cca2:"PR",cca3:"PRI",currency:"USD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.QAT",cca2:"QA",cca3:"QAT",currency:"QAR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.REU",cca2:"RE",cca3:"REU",currency:"EUR",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.ROU",cca2:"RO",cca3:"ROU",currency:"RON",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.RUS",cca2:"RU",cca3:"RUS",currency:"RUB",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.RWA",cca2:"RW",cca3:"RWA",currency:"RWF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.BLM",cca2:"BL",cca3:"BLM",currency:"EUR",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.SHN",cca2:"SH",cca3:"SHN",currency:"SHP",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.KNA",cca2:"KN",cca3:"KNA",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.LCA",cca2:"LC",cca3:"LCA",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.MAF",cca2:"MF",cca3:"MAF",currency:"EUR",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.SPM",cca2:"PM",cca3:"SPM",currency:"EUR",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.VCT",cca2:"VC",cca3:"VCT",currency:"XCD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.WSM",cca2:"WS",cca3:"WSM",currency:"WST",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.SMR",cca2:"SM",cca3:"SMR",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.STP",cca2:"ST",cca3:"STP",currency:"STD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SAU",cca2:"SA",cca3:"SAU",currency:"SAR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.SEN",cca2:"SN",cca3:"SEN",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SRB",cca2:"RS",cca3:"SRB",currency:"RSD",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.SYC",cca2:"SC",cca3:"SYC",currency:"SCR",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SLE",cca2:"SL",cca3:"SLE",currency:"SLL",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SGP",cca2:"SG",cca3:"SGP",currency:"SGD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.SXM",cca2:"SX",cca3:"SXM",currency:"ANG",shippingRegion:"CARIBBEAN",region:"json.regions.caribbean"},{name:"json.countries.SVK",cca2:"SK",cca3:"SVK",currency:"XSU",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.SVN",cca2:"SI",cca3:"SVN",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.SLB",cca2:"SB",cca3:"SLB",currency:"EUR",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.SOM",cca2:"SO",cca3:"SOM",currency:"SBD",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.ZAF",cca2:"ZA",cca3:"ZAF",currency:"SOS",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SGS",cca2:"GS",cca3:"SGS",currency:"ZAR",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.KOR",cca2:"KR",cca3:"KOR",currency:"KRW",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.SSD",cca2:"SS",cca3:"SSD",currency:"SSP",shippingRegion:"AFRICA",region:"json.regions.africa"},{name:"json.countries.ESP",cca2:"ES",cca3:"ESP",currency:"EUR",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.LKA",cca2:"LK",cca3:"LKA",currency:"LKR",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.SDN",exclude:!0,cca2:"SD",cca3:"SDN",currency:"SDG",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SUR",cca2:"SR",cca3:"SUR",currency:"SRD",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.SJM",exclude:!0,cca2:"SJ",cca3:"SJM",currency:"NOK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.SWZ",cca2:"SZ",cca3:"SWZ",currency:"SZL",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.SWE",cca2:"SE",cca3:"SWE",currency:"SEK",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.CHE",cca2:"CH",cca3:"CHE",currency:"CHE,CHF,CHW",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.SYR",exclude:!0,cca2:"SY",cca3:"SYR",currency:"SYP",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TWN",cca2:"TW",cca3:"TWN",currency:"TWD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TJK",cca2:"TJ",cca3:"TJK",currency:"TJS",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TZA",cca2:"TZ",cca3:"TZA",currency:"TZS",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.THA",cca2:"TH",cca3:"THA",currency:"THB",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TLS",cca2:"TL",cca3:"TLS",currency:"USD",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TGO",cca2:"TG",cca3:"TGO",currency:"XOF",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.TKL",cca2:"TK",cca3:"TKL",currency:"NZD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.TON",cca2:"TO",cca3:"TON",currency:"TOP",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.TTO",cca2:"TT",cca3:"TTO",currency:"TTD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.TUN",cca2:"TN",cca3:"TUN",currency:"TND",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.TUR",cca2:"TR",cca3:"TUR",currency:"TRY",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TKM",cca2:"TM",cca3:"TKM",currency:"TMT",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.TCA",cca2:"TC",cca3:"TCA",currency:"USD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.TUV",cca2:"TV",cca3:"TUV",currency:"AUD",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.UGA",cca2:"UG",cca3:"UGA",currency:"UGX",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.UKR",cca2:"UA",cca3:"UKR",currency:"UAH",region:"json.regions.europe",shippingRegion:"EUROPE"},{name:"json.countries.ARE",cca2:"AE",cca3:"ARE",currency:"AED",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.UMI",exclude:!0,cca2:"UM",cca3:"UMI",currency:"USD",region:"json.regions.northamerica",shippingRegion:"NORTHAMERICA"},{name:"json.countries.URY",cca2:"UY",cca3:"URY",currency:"UYI,UYU",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.UZB",cca2:"UZ",cca3:"UZB",currency:"UZS",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.VUT",cca2:"VU",cca3:"VUT",currency:"VUV",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.VEN",cca2:"VE",cca3:"VEN",currency:"VEF",region:"json.regions.southamerica",shippingRegion:"SOUTHAMERICA"},{name:"json.countries.VNM",cca2:"VN",cca3:"VNM",currency:"VND",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.VGB",cca2:"VG",cca3:"VGB",currency:"USD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.VIR",cca2:"VI",cca3:"VIR",currency:"USD",region:"json.regions.caribbean",shippingRegion:"CARIBBEAN"},{name:"json.countries.WLF",exclude:!0,cca2:"WF",cca3:"WLF",currency:"XPF",region:"json.regions.oceania",shippingRegion:"OCEANIA"},{name:"json.countries.ESH",exclude:!0,cca2:"EH",cca3:"ESH",currency:"MAD,DZD,MRO",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.YEM",cca2:"YE",cca3:"YEM",currency:"YER",region:"json.regions.asia",shippingRegion:"ASIA"},{name:"json.countries.ZMB",cca2:"ZM",cca3:"ZMB",currency:"ZMK",region:"json.regions.africa",shippingRegion:"AFRICA"},{name:"json.countries.ZWE",cca2:"ZW",cca3:"ZWE",currency:"ZWL",region:"json.regions.africa",shippingRegion:"AFRICA"}]},function(e,t){e.exports=[{abbreviation:"USD",symbol:"$",name:"json.currencies.USD.name",gateways:["PayPal","Stripe","AuthorizeNet","Square"],stripeCountries:["US","CA","UK","FR","NL","IE","BE","DE","ES","LU"]},{abbreviation:"EUR",symbol:"&euro;",name:"json.currencies.EUR.name",gateways:["PayPal","Stripe"],stripeCountries:["UK","FR","NL","IE","BE","DE","ES","LU"]},{abbreviation:"GBP",symbol:"&pound;",name:"json.currencies.GBP.name",gateways:["PayPal","Stripe"],stripeCountries:["UK","FR","NL","IE","BE","DE","ES","LU"]},{abbreviation:"JPY",symbol:"&yen;",name:"json.currencies.JPY.name",gateways:["PayPal"]},{abbreviation:"AUD",symbol:"A$",name:"json.currencies.AUD.name",gateways:["PayPal"]},{abbreviation:"CAD",symbol:"C$",name:"json.currencies.CAD.name",gateways:["PayPal","Stripe"],stripeCountries:["CA"]},{abbreviation:"NZD",symbol:"$",name:"json.currencies.NZD.name",gateways:["PayPal"]},{abbreviation:"CHF",symbol:"CHF",name:"json.currencies.CHF.name",gateways:["PayPal"]},{abbreviation:"HKD",symbol:"$",name:"json.currencies.HKD.name",gateways:["PayPal"]},{abbreviation:"SGD",symbol:"$",name:"json.currencies.SGD.name",gateways:["PayPal"]},{abbreviation:"SEK",symbol:"kr",name:"json.currencies.SEK.name",gateways:["PayPal"]},{abbreviation:"DKK",symbol:"kr",name:"json.currencies.DKK.name",gateways:["PayPal"]},{abbreviation:"PLN",symbol:"z&#322;",name:"json.currencies.PLN.name",gateways:["PayPal"]},{abbreviation:"NOK",symbol:"kr",name:"json.currencies.NOK.name",gateways:["PayPal"]},{abbreviation:"HUF",symbol:"Ft",name:"json.currencies.HUF.name",gateways:["PayPal"]},{abbreviation:"CZK",symbol:"K&#268;",name:"json.currencies.CZK.name",gateways:["PayPal"]},{abbreviation:"ILS",symbol:"&#8362;",name:"json.currencies.ILS.name",gateways:["PayPal"]},{abbreviation:"MXN",symbol:"Mex$",name:"json.currencies.MXN.name",gateways:["PayPal"]},{abbreviation:"MYR",symbol:"MYR",name:"json.currencies.MYR.name",gateways:["PayPal"]},{abbreviation:"BRL",symbol:"R$",name:"json.currencies.BRL.name",gateways:["PayPal"]},{abbreviation:"PHP",symbol:"&#8369;",name:"json.currencies.PHP.name",gateways:["PayPal"]},{abbreviation:"RUB",symbol:"&#8381;",name:"json.currencies.RUB.name",gateways:["PayPal"]},{abbreviation:"THB",symbol:"&#3647;",name:"json.currencies.THB.name",gateways:["PayPal"]},{abbreviation:"TRY",symbol:"TL",name:"json.currencies.TRY.name",gateways:["PayPal"]},{abbreviation:"TWD",symbol:"NT$",name:"json.currencies.TWD.name",gateways:["PayPal"]}]},function(e,t){e.exports={US:[{name:"json.regions.US.AL",abbr:"AL"},{name:"json.regions.US.AK",abbr:"AK"},{name:"json.regions.US.AS",abbr:"AS"},{name:"json.regions.US.AZ",abbr:"AZ"},{name:"json.regions.US.AR",abbr:"AR"},{name:"json.regions.US.CA",abbr:"CA"},{name:"json.regions.US.CO",abbr:"CO"},{name:"json.regions.US.CT",abbr:"CT"},{name:"json.regions.US.DE",abbr:"DE"},{name:"json.regions.US.DC",abbr:"DC"},{name:"json.regions.US.FM",abbr:"FM"},{name:"json.regions.US.FL",abbr:"FL"},{name:"json.regions.US.GA",abbr:"GA"},{name:"json.regions.US.GU",abbr:"GU"},{name:"json.regions.US.HI",abbr:"HI"},{name:"json.regions.US.ID",abbr:"ID"},{name:"json.regions.US.IL",abbr:"IL"},{name:"json.regions.US.IN",abbr:"IN"},{name:"json.regions.US.IA",abbr:"IA"},{name:"json.regions.US.KS",abbr:"KS"},{name:"json.regions.US.KY",abbr:"KY"},{name:"json.regions.US.LA",abbr:"LA"},{name:"json.regions.US.ME",abbr:"ME"},{name:"json.regions.US.MH",abbr:"MH"},{name:"json.regions.US.MD",abbr:"MD"},{name:"json.regions.US.MA",abbr:"MA"},{name:"json.regions.US.MI",abbr:"MI"},{name:"json.regions.US.MN",abbr:"MN"},{name:"json.regions.US.MS",abbr:"MS"},{name:"json.regions.US.MO",abbr:"MO"},{name:"json.regions.US.MT",abbr:"MT"},{name:"json.regions.US.NE",abbr:"NE"},{name:"json.regions.US.NV",abbr:"NV"},{name:"json.regions.US.NH",abbr:"NH"},{name:"json.regions.US.NJ",abbr:"NJ"},{name:"json.regions.US.NM",abbr:"NM"},{name:"json.regions.US.NY",abbr:"NY"},{name:"json.regions.US.NC",abbr:"NC"},{name:"json.regions.US.ND",abbr:"ND"},{name:"json.regions.US.MP",abbr:"MP"},{name:"json.regions.US.OH",abbr:"OH"},{name:"json.regions.US.OK",abbr:"OK"},{name:"json.regions.US.OR",abbr:"OR"},{name:"json.regions.US.PW",abbr:"PW"},{name:"json.regions.US.PA",abbr:"PA"},{name:"json.regions.US.PR",abbr:"PR"},{name:"json.regions.US.RI",abbr:"RI"},{name:"json.regions.US.SC",abbr:"SC"},{name:"json.regions.US.SD",abbr:"SD"},{name:"json.regions.US.TN",abbr:"TN"},{name:"json.regions.US.TX",abbr:"TX"},{name:"json.regions.US.UT",abbr:"UT"},{name:"json.regions.US.VT",abbr:"VT"},{name:"json.regions.US.VI",abbr:"VI"},{name:"json.regions.US.VA",abbr:"VA"},{name:"json.regions.US.WA",abbr:"WA"},{name:"json.regions.US.WV",abbr:"WV"},{name:"json.regions.US.WI",abbr:"WI"},{name:"json.regions.US.WY",abbr:"WY"}],CA:[{name:"json.regions.CA.AB",abbr:"AB"},{name:"json.regions.CA.BC",abbr:"BC"},{name:"json.regions.CA.MB",abbr:"MB"},{name:"json.regions.CA.NB",abbr:"NB"},{name:"json.regions.CA.NL",abbr:"NL"},{name:"json.regions.CA.NT",abbr:"NT"},{name:"json.regions.CA.NS",abbr:"NS"},{name:"json.regions.CA.NU",abbr:"NU"},{name:"json.regions.CA.ON",abbr:"ON"},{name:"json.regions.CA.PE",abbr:"PE"},{name:"json.regions.CA.QC",abbr:"QC"},{name:"json.regions.CA.SK",abbr:"SK"},{name:"json.regions.CA.YT",abbr:"YT"}],BR:[{name:"json.regions.BR.AC",abbr:"AC"},{name:"json.regions.BR.AL",abbr:"AL"},{name:"json.regions.BR.AP",abbr:"AP"},{name:"json.regions.BR.AM",abbr:"AM"},{name:"json.regions.BR.BA",abbr:"BA"},{name:"json.regions.BR.CE",abbr:"CE"},{name:"json.regions.BR.DF",abbr:"DF"},{name:"json.regions.BR.ES",abbr:"ES"},{name:"json.regions.BR.GO",abbr:"GO"},{name:"json.regions.BR.MA",abbr:"MA"},{name:"json.regions.BR.MT",abbr:"MT"},{name:"json.regions.BR.MS",abbr:"MS"},{name:"json.regions.BR.MG",abbr:"MG"},{name:"json.regions.BR.PA",abbr:"PA"},{name:"json.regions.BR.PB",abbr:"PB"},{name:"json.regions.BR.PR",abbr:"PR"},{name:"json.regions.BR.PE",abbr:"PE"},{name:"json.regions.BR.PI",abbr:"PI"},{name:"json.regions.BR.RJ",abbr:"RJ"},{name:"json.regions.BR.RN",abbr:"RN"},{name:"json.regions.BR.RS",abbr:"RS"},{name:"json.regions.BR.RO",abbr:"RO"},{name:"json.regions.BR.RR",abbr:"RR"},{name:"json.regions.BR.SC",abbr:"SC"},{name:"json.regions.BR.SP",abbr:"SP"},{name:"json.regions.BR.SE",abbr:"SE"},{name:"json.regions.BR.TO",abbr:"TO"}],AU:[{name:"json.regions.AU.VIC",abbr:"VIC"},{name:"json.regions.AU.NSW",abbr:"NSW"},{name:"json.regions.AU.SA",abbr:"SA"},{name:"json.regions.AU.NT",abbr:"NT"},{name:"json.regions.AU.WA",abbr:"WA"},{name:"json.regions.AU.TAS",abbr:"TAS"},{name:"json.regions.AU.ACT",abbr:"ACT"},{name:"json.regions.AU.QLD",abbr:"QLD"},{name:"json.regions.AU.JBT",abbr:"JBT"}],GB:[{name:"json.regions.GB.ENG",abbr:"ENG"},{name:"json.regions.GB.SCT",abbr:"SCT"},{name:"json.regions.GB.WLS",abbr:"WLS"},{name:"json.regions.GB.NIR",abbr:"NIR"}]}},function(e,t){e.exports={us:["com","net","org","co","shop","info","us"],outside:[{name:"ca","include-for":["CA"]},{name:"co.uk","include-for":["GB"]},{name:"com.au","include-for":["AU"]},{name:"nl","include-for":["NL"]},{name:"co.nz","include-for":["NZ"]},{name:"de","include-for":["DE"]},{name:"fr","include-for":["FR"]},{name:"es","include-for":["ES"]},{name:"eu","include-for":["NL","DE","FR","ES"]}],"no-whois-privacy":["us","eu","ca","co.uk","nl","de","fr","es","com.au","co.nz","com.br"],"no-domain-swap":["us","shop","ca","fr","eu","com.au","com.br"],"no-whois-update":["com.br","com.au"],"pricing-group":{co:"special","co.nz":"special","com.au":"au"}}},function(e,t){e.exports=[{code:"si",name:"json.weights.si.name",example:"json.weights.si.example",weight_suffix:"lb"},{code:"metric",name:"json.weights.metric.name",example:"json.weights.metric.example",weight_suffix:"kg"}]},,,,,,function(e,t){e.exports='<h1 class="published-ecom-feature-upsell__title">\n\t{{upsellToPlan}}\n</h1>\n\n<div class="published-ecom-feature-upsell__features">\n\t<p>\n\t\t{{#tl}}ecommerce.editor.store_demo.editor.currently_following_features_set{{/tl}}\n\t\t<ul>\n\t\t\t{{#features}}\n\t\t\t\t<li>{{.}}</li>\n\t\t\t{{/features}}\n\t\t</ul>\n\t</p>\n\t<p>\n\t\t{{#tl}}ecommerce.editor.store_demo.editor.enable_published_site_upgrade_plan{{/tl}}\n\t</p>\n\t<div class="published-ecom-feature-upsell__upgrade-btn-align">\n\t\t<a href="#" class="btn-flat btn-flat-primary js-upgrade-btn">\n\t\t\t{{#tl}}ecommerce.editor.store_demo.editor.upgrade{{/tl}}\n\t\t</a>\n\t</div>\n</div>\n'},,,,,function(e,t){e.exports="<p>{{{message}}}</p>\n"},function(e,t){e.exports="\n<div class='hovercontrol-wrap'>\n\t{{#isSection}}\n\t\t<div class='button'>\n\t\t\t<div class='main'>\n\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_7{{/tl}}\n\t\t\t</div>\n\t\t</div>\n\t{{/isSection}}\n\t{{^isSection}}\n\t\t<div class='button {{#showDropdown}}button-complex{{/showDropdown}}'>\n\t\t\t<div class='main'>\n\t\t\t\t{{#isSlideshow}}\n\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_1{{/tl}}\n\t\t\t\t{{/isSlideshow}}\n\t\t\t\t{{^isSlideshow}}\n\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_2{{/tl}}\n\t\t\t\t{{/isSlideshow}}\n\t\t\t</div>\n\t\t\t{{#showDropdown}}\n\t\t\t\t<div class='expander'><div></div></div>\n\t\t\t{{/showDropdown}}\n\t\t</div>\n\t{{/isSection}}\n\t{{#showDropdown}}\n\t\t<div class='menu' style='display:none'>\n\t\t\t<div class='carrot'></div>\n\t\t\t<div class='inner'>\n\t\t\t\t<div class='item image'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_3{{/tl}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{#allowNewImage}}\n\t\t\t\t<div class='item new-image'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#tl}}templates.hovercontrol.new-image{{/tl}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{/allowNewImage}}\n\t\t\t\t{{#allowSlideshow}}\n\t\t\t\t<div class='item slideshow'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#hasSlideshowData}}\n\t\t\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_4{{/tl}}\n\t\t\t\t\t\t{{/hasSlideshowData}}\n\t\t\t\t\t\t{{^hasSlideshowData}}\n\t\t\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_5{{/tl}}\n\t\t\t\t\t\t{{/hasSlideshowData}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{/allowSlideshow}}\n\t\t\t\t{{#allowReset}}\n\t\t\t\t<div class='item reset'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#tl}}html.weebly.slideshow-editor.partial_3{{/tl}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{/allowReset}}\n\t\t\t</div>\n\t\t</div>\n\t{{/showDropdown}}\n</div>\n{{#allowPageTypes}}\n\t<div class='page-type-wrap'>\n\t\t<div class='expander'><div></div></div>\n\t\t<div class='menu' style='display:none'>\n\t\t\t<div class='carrot'></div>\n\t\t\t<div class='inner'>\n\t\t\t\t<div class='title'>{{#tl}}templates.hovercontrol.hover-controls_6{{/tl}}</div>\n\t\t\t\t<div class='items'>\n\t\t\t\t\t{{#pageTypes}}\n\t\t\t\t\t\t<div class='item {{className}}' data-page-type='{{name}}'>\n\t\t\t\t\t\t\t<div class='item-icon'></div>\n\t\t\t\t\t\t\t<div class='item-text'>{{title}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/pageTypes}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/allowPageTypes}}\n"},function(e,t){e.exports='<div class="has-blog-posts">\n\t<fieldset class="input-group el-options-url-group {{^currentPostTitle}}hidden{{/currentPostTitle}}">\n\t\t<div class="input-group__content">\n\t\t\t<div class="input-group__row">\n\t\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t\t<input type="text" class="current-post-input" value="{{currentPostTitle}}" readonly="readonly">\n\t\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.blog-post_3{{/tl}}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n\t<div class="blog-post-selector {{#currentPostTitle}}hidden{{/currentPostTitle}}">\n\t\t<div class="form-control form-control--search">\n\t\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.blog-post_4{{/tl}}" class="js-search">\n\t\t</div>\n\t\t<ul class="group group--flush group--search">\n\t\t\t<div class="blog-post-wrapper">\n\t\t\t</div>\n\t\t</ul>\n\t</div>\n\n\t{{^disableNewWindow}}\n\t\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t\t<input class="js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t\t{{#tl}}templates.editor.build.linker.blog-post_1{{/tl}}\n\t\t</label>\n\t{{/disableNewWindow}}\n</div>\n\n<div class="no-blog-posts hidden">\n\t<div class="empty">\n\t\t{{#tl}}templates.editor.build.linker.blog-post_2{{/tl}}<br>\n\t</div>\n</div>\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group js-input-wrapper">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="js-email-input" placeholder="name@domain.com" value="{{value}}">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.email_2{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<span class="input-group__invalid-text">{{#tl}}templates.editor.build.linker.email_1{{/tl}}</span>\n</fieldset>\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group {{^currentFileTitle}}hidden{{/currentFileTitle}}">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="current-file-input" value="{{currentFileTitle}}" readonly="readonly">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.file_3{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>\n\n<div class="file-selector {{#currentFileTitle}}hidden{{/currentFileTitle}}">\n\t<div class="form-control form-control--search">\n\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.file_4{{/tl}}" class="js-search">\n\t</div>\n\t<ul class="group group--flush group--search">\n\t\t<li class="group__item js-upload-file-container">\n\t\t\t<label class="form-control form-control--radio-check form-control--borderless js-upload-file">\n\t\t\t\t<span class="icon">plussmall</span>\n\t\t\t\t{{#tl}}templates.editor.build.linker.file_1{{/tl}}\n\t\t\t</label>\n\t\t</li>\n\t\t<div class="files-wrapper">\n\t\t</div>\n\t</ul>\n</div>\n\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class="js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.file_2{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group js-input-wrapper">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="js-phone-input" placeholder="{{#tl}}templates.editor.build.linker.phone-number_1{{/tl}}"  value="{{value}}">\n\t\t\t\t<button class="btn--link  action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.website-url_4{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>'},function(e,t){e.exports='{{#categories}}\n\t<li class="group__item js-categories">\n\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t<input class="js-store-page" type="checkbox" name="check" {{#checked}}checked{{/checked}} value="{{site_link}}">\n\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t<span class="js-name">{{name}}</span>\n\t\t</label>\n\t</li>\n{{/categories}}'},function(e,t){e.exports='{{#files}}\n\t<li class="{{#hiddenFile}}hidden{{/hiddenFile}} group__item">\n\t\t<label class="form-control form-control--radio-check form-control--borderless js-file"  data-hover-tip data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-text="{{cleanedLocation}}">\n\t\t\t<input type="radio" name="check" {{#checked}}checked{{/checked}} value="{{location}}">\n\t\t\t<span class="form-control__indicator"></span>\n\t\t\t{{shortenedLocation}} ({{size}})\n\t\t</label>\n\t</li>\n{{/files}}'},function(e,t){e.exports='{{#pages}}\n\t<li class="{{#hiddenPage}}is-hidden{{/hiddenPage}} group__item js-page" style="margin-left:{{margin}}px">\n\t\t<label class="form-control form-control--radio-check form-control--borderless {{#disabled}}is-disabled{{/disabled}}">\n\t\t\t<input type="{{#multi}}checkbox{{/multi}}{{^multi}}radio{{/multi}}" name="check" {{#checked}}checked{{/checked}} {{#disabled}}disabled{{/disabled}} value="{{id}}">\n\t\t\t<span class="form-control__indicator"></span>\n\t\t\t<span class="js-name">{{title}}</span>\n\t\t\t{{#thisPage}}<span class="page-selector__this-page">{{#tl}}templates.editor.build.linker.search-results.this-page{{/tl}}</span>{{/thisPage}}\n\t\t</label>\n\t</li>\n{{/pages}}'},function(e,t){e.exports='{{#blogPosts}}\n\t<li class="{{#hiddenBlogPost}}hidden{{/hiddenBlogPost}} group__item js-blog-post">\n\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t<input type="radio" name="check" {{#checked}}checked{{/checked}} value="{{page_id}}/{{post_id}}/{{post_link}}">\n\t\t\t<span class="form-control__indicator"></span>\n\t\t\t<span class="js-name">{{post_title}}</span>\n\t\t</label>\n\t</li>\n{{/blogPosts}}'},function(e,t){e.exports='{{#products}}\n\t<li class="group__item js-products">\n\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t<input class="js-store-page" type="radio" name="checkbox" {{#checked}}checked{{/checked}} value="{{site_link}}">\n\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t<span class="js-name">{{name}}</span>\n\t\t</label>\n\t</li>\n{{/products}}'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group {{^currentPageTitle}}is-hidden{{/currentPageTitle}}">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="current-page-input" value="{{currentPageTitle}}" readonly="readonly">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.standard-page_2{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>\n\n{{#selectorTitle}}<span class="form-control__label-text">{{selectorTitle}}</span>{{/selectorTitle}}\n<div class="page-selector {{#currentPageTitle}}is-hidden{{/currentPageTitle}}">\n\t{{^disableSearch}}\n\t<div class="form-control form-control--search">\n\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.standard-page_3{{/tl}}" class="js-search">\n\t</div>\n\t{{/disableSearch}}\n\t<ul class="group group--flush group--search">\n\t\t<div class="pages-wrapper">\n\t\t</div>\n\t</ul>\n</div>\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class=" js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.standard-page_1{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},function(e,t){e.exports='{{#hasStore}}\n\t<fieldset class="input-group el-options-url-group {{^currentPageTitle}}hidden{{/currentPageTitle}}">\n\t\t<div class="input-group__content">\n\t\t\t<div class="input-group__row">\n\t\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t\t<input type="text" class="current-page-input" value="{{currentPageTitle}}" readonly="readonly">\n\t\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.store-page_9{{/tl}}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n\t<div class="store-page-selector {{#currentPageTitle}}hidden{{/currentPageTitle}}">\n\t\t<div class="form-control form-control--search">\n\t\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.store-page_10{{/tl}}" class="js-search" value="{{searchValue}}">\n\t\t</div>\n\t\t<ul class="group group--flush group--search">\n\t\t\t<li class="group__item js-storefront">\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input class="js-store-page" type="radio" name="check" value="{{storefrontLink}}">\n\t\t\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t\t\t<span class="js-name">{{#tl}}templates.editor.build.linker.store-page_1{{/tl}}</span>\n\t\t\t\t</label>\n\t\t\t</li>\n\n\t\t\t<li class="group__item js-toggle-categories">\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input type="radio" name="check">\n\t\t\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t\t\t{{#tl}}templates.editor.build.linker.store-page_2{{/tl}}\n\t\t\t\t\t{{#categoryPageCount}}<span class="categories-pg-cnt">({{categoryPageCount}})</span>{{/categoryPageCount}}\n\t\t\t\t\t\t<div class="spinner" {{#isLoading}}style="display:block"{{/isLoading}}>\n\t\t\t\t\t\t\t<div class="spinner__bg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</li>\n\n\t\t\t<div class="categories-wrapper hidden">\n\t\t\t</div>\n\n\t\t\t<li class="group__item js-toggle-products">\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input type="radio" name="check">\n\t\t\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t\t\t{{#tl}}templates.editor.build.linker.store-page_3{{/tl}}\n\t\t\t\t\t{{#productPageCount}}<span class="products-pg-cnt">({{productPageCount}})</span>{{/productPageCount}}\n\t\t\t\t\t<div class="spinner" {{#isLoading}}style="display:block"{{/isLoading}}>\n\t\t\t\t\t\t<div class="spinner__bg"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</li>\n\n\t\t\t<div class="products-wrapper hidden">\n\t\t\t</div>\n\t\t</ul>\n\t</div>\n\n\t{{^disableNewWindow}}\n\t\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t\t<input class=" js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t\t{{#tl}}templates.editor.build.linker.store-page_4{{/tl}}\n\t\t</label>\n\t{{/disableNewWindow}}\n{{/hasStore}}\n{{^hasStore}}\n\t<div class="empty">\n\t\t{{#tl}}templates.editor.build.linker.store-page_5{{/tl}}<br>\n\t\t{{#tl}}templates.editor.build.linker.store-page_6{{/tl}}<a href="{{newProductHref}}" class="js-open-store">{{#tl}}templates.editor.build.linker.store-page_7{{/tl}}</a> {{#tl}}templates.editor.build.linker.store-page_8{{/tl}}\n\t</div>\n{{/hasStore}}\n';
},function(e,t){e.exports='<fieldset class="input-group el-options-url-group js-input-wrapper">\n\t<legend class="input-group__header">{{#tl}}templates.editor.build.linker.website-url_1{{/tl}}</legend>\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control  form-control__el-options--input">\n\t\t\t\t<input type="text" class="js-url-input" placeholder="{{placeholder}}" value="{{value}}">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.website-url_4{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<span class="input-group__invalid-text">{{#tl}}templates.editor.build.linker.website-url_2{{/tl}}</span>\n</fieldset>\n\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class=" js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.website-url_3{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},,function(e,t){e.exports='<div class="btn-group">\n\t<button class="btn--small js-move">{{#tl}}templates.editor.dialogs.move-copy-topbar.move_button{{/tl}}</button>\n\t<button class="btn--small js-copy">{{#tl}}templates.editor.dialogs.move-copy-topbar.copy_button{{/tl}}</button>\n</div>'},function(e,t){e.exports='<div class="product-name">\n\t{{#tl}}templates.editor.dialogs.product-element.product-element-empty_1{{/tl}}\n</div>\n'},function(e,t){e.exports='<div class="product-thumb-holder">{{{thumb}}}</div>\n<div class="product-name" title="{{productName}}">{{productName}}</div>\n\t<div class="product-actions">\n\t\t{{#hasSku}}\n\t\t\t<button class="toggle-product-button btn-com"><span class="w-icon-increase"></span></button>\n\t\t{{/hasSku}}\n\t\t{{^hasSku}}\n\t\t\t<button class="connect-single-product-button btn-com">{{#tl}}templates.editor.dialogs.product-element.product-element-item-view_1{{/tl}}</button>\n\t\t{{/hasSku}}\n\t</div>\n</div>\n\n<ul class="product-skus"></ul>\n'},function(e,t){e.exports='{{#hasSku}}\n\t<div class="product-thumb-holder">{{{thumb}}}</div>\n\t<div class="product-sku-name" title="{{variation}}">\n\t\t{{variation}}\n\t</div>\n\t<div class="product-actions">\n\t\t<button class="connect-product-button btn-com">{{#tl}}templates.editor.dialogs.product-element.product-element-item_1{{/tl}}</button>\n\t</div>\n{{/hasSku}}\n'},function(e,t){e.exports='<div class="product-element-chooser-header">\n\t<input class="product-element-chooser-search" type="text" name="search" placeholder="{{#esc_attr}}{{#tl}}templates.editor.dialogs.product-element.product-element-layout_1{{/tl}}{{/esc_attr}}" />\n\t<button class="product-element-add-product btn-com">{{#tl}}templates.editor.dialogs.product-element.product-element-layout_2{{/tl}}</button>\n</div>\n<div class="product-element-chooser w-massless-scroll">\n\t<div class="scroll-outer">\n\t\t<div class="scroll-inner">\n\t\t\t<div class="list-region products-holder">{{! listRegion }}</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<span class="form-control__label-text">{{#tl}}sections.movecopy.move_section_heading{{/tl}}</span>\n<ul class="group group--flush group--hoverable">\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless js-this">\n\t\t\t{{#tl}}sections.movecopy.on_this_page_option{{/tl}}\n\t\t</button>\n\t</li>\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless js-another">\n\t\t\t{{#tl}}sections.movecopy.to_another_page_option{{/tl}}\n\t\t</button>\n\t</li>\n</ul>'},function(e,t){e.exports='<span class="form-control__label-text">{{#tl}}sections.movecopy.move_section_heading{{/tl}}</span>\n<div class="btn-group btn-group--section-shift">\n\t<button class="btn--small js-up">{{#tl}}sections.movecopy.shift_up{{/tl}}</button>\n\t<button class="btn--small js-down">{{#tl}}sections.movecopy.shift_down{{/tl}}</button>\n</div>'},function(e,t){e.exports="{{#tl}}templates.editor.dialogs.upload-virus-error_1{{/tl}}\n"},function(e,t){e.exports="<div class='app-tutorial-introduction'><span>{{introduction}}</span></div>\n<section class='dialog__section--flush app-tutorial-step-section'>\n\t<ul class=\"group\">\n\t\t{{#steps}}\n\t\t\t<li class=\"group__item app-tutorial-step\">\n\t\t\t\t<span class='app-tutorial-step-title'>{{index}}</span>\n\t\t\t\t<span class='app-tutorial-step-content'>{{{value}}}</span>\n\t\t\t</li>\n\t\t{{/steps}}\n\t</ul>\n</section>\n"},function(e,t){e.exports='<button class="btn-control btn-control--borderless">\n\t<span class="btn-control__label app-tutorial-topic-label">{{label}}</span>\n</button>'},function(e,t){e.exports="<div class='app-tutorial-introduction'><span>{{introduction}}</span></div>\n<section class='dialog__section--flush app-tutorial-topics-section'>\n\t<ul class=\"group app-tutorial-topics-container\"></ul>\n</section>\n"},function(e,t){e.exports='<div class="app-tutorial-introduction"><span>{{introduction}}</span></div>\n<div class="app-tutorial-video-placeholder">\n\t<img src="https://img.youtube.com/vi/{{content}}/0.jpg" data-icon-before="play">\n</div>'},function(e,t){e.exports='<div class="hover-toolbar-arrow hover-toolbar-arrow-centered"><div></div></div>\n<div class="hover-toolbar-inner">\n\t<a class="black-button play-button"><span></span></a>\n\t<a class="black-button pause-button"><span></span></a>\n\t<span class="caption-wrap">\n\t\t<a class="black-button caption-button"><span></span></a>\n\t\t<div class="caption-popout" style="display:none">\n\t\t\t<div class="caption-arrow"></div>\n\t\t\t<textarea class="caption-area" placeholder="{{#esc_attr}}{{#tl}}templates.hovercontrol.slideshow-toolbar_2{{/tl}}{{/esc_attr}}"></textarea>\n\t\t\t<div class="buttons">\n\t\t\t\t<a class="button cancel-button">{{#tl}}templates.hovercontrol.slideshow-toolbar_3{{/tl}}</a>\n\t\t\t\t<a class="button save-button">{{#tl}}templates.hovercontrol.slideshow-toolbar_4{{/tl}}</a>\n\t\t\t</div>\n\t\t</div>\n\t</span>\n\t<a class="black-button link-button"><span></span></a>\n\t<a class="edit-button">{{#tl}}templates.hovercontrol.slideshow-toolbar_5{{/tl}}</a>\n</div>\n'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.categories-element.select-categories{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--2 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(categories-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(categories-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.categories-element.select-categories{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--3 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/categories-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/categories-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/categories-3.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="ui-framework hidden-commerce-element">\n\t<h2>{{#tl}}templates.elements.categories-element.category-info-hidden{{/tl}}</h2>\n\t<p>{{#tl}}templates.elements.categories-element.dont-show-on-publish{{/tl}}</p>\n</div>\n'},function(e,t){e.exports='<div class="element" id="{{ucfid}}">\n\t{{{ contentHTML }}}\n</div>'},function(e,t){e.exports='{{#models}}\n\t<div class="product-grid__item">\n\t\t{{#model_url}}\n\t\t\t<a class="product-grid__item-overlay" href="{{.}}"></a>\n\t\t{{/model_url}}\n\t\t<div class="product-grid__content">\n\t\t\t{{#SHOWIMAGE}}\n\t\t\t\t{{#is_multi_image}}\n\t\t\t\t\t<div class="product-grid__images product-grid-multi-image images-{{image_count}}">\n\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}" style="background-image: url(\'{{url}}\')">\n\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t</div>\n\t\t\t\t{{/is_multi_image}}\n\t\t\t\t{{^is_multi_image}}\n\t\t\t\t\t{{#first_image}}\n\t\t\t\t\t\t<div class="product-grid__images">\n\t\t\t\t\t\t\t{{#is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}"><img src="{{url}}" />\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{^is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}} product-grid-image__default product-grid-image-aspect--{{ASPECTRATIO}} js-default-img" style="background-image: url({{url}})">\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{#can_view_slideshow}}\n\t\t\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid-image product-grid-image__slideshow image-{{index}} product-grid-image-aspect--{{ASPECTRATIO}} js-slideshow-img" style="background-image: url({{url}});">\n\t\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t\t\t{{/can_view_slideshow}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/first_image}}\n\t\t\t\t{{/is_multi_image}}\n\t\t\t{{/SHOWIMAGE}}\n\t\t\t<div class="product-grid__info" style="text-align:{{TEXTALIGN}}">\n\t\t\t\t{{#SHOWNAME}}\n\t\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t\t<span class="product-grid-reset">{{name}}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t{{/SHOWNAME}}\n\t\t\t\t{{#SHOWPRICE}}\n\t\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset">\n\t\t\t\t\t\t\t{{#price}}\n\t\t\t\t\t\t\t\t<span class="product-grid__sale">\n\t\t\t\t\t\t\t\t\t{{{price}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/price}}\n\t\t\t\t\t\t\t{{{sale_price}}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWPRICE}}\n\t\t\t\t{{#show_low_stock_badge}}\n\t\t\t\t\t<p class="product-grid__low-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.low_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_low_stock_badge}}\n\t\t\t\t{{#show_out_of_stock_badge}}\n\t\t\t\t\t<p class="product-grid__out-of-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.out_of_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_out_of_stock_badge}}\n\t\t\t\t{{#SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">{{{short_description}}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWSHORTDESCRIPTION}}\n\t\t\t\t{{#SHOWBUTTON}}\n\t\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t\t<a {{#model_url}}href="{{.}}"{{/model_url}} class="{{BUTTONSTYLE}}">\n\t\t\t\t\t\t\t<span class="wsite-button-inner">{{BUTTONTEXT}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWBUTTON}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/models}}'},function(e,t){e.exports='{{#models}}\n\t<div class="product-grid__item">\n\t\t{{#model_url}}\n\t\t\t<a class="product-grid__item-overlay" href="{{.}}"></a>\n\t\t{{/model_url}}\n\t\t<div class="product-grid__content">\n\t\t\t<div class="product-grid__info" style="text-align:{{TEXTALIGN}}">\n\t\t\t\t{{#SHOWNAME}}\n\t\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t\t<span class="product-grid-reset">{{name}}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t{{/SHOWNAME}}\n\t\t\t\t{{#SHOWPRICE}}\n\t\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset">\n\t\t\t\t\t\t\t{{#price}}\n\t\t\t\t\t\t\t\t<span class="product-grid__sale">\n\t\t\t\t\t\t\t\t\t{{{price}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/price}}\n\t\t\t\t\t\t\t{{{sale_price}}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWPRICE}}\n\t\t\t\t{{#show_low_stock_badge}}\n\t\t\t\t\t<p class="product-grid__low-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.low_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_low_stock_badge}}\n\t\t\t\t{{#show_out_of_stock_badge}}\n\t\t\t\t\t<p class="product-grid__out-of-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.out_of_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_out_of_stock_badge}}\n\t\t\t\t{{#SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">{{{short_description}}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWSHORTDESCRIPTION}}\n\t\t\t\t{{#SHOWBUTTON}}\n\t\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t\t<a {{#model_url}}href="{{.}}"{{/model_url}}  class="{{BUTTONSTYLE}}">\n\t\t\t\t\t\t\t<span class="wsite-button-inner">{{BUTTONTEXT}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWBUTTON}}\n\t\t\t</div>\n\t\t\t{{#SHOWIMAGE}}\n\t\t\t\t{{#is_multi_image}}\n\t\t\t\t\t<div class="product-grid__images product-grid-multi-image images-{{image_count}}">\n\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}" style="background-image: url(\'{{url}}\')">\n\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t</div>\n\t\t\t\t{{/is_multi_image}}\n\t\t\t\t{{^is_multi_image}}\n\t\t\t\t\t{{#first_image}}\n\t\t\t\t\t\t<div class="product-grid__images">\n\t\t\t\t\t\t\t{{#is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}"><img src="{{url}}" />\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{^is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}} product-grid-image__default product-grid-image-aspect--{{ASPECTRATIO}} js-default-img" style="background-image: url({{url}})">\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{#can_view_slideshow}}\n\t\t\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid-image product-grid-image__slideshow image-{{index}} product-grid-image-aspect--{{ASPECTRATIO}} js-slideshow-img" style="background-image: url({{url}});">\n\t\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t\t\t{{/can_view_slideshow}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/first_image}}\n\t\t\t\t{{/is_multi_image}}\n\t\t\t{{/SHOWIMAGE}}\n\t\t</div>\n\t</div>\n{{/models}}'},function(e,t){e.exports='{{#models}}\n\t<div class="product-grid__item">\n\t\t{{#model_url}}\n\t\t\t<a class="product-grid__item-overlay" href="{{.}}"></a>\n\t\t{{/model_url}}\n\t\t<div class="product-grid__content">\n\t\t\t{{#SHOWIMAGE}}\n\t\t\t\t{{#is_multi_image}}\n\t\t\t\t\t<div class="product-grid__images product-grid-multi-image images-{{image_count}}">\n\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}" style="background-image: url(\'{{url}}\')">\n\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t</div>\n\t\t\t\t{{/is_multi_image}}\n\t\t\t\t{{^is_multi_image}}\n\t\t\t\t\t{{#first_image}}\n\t\t\t\t\t\t<div class="product-grid__images">\n\t\t\t\t\t\t\t{{#is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}"><img src="{{url}}" />\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{^is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}} product-grid-image__default product-grid-image-aspect--{{ASPECTRATIO}} js-default-img" style="background-image: url({{url}})">\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{#can_view_slideshow}}\n\t\t\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid-image product-grid-image__slideshow image-{{index}} product-grid-image-aspect--{{ASPECTRATIO}} js-slideshow-img" style="background-image: url({{url}});">\n\t\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t\t\t{{/can_view_slideshow}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/first_image}}\n\t\t\t\t{{/is_multi_image}}\n\t\t\t{{/SHOWIMAGE}}\n\t\t\t<div class="product-grid__overlay">\n\t\t\t\t<div class="product-grid__overlay-inner">\n\t\t\t\t\t<div class="product-grid__info" style="text-align:{{TEXTALIGN}}">\n\t\t\t\t\t\t{{#SHOWNAME}}\n\t\t\t\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t\t\t\t<span class="product-grid-reset">{{name}}</span>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t{{/SHOWNAME}}\n\t\t\t\t\t\t{{#SHOWPRICE}}\n\t\t\t\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t\t\t\t<span class="product-grid-reset">\n\t\t\t\t\t\t\t\t\t{{#price}}\n\t\t\t\t\t\t\t\t\t\t<span class="product-grid__sale">\n\t\t\t\t\t\t\t\t\t\t\t{{{price}}}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{{/price}}\n\t\t\t\t\t\t\t\t\t{{{sale_price}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/SHOWPRICE}}\n\t\t\t\t\t\t{{#show_low_stock_badge}}\n\t\t\t\t\t\t\t<p class="product-grid__low-stock-badge">\n\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.low_stock{{/stl}}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{{/show_low_stock_badge}}\n\t\t\t\t\t\t{{#show_out_of_stock_badge}}\n\t\t\t\t\t\t\t<p class="product-grid__out-of-stock-badge">\n\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.out_of_stock{{/stl}}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{{/show_out_of_stock_badge}}\n\t\t\t\t\t\t{{#SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">{{{short_description}}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t\t{{#SHOWBUTTON}}\n\t\t\t\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t\t\t\t<a {{#model_url}}href="{{.}}"{{/model_url}} class="{{BUTTONSTYLE}}">\n\t\t\t\t\t\t\t\t\t<span class="wsite-button-inner">{{BUTTONTEXT}}</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/SHOWBUTTON}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/models}}'},function(e,t){e.exports='<div class="product-grid product-grid-columns--{{COLUMNS}} product-grid-layout--{{INFOPLACEMENT}}">\n\t{{{models_html}}}\n</div>\n'},function(e,t){e.exports='<div class="product-grid product-grid-masonry  product-grid-masonry--{{COLUMNS}} product-grid-layout--{{INFOPLACEMENT}}">\n\t<div class="product-grid-masonry--gutter"></div>\n\t{{{models_html}}}\n</div>\n'},function(e,t){e.exports='<div class="product-grid product-grid-columns--{{COLUMNS}} product-grid-layout--multiimage product-grid-layout--{{INFOPLACEMENT}}">\n\t{{{models_html}}}\n</div>\n'},function(e,t){e.exports='<div class="product-grid product-grid-single-row--{{COLUMNS}} product-grid-layout--{{INFOPLACEMENT}} js-single-row-layout">\n\t\t<div class="product-grid__controls js-single-row-controls">\n\t\t\t<div class="product-grid__controls--link product-grid-single-row__prev js-scroll-arrow js-scroll-left">\n\t\t\t\t<a class="product-grid-image-aspect--{{ASPECTRATIO}}">\n\t\t\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class="product-grid__controls--link product-grid-single-row__next js-scroll-arrow js-scroll-right">\n\t\t\t\t<a class="product-grid-image-aspect--{{ASPECTRATIO}}">\n\t\t\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid-single-row__contents">\n\t\t<div class="product-grid-single-row__wrapper js-row-wrapper" data-current-page="1" data-max-page="{{max_page}}">\n\t\t\t{{{models_html}}}\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='{{! please reflect any changes here to the string template in javascript/site/published/commerce-elements/utils.js }}\n<div class="product-pagination" data-max-page="{{max_page}}">\n\t<div class="product-grid__paging clearfix">\n\t\t<a class="product-grid__paging--link js-products-prev">\n\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t</a>\n\t\t<div class="pagination-wrapper">\n\t\t\t<a class="product-grid__paging--count js-page-num wsite-first" data-page="1">1</a>\n\n\t\t\t{{#show_head_ellipsis}}\n\t\t\t\t<span class="pagination-ellipsis"></span>\n\t\t\t{{/show_head_ellipsis}}\n\n\t\t\t{{#pages}}\n\t\t\t\t<a class="product-grid__paging--count js-page-num" data-page="{{.}}">{{.}}</a>\n\t\t\t{{/pages}}\n\n\t\t\t{{#show_tail_ellipsis}}\n\t\t\t\t<span class="pagination-ellipsis"></span>\n\t\t\t{{/show_tail_ellipsis}}\n\n\t\t\t<a class="product-grid__paging--count js-page-num wsite-last" data-page="{{max_page}}">{{max_page}}</a>\n\t\t</div>\n\t\t<a class="product-grid__paging--link product-grid--next js-products-next">\n\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t</a>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="product-pagination" data-max-page="{{max_page}}">\n\t<div class="product-grid__more" data-current-page="1">{{#tl}}templates.elements.commerce-elements.pagination.show-more{{/tl}}</div>\n</div>';
},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.empty-select-products{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--2 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(products-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(products-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.empty-select-products{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--3 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/products-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/products-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/products-3.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="ui-framework hidden-commerce-element">\n\t<h2>{{#tl}}templates.elements.products-element.product-info-hidden{{/tl}}</h2>\n\t<p>{{#tl}}templates.elements.products-element.dont-show-on-publish{{/tl}}</p>\n</div>\n'},function(e,t){e.exports="<div class='product-block product' style='{{alignCss}}'>\n\n\t<div class='product-block-inner'>\n\t\t{{#showImage}}\n\t\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t\t<span class='product-block-image' style='background-image:url(\"{{imageUrl}}\")'></span>\n\t\t\t</a>\n\t\t{{/showImage}}\n\t</div>\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showPrice}}\n\t\t<div class='product-block-price'>\n\t\t\t{{{priceHtml}}}\n\t\t</div>\n\t{{/showPrice}}\n\n\t<input\n\t\tclass='product-button'\n\t\ttype='image'\n\t\t{{#isNotAvailableButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_small.gif'\n\t\t{{/isNotAvailableButton}}\n\t\t{{#isViewButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_small.gif'\n\t\t{{/isViewButton}}\n\t\t{{#isAddToCartButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_small.gif'\n\t\t{{/isAddToCartButton}}\n\t\t{{#isBuyNowButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_small.gif'\n\t\t{{/isBuyNowButton}}\n\t\t{{#buttonUrl}}\n\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t{{/buttonUrl}}\n\t\t{{{buttonDataAttrs}}}\n\t/>\n\n\t<div style='clear:both'></div>\n\t\n</div>\n"},function(e,t){e.exports="<div class='product-large product'>\n\n\t{{#showImage}}\n\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t<img src='{{imageUrl}}' class='product-image' style='width:{{imageWidth}}' />\n\t\t</a>\n\t{{/showImage}}\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showDescription}}\n\t\t<div class='product-description'>\n\t\t\t{{{descriptionHtml}}}\n\t\t</div>\n\t{{/showDescription}}\n\n\t{{#showPrice}}\n\t\t<div class='product-large-price'>\n\t\t\t{{{priceHtml}}}\n\t\t\t&nbsp;\n\t\t</div>\n\t{{/showPrice}}\n\n\t<div style='height:24px'>\n\t\t<input\n\t\t\tclass='product-button'\n\t\t\ttype='image'\n\t\t\t{{#isNotAvailableButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isNotAvailableButton}}\n\t\t\t{{#isViewButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isViewButton}}\n\t\t\t{{#isAddToCartButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_big.gif'\n\t\t\t{{/isAddToCartButton}}\n\t\t\t{{#isBuyNowButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_big.gif'\n\t\t\t{{/isBuyNowButton}}\n\t\t\t{{#buttonUrl}}\n\t\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t\t{{/buttonUrl}}\n\t\t\t{{{buttonDataAttrs}}}\n\t\t/>\n\t</div>\n\n\t<div style='clear:both'></div>\n\t\n</div>\n"},function(e,t){e.exports="<div class='product-long product'>\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showImage}}\n\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t<img src='{{imageUrl}}' class='product-image' style='width:{{imageWidth}}' />\n\t\t</a>\n\t{{/showImage}}\n\n\t<div class='product-long-detail'>\n\n\t\t{{#showPrice}}\n\t\t\t<div class='product-long-price'>\n\t\t\t\t{{{priceHtml}}}\n\t\t\t</div>\n\t\t{{/showPrice}}\n\n\t\t<div style='clear:both'></div>\n\n\t\t<div style='font-size:5px'>&nbsp;</div>\n\n\t\t<div style='height:36px; float:left'>&nbsp;</div>\n\n\t\t<input\n\t\t\tclass='product-button'\n\t\t\ttype='image'\n\t\t\t{{#isNotAvailableButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isNotAvailableButton}}\n\t\t\t{{#isViewButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isViewButton}}\n\t\t\t{{#isAddToCartButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_big.gif'\n\t\t\t{{/isAddToCartButton}}\n\t\t\t{{#isBuyNowButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_big.gif'\n\t\t\t{{/isBuyNowButton}}\n\t\t\t{{#buttonUrl}}\n\t\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t\t{{/buttonUrl}}\n\t\t\t{{{buttonDataAttrs}}}\n\t\t/>\n\n\t\t<div style='clear:both'></div>\n\n\t</div>\n\n\t{{#showDescription}}\n\t\t<div class='product-description'>\n\t\t\t{{{descriptionHtml}}}\n\t\t</div>\n\t{{/showDescription}}\n\n\t<div style='clear:both'></div>\n\n</div>\n"},function(e,t){e.exports="\n{{#salePrice}}\n\t<div class='product-price'>\n\t\t<span style='text-decoration:line-through; margin-right:8px'>\n\t\t\t{{{currencyPrefix}}}{{price}}{{{currencySuffix}}}\n\t\t</span>\n\t\t{{{currencyPrefix}}}{{salePrice}}{{{currencySuffix}}}\n\t</div>\n{{/salePrice}}\n\n{{^salePrice}}\n\t<div class='product-currency' style='float:left'>\n\t\t{{{currencyPrefix}}}\n\t</div>\n\t<div class='product-price'>\n\t\t{{price}}{{{currencySuffix}}}\n\t\t&nbsp;&nbsp;&nbsp;\n\t</div>\n{{/salePrice}}"},function(e,t){e.exports="<div class='product-small product'>\n\n\t{{#showImage}}\n\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t<img src='{{imageUrl}}' class='product-image' style='width:{{imageWidth}}' />\n\t\t</a>\n\t{{/showImage}}\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showDescription}}\n\t\t<div class='product-description'>\n\t\t\t{{{descriptionHtml}}}\n\t\t</div>\n\t{{/showDescription}}\n\n\t{{#showPrice}}\n\t\t<div class='product-small-price'>\n\t\t\t{{{priceHtml}}}\n\t\t</div>\n\t{{/showPrice}}\n\n\t<input\n\t\tclass='product-button'\n\t\ttype='image'\n\t\t{{#isNotAvailableButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t{{/isNotAvailableButton}}\n\t\t{{#isViewButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t{{/isViewButton}}\n\t\t{{#isAddToCartButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_big.gif'\n\t\t{{/isAddToCartButton}}\n\t\t{{#isBuyNowButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_big.gif'\n\t\t{{/isBuyNowButton}}\n\t\t{{#buttonUrl}}\n\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t{{/buttonUrl}}\n\t\t{{{buttonDataAttrs}}}\n\t/>\n\n\t<div style='clear:both'></div>\n\n</div>\n"},function(e,t){e.exports="\n{{#salePrice}}\n\t<a class='wsite-product-original-price'>\n\t\t{{{currencyPrefix}}}{{price}}{{{currencySuffix}}}\n\t</a>\n\t<a class='wsite-product-sale-price'>\n\t\t{{{currencyPrefix}}}{{salePrice}}{{{currencySuffix}}}\n\t</a>\n{{/salePrice}}\n\n{{^salePrice}}\n\t<a>\n\t\t{{{currencyPrefix}}}{{price}}{{{currencySuffix}}}\n\t</a>\n{{/salePrice}}"},function(e,t){e.exports="<div class='wsite-product' style='margin-top:{{marginTop}}; margin-bottom:{{marginBottom}}'>\n\n\t{{#showImage}}\n\t\t<div class='wsite-product-image-wrap' style='width:{{imageWidth}}'>\n\t\t\t<a class='wsite-product-image' {{{imageLinkAttrs}}}>\n\t\t\t\t{{{imageHtml}}}\n\t\t\t</a>\n\t\t</div>\n\t{{/showImage}}\n\n\t<div class='wsite-product-right'>\n\n\t\t<div class='wsite-product-top'>\n\n\t\t\t<h2 class='wsite-product-title'{{#inEditor}} placeholder=''{{/inEditor}}>{{title}}</h2>\n\t\t\t{{#hasVariants}}\n\t\t\t\t<ul class='wsite-product-variations'>\n\t\t\t\t\t{{#variantOptions}}\n\t\t\t\t\t\t<li class='wsite-product-variant {{#disabled}}wsite-com-product-disabled{{/disabled}}'><span class=\"wsite-option-name\">{{name}}</span>:\n\t\t\t\t\t\t{{#text}}\n\t\t\t\t\t\t\t{{^showTextArea}}\n\t\t\t\t\t\t\t<input id=\"wsite-com-product-option-{{safe_option_name}}\" class=\"wsite-field wsite-form-input product-text-option\" {{#disabled}}disabled{{/disabled}} name=\"{{name}}\" {{{textInputDataAttrs}}}>\n\t\t\t\t\t\t\t{{/showTextArea}}\n\t\t\t\t\t\t\t{{#showTextArea}}\n\t\t\t\t\t\t\t<textarea id=\"wsite-com-product-option-{{safe_option_name}}\" class=\"wsite-field wsite-form-input product-text-option\" {{#disabled}}disabled{{/disabled}} name=\"{{name}}\" {{{textInputDataAttrs}}}></textarea>\n\t\t\t\t\t\t\t{{/showTextArea}}\n\t\t\t\t\t\t\t{{#required}}\n\t\t\t\t\t\t\t\t<span class=\"form-required {{#disabled}}wsite-com-product-disabled{{/disabled}}\">*</span>\n\t\t\t\t\t\t\t{{/required}}\n\t\t\t\t\t\t\t<div class=\"text-option-error-message\"></div>\n\t\t\t\t\t\t{{/text}}\n\t\t\t\t\t\t{{^text}}\n\t\t\t\t\t\t\t{{choice}}\n\t\t\t\t\t\t{{/text}}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t{{/variantOptions}}\n\t\t\t\t</ul>\n\t\t\t{{/hasVariants}}\n\n\t\t\t{{#hasRequiredOption}}\n\t\t\t\t<p {{#disabled}}class=\"wsite-com-product-disabled\"{{/disabled}}>{{#stl}}ecommerce.common.indicates_required{{/stl}}</p>\n\t\t\t{{/hasRequiredOption}}\n\n\t\t\t{{#showPrice}}\n\t\t\t\t<div class='wsite-product-price'>\n\t\t\t\t\t{{{priceHtml}}}\n\t\t\t\t</div>\n\t\t\t{{/showPrice}}\n\n\t\t</div>\n\n\t\t<div class='wsite-product-button-wrap'>\n\t\t\t<a href='{{buttonUrl}}' class='{{buttonClass}} {{#disabled}}wsite-com-product-disabled{{/disabled}}' {{{buttonDataAttrs}}} >\n\t\t\t\t<span class='wsite-button-inner'>{{buttonText}}</span>\n\t\t\t</a>\n\t\t</div>\n\n\t\t{{#showDescription}}\n\t\t\t<div class='wsite-product-description paragraph'{{#inEditor}} placeholder=\"{{#esc_attr}}{{#tl}}templates.elements.commerce-product_1{{/tl}}{{/esc_attr}}\"{{/inEditor}}>{{{descriptionHtml}}}</div>\n\t\t{{/showDescription}}\n\n\t</div>\n\n</div>\n"},function(e,t){e.exports='<html>\n\t<head>\n\t\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n\t\t\n\t\t<link rel=\'stylesheet\' href=\'{{{ sites_css_url }}}\' type=\'text/css\' />\n\n\t\t<style rel=\'stylesheet\' type=\'text/css\' title="wsite-theme-css" >{{{ theme_css }}}</style>\n\n\t\t<script type=\'text/javascript\' src=\'{{{ jquery_url }}}\'></script>\n\t</head>\n\t<body style=\'margin: 0; padding: 0; background: transparent; min-height:10px; _height:10px\' onclick="parent.clickHandler(event, \'{{ ucfid }}\');">\n\t\t<div id="icontent_container" class="icontent_container">\n\t\t\t<div id="icontent" class="icontent">\n\t\t\t\t<div id="secondlist">\n\t\t\t\t\t<div class="paragraph" id="customhtml-content" style="text-align:{{ align }};">\n\t\t\t\t\t\t{{{ content }}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</body>\n</html>\n'},function(e,t){e.exports='<div class="customhtml-wrapper">\n\t<div class="customhtml-blocker">\n\t</div>\n</div>'},function(e,t){e.exports='<div class="w-dialog element-move-copy" style="display: none;">\n\t<div class="element-move-copy-arrow"></div>\n\t<div class="element-move-copy-header">\n\t\t<div class="switcher">\n\t\t\t<div class="inner">\n\t\t\t\t<div class="move">{{#tl}}Move{{/tl}}</div>\n\t\t\t\t<div class="copy">{{#tl}}Copy{{/tl}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="element-move-copy-content">\n\t\t<ul></ul>\n\t</div>\n</div>'},function(e,t){e.exports='<li class="inside" id="inside_{{id}}">\n\t<form name="id_{{id}}" data-platform-element-id="{{platform_element_id}}" data-platform-element-version="{{platform_element_version}}" style="display:none" autocomplete="off">\n\t\t<input type="hidden" name="idfield" value="{id:\'{{id}}\',eid:\'{{eid}}\'}" />\n\t</form>\n\t{{{controlHTML}}}\n\t<div class="element-box">\n\t\t<div class="element-box-contents"{{#page_element_id}} id="{{{page_element_id}}}"{{/page_element_id}}>\n\t\t\t{{{contentHTML}}}\n\t\t</div>\n\t</div>\n</li>'},function(e,t){e.exports='<td class="wsite-multicol-col" {{#in_editor}}id="{{id}}" {{/in_editor}}style="width:{{width}}; padding:{{padding}};">\n{{#elementsHTML}}\n\t{{#in_editor}}<ul class="columnlist" id="{{id}}-ul">{{/in_editor}}\n\t\t{{{elementsHTML}}}\n\t{{#in_editor}}</ul>{{/in_editor}}\n{{/elementsHTML}}\n</td>'},function(e,t){e.exports='<div class="wsite-multicol-table-wrap"{{#margin}} style="margin:{{margin}};"{{/margin}}>\n\t<table class="wsite-multicol-table">\n\t\t<tbody class="wsite-multicol-tbody">\n\t\t\t<tr class="wsite-multicol-tr">\n\t\t\t{{#columns}}\n\t\t\t\t{{>elements/multicolumn-column}}\n\t\t\t{{/columns}}\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>'},function(e,t){e.exports='{{#is_fullscreen}}\n\t<div class="w-ui w-ui-topbar">\n\t\t<ul class="tabs">\n\t\t\t<li class="title-text">{{name}}</li>\n\t\t</ul>\n\t\t<ul class="right-buttons">\n\t\t\t<li class="button-option btn-info fullscreen-close-btn">\n\t\t\t\t<a><span>{{#tl}}templates.elements.settings.external-settings_2{{/tl}}</span></a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n{{/is_fullscreen}}\n<iframe src="{{built_url}}"></iframe>\n\n'},function(e,t){e.exports='<div class="{{^isDropdown}}group group--flush{{/isDropdown}}">\n</div>\n'},function(e,t){e.exports='<div class="form-control form-control--selector form-control--borderless">\n\t<div class="form-control__item default-cursor"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t<div class="form-control__item form-control__item--right">\n\t\t<div class="inline-selector">\n\t\t\t<span class="inline-selector__option" data-ucfpid="{{ucfpid}}" value="left" data-value="{{leftValue}}" class="inline-selector__option">\n\t\t\t\t<span class="icon">textalignleft</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option" data-ucfpid="{{ucfpid}}" value="center" data-value="{{centerValue}}" class="inline-selector__option">\n\t\t\t\t<span class="icon">textaligncenter</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option" data-ucfpid="{{ucfpid}}" value="right" data-value="{{rightValue}}" class="inline-selector__option">\n\t\t\t\t<span class="icon">textalignright</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<button class="js-button {{#isExternal}}iframe-button{{/isExternal}} btn--action" {{#actionPaneIndex}}data-action-index="{{actionPaneIndex}}"{{/actionPaneIndex}}>\n\t{{label}}\n\t{{#showBadge}}<span class="label label--badge">{{badgeLabel}}</span>{{/showBadge}}\n</button>\n\n{{#customHTML}}\n\t{{{customHTML}}}\n{{/customHTML}}\n'},function(e,t){e.exports='<label class="form-control form-control--checkbox">\n\t<input id="{{ucfpid}}" type="checkbox" {{checked}}>\n\t<span class="form-control__indicator"></span>\n\t{{label}}\n</label>'},function(e,t){e.exports='<input id="{{ucfpid}}" id="platform-settings-tooltip-{{name}}" type="input" name="{{name}}" value="{{value}}" class="color-picker">\n'},function(e,t){e.exports='<fieldset>\n\t<label class="form-control">\n\t\t<span class="form-control__label-text">{{form_label}}</span>\n\t\t<input name="std" placeholder="{{hint}}" type="text" value="{{value}}">\n\t</label>\n</fieldset>\n\n{{#show_toggle}}\n\t<label class="form-control form-control--toggle">\n\t\t<input type="checkbox" name="check" {{#active}}checked{{/active}}>\n\t\t<span class="form-control--toggle__switch"></span>\n\t\t{{#tl}}templates.elements.settings.tooltip-edit-social_2{{/tl}}\n\t</label>\n{{/show_toggle}}\n'},function(e,t){e.exports='{{#description}}\n\t<p class="element-settings__description">{{description}}</p>\n{{/description}}\n{{^description}}\n\t{{#label}}\n\t\t<h3 class="form-header">{{label}}</h3>\n\t{{/label}}\n{{/description}}\n\n{{> elements/settings/group-item}}'},function(e,t){e.exports='<div class="form-control form-control--stepper form-control--borderless">\n\t<div class="form-control__item default-cursor"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t<div class="form-control__item form-control__item--right">\n\t\t<div class="stepper">\n\t\t\t<div class="stepper__step icon" data-role="decrease">minussmall</div>\n\t\t\t<input class="stepper__field" id="{{ucfpid}}" type="text" value="{{value}}" placeholder="{{default}}" data-measure="{{measure}}">\n\t\t\t<div class="stepper__step icon" data-role="increase">plussmall</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='{{#isTrigger}}\n<ul class="group group--flush">\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless">\n\t\t\t<span class="btn-control__label">{{label}}</span>\n\t\t\t<span class="btn-control__sublabel link-item-sublabel"></span>\n\t\t</button>\n\t</li>\n</ul>\n{{/isTrigger}}\n\n{{^isTrigger}}\n<button class="btn-control btn-control--borderless">\n\t<span class="btn-control__label">{{label}}</span>\n\t<span class="btn-control__sublabel link-item-sublabel"></span>\n</button>\n{{/isTrigger}}\n'},function(e,t){e.exports='<div class="group__item js-option">\n\t<span class="group--deletable__icon js-delete-option"></span>\n\t<div class="form-control form-control--borderless">\n\t\t<input name="std" placeholder="{{#esc_attr}}{{#tl}}templates.elements.settings.tooltip-option-item_1{{/tl}}{{/esc_attr}}" type="text">\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="group group--flush group--sortable group--deletable form-option-group js-form-option-group">\n\t{{#options}}\n\t\t<div class="group__item js-option">\n\t\t\t<span class="group--deletable__icon js-delete-option"></span>\n\t\t\t<div class="form-control form-control--borderless">\n\t\t\t\t<input name="std" value="{{.}}" type="text">\n\t\t\t</div>\n\t\t</div>\n\t{{/options}}\n</div>\n\n<button class="btn-control js-add-option form-option-add-button">\n\t<span class="icon">plussmall</span> {{#tl}}templates.elements.settings.tooltip-option-items_2{{/tl}}\n</button>\n\n<button class="btn--action open-predefined" style="margin-top:15px">\n\t{{#tl}}templates.elements.settings.tooltip-option-items_3{{/tl}}\n</button>\n'},function(e,t){e.exports='<div class="group group--flush group--hoverable">\n\t<div class="group__item">\n\t\t<button class="btn--block btn--secondary btn--borderless">\n\t\t\t{{#tl}}platform.Editor.Element.Settings.TutorialButton{{/tl}}\n\t\t</button>\n\t</div>\n</div>'},function(e,t){e.exports='<h3 class="form-header">{{label}}</h3>\n<div class="group group--flush" {{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-text="{{tooltip}}" {{/tooltip}}>\n\t{{#options}}\n\t\t<div class="group__item">\n\t\t\t<label class="form-control form-control--radio form-control--borderless">\n\t\t\t\t<input id="radio-{{value}}" type="radio" name="r-opt" data-ucfpid="{{ucfpid}}" value="{{value}}" {{#checked}}checked{{/checked}}>\n\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t{{name}}\n\t\t\t</label>\n\t\t</div>\n\t{{/options}}\n</div>\n'},function(e,t){e.exports='{{#description}}\n\t<p class="element-settings__description">{{description}}</p>\n{{/description}}\n{{^description}}\n\t{{#label}}\n\t\t<h3 class="form-header form-header__element-settings">{{label}}</h3>\n\t\t{{#hovertip}}\n\t\t\t<span class="icon element-settings__icon" data-hover-tip="" data-hover-tip-text="{{hovertip}}" data-hover-tip-wrap-class-name="ui-framework">tooltip</span>\n\t\t{{/hovertip}}\n\t{{/label}}\n{{/description}}\n<ul class="group group--flush {{#isButtonDropdown}}button-dropdown{{/isButtonDropdown}}">\n\t{{#options}}\n\t\t<li class="group__item js-item">\n\t\t\t{{#isButtonDropdown}}\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<span class="{{value}}">\n\t\t\t\t\t\t<span class="wsite-button-inner editable-text">{{#tl}}templates.elements.settings.tooltip-select_2{{/tl}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<input type="radio" name="check" {{#checked}}checked{{/checked}} value="{{value}}" data-ucfpid="{{ucfpid}}">\n\t\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t</label>\n\t\t\t{{/isButtonDropdown}}\n\t\t\t{{^isButtonDropdown}}\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input type="radio" name="{{name}}" {{#checked}}checked{{/checked}} {{#optionActionPaneIndex}}data-action-index="{{optionActionPaneIndex}}" class="has-action"{{/optionActionPaneIndex}} value="{{value}}" data-ucfpid="{{ucfpid}}">\n\t\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t\t<span {{#icon}}data-icon-before="{{icon}}" class="form-control__option-icon"{{/icon}}>{{name}}</span>\n\t\t\t\t</label>\n\t\t\t{{/isButtonDropdown}}\n\t\t</li>\n\t{{/options}}\n</ul\n'},function(e,t){e.exports='<div class="form-control form-control--borderless form-control--selector element-option-slider">\n\t<div class="form-control__item default-cursor"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t<div class="form-control__item form-control__item--right">\n\t\t<div class="slider"></div>\n\t\t<div id="{{ucfpid}}" class="slider-value" data-value="{{value}}">{{value}}</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='{{#hasActive}}\n\t<h3 class="form-header">{{#tl}}templates.elements.settings.tooltip-social-icons_2{{/tl}}</h3>\n\t<ul class="group group--flush group--sortable js-social-sort">\n\t\t{{#badges}}\n\t\t\t{{#active}}\n\t\t\t\t<li class="group__item">\n\t\t\t\t\t<div class="btn btn-control btn-control--borderless" data-name="{{name}}">\n\t\t\t\t\t\t<span class="btn-control__label"><span class="wsite-social-item wsite-social-{{name}}"></span>{{label}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t{{/active}}\n\t\t{{/badges}}\n\t</ul>\n{{/hasActive}}\n\n\n{{#hasInactive}}\n\t<h3 class="form-header social-inactive-header">{{#tl}}templates.elements.settings.tooltip-social-icons_3{{/tl}}</h3>\n\t<ul class="group group--flush">\n\t\t{{#badges}}\n\t\t\t{{^active}}\n\t\t\t\t<li class="group__item">\n\t\t\t\t\t<div class="btn btn-control btn-control--borderless social-inactive" data-name="{{name}}">\n\t\t\t\t\t\t<span class="btn-control__label">\n\t\t\t\t\t\t\t<span class="wsite-social-item wsite-social-{{name}}"></span>\n\t\t\t\t\t\t\t{{label}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t{{/active}}\n\t\t{{/badges}}\n\t</ul>\n{{/hasInactive}}\n'},function(e,t){e.exports='<label class="form-control form-control--borderless"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>\n\t<input id="{{ucfpid}}" data-adv-placeholder name="adv" placeholder="{{label}}" type="text" value="{{value}}">\n</label>\n'},function(e,t){e.exports='<button class="btn-control btn-control--borderless {{#isColor}}color-btn-control{{/isColor}}" data-action-index="{{actionPaneIndex}}">\n\t{{^value}}\n\t\t<div {{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{#esc_attr}}{{tooltip}}{{/esc_attr}}" {{/tooltip}}>\n\t\t\t{{label}}\n\t\t</div>\n\t{{/value}}\n\t{{#value}}\n\t\t<div class="btn-control__label"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t\t{{^isColor}}\n\t\t\t<span class="btn-control__sublabel">{{value}}</span>\n\t\t{{/isColor}}\n\t{{/value}}\n\t{{#isColor}}\n\t\t<span class="btn-control__sublabel">\n\t\t\t{{value}}\n\t\t\t<span class="btn-control__sublabel-color" style="background-color: {{value}}"></span>\n\t\t</span>\n\t{{/isColor}}\n</button>\n'},function(e,t){e.exports='<label class="form-control form-control--borderless"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>\n\t<textarea id="{{ucfpid}}" placeholder="{{default}}" name="{{name}}">{{value}}</textarea>\n</label>\n'},function(e,t){e.exports='<label class="form-control form-control--toggle form-control--borderless">\n\t<input type="checkbox" id="{{ucfpid}}" {{checked}}>\n\t<div {{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>\n\t\t{{label}}\n\t\t{{#hovertip}}\n\t\t\t<span class="icon element-settings__icon" data-hover-tip="" data-hover-tip-text="{{hovertip}}" data-hover-tip-wrap-class-name="ui-framework">tooltip</span>\n\t\t{{/hovertip}}\n\t</div>\n\t<span class="form-control--toggle__switch"></span>\n</label>\n\n'},function(e,t){e.exports='<div class="dialog__section">\n    {{#description}}\n        <p class="element-settings__description">{{description}}</p>\n    {{/description}}\n</div>\n'},function(e,t){
e.exports='<span class="wsite-spacer-label">{{label}}</span>'},function(e,t){e.exports='<div class="premium-element-warning-container">\n\t<div class="premium-element-warning-image-container">\n\t\t<img src="//{{ASSETS_BASE}}/images/editor/free-trial/must-upgrade-illustration.png">\n\t</div>\n\t<h2>\n\t\t{{headerText}}\n\t</h2>\n\t<p>\n\t\t{{descriptionText}}\n\t</p>\n\t<button class="btn--rounded btn--secondary upgrade-button">\n\t\t<span class="icon">bolt</span> {{#tl}}templates.free-trial.premium-element-warning_1{{/tl}}\n\t</button>\n\t{{#eligibleForFreeTrial}}\n\t<a class="free-trial-link">\n\t\t{{#tl}}templates.free-trial.premium-element-warning_2{{/tl}}\n\t</a>\n\t{{/eligibleForFreeTrial}}\n</div>'},function(e,t){e.exports='<div class="dialog__section">\n\t{{#tl}}templates.page-layouts.site-editor.encoding_failure_retry_message{{/tl}}\n</div>\n\n<button class="btn--action js-confirm">{{#tl}}templates.page-layouts.site-editor.encoding_failure_retry_confirm{{/tl}}</button>\n'},function(e,t){e.exports='{{^no_image}}\n\t<div class="upgrade page-layout-option page-layout-{{name}}" data-id="{{page_layout_id}}">\n\t{{#show_background}}\n\t\t<img class="background-image static-background" src="{{{preview_image_with_bg}}}" data-id="{{page_layout_id}}">\n\t{{/show_background}}\n\t{{^show_background}}\n\t\t<img class="background-image static-background" src="{{{preview_image}}}" data-id="{{page_layout_id}}">\n\t{{/show_background}}\n\t</div>\n{{/no_image}}\n\n<div class="section-layout-upgrade-desc">\n\t<h2>{{header}}</h2>\n\t<div class="content">{{content}}</div>\n\t<button class="layout-upgrade__btn btn--rounded btn--secondary">\n\t\t<span class="icon">bolt</span>\n\t\t{{#tl}}sections.layouts.apply.upgrade.upgrade{{/tl}}\n\t</button>\n</div>'},function(e,t){e.exports='<li {{#id}}id="{{id}}"{{/id}}\n\tclass="wsite-menu-subitem-wrap {{#is_current}}wsite-nav-current{{/is_current}}"\n\t>\n\t<a\n\t\t{{^nonclickable}}\n\t\t\t{{^nav_menu}}\n\t\t\t\thref="{{url}}"\n\t\t\t{{/nav_menu}}\n\t\t{{/nonclickable}}\n\t\t{{#target}}\n\t\t\ttarget="{{target}}"\n\t\t{{/target}}\n\t\tclass="wsite-menu-subitem"\n\t\t>\n\t\t<span class="wsite-menu-title">\n\t\t\t{{{title_html}}}\n\t\t</span>{{#has_children}}<span class="wsite-menu-arrow">&gt;</span>{{/has_children}}\n\t</a>\n\t{{#has_children}}{{> navigation/flyout/list}}{{/has_children}}\n</li>\n'},function(e,t){e.exports='<div class="wsite-menu-wrap" style="display:none">\n\t<ul class="wsite-menu">\n\t\t{{#children}}{{> navigation/flyout/item}}{{/children}}\n\t</ul>\n</div>\n'},function(e,t){e.exports='<li {{#id}}id="{{id}}"{{/id}} class="wsite-menu-item-wrap">\n\t<a\n\t\t{{^nonclickable}}\n\t\t\t{{^nav_menu}}\n\t\t\t\thref="{{url}}"\n\t\t\t{{/nav_menu}}\n\t\t{{/nonclickable}}\n\t\t{{#target}}\n\t\t\ttarget="{{target}}"\n\t\t{{/target}}\n\t\t{{#membership_required}}\n\t\t\tdata-membership-required="{{.}}"\n\t\t{{/membership_required}}\n\t\tclass="wsite-menu-item"\n\t\t>\n\t\t{{{title_html}}}\n\t</a>\n\t{{#has_children}}{{> navigation/flyout/list}}{{/has_children}}\n</li>\n'},function(e,t){e.exports='<ul class="wsite-menu-default">\n\t{{#links}}\n\t\t{{> navigation/item}}\n\t{{/links}}\n</ul>\n'},function(e,t){e.exports='<span class="wsite-logo">\n{{# max_height }}<table style="height:{{ max_height }}px"><tr><td>{{/ max_height }}\n{{# is_image }}\n\t<a href="{{ link }}">\n\t\t<img src="{{ image_url }}"{{# image_css }} style="{{ image_css }}"{{/ image_css }} alt="{{ text }}" />\n\t</a>\n{{/ is_image }}\n{{^ is_image }}\n\t{{^ is_hidden_text }}<a href="{{ link }}">{{/ is_hidden_text }}\n\t{{# is_hidden_text }}<span class="wsite-title-placeholder">&nbsp;</span><span style="display:none">{{/ is_hidden_text }}\n\t{{{ text }}}\n\t{{# is_hidden_text }}</span>{{/ is_hidden_text }}\n\t{{^ is_hidden_text }}</a>{{/ is_hidden_text }}\n{{/ is_image }}\n{{# max_height }}</td></tr></table>{{/ max_height }}\n</span>'},function(e,t){e.exports='<span class="wsite-text{{#phone}} wsite-phone{{/phone}}{{#headline}} wsite-headline{{/headline}}{{#headline_paragraph}} wsite-headline-paragraph{{/headline_paragraph}}"{{^is_mobile}}{{#is_preview}} title="{{#esc_attr}}{{#tl}}templates.platform.theme.core.shared.areas.text_2{{/tl}}{{/esc_attr}}"{{/is_preview}}{{/is_mobile}}>\n\t{{{text}}}{{^text}}{{#is_preview}}{{{preview_text}}}{{/is_preview}}{{/text}}\n</span>'},function(e,t){e.exports='{{! used within the editor }}\n\n<div id="{{elId}}" class="weebly-area wsite-elements {{containerClassName}}">\n\t{{{sections}}}\n</div>\n'},function(e,t){e.exports='<div class="wsite-section-wrap">\n\t<div {{#el_id}}id="{{el_id}}"{{/el_id}} class="wsite-section wsite-header-section{{#class_names}} {{class_names}}{{/class_names}}" style="{{style}}" {{#data}}data-{{key}}="{{value}}" {{/data}}>\n\t\t<div class="wsite-section-content">\n\t\t\t{{{prefix_html}}}\n\t\t\t\t<div class="wsite-section-elements">\n\t\t\t\t\t{{{content}}}\n\t\t\t\t</div>\n\t\t\t{{{postfix_html}}}\n\t\t</div>\n\t\t<div class="{{highlight_class_name}}"></div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="wsite-section-wrap">\n\t<div class="wsite-section wsite-body-section{{#class_names}} {{class_names}}{{/class_names}}" {{#style}}style="{{style}}"{{/style}} {{#data}}data-{{key}}="{{value}}" {{/data}}>\n\t\t{{{prefix_html}}}\n\t\t\t<div class="wsite-section-elements">\n\t\t\t\t{{{content}}}\n\t\t\t</div>\n\t\t{{{postfix_html}}}\n\n\t\t{{#highlight_class_name}}\n\t\t\t<div class="{{highlight_class_name}}"></div>\n\t\t{{/highlight_class_name}}\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="bgpanel__header" {{#background-color}} style="background-color: {{background-color}}; {{/background-color}}">\n\t<button class="btn--action add-color">{{#tl}}templates.sections.change-bgcolor-panel_1{{/tl}}</button>\n</div>\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='<div class="bgpanel__header" {{#background}}style="{{background}}"{{/background}}>\n\t<button class="btn--action add-gradient">{{#tl}}templates.sections.change-bggradient-panel-action{{/tl}}</button>\n</div>\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='{{#image}}\n\t<div class="bgpanel__header" style="background-image: url({{image.url}});">\n\t\t<div class="sbg__btns-row">\n\t\t\t<button class="btn--action replace-image">{{#tl}}templates.sections.change-bgimage.replace{{/tl}}</button>\n\t\t\t<button class="btn--action change-image">{{#tl}}templates.sections.change-bgimage.edit{{/tl}}</button>\n\t\t</div>\n\t</div>\n{{/image}}\n\n{{^image}}\n\t<div class="bgpanel__header">\n\t\t<button class="btn--action change-image">{{#tl}}templates.sections.change-bgimage.add{{/tl}}</button>\n\t</div>\n{{/image}}\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='<div class="color-picker__container">\n\t<span class="form-control__label-text">{{#tl}}templates.sections.pick-background-color_1{{/tl}}</span>\n\t{{! color picker rendered here by ColorPanel.js }}\n</div>'},function(e,t){e.exports='<div class="gradient-builder">\n    <span class="form-control__label-text">{{#tl}}templates.sections.pick-background-gradient-angle{{/tl}}</span>\n    <label class="form-control form-control--slider">\n        <div id="slider" class="slider slider--labeled"></div>\n        <span id="slider-label" class="form-control--slider__label"></span>\n    </label>\n    <span class="form-control__label-text">{{#tl}}templates.sections.pick-background-gradient-colors{{/tl}}</span>\n</div>\n'},function(e,t){e.exports='<div class="color-section">\n    <div class="color-picker__container"></div>\n    <span class="form-control__label-text slider-label">{{#tl}}templates.sections.pick-gradient-color-start-position{{/tl}}</span>\n    <label class="form-control form-control--slider">\n        <div id="slider" class="slider slider--labeled"></div>\n        <span id="slider-label" class="form-control--slider__label"></span>\n    </label>\n</div>\n'},function(e,t){e.exports='<section class="dialog__section dialog__section--white">\n\t<div class="btn-group btn-group__add-video">\n\t\t<button data-type="gallery">{{#tl}}templates.sections.dialogs.videos.add-video-panel_1{{/tl}}</button>\n\t\t<button data-type="upload">{{#tl}}templates.sections.dialogs.videos.add-video-panel_2{{/tl}}</button>\n\t\t{{#has_url}}<button data-type="url">{{#tl}}templates.sections.dialogs.videos.add-video-panel_3{{/tl}}</button>{{/has_url}}\n\t</div>\n</section>\n\n{{#show_paywall}}\n\t<div class="message message--upgrade upgrade-video-message">\n\t\t<a href="#" class="message__content" data-icon-before="bolt">\n\t\t\t{{#tl}}sections.dialogs.video_upgrade_message{{/tl}}\n\t\t</a>\n\t</div>\n{{/show_paywall}}\n\n<div class="add-video-container">\n</div>\n'},function(e,t){e.exports='<div class="bgpanel__header" {{#encoding_done}}style="background-image: url({{background_url}});"{{/encoding_done}}>\n\t{{#encoding_done}}\n\t\t<button class="btn--action change-video">{{#tl}}templates.sections.change-bgvideo-panel_1{{/tl}}</button>\n\t{{/encoding_done}}\n\t{{^encoding_done}}\n\t\t<p>{{#tl}}templates.sections.change-bgvideo-panel_encoding{{/tl}}</p>\n\t{{/encoding_done}}\n</div>\n<div class="bgpanel__body">\n\t<ul class="group group--flush">\n\t\t<li class="group__item">\n\t\t\t<button class="btn-control btn-control--borderless btn-control--no_padding btn-control--preview_video js-preview">\n\t\t\t\t<span class="btn-control__label preview-label">{{#tl}}templates.sections.dialogs.videos.change-bgvideo-panel_preview-video{{/tl}}</span>\n\t\t\t\t<span class="video-control preview icon">play</span>\n\t\t\t\t<span class="video-control stop icon">stop</span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n\t<ul class="group group--flush">\n\t\t<li class="group__item">\n\t\t\t<div class="form-row form-row--borderless">\n\t\t\t\t<div class="form-row__left">{{#tl}}templates.sections.change-bgvideo-panel_4{{/tl}}</div>\n\t\t\t\t<div class="form-row__right">\n\t\t\t\t\t<label class="toggle toggle__loop">\n\t\t\t\t\t\t<input type="checkbox" name="loop" {{#loop}}checked="checked"{{/loop}}>\n\t\t\t\t\t\t<span class="toggle__option"></span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>\n'},function(e,t){e.exports='<div class="bgpanel__header" style="background-image: url({{background_url}});">\n\t<ul class="group group--flush group--hoverable">\n\t\t<li class="group__item">\n\t\t\t<button class="btn-control btn-control--borderless add-video">\n\t\t\t\t<span class="btn-control__label">{{#tl}}templates.sections.dialogs.videos.initial-bgvideo-panel_1{{/tl}}</span>\n\t\t\t\t<span class="btn-control__sublabel"></span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n</div>\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='<div class="video-gallery__snapshot" style="background-image: url({{snapshot_url}})" {{#show_hovertip}}data-hover-tip="" data-hover-tip-text="{{shortname}}" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-follow="true"{{/show_hovertip}}>\n</div>\n'},function(e,t){e.exports='<div class="user-uploaded">\n\t<span class="dialog__section form-control__label-text">{{#tl}}templates.sections.dialogs.videos.previously-uploaded-videos{{/tl}}</span>\n</div>'},function(e,t){e.exports='{{#videoFileName}}\n\t<fieldset class="input-group el-options-url-group">\n\t\t<div class="input-group__content">\n\t\t\t<div class="input-group__row">\n\t\t\t\t<div class="input-group__item form-control form-control__el-options--input js-upload">\n\t\t\t\t\t<input type="text" readonly="readonly" value="{{videoFileName}}">\n\t\t\t\t\t<button class="btn--link action-btn__el-options">{{#tl}}templates.sections.dialogs.videos.video-upload_1{{/tl}}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n{{/videoFileName}}\n{{^videoFileName}}\n<div class="placeholder--video__upload js-upload">\n\t<div class="icon icon--large">videoholder64</div>\n\t<button class="btn btn--action placeholder--video__upload-btn">{{#tl}}templates.sections.dialogs.videos.video-upload_2{{/tl}}</button>\n\t<div class="warning__video-size">{{#tl}}templates.sections.dialogs.videos.video-upload_3{{/tl}}</div>\n</div>\n{{/videoFileName}}'},function(e,t){e.exports='\t<section class="dialog__section">\n\t\t<label class="form-control">\n\t\t\t<span class="form-control__label-text">Insert URL</span>\n\t\t\t<input type="text" class="bgvideo__input" placeholder="http://www.youtube.com/watch?v=dQw4w9WgXcQ" value="{{videoUrl}}">\n\t\t</label>\n\n\t\t<label class="form-control">\n\t\t\t<button class="btn--primary add-video">{{#tl}}templates.sections.add-video-panel_1{{/tl}}</button>\n\t\t</label>\n\t</section>\n'},function(e,t){e.exports='<div id="{{elID}}" class="{{classNames}}">\n\t{{& innerHtml}}\n</div>\n'},function(e,t){e.exports='<ul id="{{elID}}" class="weebly-content-area {{classNames}}">\n\t{{& elements}}\n</ul>'},function(e,t){e.exports='<div id="empty-message" class="empty-element-message">\n\t<div id="empty-message-inner">\n\t\t{{#tl}}templates.sections.empty-messages.blog_1{{/tl}}\n\t</div>\n</div>\n'},function(e,t){e.exports='<div id="empty-message" class="wsite-com-empty-long-description inside empty-message">\n\t<div id="empty-message-inner">\n\t\t{{#tl}}templates.sections.empty-messages.product_1{{/tl}}\n\t\t<div class="empty-message-line2"></div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<span class="label label--new js-new-label">\n    {{#tl}}templates.sections.new-label_1{{/tl}}\n</span>\n'},function(e,t){e.exports='{{#show_save_to_pages}}\n<button class="js-manage btn-control section-manage-bg-button">\n\t<span class="btn-control__label">{{#tl}}sections.dialogs.SectionOptions_save_to_pages_label{{/tl}}</span>\n\t<span class="btn-control__sublabel js-connect-page-count"></span>\n</button>\n{{/show_save_to_pages}}\n\n{{#show_alignment}}\n<div class="form-control form-control--selector section-content-align">\n\t<div class="form-control__item">{{#tl}}sections.dialogs.SectionOptions_align_label{{/tl}}</div>\n\t<div class="form-control__item--right">\n\t\t<div class="inline-selector">\n\t\t\t<span class="inline-selector__option{{#align_top_selected}} is-selected{{/align_top_selected}}" data-alignment="top">\n\t\t\t\t<span class="icon">bodytop</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option{{#align_middle_selected}} is-selected{{/align_middle_selected}}" data-alignment="middle">\n\t\t\t\t<span class="icon">bodycenter</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option{{#align_bottom_selected}} is-selected{{/align_bottom_selected}}" data-alignment="bottom">\n\t\t\t\t<span class="icon">bodybottom</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>\n{{/show_alignment}}\n'},function(e,t){e.exports='<ul class="group group--flush group--hoverable js-effects-container">\n\t{{#effects}}\n\t\t<li class="group__item">\n\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t<input type="radio" name="section-effects" value="{{value}}"{{#selected}} checked{{/selected}}/>\n\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t{{label}}\n\t\t\t</label>\n\t\t</li>\n\t{{/effects}}\n</ul>\n'},function(e,t){e.exports='<ul class="group group--hoverable group--flush">\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless js-effects">\n\t\t\t<span class="btn-control__label">\n\t\t\t\t{{#tl}}sections.dialogs.SectionOptions_effects_button{{/tl}}\n\t\t\t</span>\n\t\t\t<span class="btn-control__sublabel">{{selected_effects}}</span>\n\t\t</button>\n\t</li>\n\t{{#show_advanced}}\n\t\t<li class="group__item">\n\t\t\t<button class="btn-control btn-control--borderless js-advanced">\n\t\t\t\t<span class="btn-control__label">\n\t\t\t\t\t{{#tl}}sections.dialogs.SectionOptions_advanced_button{{/tl}}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t</li>\n\t{{/show_advanced}}\n</ul>\n\n'},function(e,t){e.exports='<ul class="section-controller {{#prefer_bottom}}arrow-up{{/prefer_bottom}}">\n\n\t{{#show_edit}}\n\t\t<li class="section-edit"><a role="button">{{#tl}}templates.sections.sections-controller_1{{/tl}}</a></li>\n\t{{/show_edit}}\n\n\t{{#show_add_layout}}\n\t\t<li class="section-add-layout"><a role="button">{{#tl}}templates.sections.sections-controller_7{{/tl}}</a></li>\n\t{{/show_add_layout}}\n\n\t{{#show_add_header_layout}}\n\t\t<li class="section-add-layout"><a role="button">{{#tl}}sections.layouts.change.control.header.add_layout{{/tl}}</a></li>\n\t{{/show_add_header_layout}}\n\n\t{{#show_change_header_layout}}\n\t\t<li class="section-change-layout"><a role="button">{{#tl}}sections.layouts.change.control.header.change_layout{{/tl}}</a></li>\n\t{{/show_change_header_layout}}\t\n\n\t{{#show_move}}\n\t\t<li class="section-move"><a role="button">{{#tl}}templates.sections.sections-controller_6{{/tl}}</a></li>\n\t{{/show_move}}\n\n\t{{#show_delete}}\n\t\t<li class="section-delete"><a role="button">{{#tl}}templates.sections.sections-controller_4{{/tl}}</a></li>\n\t{{/show_delete}}\n\n\t{{#show_clear}}\n\t\t<li class="section-clear"><a role="button">{{#tl}}templates.sections.sections-controller_4{{/tl}}</a></li>\n\t{{/show_clear}}\n</ul>\n'},function(e,t){e.exports='<div class="section-edge-wrapper {{#handle}}ui-framework{{/handle}}">\n\t{{#handle}}\n\t\t<div class="section-edge-handle-wrapper ui-resizable-handle ui-resizable-s">\n\t\t\t<div class="section-edge-handle"></div>\n\t\t</div>\n\t\t<div class="hover-tip hover-tip__section"></div>\n\t{{/handle}}\n</div>'},function(e,t){e.exports='<li id="w-theme-preview-palette">\n\t<ul id="w-theme-preview-colors">\n\t\t{{#colors}}\n\t\t\t<li>\n\t\t\t\t<a style="background:{{sample}}" data-color="{{value}}">\n\t\t\t\t\t<span></span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{{/colors}}\n\t</ul>\n</li>'},function(e,t){e.exports='<div id="w-theme-preview-top" class="w-ui-topbar ui-framework">\n\t<div class="w-logo-top">\n\t\t<div class="w-logo-container {{#isWhiteLabeled}}alt{{/isWhiteLabeled}}">\n\t\t\t{{^isWhiteLabeled}}<span class="icon w-logo">brandw</span>{{/isWhiteLabeled}}\n\t\t\t<span>{{#tl}}templates.theme-gallery.preview.topbar_1{{/tl}}</span>\n\t\t</div>\n\t</div>\n\t<ul class="tabs">\n\t\t{{#palette}}\n\t\t\t{{{palette}}}\n\t\t{{/palette}}\n\t\t{{^palette}}\n\t\t\t<li>\n\t\t\t</li>\n\t\t{{/palette}}\n\t</ul>\n\t<ul class="right-buttons">\n\t\t<li id="cancel-button">\n\t\t\t<button class="btn btn--borderless btn__header--transparent"><span>{{#tl}}templates.theme-gallery.preview.topbar_2{{/tl}}</span></button>\n\t\t</li>\n\t\t<li id="choose-button">\n\t\t\t<button class="btn btn--borderless btn__header--blue"><span>{{#tl}}templates.theme-gallery.preview.topbar_3{{/tl}}</span></button>\n\t\t</li>\n\t</ul>\n</div>\n'},function(e,t){e.exports='{{!\n\tElement UI Container; holds views that are interacting with the\n\teditor iframe.\n}}\n\n<div id="element-ui-container">\n\t<div id="beacon-container"></div>\n\t<div class="ui-framework-container ui-framework">\n\t\t{{!\n\t\t\tGeneral purpose orbit container that requires\n\t\t\tthe `ui-framework` classname\n\t\t}}\n\t</div>\n</div>\n\n'},function(e,t){e.exports='<li style="position:relative;">\n\t<img src="http://{{urlPrefix}}/weebly/images/options-move.gif" alt="move" class="options-handle editmenu-input-move" />\n\t<input type="text" value="{{value}}" />\n\t<a class="editmenu-input-delete">\n\t\t<img src="http://{{urlPrefix}}/weebly/images/options-delete.gif" alt="Delete" />\n\t</a>\n</li>'},,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,o;i=[n(5),n(2),n(142),n(14),n(125),n(24),n(7),n(59),n(150),n(17),n(168),n(128),n(371)],o=function(e,t,n,i,o,r,s,a,l,c,u,d){var h={};return h.initializeEditor=function(){var e=arguments;setTimeout(function(){h.initializeEditorSync.apply(this,e)},0)},s.commands.setHandler("site:initializeEditor",h.initializeEditor),h.initializeEditorSync=function(p,f,m,g,v,b,w,y,_,E,T,C,S,I){try{t.each(p.element_definitions,function(e,t){u.registerDefinition(t,e)}),window.source=p.restrictions.source,delete p.restrictions.source,e.Restrictions.settings=p.restrictions,e.Restrictions.services=p.services,e.Restrictions.level=parseInt(p.access_level),e.Restrictions.published=p.is_published,t.isUndefined(I)||(window.userID=I,"0"===window.com_userID&&(window.com_userID=I)),t.isUndefined(S)||(window.currentSite=S,"0"===window.com_currentSite&&(window.com_currentSite=S)),window.currentSiteTitle=m,window.hideTitle=parseInt(p.hide_title),window.DISABLE_NAV_MORE=p.disableNavMore,window.adsenseID=p.adsenseID,window.remoteAccounts=p.remoteAccounts,g.css=v,r.setCurrentThemeColor(g.current_theme_color),r.setCurrentThemeData(g),i.vent.trigger("forceThemeRerender"),r.primaryThemeDefinition=g,r.primaryThemeCSS=v,r.adaptiveThemeDefinition=b,r.adaptiveThemeCSS=w,t.isObject(r.primaryThemeDefinition)&&e.themeCache.insert(r.primaryThemeDefinition.theme_id,r.primaryThemeDefinition),t.isObject(r.adaptiveThemeDefinition)&&e.themeCache.insert(r.adaptiveThemeDefinition.theme_id,r.adaptiveThemeDefinition),h.backgrounds=_,o.setDesignOptions(y),e.Permissions=T||{},e.Font.data=p.fonts,l.setSiteSettings(p.mobile_site_settings),o.siteApplyDesignOptions(),e.Commerce.hasCart=p.has_cart,d.storefrontSettings.set({product_image_ratio:p.store_settings.product_image_ratio,element_legacy_mode:p.store_settings.element_legacy_mode,upload_uid_location:p.store_settings.upload_uid_location}),t.isObject(e.Reseller)||(e.Reseller={}),e.Reseller.isResellerUser=p.user.reseller,C&&t.extend(e,C),c.reset(f),i.vent.trigger("site:initialized",E)}catch(e){console.error(e),n.captureException(e),s.trigger(a.EVENTS.SITE_INIT_FAIL,e)}},s.reqres.setHandler("site:initializeEditorSync",h.initializeEditorSync),h.syncRestrictions=function(n){t.extend(e.Restrictions,n)},s.commands.setHandler("site:syncRestrictions",h.syncRestrictions),h}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(14),n(7),n(281),n(686),n(67),n(28),n(26),n(185),n(435),n(355),n(284),n(12),n(13),n(360),n(120),n(230)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g){function v(){a.clearPageDataCache(),[Weebly.siteContext,Weebly.pageContext].forEach(a.setContextData)}function b(t,n){var i=e(document);null!==t&&i.scrollLeft(t),null!==n&&i.scrollTop(n)}function w(t,n,i){if(0!==t||0!==n){var o=e(document);if(i||(i={left:0,top:0}),null===C&&!I)return I=!0,void a.getPageData().done(E);var r=o.scrollLeft(),s=r;(t<0&&r<=C||t>0&&r<C)&&(s=r+t,s>=C?(i.left+=C-r,s=C):s<0?(i.left+=0-r,s=0):i.left+=t);var l=o.scrollTop(),c=l;(n<0&&l<=S||n>0&&l<S)&&(c=l+n,c>=S?(i.top+=S-l,c=S):c<0?(i.top+=0-l,c=0):i.top+=n),s===r&&c===l||b(s,c)}}function y(e){var t={};null===C&&a.getPageData().done(E),n.vent.trigger("editor:element:dragStart"),e===p.SECTION_ELEMENT&&(t.elements=[]),d.showContentAreaSpotlights(t)}function _(){d.hideContentAreaSpotlights(),n.vent.trigger("editor:element:dragStop")}function E(e){var t=l.getScrollContainer();C=e.scrollWidth-t.innerWidth(),S=e.scrollHeight-t.innerHeight(),I=!1}var T=n.module("ui",{startWithParent:!1}),C=null,S=null,I=!1,O={pageRendered:function(){S=null,C=null,v()},scrollBy:w,dragstart:y,dragstop:_,"editor:spotlight:open editor:spotlight:close":c.resizeScreen,"page:startRender viewChange":a.clearPageDataCache,"editor:elements:changed":v};T.resetScrollTop=function(t){if(window.resetScrollTop&&(window.resetScrollTop=null,b(null,0)),t){if("comments"==window.currentBlog.skipToComments){var n=e(window.currentBlog.skipToCommentId&&e("#"+window.currentBlog.skipToCommentId)?"#"+window.currentBlog.skipToCommentId:"#comments"),i=n.offset();b(null,i.top-150)}window.currentBlog.showPostSettings&&(e("#blogPostSettings").slideToggle(),window.currentBlog.showPostSettings=0)}};var D={dragstart:y,dragstop:_,scrollBy:w};i.commands.setHandlers({setScroll:b,guaranteeBestScroll:function(){if(o.topLevelDroppables.length){for(var t,n=e(window),i=n.scrollTop(),r=i+n.height(),s=0;s<o.topLevelDroppables.length;s++){t=e(o.topLevelDroppables[s]);var a=t.offset().top,l=a+t.outerHeight(),c=Math.max(0,Math.min(l,r)-Math.max(a,i));if(c>=100||l-a===c)return}t=e(o.topLevelDroppables[0]),e("html, body").animate({scrollTop:t.offset().top-25},800,"easeOutExpo")}},"site:set:title":function(t){e("#wsite-title").text(t)},"flyout:refreshNavCondense":window.refreshNavCondense,createMarkerFromEdge:h.createMarkerFromEdge,removeMarker:h.removeMarker});var x={scroll:function(){if(!window.isDraggingElement){var t=e(this);i.execute("setUIScroll",t.scrollLeft(),t.scrollTop())}},dragenter:function(){i.trigger("dnd:dragenter")}};return window.elementControlsEnabled=!1,T.on("start",function(){T.listenTo(e(document),x),T.listenTo(n.vent,O),T.listenTo(i,D),n.commands.setHandlers({createMarkerFromEdge:h.createMarkerFromEdge,removeMarker:h.removeMarker}),s.initEditBox(),b(0,0),r.initElementControls(),window.elementControlsEnabled=!0,a.init(n);var t=(new g).fromBackendData(_W.ab_test_data);!f.chromeless&&t.getTestVariable("fullStory","showFullStory")&&m.start(!0)}),T}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(2),n(9),n(135),n(136),n(140),n(705),n(703),n(80),n(694),n(738),n(445),n(1796),n(2023)],o=function(){}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;(function(r){i=[n(1),n(7)],o=function(e,t){function n(){}var i={};return i.getImageDimensions=function(t){var n=e("#"+t).find("img");return{offset:n.offset(),height:n.height(),innerHeight:n.innerHeight(),width:n.width(),innerWidth:n.innerWidth()}},i.addPlaceholder=function(t){var n=e(t),i=n.outerWidth(!1),o=n.outerHeight(!1);e(".wsite-transparent-placeholder").remove();var r=e('<div class="wsite-transparent-placeholder"></div>');r.width(i),r.height(o),r.css("marginTop",n.css("marginTop")),r.css("marginBottom",n.css("marginBottom")),r.css("marginLeft",n.css("marginLeft")),r.css("marginRight",n.css("marginRight")),n.after(r),n.hide()},t.commands.setHandler("page:resizeHeaderImage",n),i.removePlaceholder=function(t){t&&e(t).show(),e(".wsite-transparent-placeholder").remove()},i.resizePlaceholder=function(t,n){var i=parseInt(t,10),o=parseInt(n,10),r=e(".wsite-transparent-placeholder");r.width(i+"px"),r.height(o+"px")},t.commands.setHandler("page:resizePlaceholder",i.resizePlaceholder),t.commands.setHandler("area:resizePlaceholder",i.resizePlaceholder),t.commands.setHandler("element:resizePlaceholder",i.resizePlaceholder),i.formatPHPDate=function(e,t){var n=["d","j","m","n","y","Y","a","A","g","h","G","H","i","s"],i=["DD","D","MM","M","YY","YYYY","a","A","hh","h","HH","H","mm","ss"];return r.each(n,function(e,n){t=t.replace(e,i[n])}),new Date(t).toString()},i}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(t,n(2))},,,,,,,function(e,t,n){var i,o;i=[],o=function(){var e={},t,n;return e.getDisqusElement=function(){return document.getElementById("disqus_thread")},e.embed=function(n){if(e.getDisqusElement())if(t)e.reset(n);else{var i=n.shortname,o=n.identifier,r=n.url,s=n.config;t=document.createElement("script"),t.async=!0,t.type="text/javascript",t.src="//"+i+".disqus.com/embed.js",t.onload=function(){e.reset(n)},(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}},e.count=function(e){var t="",i=e.shortname;if(window.disqus_shortname=i,n&&n.parentNode){n.parentNode.removeChild(n),window.DISQUSWIDGETS=n=void 0,t="?_="+(new Date).getTime();for(var o=i+".disqus.com/count-data.js",r=document.getElementsByTagName("head")[0],s=r.childNodes,a,l=0;l<s.length;l++)a=s[l],"SCRIPT"===a.nodeName&&a.src.match(o)&&r.removeChild(a)}n=document.createElement("script"),n.async=!0,n.type="text/javascript",n.src="//"+i+".disqus.com/count.js"+t,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(n)},e.reset=function(t){var n=e.getDisqusElement();n&&(t.scheme&&(n.style.color="dark"===t.scheme?"#fff":"#000"),DISQUS.reset({reload:!0,config:function(){this.page.identifier=t.identifier,this.page.title=t.title,this.page.url=t.url}}))},e}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(998),__webpack_require__(359),__webpack_require__(14),__webpack_require__(7),__webpack_require__(115),__webpack_require__(1100),__webpack_require__(27),__webpack_require__(204)],__WEBPACK_AMD_DEFINE_RESULT__=function($,disqusSDK,facebookSDK,frameApp,Relay,Spotlight,BlogPostModule){var module=frameApp.module("blog",function(blogModule){var blogContainer,spotlight={padding:10,current:void 0,open:function(){var e=this,t=$(".blog-body"),n=this.padding,i,o,r;e.current&&e.close(),e.current=new Spotlight({element:t,interval:100,light:!0,opacity:.3,padding:n,roundedCorners:!0,onReposition:function(){e.positionNav(t,o,r)}}),e.current.show(),o=$("#blog-navigation"),r=$(e.current.container[0]),r.append(o),e.positionNav(t,o,r)},positionNav:function(e,t,n){var i=n.offset(),o=e.offset(),r=this.padding;t.css({width:e.outerWidth()+2*r,top:o.top-t.outerHeight()-i.top-r-8,left:o.left-i.left-r})},close:function(){this.current&&this.current.destroy(),this.current=null}},relayCommands={"blog:index:init":function(){var e;$("#icontent, body").addClass("wsite-blog-index"),blogContainer=$("#blogTable"),e=blogContainer.find(".blog-post"),e.length?(blogContainer.on("click",'a[href^="blog-url"]',function(e){var t=this.href.split(":")[1];Relay.execute("blog:link:go",t),e.preventDefault()}),blogContainer.on("click.blog-index",".blog-post",function(e){var t=e.currentTarget.id;t&&3==t.split("-").length&&(t=t.split("-")[2],window.currentBlog.postId=t,Relay.execute("blog:post:edit",t))})):blogContainer.find(".blog-postlist").prepend('<div id="empty-blog-posts">'+_W.utl("javascript.blog.frame.module_2")+"</div>")},"blog:index:teardown":function(){$("#icontent, body").removeClass("wsite-blog-index")},"blog:spotlight:open":function(){spotlight.open()},"blog:spotlight:close":function(){spotlight.close()},"blog:facebook:init":function(){facebookSDK.parse()},"blog:disqus:init":function(e){disqusSDK.count({shortname:e})},"blog:post:teardown":function(){blogContainer&&(blogContainer.off(".blog-index"),blogContainer=void 0)},"blogPost:start":function(e){BlogPostModule.start(e)},"blog:platformElements:update":function(){setTimeout(function(){$("#content .blog-body").find(".element-script").each(function(index,script){eval(script.innerHTML)})},500)}};blogModule.on("start",function(){Relay.commands.setHandlers(relayCommands),Relay.reqres.setHandlers({"blogPost:stop":function(){resetBlogGlobals(),BlogPostModule.stop()}})})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var i,o;i=[n(1),n(52),n(998),n(359),n(14),n(7),n(235),n(204)],o=function(e,t,n,i,o,r){return o.module("blogPost",function(o){function s(n){d.title.on({"focus.post-view":function(){var e=d.title,t=e.text();e.data("default-value")===t&&e.text(""),a(e),window.disableBackspaceExit=!1},"blur.post-view":function(){var e=d.title,t=a(e);""===t&&e.text(e.data("default-value")),r.execute("blogPost:set","post_title",t),window.disableBackspaceExit=!0},"paste.post-view":function(){setTimeout(function(){a(d.title)},50)},"keydown.post-view":function(e){9!==e.keyCode&&13!==e.keyCode&&27!==e.keyCode||this.blur()}}),h=e('<div class="w-ui"></div>').appendTo("body");var i=t(n.createdDateInSiteTz,_W.siteContext.mdateFormat).toDate();d.dateField.datepicker({format:_W.siteContext.jdateFormat,autoclose:!0,parentElement:h}).on("show",function(){if(d.dateText.length){var e=d.dateText.offset(),t=d.dateText.height(),n=d.dateText.width();d.dateField.data("datepicker").picker.css({top:e.top+t,left:Math.max(e.left-n-40,0)}),h.find(".datepicker").css("z-index","14")}}).datepicker("setDate",i).datepicker("fill"),
d.dateText.on("click.post-view",function(e){d.dateField.datepicker("show")}),d.dateField.on({"change.post-view":function(){var e=d.dateField.val();d.dateText.text(e),r.execute("blogPost:set","createdDateInSiteTz",e)}})}function a(e){var t=e.text().replace(/[\n\r]+/g," ");return t=t.trim(),e.text(t),t}function l(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.documentElement.textContent}function c(){var t=e("body").hasClass("wsite-theme-light");u.postUrl&&(n.embed({shortname:u.shortname,identifier:u.postId,url:u.postUrl,scheme:t?"light":"dark",config:function(){this.language="en"}}),n.count({shortname:shortname}))}o.startWithParent=!1;var u,d,h;o.on("start",function(t){u=t,e("#icontent, body").addClass("wsite-blog-post"),d={title:e("#blog-post-title"),dateText:e(".date-text"),dateField:e("#blog-date-field"),commentArea:e("#blogTable .blog-comment-area")},r.commands.setHandlers({"blogPost:date:update":function(e){d.dateText.text(e),d.dateField.val(e)},"blogPost:comments:hide":function(){d.commentArea.hide()}}),o.listenTo(r,{"blogPost:title:blur":function(){var e=d.title;e.is(":focus")&&e.trigger("blur")},"blogPost:publish:success":function(){resetBlogGlobals(),e("#secondlist-blog").remove()}}),r.request("blog:post:current").done(function(e){currentBlog.postId=void 0!==e?e:0}).fail(function(){}),u.postTitle&&d.title.text(l(u.postTitle)),u.hideComments?d.commentArea.hide():"facebook"===u.commentingSystem?i.parse():"disqus"===u.commentingSystem&&c(),s(u)}),o.on("stop",function(){e("#icontent, body").removeClass("wsite-blog-post"),h.remove(),d.title.off(".post-view"),d.dateText.off(".post-view"),d.dateField.off(".post-view"),r.commands.removeHandlers(["blogPost:date:update","blogPost:comments:hide"])})})}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(991),n(7),n(45)],o=function(e,t,n,i,o,r){function s(){return r.getAreaInstance(!0,"logo",e.view.isAdaptiveView?"mobile":null)}var a={};return a.hideArea=function(e,t,i){n.isUndefined(i)&&(i=!0),setTimeout(function(){var n=r.getAreaInstance(i,e,t);n&&n.hide()},0)},o.commands.setHandler("area:hideArea",a.hideArea),a.showArea=function(e,t,i){n.isUndefined(i)&&(i=!0),setTimeout(function(){var n=r.getAreaInstance(i,e,t);n&&n.show()},0)},o.commands.setHandler("area:showArea",a.showArea),a.hideLogoArea=function(){setTimeout(function(){var e=s();e&&(e.data.hidden=!0,e.data.hideTitle=!0,window.hideTitle=!0,e.rerender())},0)},o.commands.setHandler("area:hideLogoArea",a.hideLogoArea),a.rerenderLogoArea=function(){setTimeout(function(){var e=s();e&&e.rerender()},0)},o.commands.setHandler("area:rerenderLogoArea",a.rerenderLogoArea),a.setSiteTitle=function(e,n){window.currentSiteTitle=e,t("#wsite-title").text(e),n?this.showArea("logo"):this.hideArea("logo")},o.commands.setHandler("area:setSiteTitle",a.setSiteTitle),a.showSiteTitle=function(){setTimeout(function(){var e=s();e&&(window.hideTitle=!1,e.data.hidden=!1,e.data.hideTitle=!1,e.data.isImage=!1,e.rerender())},0)},o.commands.setHandler("area:showSiteTitle",a.showSiteTitle),a.showLogoImage=function(e){setTimeout(function(){var t=s();t&&(i.removePlaceholder(),e&&(t.data.isImage=!0,t.data.url=e),t.data.url&&(t.data.hidden=!1,t.data.isImage=!0,t.rerender()))},0)},o.commands.setHandler("area:showLogoImage",a.showLogoImage),a.resizeLogoImage=function(){var e=".wsite-logo img";i.addPlaceholder(e)},o.commands.setHandler("area:resizeLogoImage",a.resizeLogoImage),a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(14),n(7),n(12),n(683),n(275),n(177),n(71),n(28)],o=function(e,t,n,i,o,r,s,a,l,c,u){function d(){var e=t(".wsite-com-category-subcategory"),n=t("#wsite-com-product-list .wsite-com-category-product-featured"),i=t("#wsite-com-category-product-group-pagelist a"),o=[],r=[],s=[],a={};if(n.each(function(e,n){var i=t(n).data("id"),r=t(n).find("[href^=commerce-url]"),s=r.offset();o.push({left:s.left,top:s.top,width:r.outerWidth(),height:r.outerHeight(),product_id:t(n).data("id"),link:r.attr("href")})}),e.each(function(e,n){var i=t(n).data("id"),o=t(n).find(".wsite-com-category-subcategory-link"),s=o.offset();r.push({left:s.left,top:s.top,width:o.outerWidth(),height:o.outerHeight(),category_id:i,link:o.attr("href")})}),i.length>2){var l=i.toArray(),c=l.shift(),u=l.pop();l.each(function(e){var n=t(e),i=n.data("page"),o=n.data("category"),r=n.text(),a=n.hasClass("wsite-selected"),l=n.offset();s.push({page:i,category_id:o,label:r,active:a,left:l.left,top:l.top,width:n.outerWidth(),height:n.outerHeight()})})}return a.products=o,a.categories=r,a.pagination=s,a}function h(){return t(a.DESIGN_OPTIONS_SELECTORS.navButton).length>0}function p(e){var t=e.offset(),n=e.outerHeight(),i=e.outerWidth(),o=t.left+i/2,r=t.top+n/2,s=Math.max(n,w.minMenuButtonSize),a=Math.max(i,w.minMenuButtonSize),l={height:s,width:a,top:r-s/2,left:o-a/2};return l}function f(e){var t=e.offset();return n.isObject(t)||(t={top:0,left:0}),{top:t.top,left:t.left,height:e.outerHeight(!1),width:e.outerWidth(!1)}}function m(){var e=t(".blog-page-nav-previous"),n=t(".blog-page-nav-next"),i={};return 0!==e.length&&(i.prev=f(e)),0!==n.length&&(i.next=f(n)),i}function g(){for(var e={},n=[],i,o=t("#blogTable .blog-post"),r=0;r<o.length;r++){var s=o[r],a=t(s);0!==a.length&&(i=a.offset(),i&&n.push({top:i.top,left:i.left,height:a.outerHeight(!1)||a.children().outerHeight(!1),width:a.outerWidth(!1)||a.children().outerWidth(!1),align:a.align,post_id:a.attr("id").slice("blog-post-".length)}))}return e.posts=n,e.nav=m(),e}function v(){var e=t(".blog-title");if(!e)return{};var n=e.offset();return{left:n.left,top:n.top,width:e.outerWidth(),height:e.outerHeight()}}function b(e,t){var n;return(n=t(e))>w.minAreaSize?n:(n=t(e.children()))>w.minAreaSize?n:(n=t(e.parent()))>w.minAreaSize?n:(n=t(e.parent().parent()))>w.minAreaSize?n:w.minAreaSize}var w={};return w.minAreaSize=15,w.minMenuButtonSize=44,w.getPageDimensions=function(){if(!e.siteContext||!e.pageContext)return null;for(var i={},o=e.siteContext.getAreas(),f=e.pageContext.getAreas().concat(o),m=e.view.isAdaptiveView,b="blog"===e.pageContext.kind,y=b&&!!e.pageContext.getArea("content","").main,_=[],E,T,C,S,I,O,D,x,k,R=0;R<f.length;R++)if(T=C=S=I=null,k=[],O=f[R],D=t(O.innerEl||O.el||"#"+O.elID),x=D.children(),!(O.data&&(m?O.data.mobileHidden:O.data.hidden)===!0||0===D.length||D.is(":hidden")&&"headline"!==O.name||y&&"content"==O.type&&"footer"==O.name||"footer"==O.type&&"mobile"==O.name)){if(O.descriptionArea?(O=O.descriptionArea,O.type="content"):(O.main||O.sidebar)&&(O=O.main||O.sidebar,O.type="content",D=t(O.innerEl||O.el||"#"+O.elID)),"logo"===O.type&&D.has("img").length)S=D.find(".wsite-logo img"),T=u.detectImageAlign(S[0]),C={offset:S.offset(),height:S.height(),innerHeight:S.innerHeight(),width:S.width(),innerWidth:S.innerWidth()};else if("content"==O.type&&"footer"==O.name||"footer"==O.type&&"mobile"==O.name){if(D.outerHeight()<w.minAreaSize){var P=D.parents().filter(function(e,n){return/foot/.match(n.id+" "+n.className)&&t(n).outerHeight()>w.minAreaSize&&t(n).outerWidth()>w.minAreaSize}).first();P.length>0&&(D=P)}}else"content"==O.type&&O.name==r.HEADER_SECTION_TAG_NAME&&(I=D.css("vertical-align"));var A="";D.find(".wsite-com-long-description").length?A=O.elID:D.attr("class")&&D.attr("class").match(/column-blog/)?A=D[0].id:D.attr("class")&&D.attr("class").match(/column/)?A=O.elID:D.hasClass("formlist")?A=O.elID:D.closest("[data-"+r.HEADER_SECTION_PARENT_STRING_NAME+"]").length&&(A=O.parentString);var N;N=!("context"in O&&O.context&&"pageID"in O.context&&("store"===O.context.kind&&O.name===r.HEADER_SECTION_TAG_NAME||"store"!=O.context.kind&&O.context.pageID));var M=!1;O.spotlight&&O.spotlight.spotlight&&O.spotlight.spotlight.isShown&&(M=!0);var k=[],L=[],B={},K=0;if(b&&O.elements?(k=n.invoke(O.elements,"getDimensions").reject(n.isEmpty),E=D.offset()):O.sections?(O.sections.each(function(e){var t=n.invoke(e.get("elementArea").elements,"getDimensions").reject(n.isEmpty),i=c.getSectionElement(e.id),o,r,s={};if(i.length>0){if(r=e.get("elementArea").isEmpty()){var a=i.find(".empty-element-message");i=a.length>0?a:i}o=i.offset(),s={section_id:e.id,elements:t,top:o.top+(r?8:0),left:o.left+(r?10:0),height:i.outerHeight(!1),width:i.outerWidth(!1)-(r?20:0)},L.push(s),K+=e.get("elementArea").elements.length}}),E=D.offset()):(k=n.invoke(O.element?[O.element]:O.elements,"getDimensions").reject(n.isEmpty),x.outerHeight()*x.outerWidth()>D.outerHeight()*D.outerWidth()&&(D=x),E=D.offset()),n.isObject(E)&&n.isNumber(E.top)&&n.isNumber(E.left)){var F=D.find(".empty-element-message, .wsite-com-empty-long-description"),H,j,W,$;if(O.name==r.HEADER_SECTION_TAG_NAME){var z=O.el?t(O.el):D,V=z.offset();H=V.top,j=V.left,W=z.outerWidth(!1),$=z.outerHeight(!1)}else H=E.top,j=E.left,W=D.outerWidth(!1),$=D.outerHeight(!1);if(0==k.length&&0==L.length&&F.length){var U=F.offset();H=U.top,"blog"==O.context.kind&&(W=F.outerWidth(),j=U.left)}if(B={name:O.name,type:O.type,top:H,left:j,height:$,width:W,position:C,align:T,verticalAlign:I,spotlighted:M,is_site_wide:N,parentString:A},O.sections?(B.sections=L,B.empty=0==K):(B.elements=k,B.empty=0==k.length),O.headerSection){var G=O.innerEl?t(O.innerEl):D,q=G.offset();B.isBlogPost=y,B.headerSection={top:q.top,left:q.left,height:G.outerHeight(!1),width:G.outerWidth(!1)}}_.push(B)}}i.areas=_;var Y=t(l.getCurrentHeaderElement());Y&&Y.length&&(E=Y.offset()||{},i.header={height:Y.outerHeight(),width:Y.outerWidth(),top:E.top,left:E.left});var X=s.getBackgroundElement("");X.length&&(E=X.offset()||null,i.background_image={height:X.outerHeight(),width:X.outerWidth(),top:E.top,left:E.left});var J=t(a.DESIGN_OPTIONS_SELECTORS.navButton).not(":hidden").filter(function(e,n){n=t(n);var i=n.offset();return i.left>=-n.outerWidth()&&i.top>=-n.outerHeight()});J.length&&(i.nav_button=p(J));var Q=t(a.DESIGN_OPTIONS_SELECTORS.navMenu).not(":hidden");if(!n.isObject(i.nav_button)&&Q.length){var Z=Q.closest("ul");E=Z.offset(),i.nav_menu={height:Z.outerHeight(),width:Z.outerWidth(),top:E.top,left:E.left},i.nav_menu.height<=10&&(i.nav_menu.height=Z.children().children().height())}return i.scrollWidth=t(document).width(),i.scrollHeight=t(document).height(),i.commerce=d(),h()&&(i.menu={button:i.nav_button}),y?i.blog={post:{title:v()}}:b&&(i.blog=g()),i},o.reqres.setHandler("page:getDimensions",w.getPageDimensions),i.reqres.setHandler("page:getDimensions",w.getPageDimensions),w.getSectionDimensions=function(){return o.request("section:getCollection",{readOnly:!0}).then(function(e){var i=[];return n.each(e,function(e){var n=t('.wsite-section[data-section="'+e.section_id+'"]'),o;n.length&&(o=n.offset(),i.push({section_id:e.section_id,section_order:e.section_order,top:o.top,left:o.left,height:n.outerHeight(!1),width:n.outerWidth(!1)}))}),i})},o.reqres.setHandler("page:getSectionDimensions",w.getSectionDimensions),i.reqres.setHandler("page:getSectionDimensions",w.geSectionDimensions),w}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(2),n(4),n(3),n(14),n(991),n(7),n(12),n(23),n(45),n(29),n(19),n(375),n(28),n(39),n(128),n(67)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v){function b(e){f.init(r),f.setElementData(c.getElementObject(e),e)}function w(e){e.preventDefault()}function y(n,i){var o=t("#inside_"+n+" img"),r=window.getElementObject(n),s=new e.CommerceProduct(r),a=g.storefrontSettings.getRatioAsNumber("product_image_ratio"),l=s.calculateProductImageAspectRatio(i,a);o.attr("src",i.path),o.width(l.width+"%"),o.css("top",l.top+"%"),o.css("left",l.left+"%")}function _(e,t,i,o){var r=c.getElementObject(e),s;if(r&&r.product_data){if(i&&o){var a=r.getContentField();a.getProperty("<!PRODUCTID!>")&&(a.getProperty("<!PRODUCTID!>").property_result=i,a.getProperty("<!PRODUCTSKUID!>").property_result=o)}n.keys(t).each(function(e){r.product_data[e]=t[e],"product_skus"===e&&(r.product_data.price=t[e][0].price,r.product_data.salePrice=t[e][0].sale_price)}),r.rerender(),s=t.image_order?t.image_order[0]:null,E.assignProductImageAttributes(e,t.product_images,s)}}var E={};return E.addElement=function(e,n,i,o,s,a){var u,d=t("#"+s);try{u=d.closest("li.inside").attr("id").replace("inside_","")}catch(e){}var p={type:e,name:n},f=c.newElement(s,i,o,p,u,a);if(f&&(r.vent.trigger("editor:elements:newElement"),r.vent.trigger("editor:elements:changed"),b(i.id),E.setHandlers(!0),h.globalAfterRender(),i.eid==l.PLATFORM_ELEMENT_ID)){var g=c.getElementObject(i.id),v=g.getContentField().getProperty("<!ELEMENTSETTINGS!>");if(v&&v.property_result){var w=JSON.parse(v.property_result);w&&w.config&&(w.config.autopop||g.tutorial_autopop)&&m.selectElement(t("#inside_"+i.id).find(".element")[0])}}return f},a.reqres.setHandler("element:addElement",E.addElement),E.setHandlers=function(){t("#secondlist .columnlist-blog").each(function(){0==this.childNodes.length?this.style.height="400px":this.style.height="auto"}),t(".formlist").each(function(){this.select(".show-element-options-image").invoke("remove")}),t("#secondlist").each(function(){prettyPrint()}),t("#createLink").each(function(){new Draggable("createLink")}),t(".weebly-content-area a, #weeblyfootertext a, #weeblyfooterattribution a").not('[href^="blog-url"]').each(function(){t(this).on("click",w),this.title=e.utl("javascript.site.editor.build.element_2")}),t(".weebly-content-area .disable-link").each(function(){t(this).on("click",w),this.title=""}),t(".editable-text a").each(function(){this.title=""}),t(".product-old .product-title, .product-old .product-description").each(function(){var e=this;e.setAttribute("contentEditable","true"),e.addClassName("editable-text"),e.ondblclick=function(){v.showEditBox(e.id,null,{saveCallback:saveProductField,redrawOptions:!0,showOptions:!0})}}),t(".product-old .product-price").each(function(){var e=this;e.setAttribute("contentEditable","true"),e.addClassName("editable-text"),e.ondblclick=function(){v.showEditBox(e.id,null,{saveCallback:saveProductField,redrawOptions:!0,showOptions:!1})}})},a.commands.setHandler("element:setHandlers",E.setHandlers),r.commands.setHandler("element:setHandlers",E.setHandlers),E.removeElement=function(e){var n=u.getAreaInstanceForElement(t("#inside_"+e).closest(".weebly-area")[0]);n.sections&&(n=n.getSectionFromElementId(e).get("elementArea")),n.removeElement(e),r.vent.trigger("editor:elements:changed")},a.commands.setHandler("element:removeElement",E.removeElement),E.updateColumnWidths=function(e,t){c.getElementObject(e).updateWidths(t),r.vent.trigger("editor:elements:changed")},a.reqres.setHandler("element:updateColumnWidths",E.updateColumnWidths),E.addColumn=function(e,n,i,o,s){var a=u.getAreaInstanceForElement(t("#inside_"+e).closest(".weebly-area")[0]);s&&(a=d.getElementAreaInstanceFromSectionId(s,a)),a.addColumn(e,n,i,null,o),a.removeEmptyColumns(),r.vent.trigger("editor:elements:changed"),b(e)},a.reqres.setHandler("element:addColumn",E.addColumn),E.setProperty=function(e,n,i,o){setTimeout(function(){var s=c.getElementObject(e),a=s.content_fields[n];c.setContentFieldProperty(n,i,o);var l=c.getContentFieldProperty(n,i);if(l&&"<!SRC!>"===l.reference_property&&""!==l.property_result){var u=a.getProperty("<!DATA!>"),d=u.property_result||"{}",h=JSON.parse(d);h.placeholder=!1,u.property_result=JSON.stringify(h)}var p=t("#"+n),f={};if(f[i]=o,s.rerenderContentField(a,p[0],function(){r.vent.trigger("forceDocumentSizeChange")},f),s.product_data){var m=s.product_data.image_order?s.product_data.image_order[0]:null;E.assignProductImageAttributes(e,s.product_data.product_images,m)}},0)},a.commands.setHandler("element:setProperty",E.setProperty),E.setProductElementImage=function(e,n){setTimeout(function(){t("#inside_"+e+" img").attr("src",n)},0)},a.commands.setHandler("element:setProductElementImage",E.setProductElementImage),E.assignProductImageAttributes=function(e,n,o){var r=i.render(p,{class_prefix:"wsite-product-image",image_source:"blank-product-w320.png",image_percent_width:100,image_percent_left:-25,image_percent_top:0});t("#inside_"+e+" .wsite-product-image").html(r);for(var s=null,n=n||[],a=0;a<n.length;a++)if(n[a].product_image_id===o){s=n[a];break}null!==s&&y(e,s)},a.commands.setHandler("element:assignProductImageAttributes",E.assignProductImageAttributes),E.setProductAttributes=function(e,t,n,i){_(e,i,t,n)},a.commands.setHandler("element:setProductAttributes",E.setProductAttributes),E.updateElementsForProduct=function(t,i){var o=e.pageContext.elementsByID;n.each(o,function(e){e.product_data&&e.product_data.product_id===t&&_(e.id,i)})},a.commands.setHandler("element:updateElementsForProduct",E.updateElementsForProduct),E.setProperties=function(e,t,n){for(var i=0,o=n.length;i<o;i++)this.setProperty(e,t,n[i].ucfpid,n[i].property_result)},a.commands.setHandler("element:setProperties",E.setProperties),E.getProperty=function(e,t,n){var i=c.getElementObject(e);if(!i)return null;var o=i.getContentField(t);if(!o)return null;var r=o.getProperty(n);return r?r.property_result:null},a.reqres.setHandler("element:getProperty",E.getProperty),E.showElement=function(e){var t="#inside_"+e;s.removePlaceholder(t),r.vent.trigger("forceDocumentSizeChange")},a.commands.setHandler("element:showElement",E.showElement),E.getImageDimensions=function(e){return s.getImageDimensions(e)},a.reqres.setHandler("element:getImageDimensions",E.getImageDimensions),E.hideElement=function(e){var t="#inside_"+e;s.addPlaceholder(t)},a.commands.setHandler("element:hideElement",E.hideElement),E.blur=function(){t(":focus").blur()},a.commands.setHandler("element:blur",E.blur),E}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(1),n(142),n(4),n(2),n(13),n(14),n(17),n(638),n(639),n(683),n(988),n(282),n(411),n(24),n(7),n(91),n(35),n(186),n(375),n(59),n(177),n(222),n(989),n(357),n(410),n(39),n(29),n(12),n(204),n(27)],o=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,b,w,y,_,E,T,C,S,I,O,D){function x(){var e="http://"+ASSETS_BASE+"/images/util/",n=i.compile(w,{class_prefix:"wsite-product-image",image_source:"blank-product-w320.png",image_percent_width:100,image_percent_left:-25,image_percent_top:0}),o=t('.wsite-com-category-subcategory-image.wsite-imageaspectratio-image[src=""]');o.attr("src",e+"blank-category-w320.png");var r=[],s=t('.wsite-product-image-image.wsite-imageaspectratio-image[src=""]'),a=t('.wsite-com-category-product-featured-image.wsite-imageaspectratio-image[src=""]'),l=t('.wsite-com-category-product-image[src=""]');r.push(s),r.push(a),r.push(l),r.each(function(e){t(e).attr("src","blank-product-w320.png")}),t("a.wsite-product-image").each(function(){""===t(this).html().trim()&&t(this).html(n)});var c='<a title="Links active once published">$0.00</a>';t(".wsite-product-price").each(function(){""===t(this).text().trim()&&t(this).html(c)})}function k(t,n,i,r){if(t.pages){E.updatePageData(t.pages);var l=a.get(window.currentPage);l||window.showPageChooser("Choose a page to edit:","This page was deleted by another editor.",{load_page_locks:!0})}f.setCurrentTheme(n.theme_id,n.is_mobile),f.setCurrentThemeColor(n.current_theme_color),K.buildEditingArea(t,n,i,r),t.post_locked&&window.showWarning({title:e.utl("javascript.site.editor.build.page_2"),message:'<div style="text-align:left">'+e.utl("javascript.site.editor.build.page_3").replace(/{{email}}/,t.post_locked.email)+"</div>"+'<a href="#" onclick="window.goUpdateList({{currentPage}}, 1); window.hideWarning();">'.replace(/{{currentPage}}/,window.currentPage)+e.utl("javascript.site.editor.build.page_4")+"</a>"},{closeFunction:function(){window.goUpdateList(window.currentPage,1),window.hideWarning()}}),b.updateFooterAttribution(),m.request("userEvent:hasDoneUserEvent",{"x-pages":!1,"x-elements":!0,"x-show-pages":!0}).done(function(e){e&&m.execute("userEvent:showEvent","x-pages")}),window.obtainedPage=window.currentPage,s.vent.trigger("editor:middle",t),m.trigger("editor:middle",o.omit(t,["currentApp"]))}function R(n){t(".tablet-placeholder").hide(),t("#empty-message-standard").hide(),t("#weebly-empty-footer").hide(),t('h2:contains("Double-tap to add headline")').hide(),t('p:contains("Double tap to add description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.")').hide(),t('h2:contains("Click to add headline")').hide(),t('p:contains("Click tap to add description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.")').hide();var i=e.pageContext.elementsByID;o.each(i,function(e){var n=t(e.li).text().trim();"Double-tap to edit."!==n&&"Button Text"!==n||t(e.li).hide()}),t(".wsite-spacer").css("border-color","rgba(0,0,0,0)"),t('.phone-number > span:contains("Add text")').hide(),n.site_is_free===!0&&(t(".wsite-video").hide(),t(".wsite-search-element-outer").hide(),t(".wsite-html5audio").hide())}function P(){var e=!1,n=!0;t(document).off("focus",j,A).on("focus",j,A).off("blur",j,L).on("blur",j,L).off("click",W,N).on("click",W,N).off("click",$,M).on("click",$,M)}function A(){window.disableBackspaceExit=!1,m.trigger(y.EVENTS.EDITING_POST_TITLE)}function N(e){m.trigger(y.EVENTS.NAV_PREVIOUS_PAGE_CLICKED)}function M(){m.trigger(y.EVENTS.NAV_NEXT_PAGE_CLICKED)}function L(e){var n=t(e.target).closest(j);window.disableBackspaceExit=!0,m.trigger(y.EVENTS.EDITED_POST_TITLE,n.text())}function B(e,t){var n=new l.collection,i=O.isHeaderSectionSupported(e.areas),r,a,u;if(o(e.areas).each(function(e){o(e).has("sections")&&o(e.sections).each(function(e,t){"object"==typeof e.properties&&(e.properties=JSON.stringify(e.properties)),n.add({section_id:e.section_id,section_order:t+1,properties:e.properties})})}),void 0===e.backgrounds&&(e.backgrounds=[]),n.length&&(r=n.getBackgroundImages(),u=n.getBackgroundVideos(),e.backgrounds=O.mergeBackgroundData(e.backgrounds,r,"section"),e.backgrounds=O.mergeVideoBackgroundData(e.backgrounds,u,"section")),i){a=new c;var d=o.chain(e.areas).findWhere({name:D.HEADER_SECTION_TAG_NAME}).result("header_section").value();if(a.add(d),a.length&&(!t["header-section"]||t["header-section"]["editable-background"]!==!1)){var h=a.first();if(h.hasBackgroundImage()){var p={},f=h.id;p[f||""]=h.getBackgroundContent(),e.backgrounds=O.mergeBackgroundData(e.backgrounds,p,"header-section")}else if(h.hasBackgroundVideo()){var m={};m[h.id]=h.getBackgroundContent(),e.backgrounds=O.mergeVideoBackgroundData(e.backgrounds,m,"header-section")}}}s.execute("themeBackground:update",e)}var K={},F,H={};K.syncPages=function(e){a.reset(e)},m.commands.setHandler("pages:sync",K.syncPages),K.setPageHierarchy=function(e){a.reset(e),h.renderTheme(),o.isUndefined(H.template)===!1&&K.setAreaTemplate(H.template)},m.reqres.setHandler("page:setPageHierarchy",K.setPageHierarchy),K.renderPage=function(e,t,i,r){setTimeout(function(){try{v.isMobileView=v.isAdaptiveView=!f.currentThemeData.responsive&&i;var s,a;o.isUndefined(H.template)===!1&&delete H.template,v.isAdaptiveView?(s=f.adaptiveThemeDefinition,a=f.adaptiveThemeCSS):(s=f.primaryThemeDefinition,a=f.primaryThemeCSS),window.currentTheme=s.theme_id,K.renderPageSync(e,t,s,a,r)}catch(e){console.error(e.stack),n.captureException(e),m.trigger(y.EVENTS.PAGE_RENDER_FAIL,e)}},0)},m.commands.setHandler("page:renderPage",K.renderPage),K.renderPageSync=function(e,t,n,i,o){if(i?F=i:i=F,s.vent.trigger("page:startRender",e,t),t.backgrounds||(t.backgrounds=d.backgrounds),m.execute("setElementsPageType"),window.currentPage=e,window.currentPageKind=t.kind,window.currentBlog.editingBlog=0,n?(n&&"object"==typeof n&&f.setCurrentThemeData(n),k(t,n,i,o)):f.getCurrentThemeData(v.isMobileView).done(function(e){k(t,e,i,o)}),t.areas){for(var r=0;r<t.areas.length;r++){var a=t.areas[r];a&&a.template&&a.elements&&0===a.elements.length&&K.setAreaTemplate(a.template)}x()}},m.commands.setHandler("page:renderPageSync",K.renderPageSync),K.buildEditingArea=function(n,i,a,l){s.vent.trigger("processPageDataHook",n);var c=n.site_element_data||n.site_areas;if(c){var u=e.siteContext;e.siteContext=null,c.currentApp=s,e.siteContext=new p(c),e.siteContext._oldContext=u,delete n.site_element_data,delete n.site_areas}else e.siteContext={};r.chromeless&&B(n,i),window.currentPagePublished=Boolean(n.isPagePublished);var d=e.pageContext;e.pageContext=null,n.currentApp=s,e.pageContext=new p(n),e.pageContext.pageID=window.currentPage,e.pageContext._oldContext=d,g.setCurrentHeader(n.header_image),delete n.header_image;var m="blog"==n.kind;m&&P(),window.navFlyoutMenu&&window.navFlyoutMenu.hideSubmenus(),h.adaptiveThemeCSS&&(i.css=a,f.setCurrentThemeData(i),s.vent.trigger("forceThemeRerender")),v.isMobileView&&S.isEditing&&(s.vent.trigger("forceThemeRerender"),s.vent.once("themeRendered",function(){t(document).scrollTop(t(document).height())})),i||(i=f.currentThemeData),a||(a=f.currentThemeData.css),v.isMobileView?window.currentStandardTheme=n.theme:f.setCurrentTheme(n.theme,!1),h.renderPage(function(){s.execute("element:setHandlers"),n.is_preview===!0&&R(n)},i,a,n,l),s.vent.trigger("editorListUpdated",n,i,a),"blog"===n.kind&&C.init(),n.new_elements&&o.each(n.new_elements,function(e,n){if(e.platform_element&&e.autopop){var i=t("#inside_"+n).find(".element");I.selectElement(i[0])}}),window.externalLibariesLoaded||window.loadExternalLibraries(),T.resetScrollTop(m)};var j="#blog-post-title",W=".blog-page-nav-previous",$=".blog-page-nav-next";return K.setHeaderImage=function(e){var n=_.getCurrentHeaderElement();e&&(g.setCurrentHeader({url:e}),t(n).css("background-image","url("+e+")"))},m.commands.setHandler("page:setHeaderImage",K.setHeaderImage),K.setBackgroundImage=function(e){var t=u.getBackgroundElement(""),n=null;t&&e&&e.url&&(n={"":{image:{url:e.url},position:"fill"}},u.applyBackgrounds(n))},m.commands.setHandler("page:setBackgroundImage",K.setBackgroundImage),K.setAreaTemplate=function(e){1!==window.currentBlog.editingBlog&&t("ul.weebly-content-area").each(function(){if(t(this.parentElement).hasClass("wsite-not-footer"))return t(this).first().html(e),void(H.template=e)})},m.commands.setHandler("page:setAreaTemplate",K.setAreaTemplate),K.hideNav=function(){if(window.navFlyoutMenu){if(window.navFlyoutMenu.mouseoverItems){for(var e=window.navFlyoutMenu.mouseoverItems.length-1;e>=0;e--)window.navFlyoutMenu.mouseoverItems[e].trigger("mouseout");window.navFlyoutMenu.mouseoverItems=[]}window.navFlyoutMenu.contract()}},m.commands.setHandler("page:hideNav",K.hideNav),K}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(14),n(7),n(254),n(2459),n(4),n(12)],o=function(e,t,n,i,o,r,s){n.once("tutorial:sections:start",function(){n.commands.setHandlers({"tutorial:show:customizable:headers":function(){var a=e("."+s.HEADER_SECTION_CLASS_NAME),l=new i({content:r.render(o),pointAt:a,allowLeftRight:!1,preferBottom:!0,closeOnClickAway:!0,closeOnClick:!1,closeOnEsc:!1,showPointAtArrow:!0,placement:"bottom",wrapClassName:"ui-framework sections-tutorial",arrowGap:2}),c=l.close.bind(l);t.vent.once("navClicked",c),t.vent.once("pageRendered",c),t.vent.once("editor:elements:newElement",c);var u=function(){t.vent.off("navClicked",c),t.vent.off("pageRendered",c),t.vent.off("editor:elements:newElement",c),n.trigger("tutorial:schedule")};l.on("close",u),l.on("open",function(){l.$el.find(".btn").on("click",c)}),l.open()}})})}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(14),n(7)],o=function(e,t,n){"use strict";var i=t.module("helpy");return i.on("start",function(){var t=e(document),i=e("body");n.commands.setHandlers({"helpy:initialized":function(){n.on("helpy:elementsGuide:scrollToElement",function(e){i.animate({scrollTop:parseInt(e)-200},200,function(){n.trigger("helpy:elementsGuide:scrollingFinished"),window.setTimeout(function(){t.on("scroll.elementsGuide",function(){n.trigger("helpy:elementsGuide:endOnScroll"),t.off("scroll.elementsGuide")})},500)})})},"helpy:elementsGuide:listenDeleteElement":function(t){var i=e(t);i.one("click",function(){n.trigger("helpy:elementsGuide:elementDeleted")})},"helpy:elementsGuide:listenElementClicked":function(t){var i=e(t);i.one("click",function(){i.one("blur",function(){n.trigger("helpy:elementsGuide:elementClicked")})})}})}),i.on("stop",function(){n.commands.removeHandlers(["helpy:initialized","helpy:elementsGuide:listenDeleteElement","helpy:elementsGuide:listenElementClicked"])}),i}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(693),n(14),n(577),n(7),n(59),n(1780),n(1778),n(1787),n(1779),n(988),n(1777),n(1781),n(128),n(282),n(1784),n(683),n(200),n(989),n(153),n(1099),n(1786),n(508),n(509),n(1782),n(441),n(442)],o=function(e,t,n,i,o,r){try{t.install({project:"editor-iframe",release:window.buildTime,shouldSendCallback:function(e){return o.execute("raven:message",e),!1}})}catch(e){console.warn("Raven failed to install")}e(function(){i.setup(o.incoming,window.parent,o.outgoing),n.start(),n.ui.start(),o.trigger(r.EVENTS.DOCUMENT_READY)}),window.inEditor=function(){return!0}}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(14),n(185),n(7),n(150),n(35),n(437)],o=function(e,t,n,i,o,r){function s(){n.resizeScreen()}function a(){window.isThemeCSSLoaded()?l():window.whenThemeCSSLoaded(l),n.resizeScreen()}function l(){e(".wsite-mobile-menu").length>0||(e("#wmobile-menu").find("ul span.wsite-nav-handle").show(),n.init())}function c(){var t="//"+ASSETS_BASE+"/css/mobile-sites.css";e("head").append('<link id="mobile-css" rel="stylesheet" href="'+t+'">')}function u(){e("#mobile-css").remove()}var d=t.module("mobile"),h=e(window);return d.on("start",function(){i.commands.setHandlers({setMobileColor:d.setMobileColor,setSiteSettings:o.setSiteSettings}),d.listenTo(i,{setMobileView:d.setMobileView,setStandardView:d.setStandardView})}),d.setMobileView=function(){r.isMobileView||(t.vent.trigger("setMobileView"),o.getSiteSetting("allow_mobile")!==!1&&(c(),r.isMobileView=!0,window.ENABLE_PAGE_HIERARCHY=!1,window.navFlyoutMenu&&window.navFlyoutMenu.destroy(),e("body").addClass("wsite-mobile"),d.listenTo(h,{resize:n.resizeScreen}),d.listenTo(t.vent,{"editor:middle":s,"pageRendered themeRendered":a,navClicked:n.closeMenu})))},d.setMobileColor=function(t){e(".wmobile-bar,.wmobile-button,.wmobile-line").css("background-color",t)},d.setStandardView=function(){r.isMobileView&&(t.vent.trigger("setStandardView"),o.getSiteSetting("allow_mobile")!==!1&&(u(),r.isMobileView=!1,window.ENABLE_PAGE_HIERARCHY=!0,e("body").removeClass("wsite-mobile"),d.stopListening(h),d.stopListening(t.vent)))},d}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(3),n(4),n(7),n(355),n(2501),n(2502)],o=function(e,t,n,i,o,r,s){var a=t.Marionette.ItemView.extend({template:n.compile(s),className:"page-layout-preview-tooltip",ui:{keepBtn:".keep-btn",cancelBtn:".cancel-btn"},events:{"click @ui.keepBtn":"keepLayout","click @ui.cancelBtn":"changeLayout"},onReady:function(){var t=this;o.showContentAreaSpotlights({opacity:.5,ants:!1,roundedCorners:!1,zIndex:100,element:e(t.options.contentAreaSelector)});var n=t.positionTooltip();if(e("#secondlist .weebly-content-area").append(r),t.$el.addClass("fade-in"),"footer"!=t.options.content_area){var i;i=n?t.$el.position().top-20:t.$el.position().top+t.$el.height()+20,e(window).animate({scrollTop:i},500)}t.saveButton=e(".spotlight-controls-inner").find(".save-button"),t.saveButton&&t.saveButton.hide()},positionTooltip:function(){var t=this,n=e(t.options.contentAreaSelector);t.options.sectionId&&(n=n.find(".wsite-section[data-section='"+t.options.sectionId+"']")),
t.$el.css("left",n.offset().left+n.width()/2);var i=n.offset().top-t.$el.height()-20;return i>0?(t.$el.css("top",i),!0):(t.$el.addClass("top-arrow"),t.$el.css("top",n.offset().top+n.height()-10),!1)},closeView:function(){var t=this;i.execute("pageLayouts:spotlight:close"),o.hideContentAreaSpotlights(),t.saveButton&&t.saveButton.show(),t.remove(),t.unbind(),e(".page-layout-element-cover").remove()},keepLayout:function(t){var n=this;t&&t.preventDefault(),n.closeView(),n.saveButton&&n.saveButton.trigger("click"),i.execute("pageLayouts:spotlight:close",n.options),e(".page-layout-element-cover").remove()},changeLayout:function(e){var t=this;i.request("pageLayouts:revertLayout",t.options),e&&e.preventDefault(),t.closeView()}});return a}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(1),n(7),n(14),n(1785)],o=function(e,t,n,i){var o=null,r=n.module("pageLayouts");return r.on("start",function(){e(document).on("click.pageLayouts","#empty-message.layout-chooser",function(){var e=this.getAttribute("data-content-area"),n=this.getAttribute("data-layout-section-id");t.execute("pageLayouts:gallery:show",e,null,n)})}),r.on("stop",function(){e(document).off(".pageLayouts")}),t.commands.setHandlers({"pageLayouts:spotlight:show":function(t){o=new i(t),o.render(),e("#_editor-ui").append(o.$el),setTimeout(function(){o.onReady(),e(document).scrollTop(o.$el.parent().position().top+o.$el.position().top-20)},100)},"pageLayouts:confirmTooltip:position":function(){o&&o.positionTooltip()}}),r}.apply(t,i),!(void 0!==o&&(e.exports=o))},function(e,t,n){var i,o;i=[n(5),n(2),n(6),n(125),n(282),n(24),n(7)],o=function(e,t,n,i,o,r,s){var a={"site-title":"siteTitle","paragraph-title":"header","paragraph-text":"global",links:"a","navigation-menu-text":"navMenu","flyout-menu-text":"flyoutMenu","image-captions":"imageCaptions","photo-gallery-captions":"galleryCaptions","lightbox-gallery-captions":"lightboxGalleryCaptions","slideshow-captions":"slideshowCaptions","phone-number-field":"phone","landing-page-headline":"headline","landing-page-sub-headline":"subHeadline",button:"button","small-button":"smallButton",blockquote:"blockquote","footer-paragraph-title":"footerHeader","footer-paragraph-text":"footerGlobal","footer-links":"footerA","footer-blockquote":"footerBlockquote","blog-post-title":"blogPostTitle","product-title":"productTitle","product-price":"productPrice"},l={primaryThemeCSS:null,adaptiveThemeCSS:null};return l.renderTheme=function(t,n,s,a,l,c,u){c&&(i.setDesignOptions(c),i.applyDesignOptions()),e.view.isMobileView=e.view.isAdaptiveView=!r.currentThemeData.responsive&&u,e.view.isAdaptiveView&&(n=a,s=l),o.renderTheme(t,null,n,s)},s.commands.setHandler("theme:renderTheme",l.renderTheme),l.setNavMore=function(e,t){window.DISABLE_NAV_MORE=e,t&&l.renderTheme()},s.commands.setHandler("theme:DISABLE_NAV_MORE",l.setNavMore),l.setThemeCSS=function(t,i){var r=i?"adaptive":"desktop",s=e.view.isAdaptiveView?"adaptive":"desktop";if(i){if(l.adaptiveThemeCSS==t)return;l.adaptiveThemeCSS=t}else{if(l.primaryThemeCSS==t)return;l.primaryThemeCSS=t}var a=function(){r===s&&o.setThemeStyle(window.currentTheme,window.currentThemeColor,t)};e.pageContext&&e.pageContext.hasRendered?a():n.vent.once("themeRendered",a)},s.commands.setHandler("theme:setThemeCSS",l.setThemeCSS),l.getCurrentFontSettings=function(e){var t=i.getCurrentStyles(e);return t&&t.font&&(t.font=t.font.replace(/'/g,"")),t},s.reqres.setHandler("theme:getCurrentFontSettings",l.getCurrentFontSettings),l.setFontSetting=function(e,t,n){setTimeout(function(){var o=t.charAt(0).toUpperCase()+t.slice(1),r=a[e]+o;i.setDesignOption(r,n),i.siteApplyDesignOptions()},0)},s.commands.setHandler("theme:setFontSetting",l.setFontSetting),l.setFontSettings=function(e){setTimeout(function(){i.setDesignOptions(e),i.siteApplyDesignOptions()},0)},s.commands.setHandler("theme:setFontSettings",l.setFontSettings),l.setThemeColor=function(e,t){setTimeout(function(){r.setCurrentThemeColor(e),l.renderTheme(null,t)},0)},s.commands.setHandler("theme:setThemeColor",l.setThemeColor),l}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,,,function(e,t,n){(function(e){!function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(t){for(var n=e([0]),i=-1,o=this.length;++i<o&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(e),function(e,t){"use strict";function n(e,t){for(var n=0,i=t.length;n<i;n+=1)if(o(e,t[n]))return n;return-1}function i(){var t=e(B);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function o(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function r(t,n){var i,o,r;if(null===t||t.length<1)return[];for(i=t.split(n),o=0,r=i.length;o<r;o+=1)i[o]=e.trim(i[o]);return i}function s(e){return e.outerWidth(!1)-e.width()}function a(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var o=e.data(n,i);o!==t&&n.val()!==o&&(e.removeData(n,i),n.trigger("keyup-change"))})}function l(n){n.on("mousemove",function(n){var i=N;i!==t&&i.x===n.pageX&&i.y===n.pageY||e(n.target).trigger("mousemove-filtered",n)})}function c(e,n,i){i=i||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(i,t)},e)}}function u(e){var t=!1,n;return function(){return t===!1&&(n=e(),t=!0),n}}function d(e,t){var i=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t=e[0],n=e.val().length,i;e.focus(),e.is(":visible")&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(n,n):t.createTextRange&&(i=t.createTextRange(),i.collapse(!1),i.select()))},0)}function p(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var o=document.selection.createRange();i=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),n=o.text.length-i}return{offset:n,length:i}}function f(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!A){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);A=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),A.attr("class","select2-sizer"),e("body").append(A)}return A.text(t.val()),A.width()}function v(t,n,i){var o,r=[],s;o=t.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),o=n.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=i(this),s&&r.push(this))})),t.attr("class",r.join(" "))}function b(e,t,n,i){var o=e.toUpperCase().indexOf(t.toUpperCase()),r=t.length;return o<0?void n.push(i(e)):(n.push(i(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(i(e.substring(o,o+r))),n.push("</span>"),void n.push(i(e.substring(o+r,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function y(n){var i,o=0,r=null,s=n.quietMillis||100,a=n.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){o+=1;var i=o,s=n.data,u=a,d=n.transport||e.fn.select2.ajaxDefaults.transport,h={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},p=e.extend({},e.fn.select2.ajaxDefaults.params,h);s=s?s.call(l,c.term,c.page,c.context):null,u="function"==typeof u?u.call(l,c.term,c.page,c.context):u,r&&r.abort(),n.params&&(e.isFunction(n.params)?e.extend(p,n.params.call(l)):e.extend(p,n.params)),e.extend(p,{url:u,dataType:n.dataType,data:s,success:function(e){if(!(i<o)){var t=n.results(e,c.page);c.callback(t)}}}),r=d.call(l,p)},s)}}function _(t){var n=t,i,o,r=function(e){return""+e.text};e.isArray(n)&&(o=n,n={results:o}),e.isFunction(n)===!1&&(o=n,n=function(){return o});var s=n();return s.text&&(r=s.text,e.isFunction(r)||(i=s.text,r=function(e){return e[i]})),function(t){var i=t.term,o={results:[]},s;return""===i?void t.callback(n()):(s=function(n,o){var a,l;if(n=n[0],n.children){a={};for(l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);a.children=[],e(n.children).each2(function(e,t){s(t,a.children)}),(a.children.length||t.matcher(i,r(a),n))&&o.push(a)}else t.matcher(i,r(n),n)&&o.push(n)},e(n().results).each2(function(e,t){s(t,o.results)}),void t.callback(o))}}function E(n){var i=e.isFunction(n);return function(o){var r=o.term,s={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===r||o.matcher(r,n))&&s.results.push(e?this:{id:this,text:this})}),o.callback(s)}}function T(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function C(t){return e.isFunction(t)?t():t}function S(t){var n=0;return e.each(t,function(e,t){t.children?n+=S(t.children):n++}),n}function I(e,n,i,r){var s=e,a=!1,l,c,u,d,h;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(c=-1,u=0,d=r.tokenSeparators.length;u<d&&(h=r.tokenSeparators[u],c=e.indexOf(h),!(c>=0));u++);if(c<0)break;if(l=e.substring(0,c),e=e.substring(c+h.length),l.length>0&&(l=r.createSearchChoice.call(this,l,n),l!==t&&null!==l&&r.id(l)!==t&&null!==r.id(l))){for(a=!1,u=0,d=n.length;u<d;u++)if(o(r.id(l),r.id(n[u]))){a=!0;break}a||i(l)}}return s!==e?e:void 0}function O(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var D,x,k,R,P,A,N={x:0,y:0},M,L,D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},B="<div class='select2-measure-scrollbar'></div>";M=e(document),P=function(){var e=1;return function(){return e++}}(),M.on("mousemove",function(e){N.x=e.pageX,N.y=e.pageY}),x=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var o,r,s=".select2-results",c,h;this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+P()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(C(n.containerCss)),this.container.addClass(C(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(C(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=o=this.container.find(s),this.search=r=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),d(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&o.mousewheel(function(e,t,n,i){var r=o.scrollTop(),s;i>0&&r-i<=0?(o.scrollTop(0),f(e)):i<0&&o.get(0).scrollHeight-o.scrollTop()+i<=o.height()&&(o.scrollTop(o.get(0).scrollHeight-o.height()),f(e))}),a(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var c=n.element.prop("disabled");c===t&&(c=!1),this.enable(!c);var h=n.element.prop("readonly");h===t&&(h=!1),this.readonly(h),L=L||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var e=this.opts.element,n=e.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:o(e.attr("locked"),"locked")||o(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,s,a,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=s=n.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,o,r){var s,a,l,u,d=this.opts.id;(s=function(i,o,a){var l,u,h,p,f,m,g,v,b,w;for(i=n.sortResults(i,o,r),l=0,u=i.length;l<u;l+=1)h=i[l],f=h.disabled===!0,p=!f&&d(h)!==t,m=h.children&&h.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+a),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),w=n.formatResult(h,v,r,c.opts.escapeMarkup),w!==t&&v.html(w),g.append(v),m&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),s(h.children,b,a+1),g.append(b)),g.data("select2-data",h),o.append(g)})(o,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(e){return e[a]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(s?(n.query=this.bind(function(e){var n={results:[],more:!1},o=e.term,r,s,a;a=function(t,n){var i;t.is("option")?e.matcher(o,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){a(t,i.children)}),i.children.length>0&&n.push(i))},r=i.children(),this.getPlaceholder()!==t&&r.length>0&&(s=this.getPlaceholderOption(),s&&(r=r.not(s))),r.each2(function(e,t){a(t,n.results)}),e.callback(n)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=y.call(n.element,n.ajax)):"data"in n?n.query=_(n.data):"tags"in n&&(n.query=E(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection===t&&(n.initSelection=function(t,i){var s=[];e(r(t.val(),n.separator)).each(function(){var t=this,i=this,r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){if(o(this.id,t))return i=this.text,!1}),s.push({id:t,text:i})}),i(s)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e=this.opts.element,n;e.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),n=this.bind(function(){var n,i,o=this,r=e.prop("disabled");r===t&&(r=!1),this.enable(!r);var i=e.prop("readonly");i===t&&(i=!1),this.readonly(i),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass))}),e.on("propertychange.select2 DOMAttrModified.select2",n),this.mutationCallback===t&&(this.mutationCallback=function(e){e.forEach(n)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){return e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface(),!0)},readonly:function(e){return e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,n=this.container.offset(),i=this.container.outerHeight(!1),o=this.container.outerWidth(!1),r=t.outerHeight(!1),s=e(window).scrollLeft()+e(window).width(),a=e(window).scrollTop()+e(window).height(),l=n.top+i,c=n.left,u=l+r<=a,d=n.top-r>=this.body().scrollTop(),h=t.outerWidth(!1),p=c+h<=s,f=t.hasClass("select2-drop-above"),m,g,v,b;this.opts.dropdownAutoWidth?(b=e(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),h=t.outerWidth(!1)+(b.scrollHeight===b.clientHeight?0:L.width),h>o?o=h:h=o,p=c+h<=s):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(m=this.body().offset(),l-=m.top,c-=m.left),f?(g=!0,!d&&u&&(g=!1)):(g=!1,!u&&d&&(g=!0)),p||(c=n.left+o-h),g?(l=n.top-r,this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above")),v=e.extend({top:l,left:c,width:o},C(this.opts.dropdownCss)),t.css(v)},shouldOpen:function(){var t;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var n=this.containerId,i="scroll."+n,o="resize."+n,r="orientationchange."+n,s,a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),s=e("#select2-drop-mask"),0==s.length&&(s=e(document.createElement("div")),s.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),s.hide(),s.appendTo(this.body()),s.on("mousedown touchstart click",function(t){var n=e("#select2-drop"),i;n.length>0&&(i=n.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),a=t(),s.css(a).show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var l=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+i+" "+r,function(n){var i=t();e("#select2-drop-mask").css(i),l.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,n,i,o,r,s,a,l;if(i=this.highlight(),!(i<0)){if(0==i)return void t.scrollTop(0);n=this.findHighlightableChoices().find(".select2-result-label"),o=e(n[i]),r=o.offset().top+o.outerHeight(!0),i===n.length-1&&(l=t.find("li.select2-more-results"),l.length>0&&(r=l.offset().top+l.outerHeight(!0))),s=t.offset().top+t.outerHeight(!0),r>s&&t.scrollTop(t.scrollTop()+(r-s)),a=o.offset().top-t.offset().top,a<0&&"none"!=o.css("display")&&t.scrollTop(t.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var o=e(n[i]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var i=this.findHighlightableChoices(),o,r;return 0===arguments.length?n(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),t<0&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),o=e(i[t]),o.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=o.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,i=-1,o=this.resultsPage+1,r=this,s=this.search.val(),a=this.context;0!==t.length&&(n=t.offset().top-e.offset().top-e.height(),n<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:o,context:a,matcher:this.opts.matcher,callback:this.bind(function(n){r.opened()&&(r.opts.populateResults.call(this,e,n.results,{term:s,page:o,context:a}),r.postprocessResults(n,!1,!1),n.more===!0?(t.detach().appendTo(e).text(r.opts.formatLoadMore(o+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):t.remove(),r.positionDropdown(),r.resultsPage=o,r.context=n.context)})})))},tokenize:function(){},updateResults:function(n){function i(){s.removeClass("select2-active"),u.positionDropdown()}function r(e){a.html(e),i()}var s=this.search,a=this.results,l=this.opts,c,u=this,d,h=s.val(),p=e.data(this.container,"select2-last-term");if((n===!0||!p||!o(h,p))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(c=this.data(),e.isArray(c)&&c.length>=f&&T(l.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+l.formatSelectionTooBig(f)+"</li>");if(s.val().length<l.minimumInputLength)return r(T(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+l.formatInputTooShort(s.val(),l.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&s.val().length>l.maximumInputLength)return void r(T(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+l.formatInputTooLong(s.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+l.formatSearching()+"</li>"),s.addClass("select2-active"),d=this.tokenize(),d!=t&&null!=d&&s.val(d),this.resultsPage=1,l.query({element:l.element,term:s.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(c){var d;return this.opened()?(this.context=c.context===t?null:c.context,this.opts.createSearchChoice&&""!==s.val()&&(d=this.opts.createSearchChoice.call(u,s.val(),c.results),d!==t&&null!==d&&u.id(d)!==t&&null!==u.id(d)&&0===e(c.results).filter(function(){return o(u.id(this),u.id(d))}).length&&c.results.unshift(d)),0===c.results.length&&T(l.formatNoMatches,"formatNoMatches")?void r("<li class='select2-no-results'>"+l.formatNoMatches(s.val())+"</li>"):(a.empty(),u.opts.populateResults.call(this,a,c.results,{term:s.val(),page:this.resultsPage,context:null}),c.more===!0&&T(l.formatLoadMore,"formatLoadMore")&&(a.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(l.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(c,n),i(),void this.opts.element.trigger({type:"select2-loaded",items:c}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children().first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,i,o,r,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),r=0,s=i.length;r<s;r+=1)if(o=i[r].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),k=O(x,{createContainer:function(){var t=e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='icon'>downarrowsmall<b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,n,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),t=this.search.get(0),t.createTextRange?(n=t.createTextRange(),n.collapse(!1),n.select()):t.setSelectionRange&&(i=this.search.val().length,t.setSelectionRange(i,i)),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var t,n=this.container,i=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+P()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)return void f(e);switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void f(e);case D.ENTER:return this.selectHighlighted(),void f(e);case D.TAB:return void this.selectHighlighted({noFocus:!0});case D.ESC:return this.cancel(e),void f(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.ESC){if(this.opts.openOnEnter===!1&&e.which===D.ENTER)return void f(e);if(e.which==D.DOWN||e.which==D.UP||e.which==D.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void f(e)}return e.which==D.DELETE||e.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(e)):void 0}})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){
if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){f(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))}},initSelection:function(){var e;if(this.isPlaceholderOptionSelected())this.updateSelection([]),this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&null!==e&&(n.updateSelection(e),n.close(),n.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return(e=this.getPlaceholderOption())!==t&&e.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find(":selected");t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=n.val(),s=null;t.query({matcher:function(e,n,i){var a=o(r,t.id(i));return a&&(s=i),a},callback:e.isFunction(i)?function(){i(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,r=this,s=!0;if(this.findHighlightableChoices().each2(function(e,t){if(o(r.id(t.data("select2-data")),r.opts.element.val()))return i=e,!1}),n!==!1&&(t===!0&&i>=0?this.highlight(i):this.highlight(0)),t===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(S(e.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),o(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n=this.selection.find(".select2-chosen"),i,o;this.selection.data("select2-data",e),n.empty(),i=this.opts.formatSelection(e,n,this.opts.escapeMarkup),i!==t&&n.append(i),o=this.opts.formatSelectionCssClass(e,n),o!==t&&n.addClass(o),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,o=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i=o.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:r});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),n&&o.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e,n){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):void(e&&""!==e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n))}}),R=O(x,{createContainer:function(){var t=e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var s=r(n.val(),t.separator),a=[];t.query({matcher:function(n,i,r){var l=e.grep(s,function(e){return o(e,t.id(r))}).length;return l&&a.push(r),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<s.length;n++)for(var r=s[n],l=0;l<a.length;l++){var c=a[l];if(o(r,t.id(c))){e.push(c),a.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},initContainer:function(){var t=".select2-choices",n;this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(t);var i=this;this.selection.on("mousedown",".select2-search-choice",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+P()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var t=n.find(".select2-search-choice-focus"),i=t.prev(".select2-search-choice:not(.select2-locked)"),o=t.next(".select2-search-choice:not(.select2-locked)"),r=p(this.search);if(t.length&&(e.which==D.LEFT||e.which==D.RIGHT||e.which==D.BACKSPACE||e.which==D.DELETE||e.which==D.ENTER)){var s=t;return e.which==D.LEFT&&i.length?s=i:e.which==D.RIGHT?s=o.length?o:null:e.which===D.BACKSPACE?(this.unselect(t.first()),this.search.width(10),s=i.length?i:o):e.which==D.DELETE?(this.unselect(t.first()),this.search.width(10),s=o.length?o:null):e.which==D.ENTER&&(s=null),this.selectChoice(s),f(e),void(s&&s.length||this.open())}if((e.which===D.BACKSPACE&&1==this.keydowns||e.which==D.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(n.find(".select2-search-choice:not(.select2-locked)").last()),void f(e);if(this.selectChoice(null),this.opened())switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void f(e);case D.ENTER:return this.selectHighlighted(),void f(e);case D.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(e),void f(e)}if(e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.BACKSPACE&&e.which!==D.ESC){if(e.which===D.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==D.PAGE_UP&&e.which!==D.PAGE_DOWN||f(e),e.which===D.ENTER&&f(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var e;if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&null!==e&&(n.updateSelection(e),n.close(),n.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],o=[],r=this;e(t).each(function(){n(r.id(this),i)<0&&(i.push(r.id(this)),o.push(this))}),t=o,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),s=i?o:r,a=this.id(n),l=this.getVal(),c,u;c=this.opts.formatSelection(n,s.find("div"),this.opts.escapeMarkup),c!=t&&s.find("div").replaceWith("<div>"+c+"</div>"),u=this.opts.formatSelectionCssClass(n,s.find("div")),u!=t&&s.addClass(u),i&&s.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),s.data("select2-data",n),s.insertBefore(this.searchContainer),l.push(a),this.setVal(l)},unselect:function(e){var t=this.getVal(),i,o;if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";i=e.data("select2-data"),i&&(o=n(this.id(i),t),o>=0&&(t.splice(o,1),this.setVal(t),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))},postprocessResults:function(e,t,i){var o=this.getVal(),r=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;r.each2(function(e,t){var i=a.id(t.data("select2-data"));n(i,o)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),this.highlight()==-1&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&T(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var e,t,n,i,o,r=s(this.search);e=g(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,o=n-(t-i)-r,o<e&&(o=n-r),o<40&&(o=n-r),o<=0&&(o=e),this.search.width(o)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)o(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var o,r=this,s;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:o}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),i&&r.triggerChange(this.buildChangeDetails(o,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i=this,o,r;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(r=this.data(),t||(t=[]),o=e.map(t,function(e){return i.opts.id(e)}),this.setVal(o),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),e.fn.select2=function(){var i=Array.prototype.slice.call(arguments,0),o,r,s,a,l,c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],u=["val","opened","isFocused","container","data"],d={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])o=0===i.length?{}:e.extend({},i[0]),o.element=e(this),"select"===o.element.get(0).tagName.toLowerCase()?l=o.element.prop("multiple"):(l=o.multiple||!1,"tags"in o&&(o.multiple=l=!0)),r=l?new R:new k,r.init(o);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(n(i[0],c)<0)throw"Unknown method: "+i[0];if(a=t,r=e(this).data("select2"),r===t)return;if(s=i[0],"container"===s?a=r.container:"dropdown"===s?a=r.dropdown:(d[s]&&(s=d[s]),a=r[s].apply(r,i.slice(1))),n(i[0],u)>=0)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var o=[];return b(e.text,n.term,o,i),o.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return t},formatSelectionCssClass:function(e,n){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:I,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:y,local:_,tags:E},util:{debounce:c,markMatch:b,escapeMarkup:w},class:{abstract:x,single:k,multi:R}}}}(e)}).call(t,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,o,r=n(80);i=[n(5),n(80)],o=function(e){e.Commerce=e.Commerce||{},e.Commerce.Site=e.Commerce.Site||{},window.initCommerceModels&&window.initCommerceModels()}.apply(t,i),!(void 0!==o&&(e.exports=o))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<div class="popover__title_container">\n\t<h1 class="popover__title">\n\t\t{{#tl}}templates.editor.updates.sections-tutorial_customizable-headers{{/tl}}\n\t</h1>\n\t<div class="new-icon">\n\t\t{{#tl}}templates.editor.updates.sections-tutorial_new{{/tl}}\n\t</div>\n</div>\n<span class="popover__text">\n\t{{#tl}}templates.editor.updates.sections-tutorial_customizable-headers-text{{/tl}}\n</span>\n<div class="popover__button-container">\n\t<button class="btn">\n\t\t{{#tl}}templates.editor.updates.sections-tutorial_got-it{{/tl}}\n\t</button>\n</div>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<div class="page-layout-element-cover"></div>'},function(e,t){e.exports='<div class="spotlight-container">\n\t<p class="title">{{#tl}}templates.page-layouts.editor.spotlight.preview-tooltip_1{{/tl}}</p>\n\t<a class="cancel-btn min-btn" href="#">{{#tl}}templates.page-layouts.editor.spotlight.preview-tooltip_2{{/tl}}</a>\n\t<a class="keep-btn min-btn" href="#">{{#tl}}templates.page-layouts.editor.spotlight.preview-tooltip_3{{/tl}}</a>\n\t<div class="arrow_box"></div>\n\t<div class="top_arrow_box"></div>\n</div>'},,,,,,,,,function(e,t){e.exports='<div class="encoding-icon">\n\t<div class="encoding-icon__bg">\n\t</div>\n</div>\n'}]));